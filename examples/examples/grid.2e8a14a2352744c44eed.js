webpackJsonp([32],{102:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(o(1)),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(o(14)),i=l(o(15));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Scalify=function(e){var t=e("number"),o=function(e){var o=t(e,0);return o?"1 : "+o:""};return o.$stateful=!0,o},r.default.module.filter("ngeoScalify",r.default.Scalify),r.default.Number=function(e){var t=e.NUMBER_FORMATS;return function(e,o){var r=t.GROUP_SEP,n=t.DECIMAL_SEP;if(void 0===o&&(o=3),e===1/0)return"∞";if(e===-1/0)return"-∞";if(0===e)return"0";var i=e<0;e=Math.abs(e);var l=o-Math.floor(Math.log(e)/Math.log(10))-1,a=Math.pow(10,l);e=Math.round(e*a);var u="",s=Math.floor(e/a);if(l>0){for(var c=""+e;c.length<l;)c="0"+c;for(u=c.substring(c.length-l);"0"===u[u.length-1];)u=u.substring(0,u.length-1)}for(var f=[],d=""+s;d.length>3;){var p=d.length-3;f.unshift(d.substring(p)),d=d.substring(0,p)}return f.unshift(d),(i?"-":"")+f.join(r)+(0===u.length?"":n+u)}},r.default.module.filter("ngeoNumber",r.default.Number),r.default.UnitPrefix=function(e){var t=e("ngeoNumber"),o=["","k","M","G","T","P"],r=["","Ki","Mi","Gi","Ti","Pi"];return function(e,n,i,l){void 0===n&&(n="");var a=1e3,u=o;"square"===i?a=1e6:"binary"===i&&(a=1024,u=r);for(var s=0,c=u.length-1;e>=a&&s<c;)e/=a,s++;var f=u[s]+n,d=0==f.length?"":" ";return t(e,l)+d+f}},r.default.module.filter("ngeoUnitPrefix",r.default.UnitPrefix),r.default.NumberCoordinates=function(e){return function(t,o,r){var n=r||"{x} {y}",i=t[0],l=t[1],a=0|parseInt(o,10);return i=e("number")(i,a),l=e("number")(l,a),n.replace("{x}",i).replace("{y}",l)}},r.default.module.filter("ngeoNumberCoordinates",r.default.NumberCoordinates),r.default.DMSCoordinates=function(){var e=function(e,t,o){var r=n.modulo(e+180,360)-180,l=Math.abs(3600*r),a=Math.floor(l/3600),u=Math.floor(l/60%60),s=l%60;return a+"° "+i.default.padNumber(u,2)+"′ "+i.default.padNumber(s,2,o)+"″ "+t.charAt(r<0?1:0)};return function(t,o,r){var n=0|parseInt(o,10),i=r||"{x} {y}",l=e(t[0],"EW",n),a=e(t[1],"NS",n);return i.replace("{x}",l).replace("{y}",a)}},r.default.module.filter("ngeoDMSCoordinates",r.default.DMSCoordinates),r.default.trustHtmlFilter=function(e){return function(t){return void 0!==t&&null!==t?e.trustAsHtml(""+t):e.trustAsHtml("&nbsp;")}},r.default.module.filter("ngeoTrustHtml",r.default.trustHtmlFilter),t.default={}},3:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={doAssertFailure_:function(e,t,o,r){var i="Assertion failed",l=void 0;o?(i+=": "+o,l=r):e&&(i+=": "+e,l=t);var a=new n.AssertionError(""+i,l||[]);n.errorHandler_(a)},setErrorHandler:function(e){n.ENABLE_ASSERTS&&(n.errorHandler_=e)},assert:function(e,t,o){return n.ENABLE_ASSERTS&&!e&&n.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},fail:function(e,t){n.ENABLE_ASSERTS&&n.errorHandler_(new n.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},assertNumber:function(e,t,o){return n.ENABLE_ASSERTS&&!goog.isNumber(e)&&n.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertString:function(e,t,o){return n.ENABLE_ASSERTS&&!goog.isString(e)&&n.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertFunction:function(e,t,o){return n.ENABLE_ASSERTS&&!goog.isFunction(e)&&n.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertObject:function(e,t,o){return n.ENABLE_ASSERTS&&!goog.isObject(e)&&n.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertArray:function(e,t,o){return n.ENABLE_ASSERTS&&!goog.isArray(e)&&n.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertBoolean:function(e,t,o){return n.ENABLE_ASSERTS&&!goog.isBoolean(e)&&n.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertElement:function(e,t,o){return!n.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||n.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertInstanceof:function(e,t,o,r){return!n.ENABLE_ASSERTS||e instanceof t||n.doAssertFailure_("Expected instanceof %s but got %s.",[n.getType_(t),n.getType_(e)],o,Array.prototype.slice.call(arguments,3)),e},assertObjectPrototypeIsIntact:function(){for(var e in Object.prototype)n.fail(e+" should not be enumerable in Object.prototype.")},getType_:function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":void 0===e?"undefined":r(e)}};t.default=n},332:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(333),o(59);var r,n=o(334),i=(r=n)&&r.__esModule?r:{default:r};var l={};l.module=angular.module("app",[ngeo.module.name,i.default.name]),l.MainController=function(){this.gridConfig=new ngeo.grid.Config([{name:"row_1",display_name:"Row 1",type:12,timestamp:"2010-11-09T22:56:26Z"},{name:"row_2",display_name:"Row 2",type:121,timestamp:"2010-11-07T22:56:26Z"},{name:"row_3",display_name:"Row 3",type:7,timestamp:"2010-11-03T22:56:26Z"},{name:"row_4",display_name:"Row 4",type:5,timestamp:"2010-11-19T22:56:26Z"},{name:"row_5",display_name:"Row 5",type:23,timestamp:"2010-11-23T22:56:26Z"},{name:"row_6",display_name:"Row 6",type:111,timestamp:"2010-11-17T22:56:26Z"}],[{name:"name"},{name:"display_name"},{name:"timestamp"},{name:"type"}])},l.module.controller("MainController",l.MainController),t.default=l},333:function(e,t){},334:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(o(1)),n=i(o(335));function i(e){return e&&e.__esModule?e:{default:e}}var l=angular.module("ngeoGridModule",[r.default.module.name,n.default.name]);t.default=l},335:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o(1)),n=a(o(95)),i=a(o(3)),l=(a(o(102)),a(o(336)));function a(e){return e&&e.__esModule?e:{default:e}}var u=angular.module("ngeoGrid",[l.default.module.name]);function s(e,t,o){return o(e,t)}r.default.module.requires.push(u.name),u.value("ngeoGridTemplateUrl",function(e,t){var o=t.ngeoGridTemplateurl;return void 0!==o?o:r.default.baseModuleTemplateUrl+"/grid/component.html"}),s.$inject=["$element","$attrs","ngeoGridTemplateUrl"],u.component_={controller:"ngeoGridController as ctrl",bindings:{configuration:"=ngeoGridConfiguration"},templateUrl:s},u.component("ngeoGrid",u.component_),u.Controller_=function(e){this.scope_=e,this.configuration,this.selectedRows,this.sortedBy,this.sortAscending=!0,this.floatTheadConfig={scrollContainer:function(e){return e.closest(".ngeo-grid-table-container")}}},u.Controller_.prototype.$onInit=function(){this.selectedRows=this.configuration.selectedRows},u.Controller_.prototype.sort=function(e){this.sortAscending=this.sortedBy!==e||!this.sortAscending,this.sortedBy=e;var t=this.sortAscending?1:-1;this.configuration.data.sort(function(o,r){return o[e]?r[e]?o[e]>r[e]?t:-t:-1:1})},u.Controller_.prototype.clickRow=function(e,t){var o=this.isShiftKeyOnly_(t),r=this.isPlatformModifierKeyOnly_(t);this.clickRow_(e,o,r)},u.Controller_.prototype.clickRow_=function(e,t,o){if(t&&!o)this.selectRange_(e);else if(!t&&o)this.configuration.toggleRow(e);else{var r=this.configuration.isRowSelected(e);this.configuration.unselectAll(),r||this.configuration.selectRow(e)}},u.Controller_.prototype.selectRange_=function(e){var t=l.default.getRowUid(e),o=this.configuration.data;if(!this.configuration.isRowSelected(e)){for(var r=void 0,n=[],a=0;a<o.length;a++){var u=o[a];t===l.default.getRowUid(u)?r=a:this.configuration.isRowSelected(u)&&n.push(a)}i.default.assert(void 0!==r),0==n.length&&this.configuration.selectRow(e);for(var s=1/0,c=n[0],f=0;f<n.length;f++){var d=n[f],p=Math.abs(d-r);s>p&&(s=p,c=d)}for(var g=r>c?r:c,y=r<c?r:c;y<=g;y++)this.configuration.selectRow(o[y])}},u.Controller_.prototype.preventTextSelection=function(e){var t=this.isShiftKeyOnly_(e),o=this.isPlatformModifierKeyOnly_(e);(t||o)&&e.preventDefault()},u.Controller_.prototype.isPlatformModifierKeyOnly_=function(e){return!e.altKey&&(n.default.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},u.Controller_.prototype.isShiftKeyOnly_=function(e){return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},u.controller("ngeoGridController",u.Controller_),t.default=u},336:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(o(0));var n=function(e,t){this.data=e,this.columnDefs=t,this.selectedRows={}};n.getRowUid=function(e){return""+r.getUid(e)},n.prototype.isRowSelected=function(e){return!!this.selectedRows[n.getRowUid(e)]},n.prototype.getSelectedCount=function(){return Object.keys(this.selectedRows).length},n.prototype.getSelectedRows=function(){var e=this;return this.data.filter(function(t){return e.isRowSelected(t)})},n.prototype.selectRow=function(e){var t=n.getRowUid(e);this.selectedRows[t]=e},n.prototype.toggleRow=function(e){var t=n.getRowUid(e);this.isRowSelected(e)?delete this.selectedRows[t]:this.selectedRows[t]=e},n.prototype.selectAll=function(){var e=this;this.data.forEach(function(t){e.selectRow(t)})},n.prototype.unselectAll=function(){for(var e in this.selectedRows)delete this.selectedRows[e]},n.prototype.invertSelection=function(){var e=this;this.data.forEach(function(t){e.toggleRow(t)})},n.module=angular.module("ngeoGridConfig",[]),ngeo.module.requires.push(n.module.name),t.default=n}},[332]);
//# sourceMappingURL=grid.2e8a14a2352744c44eed.js.map