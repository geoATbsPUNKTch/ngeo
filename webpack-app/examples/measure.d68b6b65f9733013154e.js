webpackJsonp([6],{3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(4);const o=function(e){const t=e||{};let n;n=void 0!==t.attributions?t.attributions:[o.ATTRIBUTION];const i=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",s=void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";r.a.call(this,{attributions:n,cacheSize:t.cacheSize,crossOrigin:i,opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:s,wrapX:t.wrapX})};Object(i.inherits)(o,r.a),o.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',t.default=o},338:function(e,t,n){n(7),e.exports=n(339)},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=b(n(162)),r=b(n(125)),o=b(n(163)),s=(b(n(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),b(n(12))),a=b(n(73)),l=b(n(78)),u=b(n(71)),c=b(n(9)),d=b(n(14)),m=b(n(340)),h=b(n(13)),p=b(n(3)),g=b(n(20)),f=b(n(48)),_=b(n(35)),M=b(n(34));function b(e){return e&&e.__esModule?e:{default:e}}var E={};E.module=angular.module("app",[s.default.name,a.default.name,u.default.name,"ngSanitize"]),E.measuretoolsComponent={bindings:{map:"=appMeasuretoolsMap",lang:"=appMeasuretoolsLang"},controller:"AppMeasuretoolsController",controllerAs:"ctrl",templateUrl:"partials/measuretools.html"},E.module.component("appMeasuretools",E.measuretoolsComponent),E.MeasuretoolsController=function(e,t,n,s){var a=this;this.map,this.lang,this.measureStartMsg=null,this.measureLengthContinueMsg=null,this.measureAreaContinueMsg=null,this.measureAzimutContinueMsg=null;var u={en:n.trustAsHtml("Click to start drawing."),fr:n.trustAsHtml("Cliquer pour commencer à dessiner.")},c={en:n.trustAsHtml("Click to continue drawing.<br>Double-click or click last point to finish."),fr:n.trustAsHtml("Cliquer pour continuer le dessin.<br>Double-cliquer ou cliquer sur dernier point pour finir.")},d={en:n.trustAsHtml("Click to continue drawing.<br>Double-click or click starting point to finish."),fr:n.trustAsHtml("Cliquer pour continuer le dessin.<br>Double-cliquer ou cliquer sur point de départ pour finir.")},m={en:n.trustAsHtml("Click to finish."),fr:n.trustAsHtml("Cliquer pour finir.")},h=angular.element('<span ng-bind-html="ctrl.measureStartMsg"></span>');h=t(h)(e);var p=angular.element('<span ng-bind-html="ctrl.measureLengthContinueMsg"></span>');p=t(p)(e);var b=angular.element('<span ng-bind-html="ctrl.measureAreaContinueMsg"></span>');b=t(b)(e);var E=angular.element('<span ng-bind-html="ctrl.measureAzimutContinueMsg"></span>');E=t(E)(e),e.$watch(function(){return a.lang},function(e){a.measureStartMsg=u[e],a.measureLengthContinueMsg=c[e],a.measureAreaContinueMsg=d[e],a.measureAzimutContinueMsg=m[e]});var v=new g.default({fill:new M.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new _.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new f.default({radius:5,stroke:new _.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new M.default({color:"rgba(255, 255, 255, 0.2)"})})});this.measureLength=new o.default(s("ngeoUnitPrefix"),{sketchStyle:v,startMsg:h[0],continueMsg:p[0]}),this.measureLength.setActive(!1),l.default.interaction(this.measureLength),this.measureArea=new i.default(s("ngeoUnitPrefix"),{sketchStyle:v,startMsg:h[0],continueMsg:b[0]}),this.measureArea.setActive(!1),l.default.interaction(this.measureArea),this.measureAzimut=new r.default(s("ngeoUnitPrefix"),s("ngeoNumber"),{sketchStyle:v,startMsg:h[0],continueMsg:E[0]}),this.measureAzimut.setActive(!1),l.default.interaction(this.measureAzimut),this.measureAzimut.on("measureend",function(e){e.target.getTooltipElement().innerHTML+="<br>Additional info"})},E.MeasuretoolsController.$inject=["$scope","$compile","$sce","$filter"],E.module.controller("AppMeasuretoolsController",E.MeasuretoolsController),E.MeasuretoolsController.prototype.$onInit=function(){this.map.addInteraction(this.measureLength),this.map.addInteraction(this.measureArea),this.map.addInteraction(this.measureAzimut)},E.MainController=function(){this.lang="en",this.map=new c.default({layers:[new h.default({source:new p.default})],view:new d.default({center:[692114.718759744,5743119.914347709],zoom:15})}),this.map.addControl(new m.default)},E.module.controller("MainController",E.MainController),t.default=E},340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(28),o=n(18),s=n(95),a="degrees",l="imperial",u="nautical",c="metric",d="us",m=n(67),h=n(1),p=n(8),g=n(58);const f=function(e){const t=e||{},n=void 0!==t.className?t.className:"ol-scale-line";this.innerElement_=document.createElement("DIV"),this.innerElement_.className=n+"-inner",this.element_=document.createElement("DIV"),this.element_.className=n+" "+m.d,this.element_.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";const i=t.render?t.render:f.render;s.default.call(this,{element:this.element_,render:i,target:t.target}),h.default.listen(this,r.default.getChangeEventType(f.Property_.UNITS),this.handleUnitsChanged_,this),this.setUnits(t.units||c)};Object(i.inherits)(f,s.default),f.LEADING_DIGITS=[1,2,5],f.prototype.getUnits=function(){return this.get(f.Property_.UNITS)},f.render=function(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},f.prototype.handleUnitsChanged_=function(){this.updateElement_()},f.prototype.setUnits=function(e){this.set(f.Property_.UNITS,e)},f.prototype.updateElement_=function(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));const t=e.center,n=e.projection,i=this.getUnits(),r=i==a?g.a.DEGREES:g.a.METERS;let s=Object(p.getPointResolution)(n,e.resolution,t,r);n.getUnits()!=g.a.DEGREES&&i==c&&(s*=n.getMetersPerUnit());let m=this.minWidth_*s,h="";if(i==a){const e=p.METERS_PER_UNIT[g.a.DEGREES];n.getUnits()==g.a.DEGREES?m*=e:s/=e,m<e/60?(h="″",s*=3600):m<e?(h="′",s*=60):h="°"}else i==l?m<.9144?(h="in",s/=.0254):m<1609.344?(h="ft",s/=.3048):(h="mi",s/=1609.344):i==u?(s/=1852,h="nm"):i==c?m<.001?(h="μm",s*=1e6):m<1?(h="mm",s*=1e3):m<1e3?h="m":(h="km",s/=1e3):i==d?m<.9144?(h="in",s*=39.37):m<1609.344?(h="ft",s/=.30480061):(h="mi",s/=1609.3472):Object(o.a)(!1,33);let _,M,b=3*Math.floor(Math.log(this.minWidth_*s)/Math.log(10));for(;;){if(_=f.LEADING_DIGITS[(b%3+3)%3]*Math.pow(10,Math.floor(b/3)),M=Math.round(_/s),isNaN(M))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(M>=this.minWidth_)break;++b}const E=_+" "+h;this.renderedHTML_!=E&&(this.innerElement_.innerHTML=E,this.renderedHTML_=E),this.renderedWidth_!=M&&(this.innerElement_.style.width=M+"px",this.renderedWidth_=M),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)},f.Property_={UNITS:"units"};t.default=f},4:function(e,t,n){"use strict";var i=n(0),r=n(16),o=n(17);const s=function(e){const t=e||{},n=void 0!==t.projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:o.a.createXYZ({extent:o.a.extentFromProjection(n),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});r.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})};Object(i.inherits)(s,r.a),t.a=s}},[338]);
//# sourceMappingURL=measure.d68b6b65f9733013154e.js.map