webpackJsonp([37],{316:function(e,t,o){o(7),e.exports=o(317)},317:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(o(63));var i=h(o(15)),n=h(o(9)),a=h(o(14)),r=(h(o(33)),h(o(30))),s=h(o(22)),l=h(o(54)),d=h(o(26)),u=h(o(44)),p=h(o(23)),f=(h(o(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),h(o(12))),c=h(o(227));function h(e){return e&&e.__esModule?e:{default:e}}var g={};g.module=angular.module("app",[f.default.name,c.default.name]),g.MainController=function(e,t){var o=this;this.scope_=t;var f=new p.default;this.map=new n.default({layers:[new l.default({source:new u.default({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'&copy; <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new d.default({source:f})],view:new a.default({projection:"EPSG:21781",extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var c=this.map,h=new d.default({source:new p.default});this.snappedPoint_=new i.default,h.getSource().addFeature(this.snappedPoint_),h.setMap(c),this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}],this.profileData=void 0,e.get("data/profile.json").then(function(e){var t=e.data.profile;o.profileData=t;var n=void 0,a=t.length,s=new r.default([],"XYM");for(n=0;n<a;n++){var l=t[n];s.appendCoordinate([l.x,l.y,l.dist])}f.addFeature(new i.default(s));var d=o.map.getSize();c.getView().fit(f.getExtent(),{size:d})}),c.on("pointermove",function(e){if(!e.dragging){var t=c.getEventCoordinate(e.originalEvent);o.snapToGeometry(t,f.getFeatures()[0].getGeometry())}});var g=function(e,t,o){return function(e){return void 0!==o&&(e=e[o]),e[t]}},m=g(0,"dist"),v={line1:{style:{},zExtractor:g(0,"mnt","values")}},w={sort:g(0,"sort"),id:g(0,"id"),dist:g(0,"dist"),title:g(0,"title"),z:function(e,t){return void 0!==t&&(e.z=t),e.z}},y=function(e){this.point=e,this.snappedPoint_.setGeometry(new s.default([e.x,e.y]))}.bind(this),C=function(){this.point=null,this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:m,linesConfiguration:v,poiExtractor:w,hoverCallback:y,outCallback:C},this.point=null,this.profileHighlight=void 0},g.MainController.$inject=["$http","$scope"],g.MainController.prototype.snapToGeometry=function(e,t){var o=t.getClosestPoint(e),i=o[0]-e[0],n=o[1]-e[1],a=Math.sqrt(i*i+n*n)/this.map.getView().getResolution();this.profileHighlight=a<8?o[2]:-1,this.scope_.$apply()},g.module.controller("MainController",g.MainController),t.default=g}},[316]);
//# sourceMappingURL=elevationProfile.c5f663166a4311ead009.js.map