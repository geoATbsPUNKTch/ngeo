webpackJsonp([1],{111:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(o(!function(){var e=new Error('Cannot find module "goog/asserts.js"');throw e.code="MODULE_NOT_FOUND",e}())),i=(n(o(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),n(o(112)));function n(e){return e&&e.__esModule?e:{default:e}}var r=function(e,t,o,s){var i=this;this.scope=t.$new(!0),this.scope.$watch(function(){return i.scope.open},function(e){!e&&i.autoDestroy_&&i.timeout_(function(){i.destroy()})}),this.sce_=o,this.timeout_=s,this.element_=angular.element("<div ngeo-popup></div>"),this.autoDestroy_=!1,e(this.element_)(this.scope),angular.element(document.body).append(this.element_)};r.prototype.getOpen=function(){return this.scope.open},r.prototype.setOpen=function(e){this.scope.open=e},r.prototype.destroy=function(){this.scope.$destroy(),this.element_.remove()},r.prototype.setTitle=function(e){var t=this.sce_.trustAsHtml(e);this.scope.title=t},r.prototype.setContent=function(e,t){this.scope.content=t?this.sce_.trustAsHtml(e):e},r.prototype.setUrl=function(e){var t=this.sce_.trustAsHtml('<iframe src="'+e+'" width="100%" height="100%"></iframe>');this.setContent(t)},r.prototype.setWidth=function(e){this.element_.width(e)},r.prototype.setHeight=function(e){this.element_.height(e)},r.prototype.setSize=function(e,t){this.setWidth(e),this.setHeight(t)},r.prototype.setAutoDestroy=function(e){this.autoDestroy_=e},r.prototype.addClass=function(e){this.element_.addClass(e)},r.prototype.open=function(e){e.url?this.setUrl(e.url):e.content?this.setContent(e.content):s.default.fail('ngeo.message.Popup options requirest "url" or "content".'),void 0!==e.autoDestroy&&this.setAutoDestroy(e.autoDestroy),void 0!==e.cls&&this.addClass(e.cls),void 0!==e.height&&this.setHeight(e.height),void 0!==e.title&&this.setTitle(e.title),void 0!==e.width&&this.setWidth(e.width),this.setOpen(!0)},(r.Factory=function(e,t,o,s){return function(){return new r(e,t,o,s)}}).$inject=["$compile","$rootScope","$sce","$timeout"],(r.module=angular.module("ngeoCreatePopup",[i.default.name])).factory("ngeoCreatePopup",r.Factory),t.default=r},112:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,i=o(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}()),n=(s=i)&&s.__esModule?s:{default:s};var r=angular.module("ngeoPopup",["ngSanitize"]);r.value("ngeoPopupTemplateUrl",function(e,t){var o=t.ngeoPopupTemplateurl;return void 0!==o?o:n.default.baseModuleTemplateUrl+"/message/popupcomponent.html"}),r.directive_=function(e){return{restrict:"A",templateUrl:e,link:function(e,t,o){t.addClass("popover"),e.close=function(e){e&&(e.stopPropagation(),e.preventDefault()),t.addClass("hidden")},e.$watch("open",function(e,o){t.css("display",e?"block":"none")})}}},r.directive_.$inject=["ngeoPopupTemplateUrl"],r.directive("ngeoPopup",r.directive_),t.default=r},3:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(0),i=o(4);const n=function(e){const t=e||{};let o;o=void 0!==t.attributions?t.attributions:[n.ATTRIBUTION];const s=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",r=void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";i.a.call(this,{attributions:o,cacheSize:t.cacheSize,crossOrigin:s,opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:r,wrapX:t.wrapX})};Object(s.inherits)(n,i.a),n.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',t.default=n},311:function(e,t,o){o(7),e.exports=o(312)},312:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var s=u(o(313)),i=u(o(64)),n=u(o(9)),r=u(o(14)),a=u(o(13)),l=u(o(3)),c=(u(o(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),u(o(12)));function u(e){return e&&e.__esModule?e:{default:e}}var p={};p.module=angular.module("app",[c.default.name,s.default.module.name]),p.MainController=function(t){this.disclaimer=t,this.map=new n.default({layers:[new a.default({source:new l.default})],view:new r.default({center:[0,0],zoom:4})}),this.successMsg_="Disclaimer with success style",this.infoMsg_="Disclaimer with info style",this.warningMsg_="Disclaimer with warning style",this.errorMsg_="Disclaimer with error style",this.inMapMsgs_=["Disclaimer inside the map","An other message ","Map contributors","This is a long message inside a map"],e('[data-toggle="tooltip"]').tooltip({container:"body",trigger:"hover"})},p.MainController.$inject=["ngeoDisclaimer"],p.MainController.prototype.success=function(){this.disclaimer.success(this.successMsg_)},p.MainController.prototype.info=function(){this.disclaimer.info(this.infoMsg_)},p.MainController.prototype.warn=function(){this.disclaimer.warn(this.warningMsg_)},p.MainController.prototype.error=function(){this.disclaimer.error(this.errorMsg_)},p.MainController.prototype.inMap=function(){this.inMapMsgs_.forEach(function(e){this.disclaimer.alert({msg:e,target:angular.element("#disclaimers-in-map"),type:i.default.Type.WARNING})},this)},p.MainController.prototype.closeAll=function(){this.disclaimer.close({msg:this.successMsg_,type:i.default.Type.SUCCESS}),this.disclaimer.close({msg:this.infoMsg_,type:i.default.Type.INFORMATION}),this.disclaimer.close({msg:this.warningMsg_,type:i.default.Type.WARNING}),this.disclaimer.close({msg:this.errorMsg_,type:i.default.Type.ERROR}),this.inMapMsgs_.forEach(function(e){this.disclaimer.close({msg:e,type:i.default.Type.WARNING})},this)},p.module.controller("MainController",p.MainController),t.default=p}).call(t,o(62))},313:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(o(!function(){var e=new Error('Cannot find module "goog/asserts.js"');throw e.code="MODULE_NOT_FOUND",e}())),i=(a(o(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),a(o(111))),n=a(o(64)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(o(0));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,o){this.sce_=e,this.gettextCatalog_=t,this.createPopup_=o,n.default.call(this);var s=angular.element('<div class="ngeo-disclaimer"></div>');angular.element(document.body).append(s),this.container_=s,this.messages_={}};l.$inject=["$sce","gettextCatalog","ngeoCreatePopup"],l.$inject=["$sce","gettextCatalog","ngeoCreatePopup"],r.inherits(l,n.default),l.prototype.alert=function(e){this.show(e)},l.prototype.close=function(e){this.getMessageObjects(e).forEach(this.closeMessage_,this)},l.prototype.showMessage=function(e){var t=this,o=this.gettextCatalog_,i=e.type;s.default.assertString(i,"Type should be set.");var r=this.getMessageUid_(e);if(void 0===this.messages_[r])if(!0===e.popup){var a=this.createPopup_(),l=this.sce_.trustAsHtml(e.msg);a.open({autoDestroy:!0,content:l,title:"&nbsp;"}),a.scope.$watch("open",function(o,s){o||t.closeMessage_(e)}),this.messages_[r]=a}else{var c=["alert","fade","alert-dismissible"];switch(i){case n.default.Type.ERROR:c.push("alert-danger");break;case n.default.Type.INFORMATION:c.push("alert-info");break;case n.default.Type.SUCCESS:c.push("alert-success");break;case n.default.Type.WARNING:c.push("alert-warning")}var u=angular.element('<div role="alert" class="'+c.join(" ")+'"></div>'),p=angular.element('<button type="button" class="close" data-dismiss="alert" aria-label="'+o.getString("Close")+'"><span aria-hidden="true" class="fa fa-times"></span></button>'),d=angular.element("<span />").html(e.msg);u.append(p).append(d);(e.target?angular.element(e.target):this.container_).append(u),u.addClass("in"),u.on("closed.bs.alert",function(){t.closeMessage_(e)}),this.messages_[r]=u}},l.prototype.getMessageUid_=function(e){return e.msg+"-"+e.type},l.prototype.closeMessage_=function(e){var t=this.getMessageUid_(e),o=this.messages_[t];void 0!==o&&(o instanceof i.default?o.getOpen()&&o.setOpen(!1):o.hasClass("in")&&o.alert("close"),delete this.messages_[t])},(l.module=angular.module("ngeoDisclaimer",[i.default.module.name])).service("ngeoDisclaimer",l),t.default=l},4:function(e,t,o){"use strict";var s=o(0),i=o(16),n=o(17);const r=function(e){const t=e||{},o=void 0!==t.projection?t.projection:"EPSG:3857",s=void 0!==t.tileGrid?t.tileGrid:n.a.createXYZ({extent:n.a.extentFromProjection(o),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});i.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})};Object(s.inherits)(r,i.a),t.a=r},64:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};s.prototype.showMessage=function(e){},s.prototype.show=function(e){this.getMessageObjects(e).forEach(this.showMessage,this)},s.prototype.error=function(e){this.show(this.getMessageObjects(e,s.Type.ERROR))},s.prototype.info=function(e){this.show(this.getMessageObjects(e,s.Type.INFORMATION))},s.prototype.success=function(e){this.show(this.getMessageObjects(e,s.Type.SUCCESS))},s.prototype.warn=function(e){this.show(this.getMessageObjects(e,s.Type.WARNING))},s.prototype.getMessageObjects=function(e,t){var o=[],i=null,n=s.Type.INFORMATION;return"string"==typeof e?o.push({msg:e,type:void 0!==t?t:n}):Array.isArray(e)?e.forEach(function(s){"string"==typeof e?i={msg:s,type:void 0!==t?t:n}:(i=s,void 0!==t&&(i.type=t)),o.push(i)},this):(i=e,void 0!==t&&(i.type=t),void 0===i.type&&(i.type=n),o.push(i)),o},s.Type={ERROR:"error",INFORMATION:"information",SUCCESS:"success",WARNING:"warning"},t.default=s}},[311]);
//# sourceMappingURL=disclaimer.facf65a24f725db379b8.js.map