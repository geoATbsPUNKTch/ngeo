webpackJsonp([34],{287:function(e,t,n){n(7),e.exports=n(288)},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(289)),a=l(n(213)),o=l(n(15)),u=(l(n(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),l(n(12)));function l(e){return e&&e.__esModule?e:{default:e}}var i={};i.module=angular.module("app",[u.default.name,a.default.name]),i.MainController=function(e,t,n){var r=this;this.timeout_=t,this.attributes=null,this.disabled=!1,this.feature=new o.default({name:"A feature",kind:"house"}),e.get("data/xsdattributes.xml").then(this.handleXSDAttributeGet_.bind(this)),this.log="",n.$watch(function(){return r.feature.get("name")},function(e,t){e!==t&&r.appendLog("name changed from '"+t+"' to '"+e+"'")}),n.$watch(function(){return r.feature.get("kind")},function(e,t){e!==t&&r.appendLog("kind changed from '"+t+"' to '"+e+"'")})},i.MainController.$inject=["$http","$timeout","$scope"],i.MainController.prototype.handleXSDAttributeGet_=function(e){var t=(new r.default).read(e.data);return this.attributes=t,t},i.MainController.prototype.updateName=function(){var e=this;this.timeout_(function(){e.feature.set("name","An alternate name")},0)},i.MainController.prototype.appendLog=function(e){this.log=e+"\n"+this.log},i.module.controller("MainController",i.MainController),t.default=i},289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(!function(){var e=new Error('Cannot find module "goog/asserts.js"');throw e.code="MODULE_NOT_FOUND",e}())),a=(i(n(!function(){var e=new Error('Cannot find module "ngeo/index.js"');throw e.code="MODULE_NOT_FOUND",e}())),i(n(180))),o=i(n(47)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=i(n(107));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(){l.default.call(this)};u.inherits(d,l.default),d.prototype.read=function(e){return l.default.prototype.read.call(this,e)},d.prototype.readFromDocument=function(e){r.default.assert(e.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},d.prototype.readFromNode=function(e){r.default.assert(e.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),r.default.assert("schema"==e.localName,"localName should be schema");var t=e.getElementsByTagName("element");t.length||(t=e.getElementsByTagName("xsd:element"));for(var n=[],a=void 0,o=0,u=t.length;o<u;o++)(a=this.readFromElementNode_(t[o]))&&n.push(a);return n},d.prototype.readFromElementNode_=function(e){var t=e.getAttribute("name");r.default.assertString(t,"name should be defined in element node.");var n=e.getAttribute("alias"),u=e.getAttribute("nillable"),l={name:t,alias:n,required:!(!0===u||"true"===u)},i=e.getAttribute("type");if(i)a.default.setGeometryType(l,i)||this.setAttributeByXsdType_(l,i);else{var d=e.getElementsByTagName("enumeration");if(d.length||(d=e.getElementsByTagName("xsd:enumeration")),d.length){l.type=o.default.SELECT;for(var s=[],f=0,m=d.length;f<m;f++)s.push(d[f].getAttribute("value"));l.choices=s}else{var p=e.getElementsByTagName("restriction");if(p.length||(p=e.getElementsByTagName("xsd:restriction")),p.length&&p[0]){var g=p[0];this.setAttributeByXsdType_(l,g.getAttribute("base"));var h=e.getElementsByTagName("maxLength");h.length||(h=e.getElementsByTagName("xsd:maxLength")),h.length&&h[0]&&(l.maxLength=Number(h[0].getAttribute("value")))}}}return l.type?(r.default.assert(l.type),l):null},d.prototype.setAttributeByXsdType_=function(e,t){"xsd:boolean"===t?e.type=o.default.BOOLEAN:"xsd:date"===t?e.type=o.default.DATE:"xsd:dateTime"===t?e.type=o.default.DATETIME:"xsd:time"===t?e.type=o.default.TIME:"xsd:decimal"===t?(e.type=o.default.NUMBER,e.numType=d.NumberType.FLOAT):"xsd:integer"===t?(e.type=o.default.NUMBER,e.numType=d.NumberType.INTEGER):"xsd:string"===t&&(e.type=o.default.TEXT)},d.getGeometryAttribute=function(e){for(var t=null,n=0,r=e.length;n<r;n++)if(e[n].type===o.default.GEOMETRY){t=e[n];break}return t},d.NumberType={FLOAT:"float",INTEGER:"integer"},t.default=d}},[287]);
//# sourceMappingURL=attributes.011a652de2bace79fec5.js.map