webpackJsonp([37],{350:function(e,t,i){i(10),e.exports=i(351)},351:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});h(i(67));var o=h(i(15)),n=h(i(12)),a=h(i(17)),r=(h(i(35)),h(i(32))),s=h(i(26)),l=h(i(44)),d=h(i(27)),p=h(i(48)),u=h(i(25)),f=(h(i(1)),h(i(16))),c=h(i(253));function h(e){return e&&e.__esModule?e:{default:e}}var g={};g.module=angular.module("app",[f.default.name,c.default.name]),g.MainController=function(e,t){var i=this;this.scope_=t;var f=new u.default;this.map=new n.default({layers:[new l.default({source:new p.default({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'&copy; <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new d.default({source:f})],view:new a.default({projection:"EPSG:21781",extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var c=this.map,h=new d.default({source:new u.default});this.snappedPoint_=new o.default,h.getSource().addFeature(this.snappedPoint_),h.setMap(c),this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}],this.profileData=void 0,e.get("data/profile.json").then(function(e){var t=e.data.profile;i.profileData=t;var n=void 0,a=t.length,s=new r.default([],"XYM");for(n=0;n<a;n++){var l=t[n];s.appendCoordinate([l.x,l.y,l.dist])}f.addFeature(new o.default(s));var d=i.map.getSize();c.getView().fit(f.getExtent(),{size:d})}),c.on("pointermove",function(e){if(!e.dragging){var t=c.getEventCoordinate(e.originalEvent);i.snapToGeometry(t,f.getFeatures()[0].getGeometry())}});var g=function(e,t,i){return function(e){return void 0!==i&&(e=e[i]),e[t]}},m=g(0,"dist"),v={line1:{style:{},zExtractor:g(0,"mnt","values")}},w={sort:g(0,"sort"),id:g(0,"id"),dist:g(0,"dist"),title:g(0,"title"),z:function(e,t){return void 0!==t&&(e.z=t),e.z}},y=function(e){this.point=e,this.snappedPoint_.setGeometry(new s.default([e.x,e.y]))}.bind(this),C=function(){this.point=null,this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:m,linesConfiguration:v,poiExtractor:w,hoverCallback:y,outCallback:C},this.point=null,this.profileHighlight=void 0},g.MainController.$inject=["$http","$scope"],g.MainController.prototype.snapToGeometry=function(e,t){var i=t.getClosestPoint(e),o=i[0]-e[0],n=i[1]-e[1],a=Math.sqrt(o*o+n*n)/this.map.getView().getResolution();this.profileHighlight=a<8?i[2]:-1,this.scope_.$apply()},g.module.controller("MainController",g.MainController),t.default=g}},[350]);
//# sourceMappingURL=elevationProfile.b15be7870da5806e8850.js.map