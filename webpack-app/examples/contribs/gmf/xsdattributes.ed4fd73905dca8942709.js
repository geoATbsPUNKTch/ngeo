webpackJsonp([21],{434:function(t,e,o){o(14),t.exports=o(435)},435:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});u(o(!function(){var t=new Error('Cannot find module "gmf/index.js"');throw t.code="MODULE_NOT_FOUND",t}()));var n=u(o(15)),i=u(o(158)),r=u(o(194)),a=u(o(159)),l=u(o(9));function u(t){return t&&t.__esModule?t:{default:t}}var s={};s.module=angular.module("gmfapp",[i.default.module.name,n.default.module.name,r.default.name]),s.module.value("gmfTreeUrl","https://geomapfish-demo.camptocamp.net/2.2/wsgi/themes?version=2&background=background"),s.module.value("gmfLayersUrl","https://geomapfish-demo.camptocamp.net/2.2/wsgi/layers/"),s.constant("angularLocaleScript","../build/angular-locale_{{locale}}.js"),s.MainController=function(t,e,o){var n=this;this.timeout_=t,this.xsdAttributes_=o,this.attributes=null,this.feature=null,this.layers=[];var i=["line","point","polygon"];e.loadThemes(),e.getThemesObject().then(function(t){if(t){var e=[];t.forEach(function(t){t.children.forEach(function(t){n.getDistinctFlatNodes_(t,e)})}),e.forEach(function(t){void 0===t.children&&-1!==i.indexOf(t.name)&&n.layers.push(t)})}})},s.MainController.$inject=["$timeout","gmfThemes","gmfXSDAttributes"],s.MainController.prototype.getSetLayers=function(t){return void 0!==t&&this.xsdAttributes_.getAttributes(t.id).then(this.setAttributes_.bind(this)),this.layers},s.MainController.prototype.setAttributes_=function(t){var e=this;this.feature=null,this.attributes=null,this.timeout_(function(){e.feature=new l.default,e.attributes=t},0)},s.MainController.prototype.getGeomType=function(){var t="N/A";if(this.attributes){var e=a.default.getGeometryAttribute(this.attributes);e&&e.geomType&&(t=e.geomType)}return t},s.MainController.prototype.getDistinctFlatNodes_=function(t,e){var o=void 0,n=t.children;if(void 0!==n)for(o=0;o<n.length;o++)this.getDistinctFlatNodes_(n[o],e);var i=!1;e.some(function(e){if(e.id===t.id)return i=!0}),i||e.push(t)},s.module.controller("MainController",s.MainController),e.default=s}},[434]);
//# sourceMappingURL=xsdattributes.ed4fd73905dca8942709.js.map