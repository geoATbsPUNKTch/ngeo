webpackJsonp([6],{3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(4);const s=function(e){const t=e||{};let n;n=void 0!==t.attributions?t.attributions:[s.ATTRIBUTION];const i=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",o=void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";r.a.call(this,{attributions:n,cacheSize:t.cacheSize,crossOrigin:i,opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:o,wrapX:t.wrapX})};Object(i.inherits)(s,r.a),s.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',t.default=s},338:function(e,t,n){n(7),e.exports=n(339)},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(n(161)),r=_(n(124)),s=_(n(162)),o=_(n(12)),a=_(n(73)),l=_(n(77)),u=_(n(71)),c=_(n(9)),d=_(n(13)),m=_(n(340)),h=_(n(14)),p=_(n(3)),g=_(n(20)),f=_(n(47)),b=_(n(34)),M=_(n(33));function _(e){return e&&e.__esModule?e:{default:e}}var v={};v.module=angular.module("app",[o.default.name,a.default.name,u.default.name,"ngSanitize"]),v.measuretoolsComponent={bindings:{map:"=appMeasuretoolsMap",lang:"=appMeasuretoolsLang"},controller:"AppMeasuretoolsController",controllerAs:"ctrl",template:n(341)},v.module.component("appMeasuretools",v.measuretoolsComponent),v.MeasuretoolsController=function(e,t,n,o){var a=this;this.map,this.lang,this.measureStartMsg=null,this.measureLengthContinueMsg=null,this.measureAreaContinueMsg=null,this.measureAzimutContinueMsg=null;var u={en:n.trustAsHtml("Click to start drawing."),fr:n.trustAsHtml("Cliquer pour commencer à dessiner.")},c={en:n.trustAsHtml("Click to continue drawing.<br>Double-click or click last point to finish."),fr:n.trustAsHtml("Cliquer pour continuer le dessin.<br>Double-cliquer ou cliquer sur dernier point pour finir.")},d={en:n.trustAsHtml("Click to continue drawing.<br>Double-click or click starting point to finish."),fr:n.trustAsHtml("Cliquer pour continuer le dessin.<br>Double-cliquer ou cliquer sur point de départ pour finir.")},m={en:n.trustAsHtml("Click to finish."),fr:n.trustAsHtml("Cliquer pour finir.")},h=angular.element('<span ng-bind-html="ctrl.measureStartMsg"></span>');h=t(h)(e);var p=angular.element('<span ng-bind-html="ctrl.measureLengthContinueMsg"></span>');p=t(p)(e);var _=angular.element('<span ng-bind-html="ctrl.measureAreaContinueMsg"></span>');_=t(_)(e);var v=angular.element('<span ng-bind-html="ctrl.measureAzimutContinueMsg"></span>');v=t(v)(e),e.$watch(function(){return a.lang},function(e){a.measureStartMsg=u[e],a.measureLengthContinueMsg=c[e],a.measureAreaContinueMsg=d[e],a.measureAzimutContinueMsg=m[e]});var A=new g.default({fill:new M.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new b.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new f.default({radius:5,stroke:new b.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new M.default({color:"rgba(255, 255, 255, 0.2)"})})});this.measureLength=new s.default(o("ngeoUnitPrefix"),{sketchStyle:A,startMsg:h[0],continueMsg:p[0]}),this.measureLength.setActive(!1),l.default.interaction(this.measureLength),this.measureArea=new i.default(o("ngeoUnitPrefix"),{sketchStyle:A,startMsg:h[0],continueMsg:_[0]}),this.measureArea.setActive(!1),l.default.interaction(this.measureArea),this.measureAzimut=new r.default(o("ngeoUnitPrefix"),o("ngeoNumber"),{sketchStyle:A,startMsg:h[0],continueMsg:v[0]}),this.measureAzimut.setActive(!1),l.default.interaction(this.measureAzimut),this.measureAzimut.on("measureend",function(e){e.target.getTooltipElement().innerHTML+="<br>Additional info"})},v.MeasuretoolsController.$inject=["$scope","$compile","$sce","$filter"],v.module.controller("AppMeasuretoolsController",v.MeasuretoolsController),v.MeasuretoolsController.prototype.$onInit=function(){this.map.addInteraction(this.measureLength),this.map.addInteraction(this.measureArea),this.map.addInteraction(this.measureAzimut)},v.MainController=function(){this.lang="en",this.map=new c.default({layers:[new h.default({source:new p.default})],view:new d.default({center:[692114.718759744,5743119.914347709],zoom:15})}),this.map.addControl(new m.default)},v.module.controller("MainController",v.MainController),t.default=v},340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(27),s=n(18),o=n(93),a="degrees",l="imperial",u="nautical",c="metric",d="us",m=n(67),h=n(1),p=n(8),g=n(58);const f=[1,2,5],b=function(e){const t=e||{},n=void 0!==t.className?t.className:"ol-scale-line";this.innerElement_=document.createElement("DIV"),this.innerElement_.className=n+"-inner",this.element_=document.createElement("DIV"),this.element_.className=n+" "+m.e,this.element_.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";const i=t.render?t.render:b.render;o.default.call(this,{element:this.element_,render:i,target:t.target}),Object(h.listen)(this,r.default.getChangeEventType("units"),this.handleUnitsChanged_,this),this.setUnits(t.units||c)};Object(i.inherits)(b,o.default),b.prototype.getUnits=function(){return this.get("units")},b.render=function(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},b.prototype.handleUnitsChanged_=function(){this.updateElement_()},b.prototype.setUnits=function(e){this.set("units",e)},b.prototype.updateElement_=function(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));const t=e.center,n=e.projection,i=this.getUnits(),r=i==a?g.a.DEGREES:g.a.METERS;let o=Object(p.getPointResolution)(n,e.resolution,t,r);n.getUnits()!=g.a.DEGREES&&i==c&&(o*=n.getMetersPerUnit());let m=this.minWidth_*o,h="";if(i==a){const e=p.METERS_PER_UNIT[g.a.DEGREES];n.getUnits()==g.a.DEGREES?m*=e:o/=e,m<e/60?(h="″",o*=3600):m<e?(h="′",o*=60):h="°"}else i==l?m<.9144?(h="in",o/=.0254):m<1609.344?(h="ft",o/=.3048):(h="mi",o/=1609.344):i==u?(o/=1852,h="nm"):i==c?m<.001?(h="μm",o*=1e6):m<1?(h="mm",o*=1e3):m<1e3?h="m":(h="km",o/=1e3):i==d?m<.9144?(h="in",o*=39.37):m<1609.344?(h="ft",o/=.30480061):(h="mi",o/=1609.3472):Object(s.a)(!1,33);let b,M,_=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));for(;;){if(b=f[(_%3+3)%3]*Math.pow(10,Math.floor(_/3)),M=Math.round(b/o),isNaN(M))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(M>=this.minWidth_)break;++_}const v=b+" "+h;this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=M&&(this.innerElement_.style.width=M+"px",this.renderedWidth_=M),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)};t.default=b},341:function(e,t){e.exports='<div ngeo-btn-group class=btn-group> <a ngeo-btn class="btn btn-default" ng-model=ctrl.measureLength.active>Length</a> <a ngeo-btn class="btn btn-default" ng-model=ctrl.measureArea.active>Area</a> <a ngeo-btn class="btn btn-default" ng-model=ctrl.measureAzimut.active>Azimut</a> </div> '},4:function(e,t,n){"use strict";var i=n(0),r=n(16),s=n(17);const o=function(e){const t=e||{},n=void 0!==t.projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:Object(s.a)({extent:Object(s.b)(n),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});r.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})};Object(i.inherits)(o,r.a),t.a=o}},[338]);
//# sourceMappingURL=measure.cc040cefbd13d1ac0410.js.map