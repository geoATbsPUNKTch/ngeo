{"version":3,"sources":["webpack:///./src/filters.js","webpack:///./src/goog.asserts.prod.js","webpack:///./examples/grid.js","webpack:///./src/grid/module.js","webpack:///./src/grid/component.js","webpack:///./src/grid/Config.js"],"names":["__webpack_require__","_ngeo2","default","Scalify","$filter","numberFilter","filterFn","scale","text","module","filter","Number","$locale","formats","NUMBER_FORMATS","number","opt_precision","groupSep","GROUP_SEP","decimalSep","DECIMAL_SEP","undefined","Infinity","sign","Math","abs","nb_decimal","floor","log","factor","pow","round","decimal","unit","str_number","length","substring","groups","str_unit","index","unshift","join","UnitPrefix","standardPrefix","binaryPrefix","opt_unit","opt_type","divisor","prefix","index_max","postfix","space","NumberCoordinates","coordinates","opt_fractionDigits","opt_template","template","x","y","fractionDigits","parseInt","replace","DMSCoordinates","degreesToStringHDMS","degrees","hemispheres","normalizedDegrees","_math2","modulo","dms","d","m","s","_string2","padNumber","charAt","xdms","ydms","trustHtmlFilter","$sce","input","trustAsHtml","exports","condition","opt_message","var_args","value","type","e","Error","code","_module","app","angular","ngeo","name","_module2","MainController","this","gridConfig","grid","Config","display_name","timestamp","controller","_component2","_Config2","ngeoGridTemplateUrl","$element","$attrs","requires","push","templateUrl","baseModuleTemplateUrl","component_","bindings","configuration","component","Controller_","$scope","scope_","selectedRows","sortedBy","sortAscending","floatTheadConfig","scrollContainer","$table","closest","prototype","$onInit","sort","columnName","asc","data","attributes1","attributes2","clickRow","attributes","event","shiftKey","isShiftKeyOnly_","platformModifierKey","isPlatformModifierKeyOnly_","clickRow_","selectRange_","toggleRow","isSelected","isRowSelected","unselectAll","selectRow","targetUid","getRowUid","posClickedRow","posSelectedRows","i","currentRow","_asserts2","assert","distance","posClosestRow","j","currentPos","currentDistance","rangeEnd","l","preventTextSelection","preventDefault","altKey","_has2","MAC","metaKey","ctrlKey","_ol","columnDefs","_ol2","getUid","getSelectedCount","Object","keys","getSelectedRows","_this","row","uid","selectAll","_this2","forEach","rowId","invertSelection","_this3"],"mappings":"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","file":"grid.min.js","sourcesContent":["/**\n * @module ngeo.filters\n*/\nconst exports = {};\nimport ngeoBase from 'ngeo';\nimport olMath from 'ol/math';\nimport olString from 'ol/string';\n\n/**\n * Format a number as a localized scale.\n * For instance:\n *  - For 'fr-CH' the value 25000 will become '1 : 25 000'.\n *  - For 'en-US' the value 25000 will become '1 : 25,000'.\n *\n * Example:\n *\n *      <p>{{25000 | ngeoScalify}}</p>\n *\n *\n * @param {angular.$filter} $filter Angular filter\n * @return {function(number): string} A function to format number into a 'scale'\n *     string.\n *//* @ngInject\n * @ngdoc filter\n * @ngname ngeoScalify\n */\nngeoBase.Scalify = function($filter) {\n  const numberFilter = $filter('number');\n  const filterFn = function(scale) {\n    const text = numberFilter(scale, 0);\n    return text ? `1\\u00a0:\\u00a0${text}` : '';\n  };\n  filterFn['$stateful'] = true;\n  return filterFn;\n};\n\nngeoBase.module.filter('ngeoScalify', ngeoBase.Scalify);\n\n/**\n * A filter used to format a number with a precision, using the locale.\n *\n * Arguments:\n * - opt_precision: The used precision, default is 3.\n *\n * Examples:\n *\n *      {{0.1234 | ngeoNumber}} => 0.123\n *      {{1.234 | ngeoNumber}} => 1.23\n *      {{12.34 | ngeoNumber}} => 12.3\n *      {{123.4 | ngeoNumber}} => 123\n *      {{1234 | ngeoNumber}} => 1230\n *\n * @param {angular.$locale} $locale Angular locale\n * @return {ngeox.number} Function used to format number into a string.\n *//* @ngInject\n * @ngdoc filter\n * @ngname ngeoNumber\n */\nngeoBase.Number = function($locale) {\n  const formats = $locale.NUMBER_FORMATS;\n\n  /**\n   * @param {number} number The number to format.\n   * @param {number=} opt_precision The used precision, default is 3.\n   * @return {string} The formatted string.\n   */\n  const result = function(number, opt_precision) {\n    const groupSep = formats.GROUP_SEP;\n    const decimalSep = formats.DECIMAL_SEP;\n    if (opt_precision === undefined) {\n      opt_precision = 3;\n    }\n\n    if (number === Infinity) {\n      return '\\u221e';\n    } else if (number === -Infinity) {\n      return '-\\u221e';\n    } else if (number === 0) {\n      // 0 will creates infinity values\n      return '0';\n    }\n    const sign = number < 0;\n    number = Math.abs(number);\n\n    const nb_decimal = opt_precision - Math.floor(Math.log(number) / Math.log(10)) - 1;\n    const factor = Math.pow(10, nb_decimal);\n    number = Math.round(number * factor);\n    let decimal = '';\n    const unit = Math.floor(number / factor);\n\n    if (nb_decimal > 0) {\n      let str_number = `${number}`;\n      // 0 padding\n      while (str_number.length < nb_decimal) {\n        str_number = `0${str_number}`;\n      }\n      decimal = str_number.substring(str_number.length - nb_decimal);\n      while (decimal[decimal.length - 1] === '0') {\n        decimal = decimal.substring(0, decimal.length - 1);\n      }\n    }\n\n    const groups = [];\n    let str_unit = `${unit}`;\n    while (str_unit.length > 3) {\n      const index = str_unit.length - 3;\n      groups.unshift(str_unit.substring(index));\n      str_unit = str_unit.substring(0, index);\n    }\n    groups.unshift(str_unit);\n\n    return (sign ? '-' : '') + groups.join(groupSep) + (\n      decimal.length === 0 ? '' : decimalSep + decimal\n    );\n  };\n  return result;\n};\n\nngeoBase.module.filter('ngeoNumber', ngeoBase.Number);\n\n/**\n * A filter used to format a number with the prefix and unit\n *\n * Arguments:\n * - opt_unit: The unit to used, default is ''.\n * - opt_type: (unit|square|binary) the type of units, default is 'unit'.\n * - opt_precision: The used precision, default is 3.\n *\n * Examples:\n *\n *      {{25000 | ngeoUnitPrefix}} => 25 k\n *      {{25000 | ngeoUnitPrefix:'m'}} => 25 km\n *      {{25000000 | ngeoUnitPrefix:'m²':'square'}} => 25 km²\n *      {{2048 | ngeoUnitPrefix:'o':'binary'}} => 2 Kio\n *\n *\n * @param {angular.$filter} $filter Angular filter\n * @return {ngeox.unitPrefix} Function used to format number into a string.\n *//* @ngInject\n * @ngdoc filter\n * @ngname ngeoUnitPrefix\n */\nngeoBase.UnitPrefix = function($filter) {\n  const numberFilter = $filter('ngeoNumber');\n  const standardPrefix = ['', 'k', 'M', 'G', 'T', 'P'];\n  const binaryPrefix = ['', 'Ki', 'Mi', 'Gi', 'Ti', 'Pi'];\n  /**\n   * @param {number} number The number to format.\n   * @param {string=} opt_unit The unit to used, default is ''.\n   * @param {string=} opt_type (unit|square|binary) the type of units, default is 'unit'.\n   * @param {number=} opt_precision The used precision, default is 3.\n   * @return {string} The formatted string.\n   */\n  const result = function(number, opt_unit, opt_type, opt_precision) {\n    if (opt_unit === undefined) {\n      opt_unit = '';\n    }\n    let divisor = 1000;\n    let prefix = standardPrefix;\n    if (opt_type === 'square') {\n      divisor = 1000000;\n    } else if (opt_type === 'binary') {\n      divisor = 1024;\n      prefix = binaryPrefix;\n    }\n\n    let index = 0;\n    const index_max = prefix.length - 1;\n    while (number >= divisor && index < index_max) {\n      number = number / divisor;\n      index++;\n    }\n\n    const postfix = prefix[index] + opt_unit;\n    const space = postfix.length == 0 ? '' : '\\u00a0';\n    return numberFilter(number, opt_precision) + space + postfix;\n  };\n  return result;\n};\n\nngeoBase.module.filter('ngeoUnitPrefix', ngeoBase.UnitPrefix);\n\n/**\n * Format a couple of numbers as number coordinates.\n *\n * Example without parameters (en-US localization):\n *\n *      <p>{{[7.1234, 46.9876] | ngeoNumberCoordinates}}</p>\n *      <!-- will Become 7 47 -->\n *\n * Example with defined fractionDigits and template (en-US localization):\n *\n *      <p>{{[7.1234, 46.9876] | ngeoNumberCoordinates:2:'co {x} E; {y} N'}}</p>\n *      <!-- will Become co 7.12 E; 46.99 N -->\n *\n * Example without fractionDigits but with defined template and localize:\n *\n *      <!-- With en-US localization (opt_localize can be true or undefined) -->\n *      <p>{{[2600000, 1600000] | ngeoNumberCoordinates:0:'{x}, {y}'}}</p>\n *      <!-- will Become 2,600,000, 1,600,000 -->\n *      <br/>\n *      <!-- With fr-CH localization (opt_localize can be true or undefined) -->\n *      <p>{{[2600000, 1600000] | ngeoNumberCoordinates:0:'{x}, {y}'}}</p>\n *      <!-- will Become 2'600'000, 1'600'000 -->\n *      <br/>\n *      <!-- With en-US localization but with localization to false -->\n *      <p>{{[2600000, 1600000] | ngeoNumberCoordinates:0:'{x}, {y}'}}</p>\n *      <!-- will Become 2'600'000, 1'600'000 -->\n *\n * @param {angular.$filter} $filter Angular filter\n * @return {ngeox.numberCoordinates} A function to format numbers into coordinates string.\n *//* @ngInject\n * @ngdoc filter\n * @ngname ngeoNumberCoordinates\n */\nngeoBase.NumberCoordinates = function($filter) {\n  /**\n   * @param {ol.Coordinate} coordinates Array of two numbers.\n   * @param {(number|string)=} opt_fractionDigits Optional number of digit.\n   *     Default to 0.\n   * @param {string=} opt_template Optional template. Default to '{x} {y}'.\n   *     Where \"{x}\" will be replaced by the easting coordinate and \"{y}\" by the\n   *     northing one. Note: Use a html entity to use the semicolon symbol\n   *     into a template.\n   * @return {string} Number formatted coordinates.\n   */\n  const filterFn = function(coordinates, opt_fractionDigits, opt_template) {\n    const template = opt_template ? opt_template : '{x} {y}';\n    let x = coordinates[0];\n    let y = coordinates[1];\n    const fractionDigits = parseInt(opt_fractionDigits, 10) | 0;\n    x = $filter('number')(x, fractionDigits);\n    y = $filter('number')(y, fractionDigits);\n    return template.replace('{x}', x).replace('{y}', y);\n  };\n  return filterFn;\n};\n\nngeoBase.module.filter('ngeoNumberCoordinates', ngeoBase.NumberCoordinates);\n\n\n/**\n * Format coordinates as DMS coordinates.\n *\n * Example without parameters:\n *\n *      <p>{{[7.1234, 46.9876] | ngeoDMSCoordinates}}</p>\n *      <!-- will Become  7° 07' 24'' E 46° 59' 15'' N-->\n *\n * Example with defined fractionDigits and a template.\n *\n *      <p>{{[7.1234, 46.9876] | ngeoDMSCoordinates:2:'[{y}; {x]'}}</p>\n *      <!-- will Become [46° 59' 15.36'' N; 7° 07' 24.24'' E] -->\n *\n * @return {ngeox.dmsCoordinates} A function to format numbers into a DMS coordinates string.\n *//* @ngInject\n * @ngdoc filter\n * @ngname ngeoDMSCoordinates\n */\nngeoBase.DMSCoordinates = function() {\n  const degreesToStringHDMS = function(degrees, hemispheres, fractionDigits) {\n    const normalizedDegrees = olMath.modulo(degrees + 180, 360) - 180;\n    const dms = Math.abs(3600 * normalizedDegrees);\n    const d = Math.floor(dms / 3600);\n    const m = Math.floor((dms / 60) % 60);\n    const s = (dms % 60);\n    return `${d}\\u00b0 ${\n      olString.padNumber(m, 2)}\\u2032 ${\n      olString.padNumber(s, 2, fractionDigits)}\\u2033 ${\n      hemispheres.charAt(normalizedDegrees < 0 ? 1 : 0)}`;\n  };\n\n  /**\n   * @param {ol.Coordinate} coordinates Array of two numbers.\n   * @param {(number|string)=} opt_fractionDigits Optional number of digit.\n   *     Default to 0.\n   * @param {string=} opt_template Optional template. Default to\n   *     '{x} {y}'. Where \"{x}\" will be replaced by the easting\n   *     coordinate, {y} by the northing one. Note: Use a html entity to use the\n   *     semicolon symbol into a template.\n   * @return {string} DMS formatted coordinates.\n   */\n  const filterFn = function(coordinates, opt_fractionDigits, opt_template) {\n    const fractionDigits = parseInt(opt_fractionDigits, 10) | 0;\n\n    const template = opt_template ? opt_template : '{x} {y}';\n\n    const xdms = degreesToStringHDMS(coordinates[0], 'EW', fractionDigits);\n    const ydms = degreesToStringHDMS(coordinates[1], 'NS', fractionDigits);\n\n    return template.replace('{x}', xdms).replace('{y}', ydms);\n  };\n\n  return filterFn;\n};\n\nngeoBase.module.filter('ngeoDMSCoordinates', ngeoBase.DMSCoordinates);\n\n\n/**\n * A filter to mark a value as trusted HTML.\n *\n * Usage:\n *\n *    <p ng-bind-html=\"ctrl.someValue | ngeoTrustHtml\"></p>\n *\n * @return {function(?):string} The filter function.\n *//* @ngInject\n * @ngdoc filter\n * @param {angular.$sce} $sce Angular sce service.\n * @ngname ngeoTrustHtml\n */\nngeoBase.trustHtmlFilter = function($sce) {\n  return function(input) {\n    if (input !== undefined && input !== null) {\n      return $sce.trustAsHtml(`${input}`);\n    } else {\n      return $sce.trustAsHtml('&nbsp;');\n    }\n  };\n};\n\nngeoBase.module.filter('ngeoTrustHtml', ngeoBase.trustHtmlFilter);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters.js","const exports = {};\n\nexports.assert = function(condition, opt_message, var_args) {};\nexports.assertNumber = function(value, opt_message, var_args) {};\nexports.assertString = function(value, opt_message, var_args) {};\nexports.assertFunction = function(value, opt_message, var_args) {};\nexports.assertObject = function(value, opt_message, var_args) {};\nexports.assertArray = function(value, opt_message, var_args) {};\nexports.assertBoolean = function(value, opt_message, var_args) {};\nexports.assertElement = function(value, opt_message, var_args) {};\nexports.assertInstanceof = function(value, type, opt_message, var_args) {};\nexports.assertObjectPrototypeIsIntact = function() {};\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/goog.asserts.prod.js","/**\n * @module app.grid\n*/\nconst exports = {};\n\nimport 'examples/grid.css';\nimport './common_dependencies.js';\nimport ngeoGridModule from 'ngeo/grid/module';\n\n\n/** @type {!angular.Module} **/\napp.module = angular.module('app', [\n  ngeo.module.name,\n  ngeoGridModule.name\n]);\n\n\n/**\n * @constructor\n *//* @ngInject\n */\napp.MainController = function() {\n\n  const data = [\n    {\n      'name': 'row_1',\n      'display_name': 'Row 1',\n      'type': 12,\n      'timestamp': '2010-11-09T22:56:26Z'\n    },\n    {\n      'name': 'row_2',\n      'display_name': 'Row 2',\n      'type': 121,\n      'timestamp': '2010-11-07T22:56:26Z'\n    },\n    {\n      'name': 'row_3',\n      'display_name': 'Row 3',\n      'type': 7,\n      'timestamp': '2010-11-03T22:56:26Z'\n    },\n    {\n      'name': 'row_4',\n      'display_name': 'Row 4',\n      'type': 5,\n      'timestamp': '2010-11-19T22:56:26Z'\n    },\n    {\n      'name': 'row_5',\n      'display_name': 'Row 5',\n      'type': 23,\n      'timestamp': '2010-11-23T22:56:26Z'\n    },\n    {\n      'name': 'row_6',\n      'display_name': 'Row 6',\n      'type': 111,\n      'timestamp': '2010-11-17T22:56:26Z'\n    }\n  ];\n\n  const columnDefs = [\n    {name: 'name'},\n    {name: 'display_name'},\n    {name: 'timestamp'},\n    {name: 'type'}\n  ];\n\n  /**\n   * @type {ngeo.grid.Config}\n   * @export\n   */\n  this.gridConfig = new ngeo.grid.Config(data, columnDefs);\n\n};\n\n\napp.module.controller('MainController', app.MainController);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/grid.js","/**\n * @module ngeo.grid.module\n*/\nimport ngeoBase from 'ngeo';\nimport ngeoGridComponent from 'ngeo/grid/component';\n\n/**\n * Also related to the grid but not included in the module:\n *  - ngeo.grid.Config (already required by ngeo.grid.component)\n *\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoGridModule', [\n  ngeoBase.module.name, // Change me when all dependencies are in a module.\n  ngeoGridComponent.name\n]);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/grid/module.js","/**\n * @module ngeo.grid.component\n*/\nimport ngeoBase from 'ngeo';\nimport olHas from 'ol/has';\nimport googAsserts from 'goog/asserts';\n\n/** @suppress {extraRequire} */\nimport ngeoFilters from 'ngeo/filters';\n\nimport ngeoGridConfig from 'ngeo/grid/Config';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoGrid', [\n  ngeoGridConfig.module.name\n]);\n\nngeoBase.module.requires.push(exports.name);\n\n\nexports.value('ngeoGridTemplateUrl',\n  /**\n     * @param {!angular.JQLite} $element Element.\n     * @param {!angular.Attributes} $attrs Attributes.\n     * @return {string} Template URL.\n     */\n  ($element, $attrs) => {\n    const templateUrl = $attrs['ngeoGridTemplateurl'];\n    return templateUrl !== undefined ? templateUrl :\n      `${ngeoBase.baseModuleTemplateUrl}/grid/component.html`;\n  }\n);\n\n\n/**\n * @param {!angular.JQLite} $element Element.\n * @param {!angular.Attributes} $attrs Attributes.\n * @param {!function(!angular.JQLite, !angular.Attributes): string} ngeoGridTemplateUrl Template function.\n * @return {string} Template URL.\n *//* @ngInject\n */\nfunction ngeoGridTemplateUrl($element, $attrs, ngeoGridTemplateUrl) {\n  return ngeoGridTemplateUrl($element, $attrs);\n}\n\n\n/**\n * A grid component for displaying tabular data. The columns of the grid\n * are sortable, rows can be selected with a single click (also in combination\n * with SHIFT and CTRL/Meta).\n *\n * Example:\n *\n *     <ngeo-grid\n *       ngeo-grid-configuration=\"::ctrl.gridConfiguration\"\n *     </ngeo-grid>\n *\n * @htmlAttribute {ngeo.grid.Config} ngeo-grid-configuration The\n * configuration to use.\n *\n * @ngdoc component\n * @ngname ngeoGrid\n */\nexports.component_ = {\n  controller: 'ngeoGridController as ctrl',\n  bindings: {\n    'configuration': '=ngeoGridConfiguration'\n  },\n  templateUrl: ngeoGridTemplateUrl\n};\n\nexports.component('ngeoGrid', exports.component_);\n\n\n/**\n * @param {!angular.Scope} $scope Angular scope.\n * @constructor\n * @private\n * @struct\n *//* @ngInject\n * @ngdoc controller\n * @ngname ngeoGridController\n */\nexports.Controller_ = function($scope) {\n\n  /**\n   * @type {!angular.Scope}\n   * @private\n   */\n  this.scope_ = $scope;\n\n  /**\n   * @type {ngeo.grid.Config}\n   * @export\n   */\n  this.configuration;\n\n  /**\n   * @type {Object.<string, Object>}\n   * @export\n   */\n  this.selectedRows;\n\n  /**\n   * The name of the column used to sort the grid.\n   * @type {string}\n   * @export\n   */\n  this.sortedBy;\n\n  /**\n   * @type {boolean}\n   * @export\n   */\n  this.sortAscending = true;\n\n  /**\n   * Configuration object for float-thead.\n   * @type {Object}\n   * @export\n   */\n  this.floatTheadConfig = {\n    'scrollContainer': function($table) {\n      return $table.closest('.ngeo-grid-table-container');\n    }\n  };\n};\n\n\n/**\n * Init the controller\n */\nexports.Controller_.prototype.$onInit = function() {\n  this.selectedRows = this.configuration.selectedRows;\n};\n\n\n/**\n * Sort function that always puts undefined values to the bottom of the grid.\n * A new call will sort ascending. A next one will sort descending (and so\n * on).\n * @param {string} columnName The name of the column that should be used to\n *    sort the data.\n * @export\n */\nexports.Controller_.prototype.sort = function(columnName) {\n  this.sortAscending = this.sortedBy === columnName ? !this.sortAscending : true;\n  this.sortedBy = columnName;\n\n  const asc = this.sortAscending ? 1 : -1;\n  this.configuration.data.sort((attributes1, attributes2) => {\n    if (!attributes1[columnName]) {\n      return 1;\n    }\n    if (!attributes2[columnName]) {\n      return -1;\n    }\n    return attributes1[columnName] > attributes2[columnName] ? asc : -asc;\n  });\n};\n\n\n/**\n * Handler for clicks on a row.\n * @param {Object} attributes An entry/row.\n * @param {jQuery.Event} event Event.\n * @export\n */\nexports.Controller_.prototype.clickRow = function(attributes, event) {\n  const shiftKey = this.isShiftKeyOnly_(event);\n  const platformModifierKey = this.isPlatformModifierKeyOnly_(event);\n\n  this.clickRow_(attributes, shiftKey, platformModifierKey);\n};\n\n\n/**\n * @param {Object} attributes An entry/row.\n * @param {boolean} shiftKey Shift pressed?\n * @param {boolean} platformModifierKey CTRL/Meta pressed?\n * @private\n */\nexports.Controller_.prototype.clickRow_ = function(\n  attributes, shiftKey, platformModifierKey) {\n\n  if (shiftKey && !platformModifierKey) {\n    this.selectRange_(attributes);\n  } else if (!shiftKey && platformModifierKey) {\n    this.configuration.toggleRow(attributes);\n  } else {\n    const isSelected = this.configuration.isRowSelected(attributes);\n    this.configuration.unselectAll();\n    if (!isSelected) {\n      this.configuration.selectRow(attributes);\n    }\n  }\n};\n\n\n/**\n * Selects all rows between the given row and the closest already selected row.\n * @param {Object} attributes An entry/row.\n * @private\n */\nexports.Controller_.prototype.selectRange_ = function(attributes) {\n  const targetUid = ngeoGridConfig.getRowUid(attributes);\n  const data = this.configuration.data;\n\n  if (this.configuration.isRowSelected(attributes)) {\n    return;\n  }\n\n  // get the position of the clicked and all already selected rows\n  /** @type {number|undefined} */\n  let posClickedRow = undefined;\n  const posSelectedRows = [];\n  for (let i = 0; i < data.length; i++) {\n    const currentRow = data[i];\n    const currentUid = ngeoGridConfig.getRowUid(currentRow);\n\n    if (targetUid === currentUid) {\n      posClickedRow = i;\n    } else if (this.configuration.isRowSelected(currentRow)) {\n      posSelectedRows.push(i);\n    }\n  }\n  googAsserts.assert(posClickedRow !== undefined);\n\n  if (posSelectedRows.length == 0) {\n    // if no other row is selected, select the clicked one and stop\n    this.configuration.selectRow(attributes);\n  }\n\n  // find the selected row which is the closest to the clicked row\n  let distance = Infinity;\n  let posClosestRow = posSelectedRows[0];\n  for (let j = 0; j < posSelectedRows.length; j++) {\n    const currentPos = posSelectedRows[j];\n    const currentDistance = Math.abs(currentPos - posClickedRow);\n    if (distance > currentDistance) {\n      distance = currentDistance;\n      posClosestRow = currentPos;\n    }\n    // note: this could be optimized because `posSelectedRows` is ordered.\n  }\n\n  // then select all rows between the clicked one and the closest\n  const rangeStart = (posClickedRow < posClosestRow) ? posClickedRow : posClosestRow;\n  const rangeEnd = (posClickedRow > posClosestRow) ? posClickedRow : posClosestRow;\n\n  for (let l = rangeStart; l <= rangeEnd; l++) {\n    this.configuration.selectRow(data[l]);\n  }\n};\n\n\n/**\n * Prevent the default browser behaviour of selecting text\n * when selecting multiple rows with SHIFT or CTRL/Meta.\n * @param {jQuery.Event} event Event.\n * @export\n */\nexports.Controller_.prototype.preventTextSelection = function(event) {\n  const shiftKey = this.isShiftKeyOnly_(event);\n  const platformModifierKey = this.isPlatformModifierKeyOnly_(event);\n\n  if (shiftKey || platformModifierKey) {\n    event.preventDefault();\n  }\n};\n\n\n/**\n * Same as `ol.events.condition.platformModifierKeyOnly`.\n * @param {jQuery.Event} event Event.\n * @return {boolean} True if only the platform modifier key is pressed.\n * @private\n */\nexports.Controller_.prototype.isPlatformModifierKeyOnly_ = function(event) {\n  return !event.altKey &&\n    (olHas.MAC ? event.metaKey : event.ctrlKey) &&\n    !event.shiftKey;\n};\n\n\n/**\n * Same as `ol.events.condition.shiftKeyOnly`.\n * @param {jQuery.Event} event Event.\n * @return {boolean} True if only the shift key is pressed.\n * @private\n */\nexports.Controller_.prototype.isShiftKeyOnly_ = function(event) {\n  return (\n    !event.altKey &&\n      !(event.metaKey || event.ctrlKey) &&\n      event.shiftKey);\n};\n\n\nexports.controller('ngeoGridController', exports.Controller_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/grid/component.js","/**\n * @module ngeo.grid.Config\n*/\nimport olBase from 'ol';\n\n/**\n * @param {Array.<Object>|undefined} data Entries/objects to be shown in a grid.\n * @param {Array.<ngeox.GridColumnDef>|undefined} columnDefs Column definition of a grid.\n * @constructor\n * @struct\n * @export\n */\nconst exports = function(data, columnDefs) {\n  /**\n   * @type {Array.<Object>|undefined}\n   * @export\n   */\n  this.data = data;\n\n  /**\n   * @type {Array.<ngeox.GridColumnDef>|undefined}\n   * @export\n   */\n  this.columnDefs = columnDefs;\n\n  /**\n   * @type {!Object.<string, Object>}\n   * @export\n   */\n  this.selectedRows = {};\n};\n\n\n/**\n * Get an ID for a row.\n * @param {Object} attributes An entry/row.\n * @return {string} Unique id for this object.\n * @export\n */\nexports.getRowUid = function(attributes) {\n  return `${olBase.getUid(attributes)}`;\n};\n\n\n/**\n * Is the given row selected?\n * @param {Object} attributes An entry/row.\n * @return {boolean} True if already selected. False otherwise.\n * @export\n */\nexports.prototype.isRowSelected = function(attributes) {\n  return !!this.selectedRows[exports.getRowUid(attributes)];\n};\n\n\n/**\n * Returns the number of selected rows.\n * @return {number} Number of selected rows.\n * @export\n */\nexports.prototype.getSelectedCount = function() {\n  return Object.keys(this.selectedRows).length;\n};\n\n\n/**\n * Returns the selected rows.\n * @return {Array.<Object>} Selected rows in the current ordering.\n * @export\n */\nexports.prototype.getSelectedRows = function() {\n  return this.data.filter(row => this.isRowSelected(row));\n};\n\n\n/**\n * @param {Object} attributes An entry/row.\n * @public\n */\nexports.prototype.selectRow = function(attributes) {\n  const uid = exports.getRowUid(attributes);\n  this.selectedRows[uid] = attributes;\n};\n\n\n/**\n * @param {Object} attributes An entry/row.\n * @public\n */\nexports.prototype.toggleRow = function(attributes) {\n  const uid = exports.getRowUid(attributes);\n  const isSelected = this.isRowSelected(attributes);\n  if (isSelected) {\n    delete this.selectedRows[uid];\n  } else {\n    this.selectedRows[uid] = attributes;\n  }\n};\n\n\n/**\n * Select all rows.\n * @export\n */\nexports.prototype.selectAll = function() {\n  this.data.forEach((attributes) => {\n    this.selectRow(attributes);\n  });\n};\n\n\n/**\n * Unselect all rows.\n * @export\n */\nexports.prototype.unselectAll = function() {\n  for (const rowId in this.selectedRows) {\n    delete this.selectedRows[rowId];\n  }\n};\n\n\n/**\n * Invert selection.\n * @export\n */\nexports.prototype.invertSelection = function() {\n  this.data.forEach((attributes) => {\n    this.toggleRow(attributes);\n  });\n};\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoGridConfig', []);\nngeo.module.requires.push(exports.module.name);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/grid/Config.js"],"sourceRoot":""}