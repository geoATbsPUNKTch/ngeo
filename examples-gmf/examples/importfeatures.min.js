webpackJsonp([10],{11:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var a="1.3.0"},12:function(e,t,r){"use strict";t.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(40),n=r(8),o=r(10),s=r(90),l=r(69),u=r(97),d=r(79),_=r(72),c=r(24),f=r(13),h=r(30),p=r(51),S=r(45),m=r(53),g=r(27),E=r(42),A=r(14),y=r(6),R=r(65),v=r(144),T=r(161),P=r(162),N=r(78),O=r(17),C=r(98),I=r(55),L=function(e){var t=e||{};u.a.call(this),L.DEFAULT_STYLE_ARRAY_||L.createStyleDefaults_(),this.defaultDataProjection=Object(y.get)("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:L.DEFAULT_STYLE_ARRAY_,this.extractStyles_=void 0===t.extractStyles||t.extractStyles,this.writeStyles_=void 0===t.writeStyles||t.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===t.showPointNames||t.showPointNames};Object(a.inherits)(L,u.a),L.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"],L.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],L.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",L.createStyleDefaults_=function(){return L.DEFAULT_COLOR_=[255,255,255,1],L.DEFAULT_FILL_STYLE_=new R.default({color:L.DEFAULT_COLOR_}),L.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2],L.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=T.a.PIXELS,L.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=T.a.PIXELS,L.DEFAULT_IMAGE_STYLE_SIZE_=[64,64],L.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",L.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5,L.DEFAULT_IMAGE_STYLE_=new v.default({anchor:L.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:P.a.BOTTOM_LEFT,anchorXUnits:L.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:L.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:L.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:L.DEFAULT_IMAGE_STYLE_SIZE_,src:L.DEFAULT_IMAGE_STYLE_SRC_}),L.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE",L.DEFAULT_STROKE_STYLE_=new N.default({color:L.DEFAULT_COLOR_,width:1}),L.DEFAULT_TEXT_STROKE_STYLE_=new N.default({color:[51,51,51,1],width:2}),L.DEFAULT_TEXT_STYLE_=new C.default({font:"bold 16px Helvetica",fill:L.DEFAULT_FILL_STYLE_,stroke:L.DEFAULT_TEXT_STROKE_STYLE_,scale:.8}),L.DEFAULT_STYLE_=new O.default({fill:L.DEFAULT_FILL_STYLE_,image:L.DEFAULT_IMAGE_STYLE_,text:L.DEFAULT_TEXT_STYLE_,stroke:L.DEFAULT_STROKE_STYLE_,zIndex:0}),L.DEFAULT_STYLE_ARRAY_=[L.DEFAULT_STYLE_],L.DEFAULT_STYLE_ARRAY_},L.ICON_ANCHOR_UNITS_MAP_={fraction:T.a.FRACTION,pixels:T.a.PIXELS,insetPixels:T.a.PIXELS},L.createNameStyleFunction_=function(e,t){var r=null,a=[0,0],i="start";if(e.getImage()){var n=e.getImage().getImageSize();if(null===n&&(n=L.DEFAULT_IMAGE_STYLE_SIZE_),2==n.length){var o=e.getImage().getScale();a[0]=o*n[0]/2,a[1]=-o*n[1]/2,i="left"}}if(null!==e.getText()){var s=e.getText();(r=s.clone()).setFont(s.getFont()||L.DEFAULT_TEXT_STYLE_.getFont()),r.setScale(s.getScale()||L.DEFAULT_TEXT_STYLE_.getScale()),r.setFill(s.getFill()||L.DEFAULT_TEXT_STYLE_.getFill()),r.setStroke(s.getStroke()||L.DEFAULT_TEXT_STROKE_STYLE_)}else r=L.DEFAULT_TEXT_STYLE_.clone();return r.setText(t),r.setOffsetX(a[0]),r.setOffsetY(a[1]),r.setTextAlign(i),new O.default({text:r})},L.createFeatureStyleFunction_=function(e,t,r,a,i){return function(n){var o,s=i,l="";if(s&&this.getGeometry()&&(s=this.getGeometry().getType()===f.default.POINT),s&&(l=this.get("name"),s=s&&l),e)return s?(o=L.createNameStyleFunction_(e[0],l),e.concat(o)):e;if(t){var u=L.findStyle_(t,r,a);return s?(o=L.createNameStyleFunction_(u[0],l),u.concat(o)):u}return s?(o=L.createNameStyleFunction_(r[0],l),r.concat(o)):r}},L.findStyle_=function(e,t,r){return Array.isArray(e)?e:"string"==typeof e?(!(e in r)&&"#"+e in r&&(e="#"+e),L.findStyle_(r[e],t,r)):t},L.readColor_=function(e){var t=I.default.getAllTextContent(e,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(r){var a=r[1];return[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}},L.readFlatCoordinates_=function(e){for(var t,r=I.default.getAllTextContent(e,!1),a=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;t=i.exec(r);){var n=parseFloat(t[1]),o=parseFloat(t[2]),s=t[3]?parseFloat(t[3]):0;a.push(n,o,s),r=r.substr(t[0].length)}if(""===r)return a},L.readURI_=function(e){var t=I.default.getAllTextContent(e,!1).trim(),r=e.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(t,r).href:t},L.readVec2_=function(e){var t,r=e.getAttribute("xunits"),a=e.getAttribute("yunits");return t="insetPixels"!==r?"insetPixels"!==a?P.a.BOTTOM_LEFT:P.a.TOP_LEFT:"insetPixels"!==a?P.a.BOTTOM_RIGHT:P.a.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:L.ICON_ANCHOR_UNITS_MAP_[r],y:parseFloat(e.getAttribute("y")),yunits:L.ICON_ANCHOR_UNITS_MAP_[a],origin:t}},L.readScale_=function(e){return d.a.readDecimal(e)},L.readStyleMapValue_=function(e,t){return I.default.pushParseAndPop(void 0,L.STYLE_MAP_PARSERS_,e,t)},L.IconStyleParser_=function(e,t){var r=I.default.pushParseAndPop({},L.ICON_STYLE_PARSERS_,e,t);if(r){var a,i,n,o,s=t[t.length-1],l="Icon"in r?r.Icon:{},u=!("Icon"in r)||Object.keys(l).length>0,d=l.href;d?a=d:u&&(a=L.DEFAULT_IMAGE_STYLE_SRC_);var _,c=P.a.BOTTOM_LEFT,f=r.hotSpot;f?(i=[f.x,f.y],n=f.xunits,o=f.yunits,c=f.origin):a===L.DEFAULT_IMAGE_STYLE_SRC_?(i=L.DEFAULT_IMAGE_STYLE_ANCHOR_,n=L.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,o=L.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(i=[.5,0],n=T.a.FRACTION,o=T.a.FRACTION);var h,p=l.x,S=l.y;void 0!==p&&void 0!==S&&(_=[p,S]);var m,g=l.w,E=l.h;void 0!==g&&void 0!==E&&(h=[g,E]);var y=r.heading;void 0!==y&&(m=Object(A.toRadians)(y));var R=r.scale;if(u){a==L.DEFAULT_IMAGE_STYLE_SRC_&&(h=L.DEFAULT_IMAGE_STYLE_SIZE_,void 0===R&&(R=L.DEFAULT_IMAGE_SCALE_MULTIPLIER_));var N=new v.default({anchor:i,anchorOrigin:c,anchorXUnits:n,anchorYUnits:o,crossOrigin:"anonymous",offset:_,offsetOrigin:P.a.BOTTOM_LEFT,rotation:m,scale:R,size:h,src:a});s.imageStyle=N}else s.imageStyle=L.DEFAULT_NO_IMAGE_STYLE_}},L.LabelStyleParser_=function(e,t){var r=I.default.pushParseAndPop({},L.LABEL_STYLE_PARSERS_,e,t);if(r){var a=t[t.length-1],i=new C.default({fill:new R.default({color:"color"in r?r.color:L.DEFAULT_COLOR_}),scale:r.scale});a.textStyle=i}},L.LineStyleParser_=function(e,t){var r=I.default.pushParseAndPop({},L.LINE_STYLE_PARSERS_,e,t);if(r){var a=t[t.length-1],i=new N.default({color:"color"in r?r.color:L.DEFAULT_COLOR_,width:"width"in r?r.width:1});a.strokeStyle=i}},L.PolyStyleParser_=function(e,t){var r=I.default.pushParseAndPop({},L.POLY_STYLE_PARSERS_,e,t);if(r){var a=t[t.length-1],i=new R.default({color:"color"in r?r.color:L.DEFAULT_COLOR_});a.fillStyle=i;var n=r.fill;void 0!==n&&(a.fill=n);var o=r.outline;void 0!==o&&(a.outline=o)}},L.readFlatLinearRing_=function(e,t){return I.default.pushParseAndPop(null,L.FLAT_LINEAR_RING_PARSERS_,e,t)},L.gxCoordParser_=function(e,t){var r=t[t.length-1].flatCoordinates,a=I.default.getAllTextContent(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a);if(i){var n=parseFloat(i[1]),o=parseFloat(i[2]),s=parseFloat(i[3]);r.push(n,o,s,0)}else r.push(0,0,0,0)},L.readGxMultiTrack_=function(e,t){var r=I.default.pushParseAndPop([],L.GX_MULTITRACK_GEOMETRY_PARSERS_,e,t);if(r){var a=new p.default(null);return a.setLineStrings(r),a}},L.readGxTrack_=function(e,t){var r=I.default.pushParseAndPop({flatCoordinates:[],whens:[]},L.GX_TRACK_PARSERS_,e,t);if(r){var a,i,n=r.flatCoordinates,o=r.whens;for(a=0,i=Math.min(n.length,o.length);a<i;++a)n[4*a+3]=o[a];var s=new h.default(null);return s.setFlatCoordinates(c.default.XYZM,n),s}},L.readIcon_=function(e,t){var r=I.default.pushParseAndPop({},L.ICON_PARSERS_,e,t);return r||null},L.readFlatCoordinatesFromNode_=function(e,t){return I.default.pushParseAndPop(null,L.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t)},L.readLineString_=function(e,t){var r=I.default.pushParseAndPop({},L.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),a=L.readFlatCoordinatesFromNode_(e,t);if(a){var i=new h.default(null);return i.setFlatCoordinates(c.default.XYZ,a),i.setProperties(r),i}},L.readLinearRing_=function(e,t){var r=I.default.pushParseAndPop({},L.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),a=L.readFlatCoordinatesFromNode_(e,t);if(a){var i=new E.default(null);return i.setFlatCoordinates(c.default.XYZ,a,[a.length]),i.setProperties(r),i}},L.readMultiGeometry_=function(e,t){var r,a=I.default.pushParseAndPop([],L.MULTI_GEOMETRY_PARSERS_,e,t);if(!a)return null;if(0===a.length)return new _.default(a);var i,s,l,u,d,c=!0,h=a[0].getType();for(s=1,l=a.length;s<l;++s)if((i=a[s]).getType()!=h){c=!1;break}if(c)if(h==f.default.POINT){var g=a[0];for(u=g.getLayout(),d=g.getFlatCoordinates(),s=1,l=a.length;s<l;++s)i=a[s],Object(n.extend)(d,i.getFlatCoordinates());(r=new S.default(null)).setFlatCoordinates(u,d),L.setCommonGeometryProperties_(r,a)}else h==f.default.LINE_STRING?((r=new p.default(null)).setLineStrings(a),L.setCommonGeometryProperties_(r,a)):h==f.default.POLYGON?((r=new m.default(null)).setPolygons(a),L.setCommonGeometryProperties_(r,a)):h==f.default.GEOMETRY_COLLECTION?r=new _.default(a):Object(o.a)(!1,37);else r=new _.default(a);return r},L.readPoint_=function(e,t){var r=I.default.pushParseAndPop({},L.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),a=L.readFlatCoordinatesFromNode_(e,t);if(a){var i=new g.default(null);return i.setFlatCoordinates(c.default.XYZ,a),i.setProperties(r),i}},L.readPolygon_=function(e,t){var r=I.default.pushParseAndPop({},L.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),a=I.default.pushParseAndPop([null],L.FLAT_LINEAR_RINGS_PARSERS_,e,t);if(a&&a[0]){var i,o,s=new E.default(null),l=a[0],u=[l.length];for(i=1,o=a.length;i<o;++i)Object(n.extend)(l,a[i]),u.push(l.length);return s.setFlatCoordinates(c.default.XYZ,l,u),s.setProperties(r),s}},L.readStyle_=function(e,t){var r=I.default.pushParseAndPop({},L.STYLE_PARSERS_,e,t);if(!r)return null;var a="fillStyle"in r?r.fillStyle:L.DEFAULT_FILL_STYLE_,i=r.fill;void 0===i||i||(a=null);var n="imageStyle"in r?r.imageStyle:L.DEFAULT_IMAGE_STYLE_;n==L.DEFAULT_NO_IMAGE_STYLE_&&(n=void 0);var o="textStyle"in r?r.textStyle:L.DEFAULT_TEXT_STYLE_,s="strokeStyle"in r?r.strokeStyle:L.DEFAULT_STROKE_STYLE_,l=r.outline;return void 0===l||l||(s=null),[new O.default({fill:a,image:n,stroke:s,text:o,zIndex:void 0})]},L.setCommonGeometryProperties_=function(e,t){var r,a,i,n,o,s=t.length,l=new Array(t.length),u=new Array(t.length),d=new Array(t.length);for(i=n=o=!1,a=0;a<s;++a)r=t[a],l[a]=r.get("extrude"),u[a]=r.get("tessellate"),d[a]=r.get("altitudeMode"),i=i||void 0!==l[a],n=n||void 0!==u[a],o=o||d[a];i&&e.set("extrude",l),n&&e.set("tessellate",u),o&&e.set("altitudeMode",d)},L.DataParser_=function(e,t){var r=e.getAttribute("name");I.default.parseNode(L.DATA_PARSERS_,e,t);var a=t[t.length-1];null!==r?a[r]=a.value:null!==a.displayName&&(a[a.displayName]=a.value),delete a.value},L.ExtendedDataParser_=function(e,t){I.default.parseNode(L.EXTENDED_DATA_PARSERS_,e,t)},L.RegionParser_=function(e,t){I.default.parseNode(L.REGION_PARSERS_,e,t)},L.PairDataParser_=function(e,t){var r=I.default.pushParseAndPop({},L.PAIR_PARSERS_,e,t);if(r){var a=r.key;if(a&&"normal"==a){var i=r.styleUrl;i&&(t[t.length-1]=i);var n=r.Style;n&&(t[t.length-1]=n)}}},L.PlacemarkStyleMapParser_=function(e,t){var r=L.readStyleMapValue_(e,t);if(r){var a=t[t.length-1];Array.isArray(r)?a.Style=r:"string"==typeof r?a.styleUrl=r:Object(o.a)(!1,38)}},L.SchemaDataParser_=function(e,t){I.default.parseNode(L.SCHEMA_DATA_PARSERS_,e,t)},L.SimpleDataParser_=function(e,t){var r=e.getAttribute("name");if(null!==r){var a=d.a.readString(e);t[t.length-1][r]=a}},L.LatLonAltBoxParser_=function(e,t){var r=I.default.pushParseAndPop({},L.LAT_LON_ALT_BOX_PARSERS_,e,t);if(r){var a=t[t.length-1],i=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];a.extent=i,a.altitudeMode=r.altitudeMode,a.minAltitude=parseFloat(r.minAltitude),a.maxAltitude=parseFloat(r.maxAltitude)}},L.LodParser_=function(e,t){var r=I.default.pushParseAndPop({},L.LOD_PARSERS_,e,t);if(r){var a=t[t.length-1];a.minLodPixels=parseFloat(r.minLodPixels),a.maxLodPixels=parseFloat(r.maxLodPixels),a.minFadeExtent=parseFloat(r.minFadeExtent),a.maxFadeExtent=parseFloat(r.maxFadeExtent)}},L.innerBoundaryIsParser_=function(e,t){var r=I.default.pushParseAndPop(void 0,L.INNER_BOUNDARY_IS_PARSERS_,e,t);r&&t[t.length-1].push(r)},L.outerBoundaryIsParser_=function(e,t){var r=I.default.pushParseAndPop(void 0,L.OUTER_BOUNDARY_IS_PARSERS_,e,t);r&&(t[t.length-1][0]=r)},L.LinkParser_=function(e,t){I.default.parseNode(L.LINK_PARSERS_,e,t)},L.whenParser_=function(e,t){var r=t[t.length-1].whens,a=I.default.getAllTextContent(e,!1),i=Date.parse(a);r.push(isNaN(i)?0:i)},L.DATA_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{displayName:I.default.makeObjectPropertySetter(d.a.readString),value:I.default.makeObjectPropertySetter(d.a.readString)}),L.EXTENDED_DATA_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Data:L.DataParser_,SchemaData:L.SchemaDataParser_}),L.REGION_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{LatLonAltBox:L.LatLonAltBoxParser_,Lod:L.LodParser_}),L.LAT_LON_ALT_BOX_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{altitudeMode:I.default.makeObjectPropertySetter(d.a.readString),minAltitude:I.default.makeObjectPropertySetter(d.a.readDecimal),maxAltitude:I.default.makeObjectPropertySetter(d.a.readDecimal),north:I.default.makeObjectPropertySetter(d.a.readDecimal),south:I.default.makeObjectPropertySetter(d.a.readDecimal),east:I.default.makeObjectPropertySetter(d.a.readDecimal),west:I.default.makeObjectPropertySetter(d.a.readDecimal)}),L.LOD_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{minLodPixels:I.default.makeObjectPropertySetter(d.a.readDecimal),maxLodPixels:I.default.makeObjectPropertySetter(d.a.readDecimal),minFadeExtent:I.default.makeObjectPropertySetter(d.a.readDecimal),maxFadeExtent:I.default.makeObjectPropertySetter(d.a.readDecimal)}),L.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{extrude:I.default.makeObjectPropertySetter(d.a.readBoolean),tessellate:I.default.makeObjectPropertySetter(d.a.readBoolean),altitudeMode:I.default.makeObjectPropertySetter(d.a.readString)}),L.FLAT_LINEAR_RING_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{coordinates:I.default.makeReplacer(L.readFlatCoordinates_)}),L.FLAT_LINEAR_RINGS_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{innerBoundaryIs:L.innerBoundaryIsParser_,outerBoundaryIs:L.outerBoundaryIsParser_}),L.GX_TRACK_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{when:L.whenParser_},I.default.makeStructureNS(L.GX_NAMESPACE_URIS_,{coord:L.gxCoordParser_})),L.GEOMETRY_FLAT_COORDINATES_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{coordinates:I.default.makeReplacer(L.readFlatCoordinates_)}),L.ICON_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{href:I.default.makeObjectPropertySetter(L.readURI_)},I.default.makeStructureNS(L.GX_NAMESPACE_URIS_,{x:I.default.makeObjectPropertySetter(d.a.readDecimal),y:I.default.makeObjectPropertySetter(d.a.readDecimal),w:I.default.makeObjectPropertySetter(d.a.readDecimal),h:I.default.makeObjectPropertySetter(d.a.readDecimal)})),L.ICON_STYLE_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Icon:I.default.makeObjectPropertySetter(L.readIcon_),heading:I.default.makeObjectPropertySetter(d.a.readDecimal),hotSpot:I.default.makeObjectPropertySetter(L.readVec2_),scale:I.default.makeObjectPropertySetter(L.readScale_)}),L.INNER_BOUNDARY_IS_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{LinearRing:I.default.makeReplacer(L.readFlatLinearRing_)}),L.LABEL_STYLE_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{color:I.default.makeObjectPropertySetter(L.readColor_),scale:I.default.makeObjectPropertySetter(L.readScale_)}),L.LINE_STYLE_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{color:I.default.makeObjectPropertySetter(L.readColor_),width:I.default.makeObjectPropertySetter(d.a.readDecimal)}),L.MULTI_GEOMETRY_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{LineString:I.default.makeArrayPusher(L.readLineString_),LinearRing:I.default.makeArrayPusher(L.readLinearRing_),MultiGeometry:I.default.makeArrayPusher(L.readMultiGeometry_),Point:I.default.makeArrayPusher(L.readPoint_),Polygon:I.default.makeArrayPusher(L.readPolygon_)}),L.GX_MULTITRACK_GEOMETRY_PARSERS_=I.default.makeStructureNS(L.GX_NAMESPACE_URIS_,{Track:I.default.makeArrayPusher(L.readGxTrack_)}),L.NETWORK_LINK_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{ExtendedData:L.ExtendedDataParser_,Region:L.RegionParser_,Link:L.LinkParser_,address:I.default.makeObjectPropertySetter(d.a.readString),description:I.default.makeObjectPropertySetter(d.a.readString),name:I.default.makeObjectPropertySetter(d.a.readString),open:I.default.makeObjectPropertySetter(d.a.readBoolean),phoneNumber:I.default.makeObjectPropertySetter(d.a.readString),visibility:I.default.makeObjectPropertySetter(d.a.readBoolean)}),L.LINK_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{href:I.default.makeObjectPropertySetter(L.readURI_)}),L.OUTER_BOUNDARY_IS_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{LinearRing:I.default.makeReplacer(L.readFlatLinearRing_)}),L.PAIR_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Style:I.default.makeObjectPropertySetter(L.readStyle_),key:I.default.makeObjectPropertySetter(d.a.readString),styleUrl:I.default.makeObjectPropertySetter(L.readURI_)}),L.PLACEMARK_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{ExtendedData:L.ExtendedDataParser_,Region:L.RegionParser_,MultiGeometry:I.default.makeObjectPropertySetter(L.readMultiGeometry_,"geometry"),LineString:I.default.makeObjectPropertySetter(L.readLineString_,"geometry"),LinearRing:I.default.makeObjectPropertySetter(L.readLinearRing_,"geometry"),Point:I.default.makeObjectPropertySetter(L.readPoint_,"geometry"),Polygon:I.default.makeObjectPropertySetter(L.readPolygon_,"geometry"),Style:I.default.makeObjectPropertySetter(L.readStyle_),StyleMap:L.PlacemarkStyleMapParser_,address:I.default.makeObjectPropertySetter(d.a.readString),description:I.default.makeObjectPropertySetter(d.a.readString),name:I.default.makeObjectPropertySetter(d.a.readString),open:I.default.makeObjectPropertySetter(d.a.readBoolean),phoneNumber:I.default.makeObjectPropertySetter(d.a.readString),styleUrl:I.default.makeObjectPropertySetter(L.readURI_),visibility:I.default.makeObjectPropertySetter(d.a.readBoolean)},I.default.makeStructureNS(L.GX_NAMESPACE_URIS_,{MultiTrack:I.default.makeObjectPropertySetter(L.readGxMultiTrack_,"geometry"),Track:I.default.makeObjectPropertySetter(L.readGxTrack_,"geometry")})),L.POLY_STYLE_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{color:I.default.makeObjectPropertySetter(L.readColor_),fill:I.default.makeObjectPropertySetter(d.a.readBoolean),outline:I.default.makeObjectPropertySetter(d.a.readBoolean)}),L.SCHEMA_DATA_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{SimpleData:L.SimpleDataParser_}),L.STYLE_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{IconStyle:L.IconStyleParser_,LabelStyle:L.LabelStyleParser_,LineStyle:L.LineStyleParser_,PolyStyle:L.PolyStyleParser_}),L.STYLE_MAP_PARSERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Pair:L.PairDataParser_}),L.prototype.readDocumentOrFolder_=function(e,t){var r=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Document:I.default.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:I.default.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:I.default.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),a=I.default.pushParseAndPop([],r,e,t,this);return a||void 0},L.prototype.readPlacemark_=function(e,t){var r=I.default.pushParseAndPop({geometry:null},L.PLACEMARK_PARSERS_,e,t);if(r){var a=new i.default,n=e.getAttribute("id");null!==n&&a.setId(n);var o=t[0],s=r.geometry;if(s&&Object(l.b)(s,!1,o),a.setGeometry(s),delete r.geometry,this.extractStyles_){var u=r.Style,d=r.styleUrl,_=L.createFeatureStyleFunction_(u,d,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);a.setStyle(_)}return delete r.Style,a.setProperties(r),a}},L.prototype.readSharedStyle_=function(e,t){var r=e.getAttribute("id");if(null!==r){var a=L.readStyle_(e,t);if(a){var i,n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n)i=new URL("#"+r,n).href;else i="#"+r;this.sharedStyles_[i]=a}}},L.prototype.readSharedStyleMap_=function(e,t){var r=e.getAttribute("id");if(null!==r){var a=L.readStyleMapValue_(e,t);if(a){var i,n=e.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n)i=new URL("#"+r,n).href;else i="#"+r;this.sharedStyles_[i]=a}}},L.prototype.readFeature,L.prototype.readFeatureFromNode=function(e,t){if(!Object(n.includes)(L.NAMESPACE_URIS_,e.namespaceURI))return null;var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r||null},L.prototype.readFeatures,L.prototype.readFeaturesFromNode=function(e,t){if(!Object(n.includes)(L.NAMESPACE_URIS_,e.namespaceURI))return[];var r,a=e.localName;if("Document"==a||"Folder"==a)return(r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==a){var i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return i?[i]:[]}if("kml"==a){var o;for(r=[],o=e.firstElementChild;o;o=o.nextElementSibling){var s=this.readFeaturesFromNode(o,t);s&&Object(n.extend)(r,s)}return r}return[]},L.prototype.readName=function(e){if(I.default.isDocument(e))return this.readNameFromDocument(e);if(I.default.isNode(e))return this.readNameFromNode(e);if("string"==typeof e){var t=I.default.parse(e);return this.readNameFromDocument(t)}},L.prototype.readNameFromDocument=function(e){var t;for(t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(t);if(r)return r}},L.prototype.readNameFromNode=function(e){var t;for(t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(n.includes)(L.NAMESPACE_URIS_,t.namespaceURI)&&"name"==t.localName)return d.a.readString(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(Object(n.includes)(L.NAMESPACE_URIS_,t.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var a=this.readNameFromNode(t);if(a)return a}}},L.prototype.readNetworkLinks=function(e){var t=[];if(I.default.isDocument(e))Object(n.extend)(t,this.readNetworkLinksFromDocument(e));else if(I.default.isNode(e))Object(n.extend)(t,this.readNetworkLinksFromNode(e));else if("string"==typeof e){var r=I.default.parse(e);Object(n.extend)(t,this.readNetworkLinksFromDocument(r))}return t},L.prototype.readNetworkLinksFromDocument=function(e){var t,r=[];for(t=e.firstChild;t;t=t.nextSibling)t.nodeType==Node.ELEMENT_NODE&&Object(n.extend)(r,this.readNetworkLinksFromNode(t));return r},L.prototype.readNetworkLinksFromNode=function(e){var t,r=[];for(t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(n.includes)(L.NAMESPACE_URIS_,t.namespaceURI)&&"NetworkLink"==t.localName){var a=I.default.pushParseAndPop({},L.NETWORK_LINK_PARSERS_,t,[]);r.push(a)}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;!Object(n.includes)(L.NAMESPACE_URIS_,t.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||Object(n.extend)(r,this.readNetworkLinksFromNode(t))}return r},L.prototype.readRegion=function(e){var t=[];if(I.default.isDocument(e))Object(n.extend)(t,this.readRegionFromDocument(e));else if(I.default.isNode(e))Object(n.extend)(t,this.readRegionFromNode(e));else if("string"==typeof e){var r=I.default.parse(e);Object(n.extend)(t,this.readRegionFromDocument(r))}return t},L.prototype.readRegionFromDocument=function(e){var t,r=[];for(t=e.firstChild;t;t=t.nextSibling)t.nodeType==Node.ELEMENT_NODE&&Object(n.extend)(r,this.readRegionFromNode(t));return r},L.prototype.readRegionFromNode=function(e){var t,r=[];for(t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(n.includes)(L.NAMESPACE_URIS_,t.namespaceURI)&&"Region"==t.localName){var a=I.default.pushParseAndPop({},L.REGION_PARSERS_,t,[]);r.push(a)}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;!Object(n.includes)(L.NAMESPACE_URIS_,t.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||Object(n.extend)(r,this.readRegionFromNode(t))}return r},L.prototype.readProjection,L.writeColorTextNode_=function(e,t){var r,a=Object(s.asArray)(t),i=[255*(4==a.length?a[3]:1),a[2],a[1],a[0]];for(r=0;r<4;++r){var n=parseInt(i[r],10).toString(16);i[r]=1==n.length?"0"+n:n}d.a.writeStringTextNode(e,i.join(""))},L.writeCoordinatesTextNode_=function(e,t,r){var a,i,n,s=r[r.length-1],l=s.layout,u=s.stride;l==c.default.XY||l==c.default.XYM?a=2:l==c.default.XYZ||l==c.default.XYZM?a=3:Object(o.a)(!1,34);var _=t.length,f="";if(_>0){for(f+=t[0],i=1;i<a;++i)f+=","+t[i];for(n=u;n<_;n+=u)for(f+=" "+t[n],i=1;i<a;++i)f+=","+t[n+i]}d.a.writeStringTextNode(e,f)},L.writeDataNode_=function(e,t,r){e.setAttribute("name",t.name);var a={node:e},i=t.value;"object"==typeof i?(null!==i&&i.displayName&&I.default.pushSerializeAndPop(a,L.EXTENDEDDATA_NODE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],r,["displayName"]),null!==i&&i.value&&I.default.pushSerializeAndPop(a,L.EXTENDEDDATA_NODE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,[i.value],r,["value"])):I.default.pushSerializeAndPop(a,L.EXTENDEDDATA_NODE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,[i],r,["value"])},L.writeDataNodeName_=function(e,t){d.a.writeCDATASection(e,t)},L.writeDataNodeValue_=function(e,t){d.a.writeStringTextNode(e,t)},L.writeDocument_=function(e,t,r){var a={node:e};I.default.pushSerializeAndPop(a,L.DOCUMENT_SERIALIZERS_,L.DOCUMENT_NODE_FACTORY_,t,r,void 0,this)},L.writeExtendedData_=function(e,t,r){for(var a={node:e},i=t.names,n=t.values,o=i.length,s=0;s<o;s++)I.default.pushSerializeAndPop(a,L.EXTENDEDDATA_NODE_SERIALIZERS_,L.DATA_NODE_FACTORY_,[{name:i[s],value:n[s]}],r)},L.writeIcon_=function(e,t,r){var a={node:e},i=r[r.length-1].node,n=L.ICON_SEQUENCE_[i.namespaceURI],o=I.default.makeSequence(t,n);I.default.pushSerializeAndPop(a,L.ICON_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,o,r,n),n=L.ICON_SEQUENCE_[L.GX_NAMESPACE_URIS_[0]],o=I.default.makeSequence(t,n),I.default.pushSerializeAndPop(a,L.ICON_SERIALIZERS_,L.GX_NODE_FACTORY_,o,r,n)},L.writeIconStyle_=function(e,t,r){var a={node:e},i={},n=t.getSrc(),o=t.getSize(),s=t.getImageSize(),l={href:n};if(o){l.w=o[0],l.h=o[1];var u=t.getAnchor(),d=t.getOrigin();if(d&&s&&0!==d[0]&&d[1]!==o[1]&&(l.x=d[0],l.y=s[1]-(d[1]+o[1])),u&&(u[0]!==o[0]/2||u[1]!==o[1]/2)){var _={x:u[0],xunits:T.a.PIXELS,y:o[1]-u[1],yunits:T.a.PIXELS};i.hotSpot=_}}i.Icon=l;var c=t.getScale();1!==c&&(i.scale=c);var f=t.getRotation();0!==f&&(i.heading=f);var h=r[r.length-1].node,p=L.ICON_STYLE_SEQUENCE_[h.namespaceURI],S=I.default.makeSequence(i,p);I.default.pushSerializeAndPop(a,L.ICON_STYLE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,S,r,p)},L.writeLabelStyle_=function(e,t,r){var a={node:e},i={},n=t.getFill();n&&(i.color=n.getColor());var o=t.getScale();o&&1!==o&&(i.scale=o);var s=r[r.length-1].node,l=L.LABEL_STYLE_SEQUENCE_[s.namespaceURI],u=I.default.makeSequence(i,l);I.default.pushSerializeAndPop(a,L.LABEL_STYLE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,u,r,l)},L.writeLineStyle_=function(e,t,r){var a={node:e},i={color:t.getColor(),width:t.getWidth()},n=r[r.length-1].node,o=L.LINE_STYLE_SEQUENCE_[n.namespaceURI],s=I.default.makeSequence(i,o);I.default.pushSerializeAndPop(a,L.LINE_STYLE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,s,r,o)},L.writeMultiGeometry_=function(e,t,r){var a,i,n={node:e},s=t.getType();s==f.default.GEOMETRY_COLLECTION?(a=t.getGeometries(),i=L.GEOMETRY_NODE_FACTORY_):s==f.default.MULTI_POINT?(a=t.getPoints(),i=L.POINT_NODE_FACTORY_):s==f.default.MULTI_LINE_STRING?(a=t.getLineStrings(),i=L.LINE_STRING_NODE_FACTORY_):s==f.default.MULTI_POLYGON?(a=t.getPolygons(),i=L.POLYGON_NODE_FACTORY_):Object(o.a)(!1,39),I.default.pushSerializeAndPop(n,L.MULTI_GEOMETRY_SERIALIZERS_,i,a,r)},L.writeBoundaryIs_=function(e,t,r){var a={node:e};I.default.pushSerializeAndPop(a,L.BOUNDARY_IS_SERIALIZERS_,L.LINEAR_RING_NODE_FACTORY_,[t],r)},L.writePlacemark_=function(e,t,r){var a={node:e};t.getId()&&e.setAttribute("id",t.getId());var i=t.getProperties(),n={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};n[t.getGeometryName()]=1;var o=Object.keys(i||{}).sort().filter(function(e){return!n[e]});if(o.length>0){var s={names:o,values:I.default.makeSequence(i,o)};I.default.pushSerializeAndPop(a,L.PLACEMARK_SERIALIZERS_,L.EXTENDEDDATA_NODE_FACTORY_,[s],r)}var u=t.getStyleFunction();if(u){var d=u.call(t,0);if(d){var _=Array.isArray(d)?d[0]:d;this.writeStyles_&&(i.Style=_);var c=_.getText();c&&(i.name=c.getText())}}var f=r[r.length-1].node,h=L.PLACEMARK_SEQUENCE_[f.namespaceURI],p=I.default.makeSequence(i,h);I.default.pushSerializeAndPop(a,L.PLACEMARK_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,p,r,h);var S=r[0],m=t.getGeometry();m&&(m=Object(l.b)(m,!0,S)),I.default.pushSerializeAndPop(a,L.PLACEMARK_SERIALIZERS_,L.GEOMETRY_NODE_FACTORY_,[m],r)},L.writePrimitiveGeometry_=function(e,t,r){var a=t.getFlatCoordinates(),i={node:e};i.layout=t.getLayout(),i.stride=t.getStride();var n=t.getProperties();n.coordinates=a;var o=r[r.length-1].node,s=L.PRIMITIVE_GEOMETRY_SEQUENCE_[o.namespaceURI],l=I.default.makeSequence(n,s);I.default.pushSerializeAndPop(i,L.PRIMITIVE_GEOMETRY_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,l,r,s)},L.writePolygon_=function(e,t,r){var a=t.getLinearRings(),i=a.shift(),n={node:e};I.default.pushSerializeAndPop(n,L.POLYGON_SERIALIZERS_,L.INNER_BOUNDARY_NODE_FACTORY_,a,r),I.default.pushSerializeAndPop(n,L.POLYGON_SERIALIZERS_,L.OUTER_BOUNDARY_NODE_FACTORY_,[i],r)},L.writePolyStyle_=function(e,t,r){var a={node:e};I.default.pushSerializeAndPop(a,L.POLY_STYLE_SERIALIZERS_,L.COLOR_NODE_FACTORY_,[t.getColor()],r)},L.writeScaleTextNode_=function(e,t){d.a.writeDecimalTextNode(e,Math.round(1e6*t)/1e6)},L.writeStyle_=function(e,t,r){var a={node:e},i={},n=t.getFill(),o=t.getStroke(),s=t.getImage(),l=t.getText();s instanceof v.default&&(i.IconStyle=s),l&&(i.LabelStyle=l),o&&(i.LineStyle=o),n&&(i.PolyStyle=n);var u=r[r.length-1].node,d=L.STYLE_SEQUENCE_[u.namespaceURI],_=I.default.makeSequence(i,d);I.default.pushSerializeAndPop(a,L.STYLE_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,_,r,d)},L.writeVec2_=function(e,t){e.setAttribute("x",t.x),e.setAttribute("y",t.y),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)},L.KML_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["Document","Placemark"]),L.KML_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Document:I.default.makeChildAppender(L.writeDocument_),Placemark:I.default.makeChildAppender(L.writePlacemark_)}),L.DOCUMENT_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Placemark:I.default.makeChildAppender(L.writePlacemark_)}),L.EXTENDEDDATA_NODE_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Data:I.default.makeChildAppender(L.writeDataNode_),value:I.default.makeChildAppender(L.writeDataNodeValue_),displayName:I.default.makeChildAppender(L.writeDataNodeName_)}),L.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},L.ICON_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["href"],I.default.makeStructureNS(L.GX_NAMESPACE_URIS_,["x","y","w","h"])),L.ICON_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{href:I.default.makeChildAppender(d.a.writeStringTextNode)},I.default.makeStructureNS(L.GX_NAMESPACE_URIS_,{x:I.default.makeChildAppender(d.a.writeDecimalTextNode),y:I.default.makeChildAppender(d.a.writeDecimalTextNode),w:I.default.makeChildAppender(d.a.writeDecimalTextNode),h:I.default.makeChildAppender(d.a.writeDecimalTextNode)})),L.ICON_STYLE_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]),L.ICON_STYLE_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{Icon:I.default.makeChildAppender(L.writeIcon_),heading:I.default.makeChildAppender(d.a.writeDecimalTextNode),hotSpot:I.default.makeChildAppender(L.writeVec2_),scale:I.default.makeChildAppender(L.writeScaleTextNode_)}),L.LABEL_STYLE_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["color","scale"]),L.LABEL_STYLE_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{color:I.default.makeChildAppender(L.writeColorTextNode_),scale:I.default.makeChildAppender(L.writeScaleTextNode_)}),L.LINE_STYLE_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["color","width"]),L.LINE_STYLE_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{color:I.default.makeChildAppender(L.writeColorTextNode_),width:I.default.makeChildAppender(d.a.writeDecimalTextNode)}),L.BOUNDARY_IS_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{LinearRing:I.default.makeChildAppender(L.writePrimitiveGeometry_)}),L.MULTI_GEOMETRY_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{LineString:I.default.makeChildAppender(L.writePrimitiveGeometry_),Point:I.default.makeChildAppender(L.writePrimitiveGeometry_),Polygon:I.default.makeChildAppender(L.writePolygon_),GeometryCollection:I.default.makeChildAppender(L.writeMultiGeometry_)}),L.PLACEMARK_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),L.PLACEMARK_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{ExtendedData:I.default.makeChildAppender(L.writeExtendedData_),MultiGeometry:I.default.makeChildAppender(L.writeMultiGeometry_),LineString:I.default.makeChildAppender(L.writePrimitiveGeometry_),LinearRing:I.default.makeChildAppender(L.writePrimitiveGeometry_),Point:I.default.makeChildAppender(L.writePrimitiveGeometry_),Polygon:I.default.makeChildAppender(L.writePolygon_),Style:I.default.makeChildAppender(L.writeStyle_),address:I.default.makeChildAppender(d.a.writeStringTextNode),description:I.default.makeChildAppender(d.a.writeStringTextNode),name:I.default.makeChildAppender(d.a.writeStringTextNode),open:I.default.makeChildAppender(d.a.writeBooleanTextNode),phoneNumber:I.default.makeChildAppender(d.a.writeStringTextNode),styleUrl:I.default.makeChildAppender(d.a.writeStringTextNode),visibility:I.default.makeChildAppender(d.a.writeBooleanTextNode)}),L.PRIMITIVE_GEOMETRY_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["extrude","tessellate","altitudeMode","coordinates"]),L.PRIMITIVE_GEOMETRY_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{extrude:I.default.makeChildAppender(d.a.writeBooleanTextNode),tessellate:I.default.makeChildAppender(d.a.writeBooleanTextNode),altitudeMode:I.default.makeChildAppender(d.a.writeStringTextNode),coordinates:I.default.makeChildAppender(L.writeCoordinatesTextNode_)}),L.POLYGON_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{outerBoundaryIs:I.default.makeChildAppender(L.writeBoundaryIs_),innerBoundaryIs:I.default.makeChildAppender(L.writeBoundaryIs_)}),L.POLY_STYLE_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{color:I.default.makeChildAppender(L.writeColorTextNode_)}),L.STYLE_SEQUENCE_=I.default.makeStructureNS(L.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),L.STYLE_SERIALIZERS_=I.default.makeStructureNS(L.NAMESPACE_URIS_,{IconStyle:I.default.makeChildAppender(L.writeIconStyle_),LabelStyle:I.default.makeChildAppender(L.writeLabelStyle_),LineStyle:I.default.makeChildAppender(L.writeLineStyle_),PolyStyle:I.default.makeChildAppender(L.writePolyStyle_)}),L.GX_NODE_FACTORY_=function(e,t,r){return I.default.createElementNS(L.GX_NAMESPACE_URIS_[0],"gx:"+r)},L.DOCUMENT_NODE_FACTORY_=function(e,t,r){var a=t[t.length-1].node;return I.default.createElementNS(a.namespaceURI,"Placemark")},L.GEOMETRY_NODE_FACTORY_=function(e,t,r){if(e){var a=t[t.length-1].node;return I.default.createElementNS(a.namespaceURI,L.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}},L.COLOR_NODE_FACTORY_=I.default.makeSimpleNodeFactory("color"),L.DATA_NODE_FACTORY_=I.default.makeSimpleNodeFactory("Data"),L.EXTENDEDDATA_NODE_FACTORY_=I.default.makeSimpleNodeFactory("ExtendedData"),L.INNER_BOUNDARY_NODE_FACTORY_=I.default.makeSimpleNodeFactory("innerBoundaryIs"),L.POINT_NODE_FACTORY_=I.default.makeSimpleNodeFactory("Point"),L.LINE_STRING_NODE_FACTORY_=I.default.makeSimpleNodeFactory("LineString"),L.LINEAR_RING_NODE_FACTORY_=I.default.makeSimpleNodeFactory("LinearRing"),L.POLYGON_NODE_FACTORY_=I.default.makeSimpleNodeFactory("Polygon"),L.OUTER_BOUNDARY_NODE_FACTORY_=I.default.makeSimpleNodeFactory("outerBoundaryIs"),L.prototype.writeFeatures,L.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=I.default.createElementNS(L.NAMESPACE_URIS_[4],"kml"),a="http://www.w3.org/2000/xmlns/",i="http://www.w3.org/2001/XMLSchema-instance";I.default.setAttributeNS(r,a,"xmlns:gx",L.GX_NAMESPACE_URIS_[0]),I.default.setAttributeNS(r,a,"xmlns:xsi",i),I.default.setAttributeNS(r,i,"xsi:schemaLocation",L.SCHEMA_LOCATION_);var n={node:r},o={};e.length>1?o.Document=e:1==e.length&&(o.Placemark=e[0]);var s=L.KML_SEQUENCE_[r.namespaceURI],l=I.default.makeSequence(o,s);return I.default.pushSerializeAndPop(n,L.KML_SERIALIZERS_,I.default.OBJECT_PROPERTY_NODE_FACTORY,l,[t],s,this),r},t.default=L},16:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),i=r(0),n=r(63),o=r(56),s=r(2),l=r(9),u=r(4),d=function(e,t,r,a,i,s){n.a.call(this,e,t,r,o.a.IDLE),this.src_=a,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.imageListenerKeys_=null,this.state=o.a.IDLE,this.imageLoadFunction_=s};Object(i.inherits)(d,n.a),d.prototype.getImage=function(){return this.image_},d.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.changed()},d.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(u.getHeight)(this.extent)/this.image_.height),this.state=o.a.LOADED,this.unlistenImage_(),this.changed()},d.prototype.load=function(){this.state!=o.a.IDLE&&this.state!=o.a.ERROR||(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[s.default.listenOnce(this.image_,l.a.ERROR,this.handleImageError_,this),s.default.listenOnce(this.image_,l.a.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},d.prototype.setImage=function(e){this.image_=e},d.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.default.unlistenByKey),this.imageListenerKeys_=null};var _=d,c=r(10),f=r(5),h=r(6),p=r(28),S=r(57),m=r(12),g=r(15),E=r(22),A=function(e){var t=e||{};S.default.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:S.default.defaultImageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5};Object(i.inherits)(A,S.default),A.GETFEATUREINFO_IMAGE_SIZE_=[101,101],A.prototype.getGetFeatureInfoUrl=function(e,t,r,i){if(void 0!==this.url_){var n=Object(h.get)(r),o=this.getProjection();o&&o!==n&&(t=p.a.calculateSourceResolution(o,n,e,t),e=Object(h.transform)(e,n,o));var s=Object(u.getForViewAndSize)(e,t,0,A.GETFEATUREINFO_IMAGE_SIZE_),l={SERVICE:"WMS",VERSION:a.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};f.default.assign(l,this.params_,i);var d=Math.floor((e[0]-s[0])/t),_=Math.floor((s[3]-e[1])/t);return l[this.v13_?"I":"X"]=d,l[this.v13_?"J":"Y"]=_,this.getRequestUrl_(s,A.GETFEATUREINFO_IMAGE_SIZE_,1,o||n,l)}},A.prototype.getParams=function(){return this.params_},A.prototype.getImageInternal=function(e,t,r,i){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var n=t/r,o=Object(u.getCenter)(e),d=Math.ceil(Object(u.getWidth)(e)/n),c=Math.ceil(Object(u.getHeight)(e)/n),h=Object(u.getForViewAndSize)(o,n,0,[d,c]),p=Math.ceil(this.ratio_*Object(u.getWidth)(e)/n),S=Math.ceil(this.ratio_*Object(u.getHeight)(e)/n),m=Object(u.getForViewAndSize)(o,n,0,[p,S]),g=this.image_;if(g&&this.renderedRevision_==this.getRevision()&&g.getResolution()==t&&g.getPixelRatio()==r&&Object(u.containsExtent)(g.getExtent(),h))return g;var E={SERVICE:"WMS",VERSION:a.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};f.default.assign(E,this.params_),this.imageSize_[0]=Math.round(Object(u.getWidth)(m)/n),this.imageSize_[1]=Math.round(Object(u.getHeight)(m)/n);var A=this.getRequestUrl_(m,this.imageSize_,r,i,E);return this.image_=new _(m,t,r,A,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),s.default.listen(this.image_,l.a.CHANGE,this.handleImageChange,this),this.image_},A.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},A.prototype.getRequestUrl_=function(e,t,r,a,i){if(Object(c.a)(void 0!==this.url_,9),i[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=r)switch(this.serverType_){case m.a.GEOSERVER:var n=90*r+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+n:i.FORMAT_OPTIONS="dpi:"+n;break;case m.a.MAPSERVER:i.MAP_RESOLUTION=90*r;break;case m.a.CARMENTA_SERVER:case m.a.QGIS:i.DPI=90*r;break;default:Object(c.a)(!1,8)}i.WIDTH=t[0],i.HEIGHT=t[1];var o,s=a.getAxisOrientation();return o=this.v13_&&"ne"==s.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,i.BBOX=o.join(","),E.default.appendParams(this.url_,i)},A.prototype.getUrl=function(){return this.url_},A.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},A.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},A.prototype.updateParams=function(e){f.default.assign(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},A.prototype.updateV13_=function(){var e=this.params_.VERSION||a.a;this.v13_=g.default.compareVersions(e,"1.3")>=0};t.default=A},21:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(0)),i=n(r(43));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.default.call(this,e),this.detail=t};a.default.inherits(o,i.default),t.default=o},23:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),i=r(0),n=r(10),o=r(4),s=r(5),l=r(14),u=r(6),d=r(28),_=r(60),c=r(41),f=r(12),h=r(61),p=r(15),S=r(22),m=function(e){var t=e||{},r=t.params||{},a=!("TRANSPARENT"in r)||r.TRANSPARENT;c.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:!a,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=r,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=Object(o.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())};Object(i.inherits)(m,c.a),m.prototype.getGetFeatureInfoUrl=function(e,t,r,i){var n=Object(u.get)(r),l=this.getProjection(),c=this.getTileGrid();c||(c=this.getTileGridForProjection(n));var f=c.getTileCoordForCoordAndResolution(e,t);if(!(c.getResolutions().length<=f[0])){var h=c.getResolution(f[0]),p=c.getTileCoordExtent(f,this.tmpExtent_),S=_.default.toSize(c.getTileSize(f[0]),this.tmpSize),m=this.gutter_;0!==m&&(S=_.default.buffer(S,m,this.tmpSize),p=Object(o.buffer)(p,h*m,p)),l&&l!==n&&(h=d.a.calculateSourceResolution(l,n,e,h),p=Object(u.transformExtent)(p,n,l),e=Object(u.transform)(e,n,l));var g={SERVICE:"WMS",VERSION:a.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};s.default.assign(g,this.params_,i);var E=Math.floor((e[0]-p[0])/h),A=Math.floor((p[3]-e[1])/h);return g[this.v13_?"I":"X"]=E,g[this.v13_?"J":"Y"]=A,this.getRequestUrl_(f,S,p,1,l||n,g)}},m.prototype.getGutterInternal=function(){return this.gutter_},m.prototype.getParams=function(){return this.params_},m.prototype.getRequestUrl_=function(e,t,r,a,i,o){var s=this.urls;if(s){if(o.WIDTH=t[0],o.HEIGHT=t[1],o[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=a)switch(this.serverType_){case f.a.GEOSERVER:var u=90*a+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+u:o.FORMAT_OPTIONS="dpi:"+u;break;case f.a.MAPSERVER:o.MAP_RESOLUTION=90*a;break;case f.a.CARMENTA_SERVER:case f.a.QGIS:o.DPI=90*a;break;default:Object(n.a)(!1,52)}var d,_,c=i.getAxisOrientation(),p=r;if(this.v13_&&"ne"==c.substr(0,2))d=r[0],p[0]=r[1],p[1]=d,d=r[2],p[2]=r[3],p[3]=d;if(o.BBOX=p.join(","),1==s.length)_=s[0];else _=s[Object(l.modulo)(h.a.hash(e),s.length)];return S.default.appendParams(_,o)}},m.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},m.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},m.prototype.fixedTileUrlFunction=function(e,t,r){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),!(i.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var n=i.getResolution(e[0]),l=i.getTileCoordExtent(e,this.tmpExtent_),u=_.default.toSize(i.getTileSize(e[0]),this.tmpSize),d=this.gutter_;0!==d&&(u=_.default.buffer(u,d,this.tmpSize),l=Object(o.buffer)(l,n*d,l)),1!=t&&(u=_.default.scale(u,t,this.tmpSize));var c={SERVICE:"WMS",VERSION:a.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return s.default.assign(c,this.params_),this.getRequestUrl_(e,u,l,t,r,c)}},m.prototype.updateParams=function(e){s.default.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},m.prototype.updateV13_=function(){var e=this.params_.VERSION||a.a;this.v13_=p.default.compareVersions(e,"1.3")>=0},t.default=m},25:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=r(1);(a=n)&&a.__esModule;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inRange_=!1!==t.inRange,this.visible_=!0===t.visible,this.attributes=t.attributes||null,this.id_=t.id,this.identifierAttribute_=t.identifierAttribute,this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.name_=t.name}return i(e,[{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){this.attributes=e}},{key:"inRange",get:function(){return this.inRange_},set:function(e){this.inRange_=e}},{key:"visible",get:function(){return this.visible_},set:function(e){this.visible_=e}},{key:"id",get:function(){return this.id_}},{key:"identifierAttribute",get:function(){return this.identifierAttribute_}},{key:"maxResolution",get:function(){return this.maxResolution_}},{key:"minResolution",get:function(){return this.minResolution_}},{key:"name",get:function(){return this.name_}},{key:"queryable",get:function(){return!1}},{key:"supportsDynamicInRange",get:function(){return null!==this.maxResolution||null!==this.minResolution}}]),e}();t.default=o},26:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(1)),i=n(r(47));function n(e){return e&&e.__esModule?e:{default:e}}var o={};a.default.module.value("ngeoDataSources",new i.default),t.default=o},29:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_(r(1)),i=_(r(0)),n=_(r(20)),o=_(r(5)),s=_(r(18)),l=_(r(17)),u=_(r(3)),d=_(r(36));function _(e){return e&&e.__esModule?e:{default:e}}var c=function(){this.featureUidToGroupIndex_={},this.groups_=[],this.source_=new s.default({useSpatialIndex:!1}),this.layer_=new n.default({source:this.source_,style:this.styleFunction_.bind(this),updateWhileAnimating:!0,updateWhileInteracting:!0})};c.prototype.addFeature=function(e,t){u.default.assert(t>=0),u.default.assert(t<this.groups_.length);var r=i.default.getUid(e).toString();this.featureUidToGroupIndex_[r]=t,this.groups_[t].features[r]=e,this.source_.addFeature(e)},c.prototype.removeFeature=function(e,t){u.default.assert(t>=0),u.default.assert(t<this.groups_.length);var r=i.default.getUid(e).toString();delete this.featureUidToGroupIndex_[r],delete this.groups_[t].features[r],this.source_.removeFeature(e)},c.prototype.clear=function(e){u.default.assert(e>=0),u.default.assert(e<this.groups_.length);var t=this.groups_[e];for(var r in t.features)this.removeFeature(t.features[r],e);u.default.assert(o.default.isEmpty(t.features))},c.prototype.getLayer=function(){return this.layer_},c.prototype.getFeatureOverlay=function(){var e=this.groups_.length;return this.groups_.push({styleFunction:l.default.defaultFunction,features:{}}),new d.default(this,e)},c.prototype.init=function(e){this.layer_.setMap(e)},c.prototype.setStyle=function(e,t){u.default.assert(t>=0),u.default.assert(t<this.groups_.length),this.groups_[t].styleFunction=null===e?l.default.defaultFunction:l.default.createFunction(e)},c.prototype.styleFunction_=function(e,t){var r=i.default.getUid(e).toString();u.default.assert(r in this.featureUidToGroupIndex_);var a=this.featureUidToGroupIndex_[r];return this.groups_[a].styleFunction(e,t)},(c.module=angular.module("ngeoFeatureOverlayMgr",[d.default.module.name])).service("ngeoFeatureOverlayMgr",c),a.default.module.requires.push(c.module.name),t.default=c},3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={assert:function(e,t,r){},assertNumber:function(e,t,r){},assertString:function(e,t,r){},assertFunction:function(e,t,r){},assertObject:function(e,t,r){},assertArray:function(e,t,r){},assertBoolean:function(e,t,r){},assertElement:function(e,t,r){},assertInstanceof:function(e,t,r,a){},assertObjectPrototypeIsIntact:function(){}};t.default=a},317:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(!function(){var e=new Error('Cannot find module "examples/importfeatures.css"');throw e.code="MODULE_NOT_FOUND",e}()),r(59);var a=f(r(32)),i=f(r(318)),n=f(r(7)),o=f(r(31)),s=f(r(4)),l=f(r(148)),u=f(r(62)),d=f(r(20)),_=f(r(48)),c=f(r(18));function f(e){return e&&e.__esModule?e:{default:e}}app.module=angular.module("app",[ngeo.module.name,a.default.name,i.default.name]),app.MainController=function(e){var t=this;this.kmlFormat_=new l.default,this.vectorSource_=new c.default,this.map=new n.default({layers:[new u.default({source:new _.default}),new d.default({source:this.vectorSource_})],view:new o.default({center:[0,0],zoom:2})}),this.fileReaderSupported=void 0,this.fileContent="",e.$watch(function(){return t.fileContent},this.importKml_.bind(this))},app.MainController.$inject=["$scope"],app.MainController.prototype.importKml_=function(e){var t=this.map,r=this.vectorSource_,a=this.kmlFormat_.readFeatures(e,{featureProjection:"EPSG:3857"});r.clear(!0),r.addFeatures(a);var i=r.getExtent(),n=t.getSize();n&&!s.default.isEmpty(i)&&t.getView().fit(i,n)},app.module.controller("MainController",app.MainController),t.default={}},318:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=r(1),n=(a=i)&&a.__esModule?a:{default:a};var o=angular.module("ngeoFilereader",[]);n.default.module.requires.push(o.name),o.component_=function(e){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:function(t,r,a){var i="FileReader"in e;t.supported=i,i&&r.on("change",function(r){var a=new e.FileReader;a.onload=function(e){t.$apply(function(){t.fileContent=e.target.result})},a.readAsText(r.target.files[0])})}}},o.directive("ngeoFilereader",o.component_),t.default=o},32:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(r(1)),i=d(r(33)),n=d(r(34)),o=d(r(29)),s=d(r(37)),l=d(r(38)),u=d(r(39));function d(e){return e&&e.__esModule?e:{default:e}}var _=angular.module("ngeoMapModule",[a.default.module.name,i.default.module.name,n.default.name,o.default.module.name,s.default.name,l.default.name,u.default.name]);t.default=_},33:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(3)),i=f(r(1)),n=f(r(21)),o=f(r(0)),s=f(r(19)),l=f(r(52)),u=f(r(50)),d=f(r(16)),_=f(r(23)),c=f(r(58));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){s.default.call(this),this.mapUids_={}};o.default.inherits(h,s.default),h.prototype.get=function(e){return o.default.getUid(e).toString()in this.mapUids_?e.getLayers().item(0):null},h.prototype.set=function(e,t){var r=o.default.getUid(e).toString(),i=this.get(e);null!==i?(a.default.assert(r in this.mapUids_),null!==t?e.getLayers().setAt(0,t):(e.getLayers().removeAt(0),delete this.mapUids_[r])):null!==t&&(e.getLayers().insertAt(0,t),this.mapUids_[r]=!0);var s=new n.default("change",{current:t,previous:i});return this.dispatchEvent(s),i},h.prototype.updateDimensions=function(e,t){var r=this.get(e);if(r){var i=[r];r instanceof l.default&&(i=r.getLayers().getArray()),i.forEach(function(e){if(a.default.assertInstanceof(e,u.default),e){var r=!1,i={};for(var n in e.get("dimensions")){var o=t[n];void 0!==o&&(i[n]=o,r=!0)}if(r){var s=e.getSource();s instanceof c.default?(s.updateDimensions(i),s.refresh()):(s instanceof _.default||s instanceof d.default)&&(s.updateParams(i),s.refresh())}}})}},(h.module=angular.module("ngeoBackgroundLayerMgr",[])).service("ngeoBackgroundLayerMgr",h),i.default.module.requires.push(h.module.name),t.default=h},34:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(3)),i=s(r(1)),n=(s(r(35)),s(r(2))),o=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var l=angular.module("ngeoMap",[]);i.default.module.requires.push(l.name),l.directive_=function(e,t){return{restrict:"A",link:function(r,i,s){var l=s.ngeoMap,u=r.$eval(l);a.default.assertInstanceof(u,o.default),u.setTarget(i[0]),t.map=u;var d=s.ngeoMapManageResize;if(r.$eval(d)){var _=s.ngeoMapResizeTransition,c=r.$eval(_);n.default.listen(e,"resize",function(){if(c){var t=Date.now(),r=!0;!function a(){u.updateSize(),u.renderSync(),r&&e.requestAnimationFrame(a),Date.now()-t>c&&(r=!1)}()}else u.updateSize()})}}}},l.directive_.$inject=["$window","ngeoSyncDataSourcesMap"],l.directive("ngeoMap",l.directive_),t.default=l},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=d(r(1)),n=d(r(25)),o=(d(r(26)),d(r(2))),s=d(r(19)),l=d(r(31)),u=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ngeoDataSources_=t,this.map_=null,this.listenerKeys_=[],o.default.listen(this.ngeoDataSources_,"add",this.handleDataSourcesAdd_,this)}return e.$inject=["ngeoDataSources"],a(e,[{key:"bindMap_",value:function(e){var t=e.getView();this.listenerKeys_.push(o.default.listen(t,"change:resolution",this.handleViewResolutionChange_,this));var r=t.getResolution();u.default.assertNumber(r),this.syncDataSourcesToResolution_(r)}},{key:"unbindMap_",value:function(e){s.default.unByKey(this.listenerKeys_),this.listenerKeys_=[]}},{key:"handleViewResolutionChange_",value:function(e){var t=e.target;u.default.assertInstanceof(t,l.default);var r=t.getResolution();u.default.assertNumber(r),this.syncDataSourcesToResolution_(r)}},{key:"syncDataSourcesToResolution_",value:function(e){var t=this;this.ngeoDataSources_.forEach(function(r){t.syncDataSourceToResolution_(r,e)})}},{key:"syncDataSourceToResolution_",value:function(e,t){if(e.supportsDynamicInRange){var r=e.maxResolution,a=e.minResolution,i=(null===a||void 0===a||t>=a)&&(null===r||void 0===r||t<=r);e.inRange=i}}},{key:"handleDataSourcesAdd_",value:function(e){var t=u.default.assertInstanceof(e.element,n.default);if(this.map_){var r=this.map_.getView().getResolution();u.default.assertNumber(r),this.syncDataSourceToResolution_(t,r)}}},{key:"map",set:function(e){this.map_&&this.unbindMap_(this.map_),this.map_=e,e&&this.bindMap_(e)}}]),e}();i.default.module.service("ngeoSyncDataSourcesMap",_),t.default=_},36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(1)),i=(n(r(0)),n(r(2)));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){this.manager_=e,this.features_=null,this.index_=t};o.prototype.addFeature=function(e){this.manager_.addFeature(e,this.index_)},o.prototype.removeFeature=function(e){this.manager_.removeFeature(e,this.index_)},o.prototype.clear=function(){this.manager_.clear(this.index_)},o.prototype.setFeatures=function(e){null!==this.features_&&(this.features_.clear(),i.default.unlisten(this.features_,"add",this.handleFeatureAdd_,this),i.default.unlisten(this.features_,"remove",this.handleFeatureRemove_,this)),null!==e&&(e.forEach(function(e){this.addFeature(e)},this),i.default.listen(e,"add",this.handleFeatureAdd_,this),i.default.listen(e,"remove",this.handleFeatureRemove_,this)),this.features_=e},o.prototype.setStyle=function(e){this.manager_.setStyle(e,this.index_)},o.prototype.handleFeatureAdd_=function(e){var t=e.element;this.addFeature(t)},o.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature(t)},o.module=angular.module("ngeoFeatureOverlay",[]),a.default.module.requires.push(o.module.name),t.default=o},37:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=r(1),n=(a=i)&&a.__esModule?a:{default:a};var o=angular.module("ngeoRecenter",[]);n.default.module.requires.push(o.name),o.directive_=function(){return{restrict:"A",link:function(e,t,r){var a=r.ngeoRecenterMap,i=e.$eval(a);function n(t){var r=t.attr("ngeo-extent");if(void 0!==r){var a=i.getSize();i.getView().fit(e.$eval(r),{size:a})}var n=t.attr("ngeo-zoom");void 0!==n&&i.getView().setZoom(e.$eval(n))}t.on("click","*",function(e){n(angular.element($(this)))}),t.on("change",function(e){var t=e.target.options[e.target.selectedIndex];n(angular.element(t))})}}},o.directive("ngeoRecenter",o.directive_),t.default=o},38:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(3)),i=o(r(1)),n=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var s=angular.module("ngeoResizemap",[]);i.default.module.requires.push(s.name),s.directive_=function(e){return{restrict:"A",link:function(t,r,i){var o=i.ngeoResizemap,s=t.$eval(o);a.default.assertInstanceof(s,n.default);var l=i.ngeoResizemapState;a.default.assert(void 0!==l);var u=void 0,d=void 0,_=function t(){s.updateSize(),s.renderSync(),Date.now()-u<1e3&&(d=e.requestAnimationFrame(t))};r.on("transitionend",function(){s.updateSize(),s.renderSync()}),t.$watch(l,function(t,r){t!=r&&(u=Date.now(),e.cancelAnimationFrame(d),d=e.requestAnimationFrame(_))})}}},s.directive("ngeoResizemap",s.directive_),t.default=s},39:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(1)),i=s(r(8)),n=s(r(7)),o=s(r(2));function s(e){return e&&e.__esModule?e:{default:e}}var l=angular.module("ngeoScaleselector",[]);a.default.module.requires.push(l.name),l.value("ngeoScaleselectorTemplateUrl",function(e,t){var r=t.ngeoScaleselectorTemplateurl;return void 0!==r?r:a.default.baseModuleTemplateUrl+"/map/scaleselector.html"}),l.directive_=function(e){return{restrict:"A",scope:!0,controller:"NgeoScaleselectorController",templateUrl:e}},l.directive("ngeoScaleselector",l.directive_),l.ScaleselectorController_=function(e,t,r){var a=this,s=r.ngeoScaleselector;this.scales=e.$eval(s),goog.asserts.assert(void 0!==this.scales),this.zoomLevels,e.$watch(function(){return Object.keys(a.scales).length},function(e){a.zoomLevels=Object.keys(a.scales).map(Number),a.zoomLevels.sort(i.default.numberSafeCompareFunction)});var u=r.ngeoScaleselectorMap;this.map_=e.$eval(u),goog.asserts.assertInstanceof(this.map_,n.default);var d=r.ngeoScaleselectorOptions,_=e.$eval(d);if(this.options=l.ScaleselectorController_.getOptions_(_),this.$scope_=e,this.resolutionChangeKey_=null,this.currentScale=void 0,null!==this.map_.getView()){var c=this.map_.getView().getZoom();void 0!==c&&(this.currentScale=this.getScale(c))}o.default.listen(this.map_,"change:view",this.handleViewChange_,this),this.registerResolutionChangeListener_(),e.scaleselectorCtrl=this},l.ScaleselectorController_.getOptions_=function(e){var t=!1;return void 0!==e&&(t=1==e.dropup),{dropup:t}},l.ScaleselectorController_.prototype.getScale=function(e){return this.scales[e]},l.ScaleselectorController_.prototype.changeZoom=function(e){this.map_.getView().setZoom(e)},l.ScaleselectorController_.prototype.handleResolutionChange_=function(e){var t=this,r=this.map_.getView(),a=this.scales[r.getZoom()];void 0!==a&&this.$scope_.$applyAsync(function(){t.currentScale=a})},l.ScaleselectorController_.prototype.handleViewChange_=function(e){this.registerResolutionChangeListener_(),this.handleResolutionChange_(null)},l.ScaleselectorController_.prototype.registerResolutionChangeListener_=function(){null!==this.resolutionChangeKey_&&o.default.unlistenByKey(this.resolutionChangeKey_);var e=this.map_.getView();this.resolutionChangeKey_=o.default.listen(e,"change:resolution",this.handleResolutionChange_,this)},l.controller("NgeoScaleselectorController",l.ScaleselectorController_),t.default=l},45:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(8),n=r(4),o=r(24),s=r(13),l=r(27),u=r(44),d=r(46),_=r(54),c=r(14),f=function(e,t){u.a.call(this),this.setCoordinates(e,t)};Object(a.inherits)(f,u.a),f.prototype.appendPoint=function(e){this.flatCoordinates?Object(i.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},f.prototype.clone=function(){var e=new f(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},f.prototype.closestPointXY=function(e,t,r,a){if(a<Object(n.closestSquaredDistanceXY)(this.getExtent(),e,t))return a;var i,o,s,l=this.flatCoordinates,u=this.stride;for(i=0,o=l.length;i<o;i+=u){var d=Object(c.squaredDistance)(e,t,l[i],l[i+1]);if(d<a){for(a=d,s=0;s<u;++s)r[s]=l[i+s];r.length=u}}return a},f.prototype.getCoordinates=function(){return _.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},f.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(e<0||t<=e)return null;var r=new l.default(null);return r.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),r},f.prototype.getPoints=function(){var e,t,r=this.flatCoordinates,a=this.layout,i=this.stride,n=[];for(e=0,t=r.length;e<t;e+=i){var o=new l.default(null);o.setFlatCoordinates(a,r.slice(e,e+i)),n.push(o)}return n},f.prototype.getType=function(){return s.default.MULTI_POINT},f.prototype.intersectsExtent=function(e){var t,r,a,i,o=this.flatCoordinates,s=this.stride;for(t=0,r=o.length;t<r;t+=s)if(a=o[t],i=o[t+1],Object(n.containsXY)(e,a,i))return!0;return!1},f.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=d.a.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(o.default.XY,null)},f.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.default=f},48:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(49),n=function(e){var t,r=e||{};t=void 0!==r.attributions?r.attributions:[n.ATTRIBUTION];var a=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",o=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";i.a.call(this,{attributions:t,cacheSize:r.cacheSize,crossOrigin:a,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:o,wrapX:r.wrapX})};Object(a.inherits)(n,i.a),n.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',t.default=n},49:function(e,t,r){"use strict";var a=r(0),i=r(41),n=r(71),o=function(e){var t=e||{},r=void 0!==t.projection?t.projection:"EPSG:3857",a=void 0!==t.tileGrid?t.tileGrid:n.a.createXYZ({extent:n.a.extentFromProjection(r),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});i.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:t.opaque,projection:r,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})};Object(a.inherits)(o,i.a),t.a=o},51:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(8),n=r(4),o=r(24),s=r(13),l=r(30),u=r(44),d=r(67),_=r(46),c=r(54),f=r(100),h=r(70),p=r(64),S=function(e,t){u.a.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};Object(a.inherits)(S,u.a),S.prototype.appendLineString=function(e){this.flatCoordinates?Object(i.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},S.prototype.clone=function(){var e=new S(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},S.prototype.closestPointXY=function(e,t,r,a){return a<Object(n.closestSquaredDistanceXY)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(d.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,a))},S.prototype.getCoordinateAtM=function(e,t,r){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM||0===this.flatCoordinates.length)return null;var a=void 0!==t&&t,i=void 0!==r&&r;return f.a.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,a,i)},S.prototype.getCoordinates=function(){return c.a.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},S.prototype.getEnds=function(){return this.ends_},S.prototype.getLineString=function(e){if(e<0||this.ends_.length<=e)return null;var t=new l.default(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},S.prototype.getLineStrings=function(){var e,t,r=this.flatCoordinates,a=this.ends_,i=this.layout,n=[],o=0;for(e=0,t=a.length;e<t;++e){var s=a[e],u=new l.default(null);u.setFlatCoordinates(i,r.slice(o,s)),n.push(u),o=s}return n},S.prototype.getFlatMidpoints=function(){var e,t,r=[],a=this.flatCoordinates,n=0,o=this.ends_,s=this.stride;for(e=0,t=o.length;e<t;++e){var l=o[e],u=f.a.lineString(a,n,l,s,.5);Object(i.extend)(r,u),n=l}return r},S.prototype.getSimplifiedGeometryInternal=function(e){var t=[],r=[];t.length=p.a.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,r);var a=new S(null);return a.setFlatCoordinates(o.default.XY,t,r),a},S.prototype.getType=function(){return s.default.MULTI_LINE_STRING},S.prototype.intersectsExtent=function(e){return h.a.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)},S.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=_.a.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}else this.setFlatCoordinates(o.default.XY,null,this.ends_)},S.prototype.setFlatCoordinates=function(e,t,r){this.setFlatCoordinatesInternal(e,t),this.ends_=r,this.changed()},S.prototype.setLineStrings=function(e){var t,r,a=this.getLayout(),n=[],o=[];for(t=0,r=e.length;t<r;++t){var s=e[t];0===t&&(a=s.getLayout()),Object(i.extend)(n,s.getFlatCoordinates()),o.push(n.length)}this.setFlatCoordinates(a,n,o)},t.default=S},53:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(8),n=r(4),o=r(24),s=r(13),l=r(45),u=r(42),d=r(44),_=r(95),c=r(104),f=r(67),h=r(89),p=r(46),S=r(54),m=r(99),g=r(70),E=r(96),A=r(64),y=function(e,t){d.a.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)};Object(a.inherits)(y,d.a),y.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var r,a,n=this.flatCoordinates.length;for(Object(i.extend)(this.flatCoordinates,e.getFlatCoordinates()),r=0,a=(t=e.getEnds().slice()).length;r<a;++r)t[r]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},y.prototype.clone=function(){for(var e=new y(null),t=this.endss_.length,r=new Array(t),a=0;a<t;++a)r[a]=this.endss_[a].slice();return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),r),e},y.prototype.closestPointXY=function(e,t,r,a){return a<Object(n.closestSquaredDistanceXY)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f.a.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f.a.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,a))},y.prototype.containsXY=function(e,t){return h.a.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},y.prototype.getArea=function(){return _.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),E.a.orientLinearRingss(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,S.a.coordinatesss(t,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=c.a.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=m.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){var e=new l.default(null);return e.setFlatCoordinates(o.default.XYM,this.getFlatInteriorPoints().slice()),e},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;E.a.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=E.a.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(e){var t=[],r=[];t.length=A.a.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,r);var a=new y(null);return a.setFlatCoordinates(o.default.XY,t,r),a},y.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var r=this.endss_[e-1];t=r[r.length-1]}var a,i,n=this.endss_[e].slice(),o=n[n.length-1];if(0!==t)for(a=0,i=n.length;a<i;++a)n[a]-=t;var s=new u.default(null);return s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,o),n),s},y.prototype.getPolygons=function(){var e,t,r,a,i=this.layout,n=this.flatCoordinates,o=this.endss_,s=[],l=0;for(e=0,t=o.length;e<t;++e){var d=o[e].slice(),_=d[d.length-1];if(0!==l)for(r=0,a=d.length;r<a;++r)d[r]-=l;var c=new u.default(null);c.setFlatCoordinates(i,n.slice(l,_),d),s.push(c),l=_}return s},y.prototype.getType=function(){return s.default.MULTI_POLYGON},y.prototype.intersectsExtent=function(e){return g.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},y.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=p.a.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var a=r[r.length-1];this.flatCoordinates.length=0===a.length?0:a[a.length-1]}this.changed()}else this.setFlatCoordinates(o.default.XY,null,this.endss_)},y.prototype.setFlatCoordinates=function(e,t,r){this.setFlatCoordinatesInternal(e,t),this.endss_=r,this.changed()},y.prototype.setPolygons=function(e){var t,r,a,n=this.getLayout(),o=[],s=[];for(t=0,r=e.length;t<r;++t){var l=e[t];0===t&&(n=l.getLayout());var u,d,_=o.length;for(u=0,d=(a=l.getEnds()).length;u<d;++u)a[u]+=_;Object(i.extend)(o,l.getFlatCoordinates()),s.push(a)}this.setFlatCoordinates(n,o,s)},t.default=y},72:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(2),n=r(9),o=r(4),s=r(85),l=r(13),u=r(5),d=function(e){s.a.call(this),this.geometries_=e||null,this.listenGeometriesChange_()};Object(a.inherits)(d,s.a),d.cloneGeometries_=function(e){var t,r,a=[];for(t=0,r=e.length;t<r;++t)a.push(e[t].clone());return a},d.prototype.unlistenGeometriesChange_=function(){var e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)i.default.unlisten(this.geometries_[e],n.a.CHANGE,this.changed,this)},d.prototype.listenGeometriesChange_=function(){var e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)i.default.listen(this.geometries_[e],n.a.CHANGE,this.changed,this)},d.prototype.clone=function(){var e=new d(null);return e.setGeometries(this.geometries_),e},d.prototype.closestPointXY=function(e,t,r,a){if(a<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t))return a;var i,n,s=this.geometries_;for(i=0,n=s.length;i<n;++i)a=s[i].closestPointXY(e,t,r,a);return a},d.prototype.containsXY=function(e,t){var r,a,i=this.geometries_;for(r=0,a=i.length;r<a;++r)if(i[r].containsXY(e,t))return!0;return!1},d.prototype.computeExtent=function(e){Object(o.createOrUpdateEmpty)(e);for(var t=this.geometries_,r=0,a=t.length;r<a;++r)Object(o.extend)(e,t[r].getExtent());return e},d.prototype.getGeometries=function(){return d.cloneGeometries_(this.geometries_)},d.prototype.getGeometriesArray=function(){return this.geometries_},d.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(u.default.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];var r,a,i=[],n=this.geometries_,o=!1;for(r=0,a=n.length;r<a;++r){var s=n[r],l=s.getSimplifiedGeometry(e);i.push(l),l!==s&&(o=!0)}if(o){var _=new d(null);return _.setGeometriesArray(i),this.simplifiedGeometryCache[t]=_,_}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},d.prototype.getType=function(){return l.default.GEOMETRY_COLLECTION},d.prototype.intersectsExtent=function(e){var t,r,a=this.geometries_;for(t=0,r=a.length;t<r;++t)if(a[t].intersectsExtent(e))return!0;return!1},d.prototype.isEmpty=function(){return 0===this.geometries_.length},d.prototype.rotate=function(e,t){for(var r=this.geometries_,a=0,i=r.length;a<i;++a)r[a].rotate(e,t);this.changed()},d.prototype.scale=function(e,t,r){var a=r;a||(a=Object(o.getCenter)(this.getExtent()));for(var i=this.geometries_,n=0,s=i.length;n<s;++n)i[n].scale(e,t,a);this.changed()},d.prototype.setGeometries=function(e){this.setGeometriesArray(d.cloneGeometries_(e))},d.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},d.prototype.applyTransform=function(e){var t,r,a=this.geometries_;for(t=0,r=a.length;t<r;++t)a[t].applyTransform(e);this.changed()},d.prototype.translate=function(e,t){var r,a,i=this.geometries_;for(r=0,a=i.length;r<a;++r)i[r].translate(e,t);this.changed()},d.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),s.a.prototype.disposeInternal.call(this)},t.default=d},79:function(e,t,r){"use strict";var a=r(55),i=r(15),n={readBoolean:function(e){var t=a.default.getAllTextContent(e,!1);return n.readBooleanString(t)},readBooleanString:function(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0},readDateTime:function(e){var t=a.default.getAllTextContent(e,!1),r=Date.parse(t);return isNaN(r)?void 0:r/1e3},readDecimal:function(e){var t=a.default.getAllTextContent(e,!1);return n.readDecimalString(t)},readDecimalString:function(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0},readNonNegativeInteger:function(e){var t=a.default.getAllTextContent(e,!1);return n.readNonNegativeIntegerString(t)},readNonNegativeIntegerString:function(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0},readString:function(e){return a.default.getAllTextContent(e,!1).trim()},writeBooleanTextNode:function(e,t){n.writeStringTextNode(e,t?"1":"0")},writeCDATASection:function(e,t){e.appendChild(a.default.DOCUMENT.createCDATASection(t))},writeDateTimeTextNode:function(e,t){var r=new Date(1e3*t),n=r.getUTCFullYear()+"-"+i.default.padNumber(r.getUTCMonth()+1,2)+"-"+i.default.padNumber(r.getUTCDate(),2)+"T"+i.default.padNumber(r.getUTCHours(),2)+":"+i.default.padNumber(r.getUTCMinutes(),2)+":"+i.default.padNumber(r.getUTCSeconds(),2)+"Z";e.appendChild(a.default.DOCUMENT.createTextNode(n))},writeDecimalTextNode:function(e,t){var r=t.toPrecision();e.appendChild(a.default.DOCUMENT.createTextNode(r))},writeNonNegativeIntegerTextNode:function(e,t){var r=t.toString();e.appendChild(a.default.DOCUMENT.createTextNode(r))},writeStringTextNode:function(e,t){e.appendChild(a.default.DOCUMENT.createTextNode(t))}};t.a=n},97:function(e,t,r){"use strict";var a=r(0),i=r(8),n=r(69),o=r(117),s=r(55),l=function(){this.xmlSerializer_=new XMLSerializer,n.a.call(this)};Object(a.inherits)(l,n.a),l.prototype.getType=function(){return o.a.XML},l.prototype.readFeature=function(e,t){if(s.default.isDocument(e))return this.readFeatureFromDocument(e,t);if(s.default.isNode(e))return this.readFeatureFromNode(e,t);if("string"==typeof e){var r=s.default.parse(e);return this.readFeatureFromDocument(r,t)}return null},l.prototype.readFeatureFromDocument=function(e,t){var r=this.readFeaturesFromDocument(e,t);return r.length>0?r[0]:null},l.prototype.readFeatureFromNode=function(e,t){return null},l.prototype.readFeatures=function(e,t){if(s.default.isDocument(e))return this.readFeaturesFromDocument(e,t);if(s.default.isNode(e))return this.readFeaturesFromNode(e,t);if("string"==typeof e){var r=s.default.parse(e);return this.readFeaturesFromDocument(r,t)}return[]},l.prototype.readFeaturesFromDocument=function(e,t){var r,a=[];for(r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(i.extend)(a,this.readFeaturesFromNode(r,t));return a},l.prototype.readFeaturesFromNode=function(e,t){},l.prototype.readGeometry=function(e,t){if(s.default.isDocument(e))return this.readGeometryFromDocument(e,t);if(s.default.isNode(e))return this.readGeometryFromNode(e,t);if("string"==typeof e){var r=s.default.parse(e);return this.readGeometryFromDocument(r,t)}return null},l.prototype.readGeometryFromDocument=function(e,t){return null},l.prototype.readGeometryFromNode=function(e,t){return null},l.prototype.readProjection=function(e){if(s.default.isDocument(e))return this.readProjectionFromDocument(e);if(s.default.isNode(e))return this.readProjectionFromNode(e);if("string"==typeof e){var t=s.default.parse(e);return this.readProjectionFromDocument(t)}return null},l.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection},l.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection},l.prototype.writeFeature=function(e,t){var r=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(r)},l.prototype.writeFeatureNode=function(e,t){return null},l.prototype.writeFeatures=function(e,t){var r=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(r)},l.prototype.writeFeaturesNode=function(e,t){return null},l.prototype.writeGeometry=function(e,t){var r=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(r)},l.prototype.writeGeometryNode=function(e,t){return null},t.a=l},98:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(65),i=r(137),n=function(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new a.default({color:n.DEFAULT_FILL_COLOR_}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:i.a.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding};n.DEFAULT_FILL_COLOR_="#333",n.prototype.clone=function(){return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(e){this.overflow_=e},n.prototype.setFont=function(e){this.font_=e},n.prototype.setMaxAngle=function(e){this.maxAngle_=e},n.prototype.setOffsetX=function(e){this.offsetX_=e},n.prototype.setOffsetY=function(e){this.offsetY_=e},n.prototype.setPlacement=function(e){this.placement_=e},n.prototype.setFill=function(e){this.fill_=e},n.prototype.setRotation=function(e){this.rotation_=e},n.prototype.setScale=function(e){this.scale_=e},n.prototype.setStroke=function(e){this.stroke_=e},n.prototype.setText=function(e){this.text_=e},n.prototype.setTextAlign=function(e){this.textAlign_=e},n.prototype.setTextBaseline=function(e){this.textBaseline_=e},n.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},n.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},n.prototype.setPadding=function(e){this.padding_=e},t.default=n}},[317]);
//# sourceMappingURL=importfeatures.min.js.map