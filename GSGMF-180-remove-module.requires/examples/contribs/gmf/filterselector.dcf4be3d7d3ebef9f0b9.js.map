{"version":3,"sources":["webpack:///./node_modules/openlayers/src/ol/format/XSD.js","webpack:///./node_modules/openlayers/src/ol/geom/MultiLineString.js","webpack:///./node_modules/openlayers/src/ol/geom/MultiPoint.js","webpack:///./node_modules/openlayers/src/ol/geom/MultiPolygon.js","webpack:///./contribs/gmf/src/theme/Themes.js","webpack:///./node_modules/moment/src/lib/units/aliases.js","webpack:///./src/layertree/Controller.js","webpack:///./node_modules/openlayers/src/ol/format/XMLFeature.js","webpack:///./node_modules/moment/src/lib/utils/to-int.js","webpack:///./src/statemanager/Service.js","webpack:///./node_modules/moment/src/lib/format/format.js","webpack:///./node_modules/moment/src/lib/utils/hooks.js","webpack:///./src/datasource/OGC.js","webpack:///./src/format/AttributeType.js","webpack:///./node_modules/moment/src/lib/parse/regex.js","webpack:///./node_modules/moment/src/lib/parse/token.js","webpack:///./node_modules/openlayers/src/ol/format/GMLBase.js","webpack:///./src/map/LayerHelper.js","webpack:///./contribs/gmf/src/layertree/TreeManager.js","webpack:///./node_modules/openlayers/src/ol/format/XML.js","webpack:///./node_modules/openlayers/src/ol/format/GML2.js","webpack:///./src/utils.js","webpack:///./src/format/FeatureProperties.js","webpack:///./node_modules/moment/src/lib/units/priorities.js","webpack:///./src/message/Message.js","webpack:///./node_modules/openlayers/src/ol/format/XLink.js","webpack:///./node_modules/openlayers/src/ol/Image.js","webpack:///./node_modules/openlayers/src/ol/source/ImageWMS.js","webpack:///./node_modules/openlayers/src/ol/format/WFS.js","webpack:///./node_modules/moment/src/lib/create/local.js","webpack:///./node_modules/moment/src/lib/units/constants.js","webpack:///./node_modules/openlayers/src/ol/source/common.js","webpack:///./node_modules/openlayers/src/ol/source/WMSServerType.js","webpack:///./src/datasource/Group.js","webpack:///./node_modules/openlayers/src/ol/source/TileWMS.js","webpack:///./src/statemanager/Location.js","webpack:///./node_modules/moment/src/lib/utils/has-own-prop.js","webpack:///./node_modules/moment/src/lib/create/parsing-flags.js","webpack:///./src/datasource/DataSource.js","webpack:///./node_modules/openlayers/src/ol/style/Text.js","webpack:///./node_modules/openlayers/src/ol/format/GML3.js","webpack:///./node_modules/moment/src/lib/moment/constructor.js","webpack:///./node_modules/moment/src/lib/moment/get-set.js","webpack:///./src/map/FeatureOverlayMgr.js","webpack:///./node_modules/openlayers/src/ol/proj/proj4.js","webpack:///./node_modules/proj4/lib/global.js","webpack:///./node_modules/proj4/lib/constants/values.js","webpack:///./node_modules/proj4/lib/constants/PrimeMeridian.js","webpack:///./node_modules/proj4/lib/constants/units.js","webpack:///./node_modules/proj4/lib/match.js","webpack:///./node_modules/proj4/lib/projString.js","webpack:///./node_modules/wkt-parser/parser.js","webpack:///./node_modules/wkt-parser/process.js","webpack:///./node_modules/wkt-parser/index.js","webpack:///./node_modules/proj4/lib/defs.js","webpack:///./node_modules/proj4/lib/parseCode.js","webpack:///./node_modules/proj4/lib/extend.js","webpack:///./node_modules/proj4/lib/common/msfnz.js","webpack:///./node_modules/proj4/lib/common/sign.js","webpack:///./node_modules/proj4/lib/common/adjust_lon.js","webpack:///./node_modules/proj4/lib/common/tsfnz.js","webpack:///./node_modules/proj4/lib/common/phi2z.js","webpack:///./node_modules/proj4/lib/projections/longlat.js","webpack:///./node_modules/proj4/lib/projections.js","webpack:///./node_modules/proj4/lib/projections/merc.js","webpack:///./node_modules/proj4/lib/constants/Ellipsoid.js","webpack:///./node_modules/proj4/lib/constants/Datum.js","webpack:///./node_modules/proj4/lib/datum.js","webpack:///./node_modules/proj4/lib/Proj.js","webpack:///./node_modules/proj4/lib/deriveConstants.js","webpack:///./node_modules/proj4/lib/datum_transform.js","webpack:///./node_modules/proj4/lib/datumUtils.js","webpack:///./node_modules/proj4/lib/adjust_axis.js","webpack:///./node_modules/proj4/lib/common/toPoint.js","webpack:///./node_modules/proj4/lib/checkSanity.js","webpack:///./node_modules/proj4/lib/transform.js","webpack:///./node_modules/proj4/lib/core.js","webpack:///./node_modules/mgrs/mgrs.js","webpack:///./node_modules/proj4/lib/Point.js","webpack:///./node_modules/proj4/lib/common/pj_enfn.js","webpack:///./node_modules/proj4/lib/common/pj_mlfn.js","webpack:///./node_modules/proj4/lib/common/pj_inv_mlfn.js","webpack:///./node_modules/proj4/lib/projections/tmerc.js","webpack:///./node_modules/proj4/lib/common/sinh.js","webpack:///./node_modules/proj4/lib/common/hypot.js","webpack:///./node_modules/proj4/lib/common/asinhy.js","webpack:///./node_modules/proj4/lib/common/log1py.js","webpack:///./node_modules/proj4/lib/common/gatg.js","webpack:///./node_modules/proj4/lib/common/clens.js","webpack:///./node_modules/proj4/lib/common/clens_cmplx.js","webpack:///./node_modules/proj4/lib/common/cosh.js","webpack:///./node_modules/proj4/lib/projections/etmerc.js","webpack:///./node_modules/proj4/lib/common/adjust_zone.js","webpack:///./node_modules/proj4/lib/projections/utm.js","webpack:///./node_modules/proj4/lib/common/srat.js","webpack:///./node_modules/proj4/lib/projections/gauss.js","webpack:///./node_modules/proj4/lib/projections/sterea.js","webpack:///./node_modules/proj4/lib/projections/stere.js","webpack:///./node_modules/proj4/lib/projections/omerc.js","webpack:///./node_modules/proj4/lib/projections/lcc.js","webpack:///./node_modules/proj4/lib/projections/krovak.js","webpack:///./node_modules/proj4/lib/common/mlfn.js","webpack:///./node_modules/proj4/lib/common/e0fn.js","webpack:///./node_modules/proj4/lib/common/e1fn.js","webpack:///./node_modules/proj4/lib/common/e2fn.js","webpack:///./node_modules/proj4/lib/common/e3fn.js","webpack:///./node_modules/proj4/lib/common/gN.js","webpack:///./node_modules/proj4/lib/common/adjust_lat.js","webpack:///./node_modules/proj4/lib/common/imlfn.js","webpack:///./node_modules/proj4/lib/projections/cass.js","webpack:///./node_modules/proj4/lib/common/qsfnz.js","webpack:///./node_modules/proj4/lib/projections/laea.js","webpack:///./node_modules/proj4/lib/common/asinz.js","webpack:///./node_modules/proj4/lib/projections/aea.js","webpack:///./node_modules/proj4/lib/projections/gnom.js","webpack:///./node_modules/proj4/lib/common/iqsfnz.js","webpack:///./node_modules/proj4/lib/projections/cea.js","webpack:///./node_modules/proj4/lib/projections/eqc.js","webpack:///./node_modules/proj4/lib/projections/poly.js","webpack:///./node_modules/proj4/lib/projections/nzmg.js","webpack:///./node_modules/proj4/lib/projections/mill.js","webpack:///./node_modules/proj4/lib/projections/sinu.js","webpack:///./node_modules/proj4/lib/projections/moll.js","webpack:///./node_modules/proj4/lib/projections/eqdc.js","webpack:///./node_modules/proj4/lib/projections/vandg.js","webpack:///./node_modules/proj4/lib/projections/aeqd.js","webpack:///./node_modules/proj4/lib/projections/ortho.js","webpack:///./node_modules/proj4/lib/projections/qsc.js","webpack:///./node_modules/proj4/projs.js","webpack:///./node_modules/proj4/lib/index.js","webpack:///./node_modules/openlayers/src/ol/geom/GeometryCollection.js","webpack:///./node_modules/proj4/lib/projections/somerc.js","webpack:///./node_modules/openlayers/src/ol/format/OWS.js","webpack:///./node_modules/openlayers/src/ol/format/WMTSCapabilities.js","webpack:///./src/misc/decorate.js","webpack:///./contribs/gmf/src/permalink/Permalink.js","webpack:///./node_modules/moment/src/lib/utils/deprecate.js","webpack:///./node_modules/moment/src/lib/utils/is-function.js","webpack:///./node_modules/moment/src/lib/units/month.js","webpack:///./node_modules/moment/src/lib/utils/mod.js","webpack:///./src/message/Notification.js","webpack:///./src/datasource/WMSGroup.js","webpack:///./src/datasource/OGCGroup.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Filter.js","webpack:///./node_modules/openlayers/src/ol/format/filter/LogicalNary.js","webpack:///./node_modules/openlayers/src/ol/format/filter/And.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Bbox.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Spatial.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Contains.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Comparison.js","webpack:///./node_modules/openlayers/src/ol/format/filter/During.js","webpack:///./node_modules/openlayers/src/ol/format/filter/ComparisonBinary.js","webpack:///./node_modules/openlayers/src/ol/format/filter/EqualTo.js","webpack:///./node_modules/openlayers/src/ol/format/filter/GreaterThan.js","webpack:///./node_modules/openlayers/src/ol/format/filter/GreaterThanOrEqualTo.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Intersects.js","webpack:///./node_modules/openlayers/src/ol/format/filter/IsBetween.js","webpack:///./node_modules/openlayers/src/ol/format/filter/IsLike.js","webpack:///./node_modules/openlayers/src/ol/format/filter/IsNull.js","webpack:///./node_modules/openlayers/src/ol/format/filter/LessThan.js","webpack:///./node_modules/openlayers/src/ol/format/filter/LessThanOrEqualTo.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Not.js","webpack:///./node_modules/openlayers/src/ol/format/filter/NotEqualTo.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Or.js","webpack:///./node_modules/openlayers/src/ol/format/filter/Within.js","webpack:///./node_modules/openlayers/src/ol/format/filter.js","webpack:///./src/misc/EventHelper.js","webpack:///./src/filter/Condition.js","webpack:///./src/map/component.js","webpack:///./contribs/gmf/src/theme/Manager.js","webpack:///./src/misc/WMSTime.js","webpack:///./node_modules/moment/src/lib/units/year.js","webpack:///./src/CustomEvent.js","webpack:///./src/misc/debounce.js","webpack:///./src/draw/features.js","webpack:///./src/map/FeatureOverlay.js","webpack:///./src/datasource/DataSources.js","webpack:///./node_modules/openlayers/src/ol/format/WMSGetFeatureInfo.js","webpack:///./contribs/gmf/src/editing/Snapping.js","webpack:///./contribs/gmf/src/map/component.js","webpack:///./src/Popover.js","webpack:///./src/olcs/constants.js","webpack:///./src/format/FeatureHash.js","webpack:///./src/format/FeatureHashStyleType.js","webpack:///./src/statemanager/module.js","webpack:///./node_modules/openlayers/src/ol/interaction/Snap.js","webpack:///./node_modules/openlayers/src/ol/interaction/DrawEventType.js","webpack:///./node_modules/openlayers/src/ol/interaction/Draw.js","webpack:///./node_modules/openlayers/src/ol/source/XYZ.js","webpack:///./node_modules/openlayers/src/ol/source/OSM.js","webpack:///./node_modules/moment/src/lib/utils/is-undefined.js","webpack:///./node_modules/moment/src/lib/utils/some.js","webpack:///./node_modules/moment/src/lib/create/valid.js","webpack:///./node_modules/moment/src/lib/create/utc.js","webpack:///./node_modules/moment/src/lib/locale/locales.js","webpack:///./node_modules/moment/src/lib/create/date-from-array.js","webpack:///./src/interaction/Measure.js","webpack:///./src/GeometryType.js","webpack:///./src/proj/EPSG21781.js","webpack:///./src/proj/somerc.js","webpack:///./node_modules/proj4/package.json","webpack:///./node_modules/openlayers/src/ol/geom/Circle.js","webpack:///./src/rule/Rule.js","webpack:///./node_modules/moment/src/lib/utils/is-array.js","webpack:///./node_modules/moment/src/lib/utils/is-number.js","webpack:///./node_modules/moment/src/lib/utils/extend.js","webpack:///./node_modules/moment/src/lib/utils/abs-floor.js","webpack:///./node_modules/moment/src/lib/units/day-of-week.js","webpack:///./src/misc/filters.js","webpack:///./src/misc/FeatureHelper.js","webpack:///./node_modules/openlayers/src/ol/format/GPX.js","webpack:///./node_modules/openlayers/src/ol/format/KML.js","webpack:///./node_modules/moment/src/lib/units/week.js","webpack:///./node_modules/moment/src/lib/units/hour.js","webpack:///./src/datasource/File.js","webpack:///./src/message/popupComponent.js","webpack:///./src/misc/Time.js","webpack:///./node_modules/openlayers/src/ol/format/JSONFeature.js","webpack:///./node_modules/openlayers/src/ol/format/GeoJSON.js","webpack:///./src/download/service.js","webpack:///./src/interaction/MeasureAzimut.js","webpack:///./node_modules/moment/src/lib/utils/map.js","webpack:///./node_modules/moment/src/lib/create/check-overflow.js","webpack:///./node_modules/moment/src/lib/utils/defaults.js","webpack:///./node_modules/moment/src/lib/create/from-array.js","webpack:///./node_modules/moment/src/lib/create/from-string.js","webpack:///./node_modules/moment/src/lib/create/from-string-and-format.js","webpack:///./node_modules/moment/src/lib/create/from-anything.js","webpack:///./node_modules/moment/src/lib/create/from-string-and-array.js","webpack:///./node_modules/moment/src/lib/create/from-object.js","webpack:///./node_modules/moment/src/lib/utils/is-object-empty.js","webpack:///./node_modules/moment/src/lib/utils/is-date.js","webpack:///./node_modules/moment/src/lib/utils/zero-fill.js","webpack:///./node_modules/moment/src/lib/utils/index-of.js","webpack:///./node_modules/moment/src/lib/units/week-calendar-utils.js","webpack:///./contribs/gmf/src/layertree/SyncLayertreeMap.js","webpack:///./node_modules/file-saver/FileSaver.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/interaction/MeasureBaseOptions.js","webpack:///./src/message/Popup.js","webpack:///./contribs/gmf/src/datasource/ExternalDataSourcesManager.js","webpack:///./src/map/BackgroundLayerMgr.js","webpack:///./src/interaction/DrawAzimut.js","webpack:///./node_modules/angular-sanitize/index.js","webpack:///./src/query/Querent.js","webpack:///./src/filter/RuleHelper.js","webpack:///./contribs/gmf/src/datasource/DataSourceBeingFiltered.js","webpack:///./src/layertree/component.js","webpack:///./src/query/MapQuerent.js","webpack:///./src/format/Attribute.js","webpack:///./node_modules/moment/src/lib/utils/is-object.js","webpack:///./node_modules/moment/src/lib/utils/compare-arrays.js","webpack:///./node_modules/moment/src/lib/locale/set.js","webpack:///./node_modules/moment/src/lib/locale/constructor.js","webpack:///./node_modules/moment/src/lib/locale/calendar.js","webpack:///./node_modules/moment/src/lib/locale/formats.js","webpack:///./node_modules/moment/src/lib/locale/invalid.js","webpack:///./node_modules/moment/src/lib/locale/ordinal.js","webpack:///./node_modules/moment/src/lib/locale/relative.js","webpack:///./contribs/gmf/src/layertree/component.js","webpack:///./src/misc/File.js","webpack:///./src/datasource/FileGroup.js","webpack:///./contribs/gmf/src/layertree/datasourceGroupTreeComponent.js","webpack:///./node_modules/angular-sanitize/angular-sanitize.js","webpack:///./src/misc/syncArrays.js","webpack:///./src/datasource/Helper.js","webpack:///./src/misc/ToolActivate.js","webpack:///./contribs/gmf/src/authentication/Service.js","webpack:///./src/misc/btnComponent.js","webpack:///./node_modules/openlayers/src/ol/interaction/ModifyEventType.js","webpack:///./node_modules/openlayers/src/ol/interaction/Modify.js","webpack:///./src/rule/Geometry.js","webpack:///./src/rule/Select.js","webpack:///./src/misc/ToolActivateMgr.js","webpack:///./src/message/modalComponent.js","webpack:///./src/format/WFSAttribute.js","webpack:///./src/rule/Date.js","webpack:///./src/rule/Text.js","webpack:///./node_modules/moment/src/lib/moment/min-max.js","webpack:///./node_modules/moment/src/lib/moment/now.js","webpack:///./node_modules/moment/src/lib/duration/valid.js","webpack:///./node_modules/moment/src/lib/duration/constructor.js","webpack:///./node_modules/moment/src/lib/utils/abs-round.js","webpack:///./node_modules/moment/src/lib/units/offset.js","webpack:///./node_modules/moment/src/lib/duration/create.js","webpack:///./node_modules/moment/src/lib/moment/add-subtract.js","webpack:///./node_modules/moment/src/lib/moment/diff.js","webpack:///./node_modules/moment/src/lib/moment/locale.js","webpack:///./node_modules/moment/src/lib/moment/format.js","webpack:///./node_modules/moment/src/lib/units/week-year.js","webpack:///./node_modules/moment/src/lib/units/quarter.js","webpack:///./node_modules/moment/src/lib/units/day-of-month.js","webpack:///./node_modules/moment/src/lib/units/day-of-year.js","webpack:///./node_modules/moment/src/lib/units/minute.js","webpack:///./node_modules/moment/src/lib/units/second.js","webpack:///./node_modules/moment/src/lib/units/millisecond.js","webpack:///./node_modules/moment/src/lib/units/timezone.js","webpack:///./node_modules/moment/src/lib/moment/prototype.js","webpack:///./node_modules/moment/src/lib/moment/calendar.js","webpack:///./node_modules/moment/src/lib/moment/clone.js","webpack:///./node_modules/moment/src/lib/moment/start-end-of.js","webpack:///./node_modules/moment/src/lib/moment/from.js","webpack:///./node_modules/moment/src/lib/moment/to.js","webpack:///./node_modules/moment/src/lib/moment/valid.js","webpack:///./node_modules/moment/src/lib/moment/compare.js","webpack:///./node_modules/moment/src/lib/moment/to-type.js","webpack:///./node_modules/moment/src/lib/moment/creation-data.js","webpack:///./node_modules/moment/src/lib/locale/pre-post-format.js","webpack:///./node_modules/moment/src/lib/locale/prototype.js","webpack:///./node_modules/moment/src/lib/locale/lists.js","webpack:///./node_modules/moment/src/lib/locale/en.js","webpack:///./node_modules/moment/src/lib/locale/locale.js","webpack:///./node_modules/moment/src/lib/duration/abs.js","webpack:///./node_modules/moment/src/lib/duration/add-subtract.js","webpack:///./node_modules/moment/src/lib/utils/abs-ceil.js","webpack:///./node_modules/moment/src/lib/duration/bubble.js","webpack:///./node_modules/moment/src/lib/duration/as.js","webpack:///./node_modules/moment/src/lib/duration/get.js","webpack:///./node_modules/moment/src/lib/duration/humanize.js","webpack:///./node_modules/moment/src/lib/duration/iso-string.js","webpack:///./node_modules/moment/src/lib/duration/prototype.js","webpack:///./node_modules/moment/src/lib/duration/clone.js","webpack:///./node_modules/moment/src/lib/units/timestamp.js","webpack:///./node_modules/moment/src/moment.js","webpack:///./node_modules/moment/src/lib/moment/moment.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/moment/src/lib/utils/keys.js","webpack:///./node_modules/moment/src/lib/locale/base-config.js","webpack:///./src/WFSDescribeFeatureType.js","webpack:///./node_modules/openlayers/src/ol/format/WMSCapabilities.js","webpack:///./src/draw/Controller.js","webpack:///./src/interaction/MeasureLength.js","webpack:///./contribs/gmf/src/datasource/OGC.js","webpack:///./contribs/gmf/src/authentication/module.js","webpack:///./contribs/gmf/src/authentication/component.js","webpack:///./contribs/gmf/src/datasource/Manager.js","webpack:///./contribs/gmf/src/datasource/WFSAliases.js","webpack:///./src/query/bboxQueryComponent.js","webpack:///./src/query/mapQueryComponent.js","webpack:///./src/interaction/MeasureArea.js","webpack:///./node_modules/jquery-ui/ui/version.js","webpack:///./src/Menu.js","webpack:///./src/interaction/Rotate.js","webpack:///./src/interaction/Translate.js","webpack:///./node_modules/openlayers/src/ol/interaction/TranslateEventType.js","webpack:///./node_modules/openlayers/src/ol/interaction/Translate.js","webpack:///./src/misc/datepickerComponent.js","webpack:///./node_modules/angular-ui-date/dist/date.js","webpack:///./node_modules/jquery-ui/ui/widgets/datepicker.js","webpack:///./node_modules/jquery-ui/ui/keycode.js","webpack:///./src/draw/component.js","webpack:///./src/draw/point.js","webpack:///./src/draw/rectangle.js","webpack:///./src/draw/text.js","webpack:///./src/measure/area.js","webpack:///./src/measure/azimut.js","webpack:///./src/measure/length.js","webpack:///./src/interaction/Modify.js","webpack:///./src/interaction/ModifyCircle.js","webpack:///./src/interaction/ModifyRectangle.js","webpack:///./contribs/gmf/src/filters/SavedFilters.js","webpack:///./contribs/gmf/examples/filterselector.js","webpack:///./contribs/gmf/src/filters/module.js","webpack:///./contribs/gmf/src/filters/filterselectorComponent.js","webpack:///./contribs/gmf/src/datasource/Helper.js","webpack:///./contribs/gmf/src/editing/EnumerateAttribute.js","webpack:///./src/filter/component.js","webpack:///./src/filter/ruleComponent.js"],"names":["__WEBPACK_IMPORTED_MODULE_1__string_js__","__webpack_require__","XSD","readBoolean","node","s","__WEBPACK_IMPORTED_MODULE_0__xml_js__","getAllTextContent","readBooleanString","string","m","exec","undefined","readDateTime","dateTime","Date","parse","isNaN","readDecimal","readDecimalString","parseFloat","readNonNegativeInteger","readNonNegativeIntegerString","parseInt","readString","trim","writeBooleanTextNode","bool","writeStringTextNode","writeCDATASection","appendChild","DOCUMENT","createCDATASection","writeDateTimeTextNode","date","getUTCFullYear","padNumber","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","createTextNode","writeDecimalTextNode","decimal","toPrecision","writeNonNegativeIntegerTextNode","nonNegativeInteger","toString","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_12__geom_flat_simplify_js__","MultiLineString","coordinates","opt_layout","__WEBPACK_IMPORTED_MODULE_6__geom_SimpleGeometry_js__","call","this","ends_","maxDelta_","maxDeltaRevision_","setCoordinates","Object","__WEBPACK_IMPORTED_MODULE_0__index_js__","prototype","appendLineString","lineString","flatCoordinates","__WEBPACK_IMPORTED_MODULE_1__array_js__","getFlatCoordinates","slice","push","length","changed","clone","multiLineString","setFlatCoordinates","layout","closestPointXY","x","y","closestPoint","minSquaredDistance","__WEBPACK_IMPORTED_MODULE_2__extent_js__","getExtent","getRevision","Math","sqrt","__WEBPACK_IMPORTED_MODULE_7__geom_flat_closest_js__","getsMaxSquaredDelta","stride","getsClosestPoint","getCoordinateAtM","opt_extrapolate","opt_interpolate","__WEBPACK_IMPORTED_MODULE_3__geom_GeometryLayout_js__","XYM","XYZM","extrapolate","interpolate","__WEBPACK_IMPORTED_MODULE_10__geom_flat_interpolate_js__","lineStringsCoordinateAtM","getCoordinates","__WEBPACK_IMPORTED_MODULE_9__geom_flat_inflate_js__","coordinatess","getEnds","getLineString","index","__WEBPACK_IMPORTED_MODULE_5__geom_LineString_js__","getLineStrings","ends","lineStrings","i","ii","offset","end","getFlatMidpoints","midpoints","midpoint","getSimplifiedGeometryInternal","squaredTolerance","simplifiedFlatCoordinates","simplifiedEnds","douglasPeuckers","simplifiedMultiLineString","XY","getType","__WEBPACK_IMPORTED_MODULE_4__geom_GeometryType_js__","MULTI_LINE_STRING","intersectsExtent","extent","__WEBPACK_IMPORTED_MODULE_11__geom_flat_intersectsextent_js__","setLayout","__WEBPACK_IMPORTED_MODULE_8__geom_flat_deflate_js__","setFlatCoordinatesInternal","setLineStrings","getLayout","__WEBPACK_IMPORTED_MODULE_9__math_js__","MultiPoint","appendPoint","point","multiPoint","j","squaredDistance","__WEBPACK_IMPORTED_MODULE_8__geom_flat_inflate_js__","getPoint","n","__WEBPACK_IMPORTED_MODULE_5__geom_Point_js__","getPoints","points","MULTI_POINT","__WEBPACK_IMPORTED_MODULE_7__geom_flat_deflate_js__","__WEBPACK_IMPORTED_MODULE_17__geom_flat_simplify_js__","MultiPolygon","__WEBPACK_IMPORTED_MODULE_7__geom_SimpleGeometry_js__","endss_","flatInteriorPointsRevision_","flatInteriorPoints_","orientedRevision_","orientedFlatCoordinates_","appendPolygon","polygon","multiPolygon","len","newEndss","Array","__WEBPACK_IMPORTED_MODULE_10__geom_flat_closest_js__","getssMaxSquaredDelta","getssClosestPoint","getOrientedFlatCoordinates","containsXY","__WEBPACK_IMPORTED_MODULE_11__geom_flat_contains_js__","linearRingssContainsXY","getArea","__WEBPACK_IMPORTED_MODULE_8__geom_flat_area_js__","linearRingss","opt_right","__WEBPACK_IMPORTED_MODULE_16__geom_flat_orient_js__","orientLinearRingss","__WEBPACK_IMPORTED_MODULE_13__geom_flat_inflate_js__","coordinatesss","getEndss","getFlatInteriorPoints","flatCenters","__WEBPACK_IMPORTED_MODULE_9__geom_flat_center_js__","__WEBPACK_IMPORTED_MODULE_14__geom_flat_interiorpoint_js__","getInteriorPoints","interiorPoints","__WEBPACK_IMPORTED_MODULE_5__geom_MultiPoint_js__","linearRingssAreOriented","simplifiedEndss","quantizess","simplifiedMultiPolygon","getPolygon","prevEnds","__WEBPACK_IMPORTED_MODULE_6__geom_Polygon_js__","getPolygons","endss","polygons","jj","MULTI_POLYGON","__WEBPACK_IMPORTED_MODULE_15__geom_flat_intersectsextent_js__","__WEBPACK_IMPORTED_MODULE_12__geom_flat_deflate_js__","lastEnds","setPolygons","olBase","olArray","exports","$http","$injector","$q","ngeoLayerHelper","gettextCatalog","gmfThemesOptions","_EventTarget2","default","addBlankBackgroundLayer_","addBlankBackgroundLayer","$q_","$http_","treeUrl_","has","get","cacheVersion_","ngeoLocation_","layerHelper_","deferred_","defer","promise_","promise","loaded","bgLayerPromise_","inherits","findGroupByLayerNodeName","themes","name","theme","children","group","childNodes","getFlatNodes","findObjectByName","findGroupByName","internalNodes","getFlatInternalNodes","objects","objectName","find","object","findThemeByName","themeName","nodes","getBgLayers","appDimensions","_this","layerHelper","callback","item","layer","set","metadata","dimensions","ids","getIds","array","getUid","forEach","child","layerLayerCreationFn","ogcServers","gmfLayer","type","gmfLayerWMTS","_asserts2","assert","url","createWMTSLayerFromCapabilitites","then","bind","response","message","console","error","resolve","gmfLayerWMS","ogcServer","server","imageType","createBasicWMSLayer","layers","credential","fail","promiseSuccessFn","data","promises","background_layers","map","itemType","reverse","all","collection","filter","l","_Collection2","createBasicGroup","layerGroupCreationFn","values","getString","_Tile2","label","thumbnail","getThemeObject","getThemesObject","getBackgroundLayersObject","getOgcServersObject","hasEditableLayers","hasEditableLayers_","_this2","some","hasNodeEditableLayers_","editable","getSnappingConfig","snappingConfig","getNodeMaxResolution","maxResolution","maxResolutionHint","getNodeMinResolution","minResolution","minResolutionHint","loadThemes","opt_roleId","_this3","params","role","cache_version","cache","withCredentials","errors","join","hasParam","window","alert","dispatchEvent","reject","NodeType","MIXED_GROUP","NOT_MIXED_GROUP","WMTS","WMS","module","angular","_LayerHelper2","value","service","unit","shorthand","lowerCase","toLowerCase","aliases","inputObject","normalizedProp","prop","normalizedInput","__WEBPACK_IMPORTED_MODULE_0__utils_has_own_prop__","normalizeUnits","units","$scope","$rootScope","$attrs","isRoot","nodeExpr","rootScope_","properties","state_","$watch","newVal","oldVal","$eval","mapExpr","parent","$parent","$on","indexOf","splice","uid","depth","nodelayerExpr","nodelayerexprExpr","newNodelayerExpr","assertString","treeCtrl","dataSource_","_decorate2","layerLoading","_events2","listen","$broadcast","listenersExpr","listenersexprExpr","treeScope","getState","setState","state","opt_broadcast","setStateInternal_","refreshState","firstParents","getFirstParentTree","firstParent","newState","getCalculateState","childState","previousChildState","getSetActive","val","getLayers","getArray","addLayer","removeLayer","getDataSource","setDataSource","dataSource","tree","VisitorDecision","STOP","SKIP","DESCEND","traverseDepthFirst","visitor","controller","__WEBPACK_IMPORTED_MODULE_4__xml_js__","XMLFeature","xmlSerializer_","XMLSerializer","__WEBPACK_IMPORTED_MODULE_2__format_Feature_js__","__WEBPACK_IMPORTED_MODULE_3__format_FormatType_js__","XML","readFeature","source","opt_options","isDocument","readFeatureFromDocument","isNode","readFeatureFromNode","doc","features","readFeaturesFromDocument","readFeatures","readFeaturesFromNode","firstChild","nextSibling","nodeType","Node","ELEMENT_NODE","readGeometry","readGeometryFromDocument","readGeometryFromNode","readProjection","readProjectionFromDocument","readProjectionFromNode","defaultDataProjection","writeFeature","feature","writeFeatureNode","serializeToString","writeFeatures","writeFeaturesNode","writeGeometry","geometry","writeGeometryNode","argumentForCoercion","coercedNumber","isFinite","__WEBPACK_IMPORTED_MODULE_0__abs_floor__","ngeoLocation","ngeoUsedKeyRegexp","initialState","usedKeyRegexp","useLocalStorage_","setUseLocalStorage","paramKeys","getParamKeys","key","_loop","keyRegexp","match","localStorage","getParam","err","getInitialValue","getInitialStringValue","getInitialNumberValue","getInitialBooleanValue","updateState","updateParams","deleteParam","_Location2","RegExp","token","padded","ordinal","func","formatTokenFunctions","__WEBPACK_IMPORTED_MODULE_0__utils_zero_fill__","apply","arguments","localeData","format","isValid","invalidDate","expandFormat","formatFunctions","formattingTokens","removeFormattingTokens","mom","output","__WEBPACK_IMPORTED_MODULE_1__utils_is_function__","makeFormatFunction","localFormattingTokens","input","replace","locale","replaceLongDateFormatTokens","longDateFormat","lastIndex","test","hookCallback","hooks","setHookCallback","options","_classCallCheck","_possibleConstructorReturn","__proto__","getPrototypeOf","dimensionsConfig_","dimensionsConfig","filterCondition_","filterCondition","_Condition2","AND","filterRules_","filterRules","filtrable_","filtrable","copyable_","copyable","dimensions_","geometryName_","geometryName","DEFAULT_GEOMETRY_NAME_","ogcImageType_","ogcImageType","ogcLayers_","ogcLayers","ogcServerType_","ogcServerType","ServerType","MAPSERVER","ogcType_","ogcType","Type","snappable_","snappable","snappingToEdges_","snappingToEdges","snappingToVertice_","snappingToVertice","snappingTolerance_","snappingTolerance","timeAttributeName_","timeAttributeName","timeLowerValue_","timeLowerValue","timeProperty_","timeProperty","timeUpperValue_","timeUpperValue","wfsFeatureNS_","wfsFeatureNS","WFSFeatureNS","wfsFeaturePrefix_","wfsFeaturePrefix","WFSFeaturePrefix","FEATURE","wfsOutputFormat_","wfsOutputFormat","WFSOutputFormat","GML3","wfsUrl_","wfsUrl","wmsInfoFormat_","wmsInfoFormat","WMSInfoFormat","GML","wmsIsSingleTile_","wmsIsSingleTile","wmsUrl_","wmsUrl","wmtsLayer_","wmtsLayer","wmtsUrl_","wmtsUrl","queryable","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","ogcLayer","return","wfsFormat","supportsWFS","_GML4","GML2","_GML2","_WFS2","featureNS","featureType","gmlFormat","wfsFormat_","wmsFormat","supportsWMS","_WMSGetFeatureInfo2","wmsFormat_","_inherits","_DataSource2","_createClass","_get","attributes","updateGeometryNameFromAttributes_","combinableForWFS","haveTheSameActiveDimensions","combinableForWMS","res","queryableOnly","getInRangeOGCLayerNames","layerNames","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","maxRes","minRes","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","getOGCLayerNames","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","attribute","_AttributeType2","GEOMETRY","share","myActive","activeDimensions","itsActive","time","range","lower","upper","start","active","config","timeRangeValue","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","guessServiceTypeByUrl","GEOSERVER","QGISSERVER","geoserver","mapserver","qgisserver","BOOLEAN","DATE","DATETIME","TIME","NUMBER","SELECT","TEXT","regex","strictRegex","regexes","isStrict","regexEscape","matched","p1","p2","p3","p4","_strict","_locale","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchTimestamp","matchWord","addParseToken","_w","tokens","_a","__WEBPACK_IMPORTED_MODULE_1__utils_is_number__","__WEBPACK_IMPORTED_MODULE_2__utils_to_int__","__WEBPACK_IMPORTED_MODULE_15__xml_js__","GMLBase","srsName","schemaLocation","FEATURE_COLLECTION_PARSERS","GMLNS","featureMember","makeReplacer","readFeaturesInternal","featureMembers","__WEBPACK_IMPORTED_MODULE_4__format_XMLFeature_js__","ONLY_WHITESPACE_RE_","objectStack","localName","namespaceURI","pushParseAndPop","context","prefix","defaultPrefix","ft","nodeName","split","pop","count","uri","candidate","ns","parsersNS","featureTypes","isArray","p","parsers","makeArrayPusher","readFeatureElement","readGeometryElement","firstElementChild","getAttribute","GEOMETRY_PARSERS_","__WEBPACK_IMPORTED_MODULE_3__format_Feature_js__","fid","getAttributeNS","nextElementSibling","__WEBPACK_IMPORTED_MODULE_2__Feature_js__","setGeometryName","setId","readPoint","readFlatCoordinatesFromNode_","__WEBPACK_IMPORTED_MODULE_11__geom_Point_js__","__WEBPACK_IMPORTED_MODULE_5__geom_GeometryLayout_js__","XYZ","readMultiPoint","MULTIPOINT_PARSERS_","__WEBPACK_IMPORTED_MODULE_9__geom_MultiPoint_js__","readMultiLineString","MULTILINESTRING_PARSERS_","__WEBPACK_IMPORTED_MODULE_8__geom_MultiLineString_js__","readMultiPolygon","MULTIPOLYGON_PARSERS_","__WEBPACK_IMPORTED_MODULE_10__geom_MultiPolygon_js__","pointMemberParser_","parseNode","POINTMEMBER_PARSERS_","lineStringMemberParser_","LINESTRINGMEMBER_PARSERS_","polygonMemberParser_","POLYGONMEMBER_PARSERS_","readLineString","__WEBPACK_IMPORTED_MODULE_6__geom_LineString_js__","readFlatLinearRing_","ring","GEOMETRY_FLAT_COORDINATES_PARSERS_","readLinearRing","__WEBPACK_IMPORTED_MODULE_7__geom_LinearRing_js__","readPolygon","flatLinearRings","FLAT_LINEAR_RINGS_PARSERS_","__WEBPACK_IMPORTED_MODULE_12__geom_Polygon_js__","http://www.opengis.net/gml","pointMember","pointMembers","lineStringMember","lineStringMembers","polygonMember","polygonMembers","Point","LineString","Polygon","RING_PARSERS","LinearRing","getReadOptions","__WEBPACK_IMPORTED_MODULE_13__obj_js__","__WEBPACK_IMPORTED_MODULE_14__proj_js__","olObj","olUri","GROUP_KEY","REFRESH_PARAM","sourceURL","sourceLayersName","sourceFormat","opt_serverType","opt_time","opt_params","opt_crossOrigin","FORMAT","LAYERS","olServerType","_ImageWMS2","serverType","crossOrigin","_Image2","createBasicWMSLayerFromDataSource","setVisible","visible","id","capabilitiesURL","layerName","opt_dimensions","parser","_WMTSCapabilities2","preload","Infinity","result","read","_WMTS2","optionsFromCapabilities","isEmpty","updateDimensions","setSource","elt","createWMTSLayerFromCapabilititesObj","capabilities","layerCap","capabilitiesStyles","opt_layers","_Group2","setLayers","getGroupFromMap","groupName","getLayerGroup","existingGroup","getFlatLayers","getFlatLayers_","getLayerByName","found","sublayers","getWMTSLegendURL","styles","legendURL","getWMSLegendURL","opt_scale","opt_legendRule","queryString","TRANSPARENT","SERVICE","VERSION","REQUEST","LAYER","appendParams","isLayerVisible","getVisible","currentResolution","getView","getResolution","getMinResolution","getMaxResolution","refreshWMSLayer","source_","getSource","getParams","random","updateWMSLayerState","names","getQuerySourceIds","$timeout","ngeoNotification","gmfThemes","ngeoStateManager","$timeout_","$injector_","gettextCatalog_","ngeoNotification_","gmfThemes_","root","rootCtrl","numberOfGroupsToAddInThisDigestLoop","groupsToAddInThisDigestLoop_","promiseForGroupsToAddInThisDigestLoop_","ngeoStateManager_","ogcServers_","handleThemesChange_","refreshFirstLevelGroups_","setFirstLevelGroups","firstLevelGroups","_index2","PermalinkParam","TREE_GROUPS","addFirstLevelGroups","opt_add","opt_silent","groupNotAdded","addFirstLevelGroup_","notifyCantAddGroups_","updateTreeGroupsState_","groups","treeGroupsParam","cleanParams","alreadyAdded","groupID","rootChild","grp","cancel","unshift","addGroupByName","_this4","_Themes2","addGroupByLayerName","_this5","groupAdded","getTreeCtrlByNodeId","treeCtrlToActive","_Controller2","warn","removeGroup","removeAll","cloneGroupNode_","assign","toggleNodeCheck_","childNode","isChecked","includes","msg","notify","_Message2","INFORMATION","correspondingTreeCtrl","getOgcServer","mixed","firstLevelGroupCtrl","gmfGroup","_this6","firstLevelGroupsFullState","getFirstLevelGroupFullState_","nodesToRestore","nodeToRestore","fullState","setNodeMetadataFromFullState_","_this7","isExpanded","isLegendExpanded","nodeElement","$","hasClass","legendElement","is","_this8","_Notification2","_Service2","readFromDocument","readFromNode","__WEBPACK_IMPORTED_MODULE_8__xml_js__","__WEBPACK_IMPORTED_MODULE_3__format_GMLBase_js__","schemaLocation_","readFlatCoordinates_","containerSrs","axisOrientation","proj","__WEBPACK_IMPORTED_MODULE_7__proj_js__","getAxisOrientation","coordsGroups","z","coords","substr","readBox_","BOX_PARSERS_","__WEBPACK_IMPORTED_MODULE_1__extent_js__","innerBoundaryIsParser_","flatLinearRing","outerBoundaryIsParser_","innerBoundaryIs","outerBoundaryIs","Box","GEOMETRY_NODE_FACTORY_","opt_nodeName","multiSurface","surface","multiCurve","createElementNS","writeFeatureElement","getId","setAttribute","getGeometryName","serializers","getProperties","keys","__WEBPACK_IMPORTED_MODULE_5__geom_Geometry_js__","makeChildAppender","writeGeometryElement","__WEBPACK_IMPORTED_MODULE_4__format_XSD_js__","__WEBPACK_IMPORTED_MODULE_6__obj_js__","pushSerializeAndPop","makeSimpleNodeFactory","dataProjection","featureProjection","GEOMETRY_SERIALIZERS_","writeCurveOrLineString_","createCoordinatesNode_","writeCoordinates_","segments","writeCurveSegments_","hasZ","parts","getCoords_","line","writeSurfaceOrPolygon_","rings","getLinearRings","RING_SERIALIZERS_","RING_NODE_FACTORY_","patches","writeSurfacePatches_","parentNode","exteriorWritten","writeRing_","linearRing","writeLinearRing_","opt_srsName","opt_hasZ","writeMultiCurveOrLineString_","curve","lines","LINESTRINGORCURVEMEMBER_SERIALIZERS_","MULTIGEOMETRY_MEMBER_NODE_FACTORY_","writePoint_","coord","writeMultiPoint_","POINTMEMBER_SERIALIZERS_","writePointMember_","writeLineStringOrCurveMember_","writeMultiSurfaceOrPolygon_","SURFACEORPOLYGONMEMBER_SERIALIZERS_","writeSurfaceOrPolygonMember_","writeEnvelope","ENVELOPE_SERIALIZERS_","OBJECT_PROPERTY_NODE_FACTORY","Curve","MultiCurve","Surface","MultiSurface","Envelope","curveMember","MULTIGEOMETRY_TO_MEMBER_NODENAME_","surfaceMember","lowerCorner","upperCorner","multiGeom","_MultiPoint2","_MultiLineString2","_MultiPolygon2","navigator","userAgent","hex","rgb","r","g","b","Error","colorZeroPadding","queryData","pairs","substring","pair","indexOfEquals","decodeURIComponent","queryItem","encodeURIComponent","event","_condition2","noModifierKeys","singleClick","ANGLE","COLOR","IS_CIRCLE","IS_RECTANGLE","IS_TEXT","NAME","SHOW_LABEL","OPACITY","AZIMUT","SHOW_MEASURE","SIZE","STROKE","priority","priorities","unitsObj","u","sort","a","showMessage","show","getMessageObjects","ERROR","info","success","SUCCESS","WARNING","opt_type","msgObjects","msgObject","defaultType","XLink","readHref","_ol_Image_","resolution","pixelRatio","src","imageLoadFunction","ImageBase","ImageState","IDLE","src_","image_","Image","imageListenerKeys_","imageLoadFunction_","ol","getImage","handleImageError_","unlistenImage_","handleImageLoad_","ol_extent","height","LOADED","load","LOADING","events","listenOnce","EventType","LOAD","setImage","image","unlistenByKey","ol_Image","ImageWMS","source_Image","attributions","projection","resolutions","crossOrigin_","url_","defaultImageLoadFunction","params_","v13_","updateV13_","serverType_","hidpi_","hidpi","imageSize_","renderedRevision_","ratio_","ratio","GETFEATUREINFO_IMAGE_SIZE_","getGetFeatureInfoUrl","coordinate","projectionObj","sourceProjectionObj","getProjection","reproj","calculateSourceResolution","baseParams","common","QUERY_LAYERS","obj","floor","getRequestUrl_","getImageInternal","findNearestResolution","imageResolution","center","viewWidth","ceil","viewHeight","viewExtent","requestWidth","requestHeight","requestExtent","getPixelRatio","round","CHANGE","handleImageChange","getImageLoadFunction","size","asserts","getCode","WMSServerType","dpi","CARMENTA_SERVER","QGIS","bbox","getUrl","setImageLoadFunction","setUrl","version","compareVersions","__WEBPACK_IMPORTED_MODULE_11__xml_js__","WFS","featureType_","featureNS_","gmlFormat_","__WEBPACK_IMPORTED_MODULE_3__format_GML3_js__","SCHEMA_LOCATIONS","DEFAULT_VERSION","__WEBPACK_IMPORTED_MODULE_6__format_XMLFeature_js__","FEATURE_PREFIX","XMLNS","OGCNS","WFSNS","FESNS","1.1.0","1.0.0","getFeatureType","setFeatureType","__WEBPACK_IMPORTED_MODULE_9__obj_js__","__WEBPACK_IMPORTED_MODULE_4__format_GMLBase_js__","readTransactionResponse","readTransactionResponseFromDocument","readTransactionResponseFromNode","readFeatureCollectionMetadata","readFeatureCollectionMetadataFromDocument","readFeatureCollectionMetadataFromNode","FEATURE_COLLECTION_PARSERS_","boundedBy","makeObjectPropertySetter","__WEBPACK_IMPORTED_MODULE_7__format_XSD_js__","TRANSACTION_SUMMARY_PARSERS_","http://www.opengis.net/wfs","totalInserted","totalUpdated","totalDeleted","readTransactionSummary_","OGC_FID_PARSERS_","http://www.opengis.net/ogc","FeatureId","fidParser_","INSERT_RESULTS_PARSERS_","Feature","readInsertResults_","TRANSACTION_RESPONSE_PARSERS_","TransactionSummary","InsertResults","QUERY_SERIALIZERS_","PropertyName","writeFeature_","gmlVersion","__WEBPACK_IMPORTED_MODULE_2__format_GML2_js__","writeOgcFidFilter_","getTypeName_","featurePrefix","writeDelete_","__WEBPACK_IMPORTED_MODULE_1__asserts_js__","typeName","setAttributeNS","writeUpdate_","getKeys","__WEBPACK_IMPORTED_MODULE_8__geom_Geometry_js__","TRANSACTION_SERIALIZERS_","writeProperty_","writeNative_","nativeElement","vendorId","safeToIgnore","Insert","Update","Delete","Property","Native","writeQuery_","propertyNames","writeFilterCondition_","GETFEATURE_SERIALIZERS_","getTagName","writeBboxFilter_","writeOgcPropertyName_","writeContainsFilter_","writeIntersectsFilter_","writeWithinFilter_","writeDuringFilter_","valueReference","propertyName","timePeriod","begin","writeTimeInstant_","writeLogicalFilter_","conditions","condition","writeNotFilter_","writeComparisonFilter_","matchCase","writeOgcLiteral_","expression","writeIsNullFilter_","writeIsBetweenFilter_","lowerBoundary","upperBoundary","writeIsLikeFilter_","wildCard","singleChar","escapeChar","pattern","writeOgcExpression_","tagName","property","timeInstant","timePosition","Query","During","And","Or","Not","BBOX","Contains","Intersects","Within","PropertyIsEqualTo","PropertyIsNotEqualTo","PropertyIsLessThan","PropertyIsLessThanOrEqualTo","PropertyIsGreaterThan","PropertyIsGreaterThanOrEqualTo","PropertyIsNull","PropertyIsBetween","PropertyIsLike","writeFilter","writeGetFeature_","writeGetFeature","handle","outputFormat","maxFeatures","resultType","startIndex","__WEBPACK_IMPORTED_MODULE_5__format_filter_js__","and","writeTransaction","inserts","updates","deletes","baseObj","gmlOptions","nativeElements","__WEBPACK_IMPORTED_MODULE_10__proj_js__","strict","__WEBPACK_IMPORTED_MODULE_0__from_anything__","YEAR","MONTH","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","dataSourcesCollection_","dataSources","title_","title","clear","VisibilityState","ON","OFF","remove","visibleToSet","visibilityState","getDataSourceState","INDETERMINATE","__WEBPACK_IMPORTED_MODULE_13__uri_js__","TileWMS","transparent","__WEBPACK_IMPORTED_MODULE_9__source_TileImage_js__","cacheSize","opaque","reprojectionErrorThreshold","tileClass","tileGrid","tileLoadFunction","urls","wrapX","transition","gutter_","gutter","tmpExtent_","__WEBPACK_IMPORTED_MODULE_3__extent_js__","setKey","getKeyForParams_","__WEBPACK_IMPORTED_MODULE_1__index_js__","__WEBPACK_IMPORTED_MODULE_6__proj_js__","getTileGrid","getTileGridForProjection","tileCoord","getTileCoordForCoordAndResolution","getResolutions","tileResolution","tileExtent","getTileCoordExtent","tileSize","__WEBPACK_IMPORTED_MODULE_8__size_js__","toSize","getTileSize","tmpSize","buffer","__WEBPACK_IMPORTED_MODULE_7__reproj_js__","__WEBPACK_IMPORTED_MODULE_0__common_js__","__WEBPACK_IMPORTED_MODULE_4__obj_js__","getGutterInternal","__WEBPACK_IMPORTED_MODULE_10__source_WMSServerType_js__","__WEBPACK_IMPORTED_MODULE_2__asserts_js__","tmp","__WEBPACK_IMPORTED_MODULE_5__math_js__","__WEBPACK_IMPORTED_MODULE_11__tilecoord_js__","hash","getTilePixelRatio","fixedTileUrlFunction","scale","__WEBPACK_IMPORTED_MODULE_12__string_js__","location","history","history_","schema_","protocol","domain_","hostname","port_","port","path_","pathname","queryData_","_utils2","decodeQueryString","search","fragment_","replaceState","getPath","getUriString","out","String","charAt","encodedQueryData","encodeQueryString","encodedFragment","hasFragmentParam","getFragmentParam","getParamAsInt","valueAsInt","getParamAsFloat","valueAsFloat","getFragmentParamAsInt","getFragmentParamKeys","getParamKeysWithPrefix","getFragmentParamKeysWithPrefix","updateFragmentParams","deleteFragmentParam","refresh","setPath","path","LocationFactory","$window","lastUri","newUri","$evalAsync","MockProvider","$locationProvider","absUrl","opt_path","host","opt_search","opt_paramValue","opt_url","factory","hasOwnProperty","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","_index","inRange_","inRange","visible_","id_","identifierAttribute_","identifierAttribute","maxResolution_","minResolution_","name_","__WEBPACK_IMPORTED_MODULE_1__style_TextPlacement_js__","Text","font_","font","rotation_","rotation","rotateWithView_","rotateWithView","scale_","text_","text","textAlign_","textAlign","textBaseline_","textBaseline","fill_","fill","__WEBPACK_IMPORTED_MODULE_0__style_Fill_js__","color","DEFAULT_FILL_COLOR_","maxAngle_","maxAngle","PI","placement_","placement","POINT","overflow_","stroke_","stroke","offsetX_","offsetX","offsetY_","offsetY","backgroundFill_","backgroundFill","backgroundStroke_","backgroundStroke","padding_","padding","getFont","getPlacement","getMaxAngle","getOverflow","getRotation","getRotateWithView","getScale","getText","getTextAlign","getTextBaseline","getFill","getStroke","getOffsetX","getOffsetY","getBackgroundFill","getBackgroundStroke","getPadding","setOverflow","setFont","setMaxAngle","setOffsetX","setOffsetY","setPlacement","setFill","setRotation","setScale","setStroke","setText","setTextAlign","setTextBaseline","setBackgroundFill","setBackgroundStroke","setPadding","__WEBPACK_IMPORTED_MODULE_14__xml_js__","surface_","curve_","multiCurve_","multiSurface_","readMultiCurve_","MULTICURVE_PARSERS_","__WEBPACK_IMPORTED_MODULE_9__geom_MultiLineString_js__","readMultiSurface_","MULTISURFACE_PARSERS_","curveMemberParser_","CURVEMEMBER_PARSERS_","surfaceMemberParser_","SURFACEMEMBER_PARSERS_","readPatch_","PATCHES_PARSERS_","readSegment_","SEGMENTS_PARSERS_","readPolygonPatch_","readLineStringSegment_","interiorParser_","exteriorParser_","readSurface_","SURFACE_PARSERS_","__WEBPACK_IMPORTED_MODULE_11__geom_Polygon_js__","__WEBPACK_IMPORTED_MODULE_7__geom_GeometryLayout_js__","readCurve_","CURVE_PARSERS_","__WEBPACK_IMPORTED_MODULE_8__geom_LineString_js__","readEnvelope_","ENVELOPE_PARSERS_","readFlatPos_","re","__WEBPACK_IMPORTED_MODULE_13__proj_js__","readFlatPosList_","contextDimension","dim","__WEBPACK_IMPORTED_MODULE_5__format_XSD_js__","pos","posList","interior","exterior","curveMembers","surfaceMembers","PolygonPatch","LineStringSegment","writePos_","srsDimension","writePosList_","__WEBPACK_IMPORTED_MODULE_12__obj_js__","__WEBPACK_IMPORTED_MODULE_6__geom_Geometry_js__","writeFeatureMembers_","adaptOptions","geom","Moment","_isAMomentObject","momentProperties","__WEBPACK_IMPORTED_MODULE_0__utils_hooks__","copyConfig","to","from","__WEBPACK_IMPORTED_MODULE_2__utils_is_undefined__","_i","_f","_l","_tzm","_isUTC","_offset","__WEBPACK_IMPORTED_MODULE_3__create_parsing_flags__","updateInProgress","_d","getTime","NaN","updateOffset","keepTime","__WEBPACK_IMPORTED_MODULE_2__utils_hooks__","__WEBPACK_IMPORTED_MODULE_0__units_aliases__","__WEBPACK_IMPORTED_MODULE_3__utils_is_function__","prioritized","__WEBPACK_IMPORTED_MODULE_1__units_priorities__","__WEBPACK_IMPORTED_MODULE_5__units_year__","year","month","__WEBPACK_IMPORTED_MODULE_4__units_month__","featureUidToGroupIndex_","groups_","_Vector4","useSpatialIndex","layer_","_Vector2","style","styleFunction_","updateWhileAnimating","updateWhileInteracting","addFeature","groupIndex","featureUid","removeFeature","getLayer","getFeatureOverlay","styleFunction","_Style2","defaultFunction","_FeatureOverlay2","init","setMap","setStyle","createFunction","proj4","projCodes","defs","code","__WEBPACK_IMPORTED_MODULE_0__proj_js__","def","__WEBPACK_IMPORTED_MODULE_2__Projection_js__","axis","metersPerUnit","to_meter","code1","proj1","code2","proj2","__WEBPACK_IMPORTED_MODULE_1__transforms_js__","transform","forward","inverse","PJD_3PARAM","PJD_7PARAM","PJD_WGS84","PJD_NODATUM","SEC_TO_RAD","HALF_PI","SIXTH","RA4","RA6","EPSLN","D2R","R2D","FORTPI","TWO_PI","SPI","PrimeMeridian_exports","greenwich","lisbon","paris","bogota","madrid","rome","bern","jakarta","ferro","brussels","stockholm","athens","oslo","us-ft","ignoredChar","testkey","lkey","projString","defData","paramName","paramVal","paramOutname","self","paramObj","v","reduce","datum","rf","lat_0","lat0","lat_1","lat1","lat_2","lat2","lat_ts","lon_0","long0","lon_1","long1","lon_2","long2","alpha","lonc","longc","x_0","x0","y_0","y0","k_0","k0","k","r_a","R_A","zone","south","utmSouth","towgs84","datum_params","from_greenwich","pm","nadgrids","datumCode","txt","Parser","NEUTRAL","whitespace","latin","keyword","endThings","digets","level","place","stack","currentObject","mapit","thing","newObj","sExpr","shift","convert","readCharicter","char","neutral","quoted","afterquote","number","word","afterItem","newObjects","wkt_parser_D2R","d2r","wkt_parser","wkt","lisp","projName","local","PROJECTION","UNIT","DATUM","SPHEROID","geogcs","GEOGCS","toMeter","sphere","ellps","outName","inName","cleanWKT","that","EPSG","ESRI","IAU2000","log","WGS84","GOOGLE","global","lib_defs","codeWords","parseCode","testObj","testDef","testWKT","testProj","extend","destination","msfnz","eccent","sinphi","cosphi","con","sign","adjust_lon","abs","tsfnz","phi","com","pow","tan","phi2z","ts","dphi","eccnth","atan","sin","identity","pt","projs","es","e","cos","lon","lat","exp","projections_names","projStore","add","projections","Ellipsoid_exports","MERIT","ellipseName","SGS85","GRS80","IAU76","airy","APL4","NWL9D","mod_airy","andrae","aust_SA","GRS67","bessel","bess_nam","clrk66","clrk80","clrk58","CPM","delmbr","engelis","evrst30","evrst48","evrst56","evrst69","evrstSS","fschr60","fschr60m","fschr68","helmert","hough","intl","kaula","lerch","mprts","new_intl","plessis","krass","SEasia","walbeck","WGS60","WGS66","WGS7","Datum_exports","wgs84","ellipse","datumName","ch1903","ggrs87","nad83","nad27","potsdam","carthage","hermannskogel","osni52","ire65","rassadiran","nzgd49","osgb36","s_jtsk","beduaram","gunung_segara","rnb72","lib_datum","ep2","datum_type","Projection","srsCode","json","ourProj","datumDef","a2","b2","sphere_","deriveConstants_sphere","ecc","datumObj","Proj","checkParams","datum_transform","dest","compareDatums","Rn","Sin_Lat","Sin2_Lat","Cos_Lat","Longitude","Latitude","Height","geodeticToGeocentric","Dx_BF","Dy_BF","Dz_BF","Rx_BF","Ry_BF","Rz_BF","M_BF","geocentricToWgs84","x_tmp","y_tmp","z_tmp","geocentricFromWgs84","P","RR","CT","ST","RX","RK","RN","CPHI0","SPHI0","CPHI","SPHI","SDPHI","iter","X","Y","Z","atan2","geocentricToGeodetic","adjust_axis","crs","denorm","t","xin","yin","zin","toPoint","checkSanity","checkCoord","num","Number","TypeError","checkNotWGS","core_wgs84","transformer","transformedArray","checkProj","oProj","core","fromProj","toProj","single","NUM_100K_SETS","SET_ORIGIN_COLUMN_LETTERS","SET_ORIGIN_ROW_LETTERS","mgrs_A","I","O","mgrs_V","mgrs_Z","mgrs","mgrs_forward","UTMtoLL","decode","toUpperCase","left","bottom","right","top","mgrs_toPoint","ll","accuracy","utm","seasting","easting","snorthing","northing","zoneNumber","zoneLetter","setParm","get100kSetForZone","setColumn","setRow","column","row","parm","colOrigin","charCodeAt","rowOrigin","colInt","rowInt","rollover","fromCharCode","encode","N","T","C","A","M","LongOriginRad","ZoneNumber","Lat","Long","LatRad","degToRad","LongRad","UTMEasting","UTMNorthing","LetterDesignator","getLetterDesignator","LLtoUTM","deg","radToDeg","rad","N1","T1","C1","R1","D","LongOrigin","mu","phi1Rad","e1","topRight","mgrsString","testChar","hunK","sb","east100k","curCol","eastingValue","rewindMarker","getEastingFromChar","north100k","curRow","northingValue","getNorthingFromChar","getMinNorthing","remainder","accuracyBonus","sepEastingString","sepNorthingString","sep","sepEasting","sepNorthing","fromMGRS","mgrsStr","toMGRS","lib_Point","C08","pj_enfn","en","pj_mlfn","sphi","cphi","pj_inv_mlfn","arg","tmerc","ml0","delta_lon","sin_phi","cos_phi","al","als","c","cs","tq","ml","acos","tan_phi","d","ds","f","temp","h","asin","sinh","hypot","max","min","asinhy","log1py","gatg","pp","B","cos_2B","h1","h2","clens","arg_r","hr","hr1","hr2","clens_cmplx","arg_i","hi2","sin_arg_r","cos_arg_r","sinh_arg_i","cosh_arg_i","cosh","hi1","hi","etmerc","cgb","cbg","utg","gtu","np","Qn","Zb","Ce","Cn","sin_Cn","cos_Cn","sin_Ce","cos_Ce","adjust_zone","dependsOn","srat","esinp","gauss_MAX_ITER","gauss","rc","phic0","ratexp","K","sterea","sinc0","cosc0","R2","sinc","cosc","cosl","rho","stere","coslat0","sinlat0","cons","ms1","X0","ssfn_","cosX0","sinX0","sinX","cosX","rh","sinlat","coslat","dlon","ce","Chi","phit","eccen","omerc","no_off","no_rot","bl","fl","gl","t0","dl","t1","t2","el","hl","jl","pl","dlon12","dlon10","gamma0","uc","us","vs","ql","sl","tl","vl","ul","POSITIVE_INFINITY","qp","sp","tp","vp","up","lcc","sin1","cos1","ts1","sin2","cos2","ms2","ts2","ts0","f0","rh1","theta","krovak","s45","s90","fi0","e2","alfa","uq","u0","k1","n0","s0","ro0","ad","gfi","deltav","eps","ro","czech","fi1","ok","mlfn","e0","e3","e0fn","e1fn","e2fn","e3fn","gN","adjust_lat","imlfn","cass","lam","nl","asq","cl","dd","ml1","phi1","nl1","rl1","tl1","dsq","qsfnz","P00","P01","P02","P10","P11","P20","laea","mode","S_POLE","N_POLE","EQUIT","OBLIQ","mmf","apa","APA","authset","rq","xmf","ymf","sinb1","cosb1","sinph0","cosph0","coslam","sinlam","q","sinb","cosb","phi0","cCe","sCe","ab","beta","cosz","sinz","asinz","aea","sin_po","cos_po","qs1","qs2","t3","qs0","ns0","qs","phi1z","eccnts","gnom","sin_p14","cos_p14","infinity_dist","coslon","iqsfnz","cea","eqc","dlat","poly_MAX_ITER","poly","tanphi","mln","mlnp","ma","nzmg","B_re","B_im","C_re","C_im","delta_lat","d_phi","d_lambda","d_phi_n","d_psi","th_n_im1","th_re","th_im","th_n_re","th_n_im","z_re","z_im","z_n_im1","delta_x","z_n_re","z_n_im","iterations","num_re","num_im","den_re","den_im","den2","d_psi_n","mill","sinu_MAX_ITER","sinu","C_y","C_x","V","moll","delta_theta","eqdc","ml2","vandg","R","sinth","costh","gsq","msq","xx","yy","xys","c1","c2","c3","a1","m1","th1","aeqd","sin_p12","cos_p12","Mlp","Ml","Nl1","Nl","psi","Az","G","H","GH","Hs","kp","cos_c","s2","s3","s4","cosAz","Ee","F","ortho","FACE_ENUM","FRONT","RIGHT","BACK","LEFT","TOP","BOTTOM","AREA_ENUM","AREA_0","AREA_1","AREA_2","AREA_3","qsc_fwd_equat_face_theta","area","qsc_shift_lon_origin","slon","qsc","face","one_minus_f","one_minus_f_squared","xy","sinlon","nu","cosmu","tannu","tantheta","invert_sign","xa","lp","defaultDatum","proj4_package","somerc","GeometryCollection","opt_geometries","__WEBPACK_IMPORTED_MODULE_4__geom_Geometry_js__","geometries_","listenGeometriesChange_","cloneGeometries_","geometries","clonedGeometries","unlistenGeometriesChange_","__WEBPACK_IMPORTED_MODULE_1__events_js__","unlisten","__WEBPACK_IMPORTED_MODULE_2__events_EventType_js__","geometryCollection","setGeometries","computeExtent","getGeometries","getGeometriesArray","getSimplifiedGeometry","simplifiedGeometryRevision","simplifiedGeometryCache","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometries","simplified","simplifiedGeometry","simplifiedGeometryCollection","setGeometriesArray","__WEBPACK_IMPORTED_MODULE_5__geom_GeometryType_js__","GEOMETRY_COLLECTION","rotate","angle","anchor","sx","opt_sy","opt_anchor","applyTransform","transformFn","translate","deltaX","deltaY","disposeInternal","phy0","lambda0","sinPhy0","semiMajorAxis","flattening","b0","k2","k3","Sa1","Sa2","S","rotI","rotB","lambda","phy","prevPhy","iteration","OWS","owsObject","xml","PARSERS_","readAddress_","ADDRESS_PARSERS_","readAllowedValues_","ALLOWED_VALUES_PARSERS_","readConstraint_","CONSTRAINT_PARSERS_","readContactInfo_","CONTACT_INFO_PARSERS_","readDcp_","DCP_PARSERS_","readGet_","href","REQUEST_METHOD_PARSERS_","readHttp_","HTTP_PARSERS_","readOperation_","OPERATION_PARSERS_","readOperationsMetadata_","OPERATIONS_METADATA_PARSERS_","readPhone_","PHONE_PARSERS_","readServiceIdentification_","SERVICE_IDENTIFICATION_PARSERS_","readServiceContact_","SERVICE_CONTACT_PARSERS_","readServiceProvider_","SERVICE_PROVIDER_PARSERS_","readValue_","NAMESPACE_URIS_","makeStructureNS","ServiceIdentification","ServiceProvider","OperationsMetadata","DeliveryPoint","City","AdministrativeArea","PostalCode","Country","ElectronicMailAddress","Value","makeObjectPropertyPusher","AllowedValues","Phone","Address","HTTP","Get","Post","DCP","Operation","Voice","Facsimile","Constraint","IndividualName","PositionName","ContactInfo","Abstract","AccessConstraints","Fees","Title","ServiceTypeVersion","ServiceType","ProviderName","ProviderSite","ServiceContact","format_OWS","WMTSCapabilities","owsParser_","WMTSCapabilityObject","readContents_","CONTENTS_PARSERS_","readLayer_","LAYER_PARSERS_","readTileMatrixSet_","TMS_PARSERS_","readStyle_","STYLE_PARSERS_","isDefault","readTileMatrixSetLink_","TMS_LINKS_PARSERS_","readDimensions_","DIMENSION_PARSERS_","readResourceUrl_","template","resourceType","resource","readWgs84BoundingBox_","WGS84_BBOX_READERS_","readLegendUrl_","legend","readCoordinates_","readTileMatrix_","TM_PARSERS_","readTileMatrixLimitsList_","TMS_LIMITS_LIST_PARSERS_","readTileMatrixLimits_","TMS_LIMITS_PARSERS_","OWS_NAMESPACE_URIS_","Contents","Layer","TileMatrixSet","Style","Format","TileMatrixSetLink","Dimension","ResourceURL","WGS84BoundingBox","Identifier","LegendURL","TileMatrixSetLimits","TileMatrixLimits","TileMatrix","MinTileRow","MaxTileRow","MinTileCol","MaxTileCol","Default","LowerCorner","UpperCorner","WellKnownScaleSet","SupportedCRS","TopLeftCorner","ScaleDenominator","TileWidth","TileHeight","MatrixWidth","MatrixHeight","interaction","assertInstanceof","_Interaction2","defineProperty","getActive","setActive","_Base2","configurable","getOpacity","setOpacity","incrementEvents","decrementEvents","incrementLoadCount_","increment_","load_count","decrementLoadCount_","decrement_","on","olEvent","element","$applyAsync","ngeoDebounce","ngeoEventHelper","q_","mapViewPropertyChangeEventKey_","ngeoDebounce_","ngeoEventHelper_","ngeoFeatures_","ngeoBackgroundLayerMgr_","ngeoFeatureOverlayMgr","featureOverlay_","featureHelper_","ngeoQuerent_","gmfPermalinkOptions","useLocalStorage","crosshairEnabledByDefault_","crosshairEnabledByDefault","gmfExternalDataSourcesManager_","gmfObjectEditingManager_","gmfThemeManager_","defaultTheme_","gmfTreeManager_","ngeoWfsPermalink_","gmfUser_","map_","ngeoAutoProjection_","sourceProjections_","projectionCodes","getProjectionList","crosshairFeature_","crosshairStyle_","crosshairStyle","_RegularShape2","_Stroke2","width","radius","radius2","mapTooltip_","featureHashFormat_","_FeatureHash2","encodeStyles","propertiesType","fillColor","_FeatureProperties2","fillOpacity","fontColor","fontSize","isBox","isCircle","isLabel","pointRadius","showLabel","showMeasure","strokeColor","strokeWidth","handleBackgroundLayerManagerChange_","ctrl","param","ParamPrefix","TREE_ENABLE","gmfLayerNames","TREE_GROUP_LAYERS","opacity","TREE_OPACITY","TREE_GROUP_OPACITY","getFeatures","addNgeoFeature_","handleNgeoFeaturesAdd_","handleNgeoFeaturesRemove_","_Manager2","THEME_NAME_SET","setThemeInUrl_","setExternalDataSourcesStatePromise_","initExternalDataSources_","wmsGroupsCollection","handleExternalDSGroupCollectionAdd_","handleExternalDSGroupCollectionRemove_","wmtsGroupsCollection","wmsGroups","wmsGroup","registerExternalDSGroup_","wmtsGroups","wmtsGroup","initLayers_","getMapCenter","MAP_X","MAP_Y","targetProjection","reprojectedCenter","tryProjectionsWithInversion","getMapZoom","zoom","MAP_Z","getMapCrosshair","crosshair","MAP_CROSSHAIR","setMapCrosshair","opt_center","crosshairCoordinate","getCenter","assertArray","_Feature2","_Point2","getMapTooltip","MAP_TOOLTIP","setMapTooltip","tooltipText","tooltipPosition","div","class","removeOverlay","_Popover2","position","addOverlay","FEATURES","setDimensions","DIMENSIONS","$watchCollection","unregisterMap_","getFeature","registerMap_","oeFeature","view","getGeometry","getSize","fit","_constants2","Permalink3dParam","ENABLED","setCenter","setZoom","getZoom","wfsPermalinkData","getWfsPermalinkData_","issue","getBackgroundLayer","BG_LAYER","refreshFirstLevelGroups","orderedNames","themeInUrl_","pathElements","indexOfTheme","defaultThemeName","tn","defaultTheme","defaultThemeNameFromFunctionalities","functionalities","default_theme","setThemeName","modeFlush","groupsNames","enable","groupLayers","groupLayersArray","removeNgeoFeature_","addListenerKey","handleNgeoFeaturesChange_","clearListenerKey","wfsLayer","WFS_LAYER","numGroups","WFS_NGROUPS","filterGroups","filterGroup","createFilterGroup_","showFeaturesParam","WFS_SHOW_FEATURES","wfsType","showFeatures","filters","paramKey","ngeoQuerent","gmfExtDSManager","layerNamesString","EXTERNAL_DATASOURCES_NAMES","urlsString","EXTERNAL_DATASOURCES_URLS","ExtDSSeparator","LIST","groupLayerNamesString","groupLayerNames","NAMES","serviceType","_OGC2","getCapabilitiesDefer","wmsGetCapabilities","wmtsGetCapabilities","responses","wmsFindLayerCapability","createAndAddDataSourceFromWMSCapability","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","wmtsFindLayerCapability","createAndAddDataSourceFromWMTSCapability","rejections","evt","setExternalDataSourcesState_","dataSourcesCollection","containsLayerName","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","unregisterExternalDSGroup_","_this8$ngeoStateManag","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","wmsGroupLayerNames","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","wmsDataSource","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","wmtsGroupLayerNames","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","wmtsDataSource","_defineProperty","_this9","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","startsWith","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_module2","_features2","_EventHelper2","OpenLayersLayerProperties","regexp","key1","key2","fn","firstTime","__WEBPACK_IMPORTED_MODULE_0__extend__","__WEBPACK_IMPORTED_MODULE_1__hooks__","deprecationHandler","args","deprecations","suppressDeprecationWarnings","Function","daysInMonth","modMonth","units_year","is_array","_months","isFormat","MONTHS_IN_FORMAT","_monthsShort","monthName","_monthsParseExact","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","utc","monthsShort","months","index_of","setMonth","get_set","has_own_prop","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","defaultMonthsShortRegex","_monthsStrictRegex","_monthsRegex","defaultMonthsRegex","format_format","parse_regex","monthsShortRegex","monthsRegex","parse_token","constants","to_int","monthsParse","parsing_flags","defaultLocaleMonths","defaultLocaleMonthsShort","dayOfMonth","is_number","cmpLenRev","shortPieces","longPieces","mixedPieces","timeout_","container","document","body","append","container_","cache_","DEFAULT_DELAY_","clearMessageByCacheItem_","classNames","target","html","addClass","delay","injector","ngeoLayerHelper_","wmsDataSourceUnregister_","init_","_OGCGroup2","registerDataSource_","unregisterDataSource_","handleDataSourceVisibleChange_","updateLayer_","oldValue","concat","unregister","Filter","tagName_","filter_Filter","LogicalNary","filter_LogicalNary","filter_And","Bbox","filter_Bbox","Spatial","filter_Spatial","filter_Contains","Comparison","filter_Comparison","filter_During","ComparisonBinary","opt_matchCase","filter_ComparisonBinary","EqualTo","filter_EqualTo","GreaterThan","filter_GreaterThan","GreaterThanOrEqualTo","filter_GreaterThanOrEqualTo","filter_Intersects","IsBetween","filter_IsBetween","IsLike","opt_wildCard","opt_singleChar","opt_escapeChar","filter_IsLike","IsNull","filter_IsNull","LessThan","filter_LessThan","LessThanOrEqualTo","filter_LessThanOrEqualTo","filter_Not","NotEqualTo","filter_NotEqualTo","filter_Or","filter_Within","_ol_format_filter_","or","not","contains","intersects","within","equalTo","notEqualTo","lessThan","lessThanOrEqualTo","greaterThan","greaterThanOrEqualTo","isNull","between","like","during","listenerKeys_","initListenerKey_","NOT","OR","directive_","restrict","link","scope","attrs","_Map2","setTarget","manageResizeProp","resizeTransitionProp","resizeTransition","now","loop","adjustSize","updateSize","renderSync","requestAnimationFrame","directive","gmfTreeManagerModeFlush","gmfTreeManager","$rootScope_","themeName_","addTheme","getThemeName","isLoading","$emit","_TreeManager2","$filter","$filter_","_Time2","formatTimeValue","opt_useISOFormat","opt_toUTC","yearResolution","monthResolution","dayResolution","toISOString","formatWMSTimeParam","wmsTimeProperty","times","isLeapYear","__WEBPACK_IMPORTED_MODULE_1__format_format__","__WEBPACK_IMPORTED_MODULE_2__aliases__","__WEBPACK_IMPORTED_MODULE_3__priorities__","__WEBPACK_IMPORTED_MODULE_4__parse_regex__","__WEBPACK_IMPORTED_MODULE_5__parse_token__","__WEBPACK_IMPORTED_MODULE_7__constants__","__WEBPACK_IMPORTED_MODULE_6__utils_hooks__","parseTwoDigitYear","__WEBPACK_IMPORTED_MODULE_8__utils_to_int__","getSetYear","__WEBPACK_IMPORTED_MODULE_0__moment_get_set__","_Event","detail","_Event2","factory_","wait","invokeApply","timeout","_len","_key","manager","manager_","features_","index_","setFeatures","handleFeatureAdd_","handleFeatureRemove_","collection_","handleDataSourcesAdd_","handleViewResolutionChange_","assertNumber","syncDataSourcesToResolution_","_Observable2","unByKey","_View2","syncDataSourceToResolution_","supportsDynamicInRange","unbindMap_","bindMap_","__WEBPACK_IMPORTED_MODULE_5__xml_js__","WMSGetFeatureInfo","layers_","__WEBPACK_IMPORTED_MODULE_3__format_XMLFeature_js__","featureIdentifier_","layerIdentifier_","readFeatures_","toRemove","layerFeatures","gmlFeatures","http_","mapViewChangePromise_","ensureSnapInteractionsOnTop","removeInteraction","addInteraction","treeCtrlsUnregister_","unregisterAllTreeCtrl_","registerTreeCtrl_","handleMapMoveEnd_","wfsConfig","getWFSConfig_","stateWatcherUnregister","handleTreeCtrlStateChange_","requestDeferred","deactivateItem_","childLayers","ogcServerName","wfsSupport","urlWfs","activateItem_","_Snap2","edge","pixelTolerance","tolerance","vertex","loadItemFeatures_","loadAllItems_","calculateExtent","projCode","getFeatureOptions","xmlSerializer","featureRequestXml","featureRequest","post","_Permalink2","_Snapping2","_component2","_FeatureOverlayMgr2","manageResize","bindToController","templateUrl","baseModuleTemplateUrl","Controller_","gmfPermalink","gmfSnapping","ngeoFeatureOverlayMgr_","gmfPermalink_","gmfSnapping_","$onInit","_Overlay","originalEl","closeEl_","contentEl_","_Overlay2","getElement","getMap","popover","contentEl","setTimeout","content","one","LON","LAT","ELEVATION","HEADING","PITCH","PREFIX","olColor","_TextFeature2","accuracy_","ACCURACY_","encodeStyles_","propertiesFunction_","defaultPropertiesFunction_","setStyle_","prevX_","prevY_","LegacyProperties_","StyleTypes_","_FeatureHashStyleType2","LINE_STRING","POLYGON","CHAR64_","encodeSignedNumber_","signedNum","encodeNumber_","encodedNumber","geometryType","encodedStyles","styleType","fillStyle","imageStyle","strokeStyle","textStyle","encodeStylePolygon_","encodeStyleLine_","encodeStylePoint_","encodeStyleText_","encodeStyleStroke_","getRadius","encodeStyleFill_","opt_propertyName","getColor","fillColorRgba","asArray","fillColorHex","rgbArrayToHex","strokeColorRgba","strokeColorHex","getWidth","fontStyle","readLineStringGeometry_","decodeCoordinates_","_LineString2","_GeometryLayout2","readMultiLineStringGeometry_","readPointGeometry_","readMultiPointGeometry_","readPolygonGeometry_","_Polygon2","readMultiPolygonGeometry_","multipolygon","setStyleInFeature_","getStyleProperties_","_Fill2","_Circle2","_Text2","setStyleProperties_","setProperties","castValue_","numProperties","boolProperties","keyVal","writeLineStringGeometry_","getStride","encodeCoordinates_","writeMultiLineStringGeometry_","lineStringCount","textArray","writePointGeometry_","writeMultiPointGeometry_","encodeRings_","linearRingCount","writePolygonGeometry_","writeMultiPolygonGeometry_","polygonCount","GEOMETRY_READERS_","L","GEOMETRY_WRITERS_","opt_flatCoordinates","dx","dy","encodedCoordinates","readFeatureFromText","splitIndex","geometryText","readGeometryFromText","attributesAndStylesText","attributesText","stylesText","readFeaturesFromText","geometryReader","writeFeatureText","encodedParts","encodedGeometry","writeGeometryText","encodedProperties","propFunction","encoded","getStyleFunction","writeFeaturesText","geometryWriter","transformedGeometry","_Feature4","transformWithOptions","__WEBPACK_IMPORTED_MODULE_14__structs_RBush_js__","Snap","__WEBPACK_IMPORTED_MODULE_10__interaction_Pointer_js__","handleEvent","handleEvent_","handleDownEvent","__WEBPACK_IMPORTED_MODULE_7__functions_js__","handleUpEvent","handleUpEvent_","vertex_","edge_","featuresListenerKeys_","featureChangeListenerKeys_","indexedFeaturesExtents_","pendingFeatures_","pixelCoordinate_","pixelTolerance_","sortByDistance_","sortByDistance","rBush_","SEGMENT_WRITERS_","writeGeometryCollectionGeometry_","Circle","writeCircleGeometry_","opt_listen","feature_uid","segmentWriter","__WEBPACK_IMPORTED_MODULE_6__extent_js__","__WEBPACK_IMPORTED_MODULE_4__events_js__","__WEBPACK_IMPORTED_MODULE_5__events_EventType_js__","handleFeatureChange_","forEachFeatureAdd_","forEachFeatureRemove_","getFeatures_","__WEBPACK_IMPORTED_MODULE_12__source_Vector_js__","Event","__WEBPACK_IMPORTED_MODULE_1__Collection_js__","handlingDownUpSequence","updateFeature_","opt_unlisten","rBush","nodesToRemove","forEachInExtent","currentMap","__WEBPACK_IMPORTED_MODULE_2__CollectionEventType_js__","ADD","REMOVE","__WEBPACK_IMPORTED_MODULE_13__source_VectorEventType_js__","ADDFEATURE","REMOVEFEATURE","shouldStopEvent","snapTo","pixel","pixelCoordinate","lowerLeft","getCoordinateFromPixel","upperRight","box","getInExtent","segment","__WEBPACK_IMPORTED_MODULE_8__geom_GeometryType_js__","CIRCLE","dist","pixel1","pixel2","squaredDist1","squaredDist2","snappedToVertex","snapped","vertexPixel","closestSegment","getPixelFromCoordinate","__WEBPACK_IMPORTED_MODULE_3__coordinate_js__","closestOnCircle","closestOnSegment","distance","__WEBPACK_IMPORTED_MODULE_9__geom_Polygon_js__","segmentData","insert","kk","featuresToUpdate","__WEBPACK_IMPORTED_MODULE_11__obj_js__","squaredDistanceToSegment","DrawEventType","Draw","Pointer","handleDownEvent_","shouldHandle_","downPx_","downTimeout_","lastDragTime_","freehand_","snapTolerance_","snapTolerance","type_","mode_","getMode_","stopClick_","stopClick","minPoints_","minPoints","Mode_","maxPoints_","maxPoints","finishCondition_","finishCondition","functions","geometryFunction","GeometryType","opt_geometry","circle","squaredLength","ol_coordinate","setCenterAndRadius","Constructor","geometryFunction_","dragVertexDelay_","dragVertexDelay","finishCoordinate_","sketchFeature_","sketchPoint_","sketchCoords_","sketchLine_","sketchLineCoords_","squaredClickTolerance_","clickTolerance","overlay_","Vector","source_Vector","getDefaultStyleFunction","condition_","freehandCondition_","freehand","always","freehandCondition","shiftKeyOnly","ol_Object","getChangeEventType","ACTIVE","updateState_","createDefaultEditing","originalEvent","CONTEXTMENU","preventDefault","move","MapBrowserEventType","POINTERMOVE","pass","POINTERDRAG","clearTimeout","addToDrawing_","POINTERDOWN","handlePointerMove_","pointerEvent","pointerType","MouseSource","POINTER_TYPE","DBLCLICK","startDrawing_","MapBrowserPointerEvent","frameState","circleMode","finishDrawing","atFinish_","abortDrawing_","stopPropagation","downPx","clickPx","modifyDrawing_","createOrUpdateSketchPoint_","at","potentiallyDone","potentiallyFinishCoordinates","finishCoordinate","finishPixel","updateSketchFeatures_","setGeometry","last","sketchLineGeom","getLinearRing","removeLastPoint","sketchFeature","sketchFeatures","overlaySource","addFeatures","createRegularPolygon","opt_sides","opt_angle","createBox","tilegrid","createXYZ","extentFromProjection","maxZoom","minZoom","TileImage","tilePixelRatio","tileUrlFunction","source_XYZ","OSM","ATTRIBUTION","fun","_isValid","flags","parsedParts","isNowValid","invalidWeekday","bigHour","isFrozen","tmpLocale","parentConfig","__WEBPACK_IMPORTED_MODULE_8__base_config__","loadLocale","_config","__WEBPACK_IMPORTED_MODULE_5__set__","__WEBPACK_IMPORTED_MODULE_6__constructor__","parentLocale","locales","getSetGlobalLocale","__WEBPACK_IMPORTED_MODULE_7__utils_keys__","globalLocale","localeFamilies","normalizeLocale","oldLocale","_abbr","getLocale","defineLocale","abbr","__WEBPACK_IMPORTED_MODULE_4__utils_deprecate__","__WEBPACK_IMPORTED_MODULE_0__utils_is_array__","__WEBPACK_IMPORTED_MODULE_3__utils_compare_arrays__","chooseLocale","ms","getFullYear","setFullYear","UTC","setUTCFullYear","olDom","olProj","olSphere","helpTooltipElement_","helpTooltipOverlay_","measureTooltipElement_","measureTooltipOverlay_","measureTooltipOverlayCoord_","continueMsg","decimals","precision","displayHelpTooltip_","displayHelpTooltip","startMsg","createElement","textContent","changeEventKey_","postcomposeEventKey_","vectorLayer_","drawInteraction_","createDrawInteraction","sketchStyle","shouldHandleDrawInteractionActiveChange_","handleDrawInteractionActiveChange_","onDrawStart_","onDrawEnd_","getFormattedArea","getFormattedCircleArea","getFormattedLength","getFormattedPoint","opt_template","dragging","helpMsg","removeChildren","setPosition","getDrawInteraction","prevMap","createMeasureTooltip_","handleMeasure","measure","innerHTML","classList","setOffset","_CustomEvent2","unlistenerEvent_","createHelpTooltip_","removeHelpTooltip_","positioning","removeChild","removeMeasureTooltip_","stopEvent","getTooltipElement","RECTANGLE","olProjProj4","epsg21781def","_proj4","register","setExtent","_somerc2","_from","_id","_inBundle","_integrity","_location","_phantomChildren","_requested","registry","raw","escapedName","rawSpec","saveSpec","fetchSpec","_requiredBy","_resolved","_shasum","_spec","_where","author","bugs","bundleDependencies","contributors","email","dependencies","wkt-parser","deprecated","description","devDependencies","chai","curl","grunt","grunt-cli","grunt-contrib-connect","grunt-contrib-jshint","grunt-contrib-uglify","grunt-mocha-phantomjs","grunt-rollup","istanbul","mocha","rollup","rollup-plugin-json","rollup-plugin-node-resolve","tin","directories","homepage","license","main","repository","scripts","build","build:tmerc","__WEBPACK_IMPORTED_MODULE_5__geom_flat_deflate_js__","opt_radius","__WEBPACK_IMPORTED_MODULE_4__geom_SimpleGeometry_js__","delta","getRadiusSquared_","__WEBPACK_IMPORTED_MODULE_3__geom_GeometryType_js__","circleExtent","intersectsCoordinate","__WEBPACK_IMPORTED_MODULE_2__geom_GeometryLayout_js__","setRadius","active_","lowerBoundary_","operator_","operator","upperBoundary_","isCustom_","isCustom","operators_","operators","propertyName_","listenerKeys","getExpression","setExpression","OperatorType","BETWEEN","TemporalOperatorType","DURING","EQUAL_TO","GREATER_THAN","GREATER_THAN_OR_EQUAL_TO","LESSER_THAN","LESSER_THAN_OR_EQUAL_TO","LIKE","NOT_EQUAL_TO","SpatialOperatorType","CONTAINS","INTERSECTS","WITHIN","BEGINS","ENDS","EQUALS","__WEBPACK_IMPORTED_MODULE_0__has_own_prop__","valueOf","__WEBPACK_IMPORTED_MODULE_6__utils_is_array__","_weekdays","day","_weekdaysShort","_weekdaysMin","weekdayName","_weekdaysParseExact","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","__WEBPACK_IMPORTED_MODULE_9__create_utc__","weekdaysMin","weekdaysShort","weekdays","__WEBPACK_IMPORTED_MODULE_7__utils_index_of__","_fullWeekdaysParse","getUTCDay","getDay","weekdaysParse","parseWeekday","weekday","_week","dow","parseIsoWeekday","__WEBPACK_IMPORTED_MODULE_8__utils_has_own_prop__","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","defaultWeekdaysRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","defaultWeekdaysShortRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","defaultWeekdaysMinRegex","__WEBPACK_IMPORTED_MODULE_0__format_format__","__WEBPACK_IMPORTED_MODULE_1__aliases__","__WEBPACK_IMPORTED_MODULE_2__priorities__","__WEBPACK_IMPORTED_MODULE_3__parse_regex__","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","__WEBPACK_IMPORTED_MODULE_4__parse_token__","week","__WEBPACK_IMPORTED_MODULE_10__create_parsing_flags__","__WEBPACK_IMPORTED_MODULE_5__utils_to_int__","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","minp","shortp","longp","minPieces","olMath","Scalify","numberFilter","filterFn","$locale","formats","NUMBER_FORMATS","opt_precision","groupSep","GROUP_SEP","decimalSep","DECIMAL_SEP","nb_decimal","factor","str_number","str_unit","UnitPrefix","standardPrefix","binaryPrefix","opt_unit","divisor","index_max","postfix","space","NumberCoordinates","opt_fractionDigits","fractionDigits","DMSCoordinates","degreesToStringHDMS","degrees","hemispheres","normalizedDegrees","modulo","dms","_string2","xdms","ydms","trustHtmlFilter","$sce","trustAsHtml","olExtent","decimals_","precision_","numberFormat_","unitPrefixFormat_","ngeoNumberCoordinates_","pointFilterFn_","pointFilterArgs_","filterElements","filterName","assertFunction","projection_","download_","setProjection","opt_select","getStyle","supportsVertex_","getVertexStyle","getHaloStyle_","_GeometryType2","getLineStringStyle_","getPointStyle_","getPolygonStyle_","getTextStyle_","constructor","getStrokeProperty","getShowLabelProperty","getShowMeasureProperty","getRGBAColorProperty","textLabelValues","getMeasure","getNameProperty","textLabelValue","createTextStyle_","getSizeProperty","font_size","optNumber","attrib","getNumber","getOpacityProperty","azimut","getRadiusLine","_Measure2","getLastCoordinate","exceedLength","getAngleProperty","createEditingStyles","white","blue","zIndex","opt_incGeomFunc","incGeomFunc","innerMultiCoordinates","multiCoordinates","supported","haloSize","getFilteredFeatureValues","getColorProperty","fromString","assertBoolean","export","formatType","FormatType","GPX","exportGPX","KML","exportKML","_GPX2","export_","_KML2","fileName","opt_mimeType","mimeType","clones","writeOptions","_MeasureAzimut2","getFormattedAzimutRadius","_toConsumableArray","panMapToFeature","opt_panDuration","panDuration","mapCenter","featureCenter","getCoordinateAt","getInteriorPoint","animate","duration","endPoint","getNonSpatialProperties","nonSpatialProperties","clearNonSpatialProperties","_service2","_filters2","readExtensions_","readExtensions","NAMESPACE_URIS","FEATURE_READER","rte","readRte","trk","readTrk","wpt","readWpt","GPX_PARSERS","LINK_PARSERS","RTE_PARSERS","cmt","desc","parseLink","extensions","parseExtensions","rtept","RTEPT_PARSERS","rteValues","layoutOptions","appendCoordinate","ele","TRK_PARSERS","trkseg","TRKSEG_PARSERS","trkpt","TRKPT_PARSERS","trkValues","WPT_PARSERS","magvar","geoidheight","sym","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid","LINK_SEQUENCE","LINK_SERIALIZERS","RTE_SEQUENCE","RTE_SERIALIZERS","writeLink","makeArraySerializer","writeWptType","RTEPT_TYPE_SEQUENCE","TRK_SEQUENCE","TRK_SERIALIZERS","geometryLayout","TRKSEG_SERIALIZERS","TRKSEG_NODE_FACTORY","WPT_TYPE_SEQUENCE","WPT_TYPE_SERIALIZERS","GEOMETRY_TYPE_TO_NODENAME","GPX_NODE_FACTORY","GPX_SERIALIZERS","orderedKeys","makeSequence","hasM","applyLayoutOptions_","__WEBPACK_IMPORTED_MODULE_7__geom_LineString_js__","__WEBPACK_IMPORTED_MODULE_1__Feature_js__","__WEBPACK_IMPORTED_MODULE_9__geom_Point_js__","__WEBPACK_IMPORTED_MODULE_6__geom_GeometryLayout_js__","handleReadExtensions_","extensionsNode","__WEBPACK_IMPORTED_MODULE_2__array_js__","featureReader","gpx","__WEBPACK_IMPORTED_MODULE_26__xml_js__","DEFAULT_STYLE_ARRAY_","createStyleDefaults_","__WEBPACK_IMPORTED_MODULE_18__proj_js__","defaultStyle_","defaultStyle","extractStyles_","extractStyles","writeStyles_","writeStyles","sharedStyles_","showPointNames_","showPointNames","GX_NAMESPACE_URIS_","SCHEMA_LOCATION_","DEFAULT_COLOR_","DEFAULT_FILL_STYLE_","__WEBPACK_IMPORTED_MODULE_19__style_Fill_js__","DEFAULT_IMAGE_STYLE_ANCHOR_","DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_","__WEBPACK_IMPORTED_MODULE_21__style_IconAnchorUnits_js__","PIXELS","DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_","DEFAULT_IMAGE_STYLE_SIZE_","DEFAULT_IMAGE_STYLE_SRC_","DEFAULT_IMAGE_SCALE_MULTIPLIER_","DEFAULT_IMAGE_STYLE_","__WEBPACK_IMPORTED_MODULE_20__style_Icon_js__","anchorOrigin","__WEBPACK_IMPORTED_MODULE_22__style_IconOrigin_js__","BOTTOM_LEFT","anchorXUnits","anchorYUnits","DEFAULT_NO_IMAGE_STYLE_","DEFAULT_STROKE_STYLE_","__WEBPACK_IMPORTED_MODULE_23__style_Stroke_js__","DEFAULT_TEXT_STROKE_STYLE_","DEFAULT_TEXT_STYLE_","__WEBPACK_IMPORTED_MODULE_25__style_Text_js__","DEFAULT_STYLE_","__WEBPACK_IMPORTED_MODULE_24__style_Style_js__","ICON_ANCHOR_UNITS_MAP_","fraction","FRACTION","pixels","insetPixels","createNameStyleFunction_","foundStyle","textOffset","imageSize","getImageSize","imageScale","foundText","createFeatureStyleFunction_","styleUrl","sharedStyles","nameStyle","drawName","__WEBPACK_IMPORTED_MODULE_10__geom_GeometryType_js__","findStyle_","styleValue","readColor_","hexColor","readURI_","baseURI","URL","readVec2_","xunits","yunits","origin","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","readScale_","readStyleMapValue_","STYLE_MAP_PARSERS_","IconStyleParser_","ICON_STYLE_PARSERS_","styleObject","IconObject","drawIcon","hotSpot","w","heading","__WEBPACK_IMPORTED_MODULE_17__math_js__","offsetOrigin","LabelStyleParser_","LABEL_STYLE_PARSERS_","LineStyleParser_","LINE_STYLE_PARSERS_","PolyStyleParser_","POLY_STYLE_PARSERS_","outline","FLAT_LINEAR_RING_PARSERS_","gxCoordParser_","readGxMultiTrack_","GX_MULTITRACK_GEOMETRY_PARSERS_","__WEBPACK_IMPORTED_MODULE_12__geom_MultiLineString_js__","readGxTrack_","gxTrackObject","whens","GX_TRACK_PARSERS_","__WEBPACK_IMPORTED_MODULE_11__geom_LineString_js__","__WEBPACK_IMPORTED_MODULE_9__geom_GeometryLayout_js__","readIcon_","iconObject","ICON_PARSERS_","readLineString_","EXTRUDE_AND_ALTITUDE_MODE_PARSERS_","readLinearRing_","__WEBPACK_IMPORTED_MODULE_16__geom_Polygon_js__","readMultiGeometry_","MULTI_GEOMETRY_PARSERS_","__WEBPACK_IMPORTED_MODULE_8__geom_GeometryCollection_js__","multiGeometry","homogeneous","__WEBPACK_IMPORTED_MODULE_13__geom_MultiPoint_js__","setCommonGeometryProperties_","__WEBPACK_IMPORTED_MODULE_14__geom_MultiPolygon_js__","__WEBPACK_IMPORTED_MODULE_3__asserts_js__","readPoint_","__WEBPACK_IMPORTED_MODULE_15__geom_Point_js__","readPolygon_","extrudes","tessellates","altitudeModes","hasExtrude","hasTessellate","hasAltitudeMode","DataParser_","DATA_PARSERS_","featureObject","displayName","ExtendedDataParser_","EXTENDED_DATA_PARSERS_","RegionParser_","REGION_PARSERS_","PairDataParser_","pairObject","PAIR_PARSERS_","PlacemarkStyleMapParser_","styleMapValue","placemarkObject","SchemaDataParser_","SCHEMA_DATA_PARSERS_","SimpleDataParser_","LatLonAltBoxParser_","LAT_LON_ALT_BOX_PARSERS_","regionObject","LodParser_","LOD_PARSERS_","lodObject","INNER_BOUNDARY_IS_PARSERS_","OUTER_BOUNDARY_IS_PARSERS_","LinkParser_","LINK_PARSERS_","whenParser_","when","Data","SchemaData","LatLonAltBox","Lod","altitudeMode","minAltitude","maxAltitude","north","east","west","minLodPixels","maxLodPixels","minFadeExtent","maxFadeExtent","extrude","tessellate","Icon","MultiGeometry","Track","NETWORK_LINK_PARSERS_","ExtendedData","Region","Link","address","open","phoneNumber","visibility","PLACEMARK_PARSERS_","StyleMap","MultiTrack","SimpleData","IconStyle","LabelStyle","LineStyle","PolyStyle","Pair","readDocumentOrFolder_","Document","makeArrayExtender","Folder","Placemark","readPlacemark_","readSharedStyle_","readSharedStyleMap_","__WEBPACK_IMPORTED_MODULE_5__format_Feature_js__","styleUri","fs","readName","readNameFromDocument","readNameFromNode","readNetworkLinks","networkLinks","readNetworkLinksFromDocument","readNetworkLinksFromNode","readRegion","regions","readRegionFromDocument","readRegionFromNode","writeColorTextNode_","rgba","__WEBPACK_IMPORTED_MODULE_4__color_js__","abgr","writeCoordinatesTextNode_","dimension","writeDataNode_","EXTENDEDDATA_NODE_SERIALIZERS_","writeDataNodeName_","writeDataNodeValue_","writeDocument_","DOCUMENT_SERIALIZERS_","DOCUMENT_NODE_FACTORY_","writeExtendedData_","namesAndValues","DATA_NODE_FACTORY_","writeIcon_","icon","ICON_SEQUENCE_","ICON_SERIALIZERS_","GX_NODE_FACTORY_","writeIconStyle_","getSrc","iconImageSize","iconProperties","getAnchor","getOrigin","ICON_STYLE_SEQUENCE_","ICON_STYLE_SERIALIZERS_","writeLabelStyle_","LABEL_STYLE_SEQUENCE_","LABEL_STYLE_SERIALIZERS_","writeLineStyle_","LINE_STYLE_SEQUENCE_","LINE_STYLE_SERIALIZERS_","writeMultiGeometry_","POINT_NODE_FACTORY_","LINE_STRING_NODE_FACTORY_","POLYGON_NODE_FACTORY_","MULTI_GEOMETRY_SERIALIZERS_","writeBoundaryIs_","BOUNDARY_IS_SERIALIZERS_","LINEAR_RING_NODE_FACTORY_","writePlacemark_","PLACEMARK_SERIALIZERS_","EXTENDEDDATA_NODE_FACTORY_","PLACEMARK_SEQUENCE_","writePrimitiveGeometry_","PRIMITIVE_GEOMETRY_SEQUENCE_","PRIMITIVE_GEOMETRY_SERIALIZERS_","writePolygon_","linearRings","outerRing","POLYGON_SERIALIZERS_","INNER_BOUNDARY_NODE_FACTORY_","OUTER_BOUNDARY_NODE_FACTORY_","writePolyStyle_","POLY_STYLE_SERIALIZERS_","COLOR_NODE_FACTORY_","writeScaleTextNode_","writeStyle_","STYLE_SEQUENCE_","STYLE_SERIALIZERS_","writeVec2_","vec2","KML_SEQUENCE_","KML_SERIALIZERS_","GEOMETRY_TYPE_TO_NODENAME_","kml","xmlnsUri","__WEBPACK_IMPORTED_MODULE_7__week_calendar_utils__","doy","defaultLocaleWeek","hours","minutes","isLower","hFormat","lowercase","matchMeridiem","_meridiemParse","__WEBPACK_IMPORTED_MODULE_8__utils_zero_fill__","seconds","__WEBPACK_IMPORTED_MODULE_6__constants__","kInput","__WEBPACK_IMPORTED_MODULE_7__utils_to_int__","_isPm","isPM","_meridiem","__WEBPACK_IMPORTED_MODULE_9__create_parsing_flags__","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","featuresCollection_","ngeoPopupTemplateUrl","close","css","getOptions","minDate","minValue","maxDate","maxValue","minDefaultDate","minDefValue","maxDefaultDate","maxDefValue","defaultValues","localDate","JSONFeature","format_Feature","getObject","JSON","readFeatureFromObject","readFeaturesFromObject","readGeometryFromObject","readProjectionFromObject","stringify","writeFeatureObject","writeFeaturesObject","writeGeometryObject","format_JSONFeature","GeoJSON","defaultFeatureProjection","extractGeometryName_","extractGeometryName","GEOMETRY_READERS","GEOMETRY_WRITERS","rightHanded","geoJSONFeature","geometry_name","geoJSONFeatures","_fileSaver","opt_fileType","fileType","isSafari","blob","Blob","saveAs","unitPrefixFormat","numberFormat","_DrawAzimut2","_GeometryCollection2","_Projection2","formatLength","formatAzimut","getFormattedAzimut","getAzimut","arr","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","defaults","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","_useUTC","getMonth","getDate","currentDateArray","weekYear","weekdayOverflow","GG","W","E","week_calendar_utils","curWeek","gg","_dayOfYear","dayOfYear","dayOfYearFromWeekInfo","date_from_array","_nextDay","setUTCMinutes","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","untruncateYear","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromRFC2822","parsedArray","weekdayStr","parsedInput","day_of_week","checkWeekday","obsOffset","militaryOffset","numOffset","hm","calculateOffset","createFromInputFallback","deprecate","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","isPm","meridiemHour","meridiemFixWrap","prepareConfig","valid","preparse","moment_constructor","is_date","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromStringAndArray","is_undefined","configFromString","is_object","minute","second","millisecond","configFromObject","configFromInput","isUTC","getOwnPropertyNames","isObjectEmpty","targetLength","forceSign","absNumber","zerosToFill","o","resYear","resDayOfYear","localWeekday","weekOffset","firstWeekOffset","__WEBPACK_IMPORTED_MODULE_0__year__","resWeek","weeksInYear","fwd","__WEBPACK_IMPORTED_MODULE_2__create_date_from_array__","weekOffsetNext","ngeoWMSTime","ngeoWMSTime_","ogcServersObject_","ogcServersObject","sync_","createLayer","dataLayerGroup","opt_position","createGroup_","createLeafInAMixedGroup_","initGmfLayerInANotMixedGroup_","updateLayerState_","groupNode","createLayerFromGroup_","insertAt","isOneParentNotMixed_","timeParam","getTimeParam_","hasActiveChildren","updateLayerReferences_","createWMTSLayer_","checked","leafNode","firstLevelGroup","getFirstLevelGroupCtrl_","newLayer","querySourceIds","disclaimer","disclaimers","wmsTime","timeValues","isOneParentNotMix","_WMSTime2","__WEBPACK_AMD_DEFINE_RESULT__","get_URL","webkitURL","save_link","can_use_save_link","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","revoke","file","revokeObjectURL","auto_bom","FileSaver","no_auto_bom","object_url","filesaver","force","dispatch_all","event_types","listener","dispatch","readyState","INIT","createObjectURL","download","MouseEvent","DONE","FileReader","reader","onloadend","readAsDataURL","fs_error","FS_proto","msSaveOrOpenBlob","abort","WRITING","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","__webpack_amd_options__","$compile","$new","autoDestroy_","destroy","sce_","element_","getOpen","setOpen","$destroy","setTitle","trustedTitle","setContent","opt_trusted","setWidth","setHeight","setSize","setAutoDestroy","autoDestroy","cls","Factory","_popupComponent2","ngeoDataSources","ngeoFile","injector_","dataSources_","ngeoFile_","extDataSources_","files_","fileGroup_","_FileGroup2","wmsGroupsCollection_","wmtsGroupsCollection_","wmtsCache_","handleDataSourcesRemove_","$inject","layerGroup","req","getWMSGroup","addDataSource","_WMSGroup2","addLayer_","addWMSGroup_","getWMTSGroup","addWMTSGroup_","layerObj","handleWMTSDataSourceVisibleChange_","getFileDataSource_","fileGroup","readOptions","isKml","isGpx","_File4","removeFileDataSource_","removeOGCDataSource_","removeLayer_","removeDataSource","removeWMSGroup_","removeWMTSGroup_","EXTERNALLAYERGROUP_NAME","_File2","_DataSources2","mapUids_","mapUid","previous","setAt","removeAt","current","baseBgLayer","_Layer2","hasUpdates","updatedDimensions","olFunctions","_Pointer2","started_","sketchLayer_","_Draw2","finishDrawing_","mapBrowserEvent","sketchPointGeom","getLength","FALSE","ngeoRuleHelper","ngeoRuleHelper_","requestCancelers_","wmsGetCapabilitiesPromises_","wmtsGetCapabilitiesPromises_","cancelStillRunningRequests_","queryableDataSources","getQueryableDataSources","combinedWFSDataSources","getCombinableWFSDataSources_","wfs","issueCombinedWFS_","combinedWMSDataSources","getCombinableWMSDataSources_","wms","issueCombinedWMS_","handleCombinedQueryResult_","isDataSourceQueryable_","supportsAttributes","ogcLayerNames","TYPENAME","_WFSDescribeFeatureType2","layerCapabilities","layerCapability","baseUrl","opt_cache","_WMSCapabilities2","combinedHash","dataSourceIdStr","dataSourceId","limit","tooManyFeatures","totalFeatureCount","readAndTypeFeatures_","setUniqueIds_","getSetOlFormatTypes_","opt_types","types","combinedDataSources","wfsCount","tolerancePx","createOrUpdateFromCoordinate","getFeatureCommonOptions","createFilter","incTime","getFeatureDefer","handleQueryResult_","countPromise","getCountOptions","featureCountXml","featureCountRequest","canceler","registerCanceler_","headers","Content-Type","numberOfFeatures","FEATURE_COUNT","INFO_FORMAT","activeDimensionsSet","filterString","filtrableLayerName","getFiltrableOGCLayerName","createFilterString","filterParamValue","filterParamValues","wmsSource","wmsGetFeatureInfoUrl","combinableDataSources","notCombinableDataSources","combined","combinableDataSource","combinableWithDataSourceForWFS","combinableWithDataSourceForWMS","isAnyOGCLayerInRange","CombinedDataSources","_RuleHelper2","_moment","ngeoFeatureHelper","ngeoFeatureHelper_","opt_isCustom","rules","createRuleFromAttribute","rule","_Date2","_Rule2","_Geometry2","_Select2","choices","optionsList","createRule","selectOptions","sourceRule","destRule","serializeRule","featureProperties","mainFilter","createFilterFromRule_","_filter2","timeFilter","createTimeFilterFromDataSource_","filterNode","rot","rsot","rtot","spatialTypes","numericTypes","beginValue","endValue","moment","subtract","selectedChoices","selectedChoice","numericExpression","stringExpression","momentEnd","startValue","_FeatureHelper2","ngeoLayertreeTemplateUrl","ngeoDataSourcesHelper","ngeoQueryResult","ngeoDataSourcesHelper_","result_","limit_","queryCountFirst_","queryCountFirst","tolerancePx_","dataSourceNames_","pending","handleResult_","total","sources","queried","tooManyResults","idStr","querentResultItem","typeSeparatedFeatures","filteredProperties","alias","unset","featuresByType","_Querent2","_AttributeType","geomType","array1","array2","dontConvert","lengthDiff","diffs","__WEBPACK_IMPORTED_MODULE_0__to_int__","__WEBPACK_IMPORTED_MODULE_0__utils_is_function__","_dayOfMonthOrdinalParseLenient","_dayOfMonthOrdinalParse","_ordinalParse","childConfig","__WEBPACK_IMPORTED_MODULE_1__utils_extend__","__WEBPACK_IMPORTED_MODULE_3__utils_has_own_prop__","__WEBPACK_IMPORTED_MODULE_2__utils_is_object__","_calendar","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","_longDateFormat","formatUpper","defaultLongDateFormat","LTS","LT","LL","LLL","LLLL","_invalidDate","defaultInvalidDate","_ordinal","defaultOrdinal","defaultDayOfMonthOrdinalParse","withoutSuffix","isFuture","_relativeTime","diff","defaultRelativeTime","future","past","ss","mm","hh","MM","_DataSourceBeingFiltered2","_ExternalDataSourcesManager2","_datasourceGroupTreeComponent2","_SyncLayertreeMap2","_Popup2","gmfLayertreeTemplate","$element","component_","bindings","openLinksInNewWindow","component","ngeoCreatePopup","gmfDataSourceBeingFiltered","gmfExternalDataSourcesManager","gmfSyncLayertreeMap","scope_","$sce_","gmfSyncLayertreeMap_","infoPopup_","promises_","groupNodeStates_","dataLayerGroup_","$apply","DATALAYERGROUP_NAME","_syncArrays2","render","updateDimensions_","updateLayerDimensions_","once","listeners","toggleActive","getNodeState","updateWMSTimeLayerState","layertreeCtrl","getLegendIconURL","iconUrl","legendRule","gmfOgcServer","getLegendsObject","legendsObject","gmfLayerDefaultName","legendImage","wmtsLegendURL","layersNames","getScale_","getNumberOfLegendsObject","getMetersPerUnit","displayMetadata","treeUid","metadataURL","resp","infoPopup","afterReorder","groupNodes","currentTreeCtrls","treeCtrls","removeNode","removeAllNodes","nodesCount","getResolutionStyle","zoomToResolution","setResolution","constrainResolution","toggleNodeLegend","legendNodeId","toggle","toggleFiltrableDataSource","isNodeLegendVisible","supportsCustomization","supportsLegend","supportsOpacityChange","gettext","fileReader","isValidFileSize","fileSize","isWmsGetCap","fileContent","isWmtsGetCap","onload","reason","readAsText","opt_cancelP","unregister_","_class","toggleVisibilityState","isDefined","noop","nodeContains","htmlParser","htmlSanitizeWriter","$sanitizeMinErr","$$minErr","provider","svgEnabled","$get","$$sanitizeUri","validElements","svgElements","buf","isImage","enableSvg","handler","inertBodyElement","getInertBodyElement","mXSSAttempts","attrToMap","chars","nextNode","getNonDescendant","uriValidator","ignoreCurrentElement","tag","blockedElements","validAttrs","uriAttrs","encodeEntities","voidElements","compareDocumentPosition","SURROGATE_PAIR_REGEXP","NON_ALPHANUMERIC_REGEXP","toMap","optionalEndTagBlockElements","optionalEndTagInlineElements","optionalEndTagElements","blockElements","inlineElements","htmlAttrs","svgAttrs","str","lowercaseKeys","items","inertDocument","implementation","createHTMLDocument","documentElement","getDocumentElement","querySelector","DOMParser","parseFromString","documentMode","stripCustomNsAttrs","encodeURI","xhr","XMLHttpRequest","responseType","send","attr","attrNode","attrName","lastIndexOf","removeAttributeNode","propName","outerHTML","outerText","angularVersion","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","linkyMinErr","isFunction","isObject","isString","attributesFn","addText","addLink","linkAttributes","arr1","arr2","dereg1","dereg2","wfsDescribeFeatureTypeDefer","wfsDescribeFeatureType","ogcLayerName","complexType","complexContent","_WFSAttribute2","setAttributes","toolContext","activePropertyName","authenticationBaseUrl","gmfUser","baseUrl_","user_","load_","_olEventsEventTarget","RouteSuffix","IS_LOGGED_IN","handleLogin_","oldPwd","newPwd","confPwd","CHANGE_PASSWORD","oldPassword","newPassword","confirmNewPassword","login","pwd","LOGIN","password","LOGOUT","resetUser_","RESET_PASSWORD","successFn","role_id","checkingLoginStatus","respData","setUser_","user","emitEvent","username","is_password_changed","role_name","btnGroupComponent_","$parse","buttons_","buttonModel","newValue","BtnGroupController","activate","expressionFn","addButton","btnComponent_","require","ctrls","buttonsCtrl","ngModelCtrl","indexInGroup","ngModelGet","ngModelSet","$setViewValue","$viewValue","$render","toggleClass","ModifyEventType","Modify","handleDragEvent","handleDragEvent_","primaryAction","defaultDeleteCondition_","altKeyOnly","deleteCondition_","deleteCondition","insertVertexCondition_","insertVertexCondition","vertexFeature_","vertexSegments_","lastPixel_","ignoreNextSingleClick_","modified_","RBush","snappedToVertex_","changingFeature_","dragSegments_","Collection","VectorEventType","handleSourceAdd_","handleSourceRemove_","addFeature_","CollectionEventType","lastPointerEvent_","MODIFY_SEGMENT_CIRCLE_CENTER_INDEX","MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX","isRendered","handlePointerAtPixel_","willModifyFeatures_","removeFeature_","removeFeatureSegmentData_","centerSegmentData","circumferenceSegmentData","featureSegments","createOrUpdateVertexFeature_","vertexFeature","compareIndexes_","insertVertices","vertexExtent","segmentDataMatches","componentSegments","segmentDataMatch","closestVertex","closestOnSegmentData_","equals","insertVertex_","dragSegment","setGeometryCoordinates_","update","handled","getInteracting","SINGLECLICK","removePoint","pointDistanceToSegmentDataSquared_","vertexSegments","pointCoordinates","circleGeometry","distanceToCenterSquared","distanceToCircumference","getClosestPoint","rTree","updateSegmentIndices_","newSegmentData","newSegmentData2","removeVertex_","dragSegments","segmentsByFeature","newIndex","deleted","mapBrowserPointerEvent","feature_","format_","_GeoJSON2","updatingExpression_","updatingGeometry_","geometryChangeListenerKey_","_Object2","handleFeatureGeometryChange_","setGeometryFromExpression_","registerGeometryChange_","handleGeometryChange_","choices_","registerTool","tool","opt_defaultActivate","entries","deactivateTools_","activateDefault_","defaultTool","ENABLE_ASSERTS","defaultTools","entry","unregisterTool","unregisterGroup","activateTool","deactivateTool","hasActiveTool","ngModel","transclude","resizable","$element_","$scope_","modal_","dialog","draggable","modal","complexTypeElements","readFromComplexTypeElement_","required","_Attribute2","setGeometryType","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","years","quarters","quarter","weeks","days","milliseconds","unitHasDecimal","isDurationValid","_milliseconds","_days","_data","_bubble","isDuration","absRound","offset_offset","separator","utcOffset","zero_fill","offsetFromString","chunkOffset","matcher","matches","cloneWithOffset","model","setTime","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","parseIso","base","isBefore","positiveMomentsDifference","momentsDifference","inp","isAfter","createAdder","direction","period","addSubtract","isAdding","invalid","monthDiff","wholeMonthDiff","locale_locale","newLocaleData","defaultFormat","defaultFormatUtc","lang","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","dayOfYearData","isoWeekYear","getSetDayOfMonth","getSetMinute","millisecond_token","getSetSecond","parseMs","getSetMillisecond","proto","calendar","sod","startOf","calendarFormat","is_function","asFloat","zoneDelta","abs_floor","endOf","inputString","postformat","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","isoWeekday","toArray","toObject","toDate","keepOffset","inspect","isLocal","suffix","toJSON","unix","creationData","isoWeek","units_week","isoWeeks","weekInfo","isoWeeksInYear","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","from_anything","create_utc","compare_arrays","moment_prototype","preParsePostFormat","prototype_proto","locale_constructor","field","setter","listMonthsImpl","listWeekdaysImpl","localeSorted","locale_calendar","locale_formats","relativeTime","relative","pastFuture","firstDayOfYear","firstDayOfWeek","dayOfMonthOrdinalParse","langData","mathAbs","add_subtract_addSubtract","absCeil","daysToMonths","monthsToDays","makeAs","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","makeGetter","get_milliseconds","get_seconds","get_minutes","get_hours","get_days","get_months","get_years","thresholds","iso_string_abs","iso_string_sign","iso_string_toISOString","toFixed","totalSign","ymSign","daysSign","hmsSign","duration_prototype_proto","monthsFromDays","withSuffix","posNegDuration","toIsoString","isDate","isMoment","updateLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME_SECONDS","TIME_MS","originalModule","webpackPolyfill","create","enumerable","baseConfig","__WEBPACK_IMPORTED_MODULE_0__calendar__","__WEBPACK_IMPORTED_MODULE_1__formats__","__WEBPACK_IMPORTED_MODULE_2__invalid__","__WEBPACK_IMPORTED_MODULE_3__ordinal__","__WEBPACK_IMPORTED_MODULE_4__relative__","__WEBPACK_IMPORTED_MODULE_5__units_month__","__WEBPACK_IMPORTED_MODULE_6__units_week__","__WEBPACK_IMPORTED_MODULE_7__units_day_of_week__","meridiemParse","__WEBPACK_IMPORTED_MODULE_8__units_hour__","_XML2","_xml2","readElement_","readComplexType_","COMPLEX_TYPE_PARSERS_","readComplexContent_","COMPLEX_CONTENT_PARSERS_","readExtension_","EXTENSION_PARSERS_","readSequence_","SEQUENCE_PARSERS_","extension","sequence","WMSCapabilities","__WEBPACK_IMPORTED_MODULE_2__format_XML_js__","wmsCapabilityObject","readAttribution_","ATTRIBUTION_PARSERS_","readBoundingBox_","__WEBPACK_IMPORTED_MODULE_3__format_XSD_js__","readEXGeographicBoundingBox_","geographicBoundingBox","EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_","westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude","readCapability_","CAPABILITY_PARSERS_","readService_","SERVICE_PARSERS_","readContactInformation_","CONTACT_INFORMATION_PARSERS_","readContactPersonPrimary_","CONTACT_PERSON_PARSERS_","readContactAddress_","CONTACT_ADDRESS_PARSERS_","readException_","EXCEPTION_PARSERS_","readCapabilityLayer_","parentLayerObject","layerObject","cascaded","noSubsets","fixedWidth","fixedHeight","childValue","parentValue","readDimension_","unitSymbol","multipleValues","nearestValue","readFormatOnlineresource_","FORMAT_ONLINERESOURCE_PARSERS_","readRequest_","REQUEST_PARSERS_","readDCPType_","DCPTYPE_PARSERS_","readHTTP_","readOperationType_","OPERATIONTYPE_PARSERS_","readSizedFormatOnlineresource_","formatOnlineresource","readAuthorityURL_","authorityObject","readMetadataURL_","metadataObject","readKeywordList_","KEYWORDLIST_PARSERS_","Service","Capability","Request","Exception","Name","KeywordList","OnlineResource","__WEBPACK_IMPORTED_MODULE_1__format_XLink_js__","ContactInformation","LayerLimit","MaxWidth","MaxHeight","ContactPersonPrimary","ContactPosition","ContactAddress","ContactVoiceTelephone","ContactFacsimileTelephone","ContactElectronicMailAddress","ContactPerson","ContactOrganization","AddressType","StateOrProvince","PostCode","CRS","EX_GeographicBoundingBox","BoundingBox","Attribution","AuthorityURL","MetadataURL","DataURL","FeatureListURL","MinScaleDenominator","MaxScaleDenominator","LogoURL","GetCapabilities","GetMap","GetFeatureInfo","DCPType","StyleSheetURL","StyleURL","Keyword","ngeoFeatures","interactions_","drawPoint","measureLength","measureArea","measureAzimut","drawRectangle","drawText","registerInteraction","handleActiveChange","handleDrawEnd","sketch","br","_OGC","gmfLayer_","_modalComponent2","gmfAuthenticationTemplateUrl","gmfAuthenticationTemplateUrl_","allowPasswordChange","forcePasswordChange","AuthenticationController_","gmfAuthenticationService","gmfAuthenticationService_","notification_","allowPasswordReset","changingPassword","changePasswordModalShown","resetPasswordModalShown","loginVal","pwdVal","oldPwdVal","newPwdVal","newPwdConfVal","onLoginReady_","setError_","changePassword","changePasswordReset","resetError_","logout","resetPasswordSuccessFn","resetPassword","ngeoBackgroundLayerMgr","gmfWFSAliases","ngeoDataSources_","gmfWFSAliases_","dataSourcesCache_","treeCtrlCache_","handleNgeoBackgroundLayerChange_","clearDataSources_","clearTreeCtrlCache_","promiseThemes","createDataSource_","promiseBgLayers","backgroundLayers","backgroundLayer","handleTreeManagerRootChildrenChange_","newTreeCtrls","newTreeCtrl","getTreeCtrlCacheItem_","addTreeCtrlToCache_","removeTreeCtrlCacheItem_","meta","queryLayers","wmsLayers","childLayer","isSingleTile","_OGC4","identifierAttributeField","timeAttribute","filterRulesWatcherUnregister","hasFilters","isVisible","handleDataSourceFilterRulesChange_","timeLowerValueWatcherUnregister","timeUpperValueWatcherUnregister","wmsLayer","handleDataSourceTimeValueChange_","describe","treeDataSource","siblingDataSourceIds","layersList","previousBackgroundLayer","currentBackgroundLayer","_WFSAliases2","_BackgroundLayerMgr2","getDataSourceAttributes","_MapQuerent2","ngeoMapQuerent","elem","_DragBox2","platformModifierKeyOnly","clickEventKey_","pointerMoveEventKey_","handleMapClick_","getEventPixel","hit","forEachLayerAtPixel","sourceids","getTargetElement","cursor","cursorHover","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","ui","menuOptions","opt_overlayOptions","_OverlayPositioning2","clickOutListenerKey_","autoClose_","autoClose","headerEl","appendTo","actionsEl","actions_","actions","action","data-name","prepend","handleActionClick_","handleMapPointerMove_","handleClickOut_","closest","Element","keyPressListenerKey_","coordinate_","centerCoordinate_","_Modify2","centerFeatures_","handleDown_","handleDrag_","handleUp_","handleKeyUp_","getCenterCoordinate_","centerFeature","forEachFeatureAtPixel","getFlatMidpoint","getFlatInteriorPoint","oldX","oldY","centerX","centerY","dx1","dy1","dx0","dy0","a0","keyCode","featureListenerKeys_","myFeatures_","vectorSource_","_Translate2","setState_","handleFeaturesAdd_","handleFeaturesRemove_","getGeometryCenterPoint_","TranslateEventType","Translate","handleMoveEvent","handleMoveEvent_","layerFilter","lastCoordinate_","layerFilter_","hitTolerance_","hitTolerance","lastFeature_","handleActiveChanged_","featuresAtPixel_","newCoordinate","getViewport","getHitTolerance","setHitTolerance","oldMap","ngeoDatePickerTemplateUrl","onDateSelected","getCurrentLanguage","sdateOptions","onClose","selectedDate","datepicker","edateOptions","dp","ngeoTime","ngeoTime_","isModeRange","initialMinDate","initialMaxDate","changeMonth","changeYear","sdate","edate","$watchGroup","newDates","oldDates","sDate","eDate","initialOptions_","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","modules","installedModules","moduleId","_jquery2","_interopRequireDefault","_angular2","__esModule","constant","uiDateFormatConfig","stringToDate","valueToParse","parseDate","isoDate","isNumber","dateToString","uiDateFormat","formatDate","formatException","uiDateConfig","uiDateConverter","uiDate","showing","opts","setVal","forcedUpdate","$modelValue","preserve","toDateString","newViewValue","_onSelect","onSelect","picker","blur","_beforeShow","beforeShow","_onClose","focusEvent","readonly","stopImmediatePropagation","off","$validators","uiDateValidator","modelValue","viewValue","$parsers","modelCtrl","$formatters","datepicker_instActive","Datepicker","_curInst","_keyEvent","_disabledInputs","_datepickerShowing","_inDialog","_mainDivId","_inlineClass","_appendClass","_triggerClass","_dialogClass","_disableClass","_unselectableClass","_currentClass","_dayOverClass","regional","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","firstDay","isRTL","showMonthAfterYear","yearSuffix","_defaults","showOn","showAnim","showOptions","defaultDate","appendText","buttonText","buttonImage","buttonImageOnly","hideIfNoPrevNext","navigationAsDateFormat","gotoCurrent","yearRange","showOtherMonths","selectOtherMonths","showWeek","calculateWeek","iso8601Week","shortYearCutoff","beforeShowDay","onChangeMonthYear","numberOfMonths","showCurrentAtPos","stepMonths","stepBigMonths","altField","altFormat","constrainInput","showButtonPanel","autoSize","disabled","dpDiv","datepicker_bindHover","selector","removeClass","className","datepicker_handleMouseover","_isDisabledDatepicker","inline","parents","datepicker_extendRemove","props","markerClassName","maxRows","_widgetDatepicker","setDefaults","settings","_attachDatepicker","inst","uuid","_newInst","_connectDatepicker","_inlineDatepicker","selectedDay","selectedMonth","selectedYear","drawMonth","drawYear","trigger","_attachments","_doKeyDown","_doKeyPress","_doKeyUp","_autoSize","_disableDatepicker","_showDatepicker","alt","_lastInput","_hideDatepicker","findMax","maxI","setDate","_formatDate","divSpan","_setDate","_getDefaultDate","_updateDatepicker","_updateAlternate","_dialogDatepicker","browserWidth","browserHeight","scrollX","scrollY","_dialogInst","_dialogInput","_pos","pageX","pageY","clientWidth","clientHeight","scrollLeft","scrollTop","blockUI","_destroyDatepicker","$target","removeData","_enableDatepicker","each","_getInst","_optionDatepicker","_getDateDatepicker","_getMinMaxDate","_changeDatepicker","_refreshDatepicker","_setDateDatepicker","noDefault","_setDateFromField","_getDate","dateStr","sel","_selectDay","_adjustDate","ctrlKey","metaKey","_clearDate","_gotoToday","altKey","chr","_possibleChars","charCode","lastVal","_getFormatConfig","beforeShowSettings","isFixed","stop","_findPos","offsetHeight","display","_checkOffset","datepicker_getZindex","effects","effect","_shouldFocusInput","_generateHTML","_attachHandlers","origyearshtml","numMonths","_getNumberOfMonths","cols","activeCell","yearshtml","replaceWith","dpWidth","outerWidth","dpHeight","outerHeight","inputWidth","inputHeight","expr","hidden","postProcess","_tidyDialog","hide","unblockUI","_checkExternalClick","_adjustInstDate","currentDay","currentMonth","currentYear","_notifyChange","_selectMonthYear","select","selectedIndex","td","_selectDate","noWeekends","checkDate","iFormat","extra","iValue","shortYearCutoffTemp","literal","lookAhead","isDoubled","digits","getName","shortNames","longNames","checkLiteral","_ticksTo1970","_getDaysInMonth","_daylightSavingAdjust","ATOM","COOKIE","RFC_822","RFC_850","RFC_1036","RFC_1123","RSS","TICKS","TIMESTAMP","W3C","formatNumber","formatName","_restrictMinMax","_determineDate","newDate","offsetString","offsetNumeric","setHours","setMinutes","setSeconds","setMilliseconds","getHours","noChange","origMonth","origYear","prev","today","selectDay","selectMonth","selectYear","maxDraw","gotoDate","controls","buttonPanel","col","cornerClass","calender","thead","leadDays","curRows","numRows","printDate","dRow","tbody","daySettings","otherMonth","unselectable","tempDate","isMultiMonth","_canAdjustMonth","_isInRange","_generateMonthYearHeader","_getFirstDayOfMonth","secondary","inMinYear","inMaxYear","thisYear","determineYear","endYear","monthHtml","onChange","minMax","curYear","curMonth","yearSplit","minYear","maxYear","initialized","otherArgs","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","PAGE_DOWN","PAGE_UP","PERIOD","SPACE","TAB","UP","_point2","_rectangle2","_text2","_area2","_azimut2","_length2","drawFeatureCtrl","contMsg","_MeasureArea2","fromCircle","_MeasureLength2","otherFeatures_","circleFeatures_","_ModifyCircle2","rectangleFeatures_","_ModifyRectangle2","TRUE","interactions","getFeatureCollection_","isRectangle","_RBush2","boundingExtent","_coordinate2","vectorPoints_","featureGeom","pointSource","corners","pointFeatures","cornerPoint","cornerFeature","corner","siblingX","siblingY","boxFeature","previousFeature","nextFeature","initializeParams_","originPoint","originCoordinate","originPixel","siblingXPoint","siblingXCoordinate","siblingXPixel","vectorX","vectorXMagnitude","siblingYPoint","siblingYCoordinate","siblingYPixel","vectorY","vectorYMagnitude","destinationPixel","b2Pixel","calculateNewPixel_","b2Coordinate","c2Pixel","c2Coordinate","vector","aVector","abScalarProduct","deltaVector","currentDataSourceId_","currentDataSourceItems_","localStorageKey_","items_","rePopulateCurrentDataSourceItems_","loadItemsFromLocalStorage_","idx","indexOfItem","saveItemsInLocalStorage_","Item","customRules","directedRules","_module4","_component4","_ToolActivateMgr2","MainController","gmfDataSourcesManager","ngeoToolActivateMgr","_OSM2","setDatasourceMap","toolGroup","filterSelectorActive","filterSelectorToolActivate","_ToolActivate2","dummyActive","dummyToolActivate","queryActive","queryToolActivate","tooltip","_filterselectorComponent2","_SavedFilters2","_Helper2","gmfDataSourcesHelper","gmfSavedFilters","handleActiveChange_","handleSelectedDataSourceChange_","gmfDataSourcesHelper_","currentDataSourceItems","saveFilterManageModalShown","handleGmfUserFunctionalitiesChange_","featureOverlay","aRuleIsActive","filtrableDataSources","filtrableLayerNodeNames_","gmfDataSources_","readyDataSource","ruleCache_","saveFilterSaveModalShown","saveFilterName","enableDataSourceRegistration_","handleEnableDataSourceRegistrationChange_","defaultFiltrableDataSourceName_","toggleDataSourceRegistration_","usrFunc","newDataSourceRegistration","isDataSourceFiltrable_","opt_notify","msgs","currentDataSourceId","prepareFiltrableDataSource","getRuleCacheItem_","setRuleCacheItem_","directedFilterAttributes","directedAttributes","alreadyExist","confirm","serializeRules","save","filterItem","createRules","cacheItem","RuleCache","RuleCacheItem","gmfEnumerateAttribute","gmfEnumerateAttribute_","prepareFiltrableDataSourceDefer","enumAttributes","enumeratedAttributes","getAttributeValues","choice","_EnumerateAttribute2","gmfLayersUrl","promiseId","handleGetAttributeValues_","_ruleComponent2","datasource","FilterController_","ngeoMapQuerent_","geometryAttributes","otherAttributes","ruleUnlisteners_","handleARuleIsActiveChange_","registerRule_","getRulesWithValue_","unregisterRule_","handleRuleActiveChange_","unlistener","_datepickerComponent2","RuleController_","_operators","ngeoToolActivateMgr_","ot","sot","tot","timeRangeMode","widget","createDate_","createWeekAgoDate_","interval","timeValueMode","toolActivate_","unlisteners_","drawActive","drawToolActivate","drawnFeatures","menu_","selectedFeatures","modify_","rotate_","_Rotate2","translate_","initializeInteractions_","modifyToolActivate","rotateToolActivate","translateToolActivate","cloneRule","supportedTypes","hasExpression","isActive","editToolIsActive","extendRule","reset","opt_timeDelta","toLocaleDateString","oldActive","toolMgr","ruleFeature","cloneFeature","mapDiv","assertElement","handleMapContextMenu_","handleTranslateEnd_","handleRotateEnd_","registerInteractions_","unregisterInteractions_","drawnFeature","_Geometry4","removeMenu_","_Menu2","handleMenuActionClick_"],"mappings":"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","file":"filterselector.dcf4be3d7d3ebef9f0b9.js","sourcesContent":["/**\n * @module ol/format/XSD\n */\nimport _ol_xml_ from '../xml.js';\nimport _ol_string_ from '../string.js';\nconst XSD = {};\n\n\n/**\n * @param {Node} node Node.\n * @return {boolean|undefined} Boolean.\n */\nXSD.readBoolean = function(node) {\n  const s = _ol_xml_.getAllTextContent(node, false);\n  return XSD.readBooleanString(s);\n};\n\n\n/**\n * @param {string} string String.\n * @return {boolean|undefined} Boolean.\n */\nXSD.readBooleanString = function(string) {\n  const m = /^\\s*(true|1)|(false|0)\\s*$/.exec(string);\n  if (m) {\n    return m[1] !== undefined || false;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {number|undefined} DateTime in seconds.\n */\nXSD.readDateTime = function(node) {\n  const s = _ol_xml_.getAllTextContent(node, false);\n  const dateTime = Date.parse(s);\n  return isNaN(dateTime) ? undefined : dateTime / 1000;\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {number|undefined} Decimal.\n */\nXSD.readDecimal = function(node) {\n  const s = _ol_xml_.getAllTextContent(node, false);\n  return XSD.readDecimalString(s);\n};\n\n\n/**\n * @param {string} string String.\n * @return {number|undefined} Decimal.\n */\nXSD.readDecimalString = function(string) {\n  // FIXME check spec\n  const m = /^\\s*([+\\-]?\\d*\\.?\\d+(?:e[+\\-]?\\d+)?)\\s*$/i.exec(string);\n  if (m) {\n    return parseFloat(m[1]);\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {number|undefined} Non negative integer.\n */\nXSD.readNonNegativeInteger = function(node) {\n  const s = _ol_xml_.getAllTextContent(node, false);\n  return XSD.readNonNegativeIntegerString(s);\n};\n\n\n/**\n * @param {string} string String.\n * @return {number|undefined} Non negative integer.\n */\nXSD.readNonNegativeIntegerString = function(string) {\n  const m = /^\\s*(\\d+)\\s*$/.exec(string);\n  if (m) {\n    return parseInt(m[1], 10);\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {string|undefined} String.\n */\nXSD.readString = function(node) {\n  return _ol_xml_.getAllTextContent(node, false).trim();\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the boolean to.\n * @param {boolean} bool Boolean.\n */\nXSD.writeBooleanTextNode = function(node, bool) {\n  XSD.writeStringTextNode(node, (bool) ? '1' : '0');\n};\n\n\n/**\n * @param {Node} node Node to append a CDATA Section with the string to.\n * @param {string} string String.\n */\nXSD.writeCDATASection = function(node, string) {\n  node.appendChild(_ol_xml_.DOCUMENT.createCDATASection(string));\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the dateTime to.\n * @param {number} dateTime DateTime in seconds.\n */\nXSD.writeDateTimeTextNode = function(node, dateTime) {\n  const date = new Date(dateTime * 1000);\n  const string = date.getUTCFullYear() + '-' +\n      _ol_string_.padNumber(date.getUTCMonth() + 1, 2) + '-' +\n      _ol_string_.padNumber(date.getUTCDate(), 2) + 'T' +\n      _ol_string_.padNumber(date.getUTCHours(), 2) + ':' +\n      _ol_string_.padNumber(date.getUTCMinutes(), 2) + ':' +\n      _ol_string_.padNumber(date.getUTCSeconds(), 2) + 'Z';\n  node.appendChild(_ol_xml_.DOCUMENT.createTextNode(string));\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the decimal to.\n * @param {number} decimal Decimal.\n */\nXSD.writeDecimalTextNode = function(node, decimal) {\n  const string = decimal.toPrecision();\n  node.appendChild(_ol_xml_.DOCUMENT.createTextNode(string));\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the decimal to.\n * @param {number} nonNegativeInteger Non negative integer.\n */\nXSD.writeNonNegativeIntegerTextNode = function(node, nonNegativeInteger) {\n  const string = nonNegativeInteger.toString();\n  node.appendChild(_ol_xml_.DOCUMENT.createTextNode(string));\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the string to.\n * @param {string} string String.\n */\nXSD.writeStringTextNode = function(node, string) {\n  node.appendChild(_ol_xml_.DOCUMENT.createTextNode(string));\n};\nexport default XSD;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/XSD.js\n// module id = 17\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24","/**\n * @module ol/geom/MultiLineString\n */\nimport {inherits} from '../index.js';\nimport {extend} from '../array.js';\nimport {closestSquaredDistanceXY} from '../extent.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport LineString from '../geom/LineString.js';\nimport SimpleGeometry from '../geom/SimpleGeometry.js';\nimport _ol_geom_flat_closest_ from '../geom/flat/closest.js';\nimport _ol_geom_flat_deflate_ from '../geom/flat/deflate.js';\nimport _ol_geom_flat_inflate_ from '../geom/flat/inflate.js';\nimport _ol_geom_flat_interpolate_ from '../geom/flat/interpolate.js';\nimport _ol_geom_flat_intersectsextent_ from '../geom/flat/intersectsextent.js';\nimport _ol_geom_flat_simplify_ from '../geom/flat/simplify.js';\n\n/**\n * @classdesc\n * Multi-linestring geometry.\n *\n * @constructor\n * @extends {ol.geom.SimpleGeometry}\n * @param {Array.<Array.<ol.Coordinate>>} coordinates Coordinates.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nconst MultiLineString = function(coordinates, opt_layout) {\n\n  SimpleGeometry.call(this);\n\n  /**\n   * @type {Array.<number>}\n   * @private\n   */\n  this.ends_ = [];\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxDelta_ = -1;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxDeltaRevision_ = -1;\n\n  this.setCoordinates(coordinates, opt_layout);\n\n};\n\ninherits(MultiLineString, SimpleGeometry);\n\n\n/**\n * Append the passed linestring to the multilinestring.\n * @param {ol.geom.LineString} lineString LineString.\n * @api\n */\nMultiLineString.prototype.appendLineString = function(lineString) {\n  if (!this.flatCoordinates) {\n    this.flatCoordinates = lineString.getFlatCoordinates().slice();\n  } else {\n    extend(this.flatCoordinates, lineString.getFlatCoordinates().slice());\n  }\n  this.ends_.push(this.flatCoordinates.length);\n  this.changed();\n};\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.MultiLineString} Clone.\n * @override\n * @api\n */\nMultiLineString.prototype.clone = function() {\n  const multiLineString = new MultiLineString(null);\n  multiLineString.setFlatCoordinates(\n    this.layout, this.flatCoordinates.slice(), this.ends_.slice());\n  return multiLineString;\n};\n\n\n/**\n * @inheritDoc\n */\nMultiLineString.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n    return minSquaredDistance;\n  }\n  if (this.maxDeltaRevision_ != this.getRevision()) {\n    this.maxDelta_ = Math.sqrt(_ol_geom_flat_closest_.getsMaxSquaredDelta(\n      this.flatCoordinates, 0, this.ends_, this.stride, 0));\n    this.maxDeltaRevision_ = this.getRevision();\n  }\n  return _ol_geom_flat_closest_.getsClosestPoint(\n    this.flatCoordinates, 0, this.ends_, this.stride,\n    this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n};\n\n\n/**\n * Returns the coordinate at `m` using linear interpolation, or `null` if no\n * such coordinate exists.\n *\n * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n * M will return the first coordinate and Ms greater than the last M will\n * return the last coordinate.\n *\n * `opt_interpolate` controls interpolation between consecutive LineStrings\n * within the MultiLineString. If `opt_interpolate` is `true` the coordinates\n * will be linearly interpolated between the last coordinate of one LineString\n * and the first coordinate of the next LineString.  If `opt_interpolate` is\n * `false` then the function will return `null` for Ms falling between\n * LineStrings.\n *\n * @param {number} m M.\n * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n * @param {boolean=} opt_interpolate Interpolate. Default is `false`.\n * @return {ol.Coordinate} Coordinate.\n * @api\n */\nMultiLineString.prototype.getCoordinateAtM = function(m, opt_extrapolate, opt_interpolate) {\n  if ((this.layout != GeometryLayout.XYM &&\n       this.layout != GeometryLayout.XYZM) ||\n      this.flatCoordinates.length === 0) {\n    return null;\n  }\n  const extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n  const interpolate = opt_interpolate !== undefined ? opt_interpolate : false;\n  return _ol_geom_flat_interpolate_.lineStringsCoordinateAtM(this.flatCoordinates, 0,\n    this.ends_, this.stride, m, extrapolate, interpolate);\n};\n\n\n/**\n * Return the coordinates of the multilinestring.\n * @return {Array.<Array.<ol.Coordinate>>} Coordinates.\n * @override\n * @api\n */\nMultiLineString.prototype.getCoordinates = function() {\n  return _ol_geom_flat_inflate_.coordinatess(\n    this.flatCoordinates, 0, this.ends_, this.stride);\n};\n\n\n/**\n * @return {Array.<number>} Ends.\n */\nMultiLineString.prototype.getEnds = function() {\n  return this.ends_;\n};\n\n\n/**\n * Return the linestring at the specified index.\n * @param {number} index Index.\n * @return {ol.geom.LineString} LineString.\n * @api\n */\nMultiLineString.prototype.getLineString = function(index) {\n  if (index < 0 || this.ends_.length <= index) {\n    return null;\n  }\n  const lineString = new LineString(null);\n  lineString.setFlatCoordinates(this.layout, this.flatCoordinates.slice(\n    index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]));\n  return lineString;\n};\n\n\n/**\n * Return the linestrings of this multilinestring.\n * @return {Array.<ol.geom.LineString>} LineStrings.\n * @api\n */\nMultiLineString.prototype.getLineStrings = function() {\n  const flatCoordinates = this.flatCoordinates;\n  const ends = this.ends_;\n  const layout = this.layout;\n  /** @type {Array.<ol.geom.LineString>} */\n  const lineStrings = [];\n  let offset = 0;\n  let i, ii;\n  for (i = 0, ii = ends.length; i < ii; ++i) {\n    const end = ends[i];\n    const lineString = new LineString(null);\n    lineString.setFlatCoordinates(layout, flatCoordinates.slice(offset, end));\n    lineStrings.push(lineString);\n    offset = end;\n  }\n  return lineStrings;\n};\n\n\n/**\n * @return {Array.<number>} Flat midpoints.\n */\nMultiLineString.prototype.getFlatMidpoints = function() {\n  const midpoints = [];\n  const flatCoordinates = this.flatCoordinates;\n  let offset = 0;\n  const ends = this.ends_;\n  const stride = this.stride;\n  let i, ii;\n  for (i = 0, ii = ends.length; i < ii; ++i) {\n    const end = ends[i];\n    const midpoint = _ol_geom_flat_interpolate_.lineString(\n      flatCoordinates, offset, end, stride, 0.5);\n    extend(midpoints, midpoint);\n    offset = end;\n  }\n  return midpoints;\n};\n\n\n/**\n * @inheritDoc\n */\nMultiLineString.prototype.getSimplifiedGeometryInternal = function(squaredTolerance) {\n  const simplifiedFlatCoordinates = [];\n  const simplifiedEnds = [];\n  simplifiedFlatCoordinates.length = _ol_geom_flat_simplify_.douglasPeuckers(\n    this.flatCoordinates, 0, this.ends_, this.stride, squaredTolerance,\n    simplifiedFlatCoordinates, 0, simplifiedEnds);\n  const simplifiedMultiLineString = new MultiLineString(null);\n  simplifiedMultiLineString.setFlatCoordinates(\n    GeometryLayout.XY, simplifiedFlatCoordinates, simplifiedEnds);\n  return simplifiedMultiLineString;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nMultiLineString.prototype.getType = function() {\n  return GeometryType.MULTI_LINE_STRING;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nMultiLineString.prototype.intersectsExtent = function(extent) {\n  return _ol_geom_flat_intersectsextent_.lineStrings(\n    this.flatCoordinates, 0, this.ends_, this.stride, extent);\n};\n\n\n/**\n * Set the coordinates of the multilinestring.\n * @param {Array.<Array.<ol.Coordinate>>} coordinates Coordinates.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @override\n * @api\n */\nMultiLineString.prototype.setCoordinates = function(coordinates, opt_layout) {\n  if (!coordinates) {\n    this.setFlatCoordinates(GeometryLayout.XY, null, this.ends_);\n  } else {\n    this.setLayout(opt_layout, coordinates, 2);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    const ends = _ol_geom_flat_deflate_.coordinatess(\n      this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n    this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n    this.changed();\n  }\n};\n\n\n/**\n * @param {ol.geom.GeometryLayout} layout Layout.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n * @param {Array.<number>} ends Ends.\n */\nMultiLineString.prototype.setFlatCoordinates = function(layout, flatCoordinates, ends) {\n  this.setFlatCoordinatesInternal(layout, flatCoordinates);\n  this.ends_ = ends;\n  this.changed();\n};\n\n\n/**\n * @param {Array.<ol.geom.LineString>} lineStrings LineStrings.\n */\nMultiLineString.prototype.setLineStrings = function(lineStrings) {\n  let layout = this.getLayout();\n  const flatCoordinates = [];\n  const ends = [];\n  let i, ii;\n  for (i = 0, ii = lineStrings.length; i < ii; ++i) {\n    const lineString = lineStrings[i];\n    if (i === 0) {\n      layout = lineString.getLayout();\n    }\n    extend(flatCoordinates, lineString.getFlatCoordinates());\n    ends.push(flatCoordinates.length);\n  }\n  this.setFlatCoordinates(layout, flatCoordinates, ends);\n};\nexport default MultiLineString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/geom/MultiLineString.js\n// module id = 18\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23","/**\n * @module ol/geom/MultiPoint\n */\nimport {inherits} from '../index.js';\nimport {extend} from '../array.js';\nimport {closestSquaredDistanceXY, containsXY} from '../extent.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Point from '../geom/Point.js';\nimport SimpleGeometry from '../geom/SimpleGeometry.js';\nimport _ol_geom_flat_deflate_ from '../geom/flat/deflate.js';\nimport _ol_geom_flat_inflate_ from '../geom/flat/inflate.js';\nimport {squaredDistance as squaredDx} from '../math.js';\n\n/**\n * @classdesc\n * Multi-point geometry.\n *\n * @constructor\n * @extends {ol.geom.SimpleGeometry}\n * @param {Array.<ol.Coordinate>} coordinates Coordinates.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nconst MultiPoint = function(coordinates, opt_layout) {\n  SimpleGeometry.call(this);\n  this.setCoordinates(coordinates, opt_layout);\n};\n\ninherits(MultiPoint, SimpleGeometry);\n\n\n/**\n * Append the passed point to this multipoint.\n * @param {ol.geom.Point} point Point.\n * @api\n */\nMultiPoint.prototype.appendPoint = function(point) {\n  if (!this.flatCoordinates) {\n    this.flatCoordinates = point.getFlatCoordinates().slice();\n  } else {\n    extend(this.flatCoordinates, point.getFlatCoordinates());\n  }\n  this.changed();\n};\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.MultiPoint} Clone.\n * @override\n * @api\n */\nMultiPoint.prototype.clone = function() {\n  const multiPoint = new MultiPoint(null);\n  multiPoint.setFlatCoordinates(this.layout, this.flatCoordinates.slice());\n  return multiPoint;\n};\n\n\n/**\n * @inheritDoc\n */\nMultiPoint.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n    return minSquaredDistance;\n  }\n  const flatCoordinates = this.flatCoordinates;\n  const stride = this.stride;\n  let i, ii, j;\n  for (i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n    const squaredDistance = squaredDx(\n      x, y, flatCoordinates[i], flatCoordinates[i + 1]);\n    if (squaredDistance < minSquaredDistance) {\n      minSquaredDistance = squaredDistance;\n      for (j = 0; j < stride; ++j) {\n        closestPoint[j] = flatCoordinates[i + j];\n      }\n      closestPoint.length = stride;\n    }\n  }\n  return minSquaredDistance;\n};\n\n\n/**\n * Return the coordinates of the multipoint.\n * @return {Array.<ol.Coordinate>} Coordinates.\n * @override\n * @api\n */\nMultiPoint.prototype.getCoordinates = function() {\n  return _ol_geom_flat_inflate_.coordinates(\n    this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n};\n\n\n/**\n * Return the point at the specified index.\n * @param {number} index Index.\n * @return {ol.geom.Point} Point.\n * @api\n */\nMultiPoint.prototype.getPoint = function(index) {\n  const n = !this.flatCoordinates ?\n    0 : this.flatCoordinates.length / this.stride;\n  if (index < 0 || n <= index) {\n    return null;\n  }\n  const point = new Point(null);\n  point.setFlatCoordinates(this.layout, this.flatCoordinates.slice(\n    index * this.stride, (index + 1) * this.stride));\n  return point;\n};\n\n\n/**\n * Return the points of this multipoint.\n * @return {Array.<ol.geom.Point>} Points.\n * @api\n */\nMultiPoint.prototype.getPoints = function() {\n  const flatCoordinates = this.flatCoordinates;\n  const layout = this.layout;\n  const stride = this.stride;\n  /** @type {Array.<ol.geom.Point>} */\n  const points = [];\n  let i, ii;\n  for (i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n    const point = new Point(null);\n    point.setFlatCoordinates(layout, flatCoordinates.slice(i, i + stride));\n    points.push(point);\n  }\n  return points;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nMultiPoint.prototype.getType = function() {\n  return GeometryType.MULTI_POINT;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nMultiPoint.prototype.intersectsExtent = function(extent) {\n  const flatCoordinates = this.flatCoordinates;\n  const stride = this.stride;\n  let i, ii, x, y;\n  for (i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n    x = flatCoordinates[i];\n    y = flatCoordinates[i + 1];\n    if (containsXY(extent, x, y)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Set the coordinates of the multipoint.\n * @param {Array.<ol.Coordinate>} coordinates Coordinates.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @override\n * @api\n */\nMultiPoint.prototype.setCoordinates = function(coordinates, opt_layout) {\n  if (!coordinates) {\n    this.setFlatCoordinates(GeometryLayout.XY, null);\n  } else {\n    this.setLayout(opt_layout, coordinates, 1);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    this.flatCoordinates.length = _ol_geom_flat_deflate_.coordinates(\n      this.flatCoordinates, 0, coordinates, this.stride);\n    this.changed();\n  }\n};\n\n\n/**\n * @param {ol.geom.GeometryLayout} layout Layout.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n */\nMultiPoint.prototype.setFlatCoordinates = function(layout, flatCoordinates) {\n  this.setFlatCoordinatesInternal(layout, flatCoordinates);\n  this.changed();\n};\nexport default MultiPoint;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/geom/MultiPoint.js\n// module id = 20\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23","/**\n * @module ol/geom/MultiPolygon\n */\nimport {inherits} from '../index.js';\nimport {extend} from '../array.js';\nimport {closestSquaredDistanceXY} from '../extent.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport Polygon from '../geom/Polygon.js';\nimport SimpleGeometry from '../geom/SimpleGeometry.js';\nimport _ol_geom_flat_area_ from '../geom/flat/area.js';\nimport _ol_geom_flat_center_ from '../geom/flat/center.js';\nimport _ol_geom_flat_closest_ from '../geom/flat/closest.js';\nimport _ol_geom_flat_contains_ from '../geom/flat/contains.js';\nimport _ol_geom_flat_deflate_ from '../geom/flat/deflate.js';\nimport _ol_geom_flat_inflate_ from '../geom/flat/inflate.js';\nimport _ol_geom_flat_interiorpoint_ from '../geom/flat/interiorpoint.js';\nimport _ol_geom_flat_intersectsextent_ from '../geom/flat/intersectsextent.js';\nimport _ol_geom_flat_orient_ from '../geom/flat/orient.js';\nimport _ol_geom_flat_simplify_ from '../geom/flat/simplify.js';\n\n/**\n * @classdesc\n * Multi-polygon geometry.\n *\n * @constructor\n * @extends {ol.geom.SimpleGeometry}\n * @param {Array.<Array.<Array.<ol.Coordinate>>>} coordinates Coordinates.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nconst MultiPolygon = function(coordinates, opt_layout) {\n\n  SimpleGeometry.call(this);\n\n  /**\n   * @type {Array.<Array.<number>>}\n   * @private\n   */\n  this.endss_ = [];\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.flatInteriorPointsRevision_ = -1;\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.flatInteriorPoints_ = null;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxDelta_ = -1;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxDeltaRevision_ = -1;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.orientedRevision_ = -1;\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.orientedFlatCoordinates_ = null;\n\n  this.setCoordinates(coordinates, opt_layout);\n\n};\n\ninherits(MultiPolygon, SimpleGeometry);\n\n\n/**\n * Append the passed polygon to this multipolygon.\n * @param {ol.geom.Polygon} polygon Polygon.\n * @api\n */\nMultiPolygon.prototype.appendPolygon = function(polygon) {\n  /** @type {Array.<number>} */\n  let ends;\n  if (!this.flatCoordinates) {\n    this.flatCoordinates = polygon.getFlatCoordinates().slice();\n    ends = polygon.getEnds().slice();\n    this.endss_.push();\n  } else {\n    const offset = this.flatCoordinates.length;\n    extend(this.flatCoordinates, polygon.getFlatCoordinates());\n    ends = polygon.getEnds().slice();\n    let i, ii;\n    for (i = 0, ii = ends.length; i < ii; ++i) {\n      ends[i] += offset;\n    }\n  }\n  this.endss_.push(ends);\n  this.changed();\n};\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.MultiPolygon} Clone.\n * @override\n * @api\n */\nMultiPolygon.prototype.clone = function() {\n  const multiPolygon = new MultiPolygon(null);\n\n  const len = this.endss_.length;\n  const newEndss = new Array(len);\n  for (let i = 0; i < len; ++i) {\n    newEndss[i] = this.endss_[i].slice();\n  }\n\n  multiPolygon.setFlatCoordinates(\n    this.layout, this.flatCoordinates.slice(), newEndss);\n  return multiPolygon;\n};\n\n\n/**\n * @inheritDoc\n */\nMultiPolygon.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n    return minSquaredDistance;\n  }\n  if (this.maxDeltaRevision_ != this.getRevision()) {\n    this.maxDelta_ = Math.sqrt(_ol_geom_flat_closest_.getssMaxSquaredDelta(\n      this.flatCoordinates, 0, this.endss_, this.stride, 0));\n    this.maxDeltaRevision_ = this.getRevision();\n  }\n  return _ol_geom_flat_closest_.getssClosestPoint(\n    this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride,\n    this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n};\n\n\n/**\n * @inheritDoc\n */\nMultiPolygon.prototype.containsXY = function(x, y) {\n  return _ol_geom_flat_contains_.linearRingssContainsXY(\n    this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, x, y);\n};\n\n\n/**\n * Return the area of the multipolygon on projected plane.\n * @return {number} Area (on projected plane).\n * @api\n */\nMultiPolygon.prototype.getArea = function() {\n  return _ol_geom_flat_area_.linearRingss(\n    this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride);\n};\n\n\n/**\n * Get the coordinate array for this geometry.  This array has the structure\n * of a GeoJSON coordinate array for multi-polygons.\n *\n * @param {boolean=} opt_right Orient coordinates according to the right-hand\n *     rule (counter-clockwise for exterior and clockwise for interior rings).\n *     If `false`, coordinates will be oriented according to the left-hand rule\n *     (clockwise for exterior and counter-clockwise for interior rings).\n *     By default, coordinate orientation will depend on how the geometry was\n *     constructed.\n * @return {Array.<Array.<Array.<ol.Coordinate>>>} Coordinates.\n * @override\n * @api\n */\nMultiPolygon.prototype.getCoordinates = function(opt_right) {\n  let flatCoordinates;\n  if (opt_right !== undefined) {\n    flatCoordinates = this.getOrientedFlatCoordinates().slice();\n    _ol_geom_flat_orient_.orientLinearRingss(\n      flatCoordinates, 0, this.endss_, this.stride, opt_right);\n  } else {\n    flatCoordinates = this.flatCoordinates;\n  }\n\n  return _ol_geom_flat_inflate_.coordinatesss(\n    flatCoordinates, 0, this.endss_, this.stride);\n};\n\n\n/**\n * @return {Array.<Array.<number>>} Endss.\n */\nMultiPolygon.prototype.getEndss = function() {\n  return this.endss_;\n};\n\n\n/**\n * @return {Array.<number>} Flat interior points.\n */\nMultiPolygon.prototype.getFlatInteriorPoints = function() {\n  if (this.flatInteriorPointsRevision_ != this.getRevision()) {\n    const flatCenters = _ol_geom_flat_center_.linearRingss(\n      this.flatCoordinates, 0, this.endss_, this.stride);\n    this.flatInteriorPoints_ = _ol_geom_flat_interiorpoint_.linearRingss(\n      this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride,\n      flatCenters);\n    this.flatInteriorPointsRevision_ = this.getRevision();\n  }\n  return this.flatInteriorPoints_;\n};\n\n\n/**\n * Return the interior points as {@link ol.geom.MultiPoint multipoint}.\n * @return {ol.geom.MultiPoint} Interior points as XYM coordinates, where M is\n * the length of the horizontal intersection that the point belongs to.\n * @api\n */\nMultiPolygon.prototype.getInteriorPoints = function() {\n  const interiorPoints = new MultiPoint(null);\n  interiorPoints.setFlatCoordinates(GeometryLayout.XYM,\n    this.getFlatInteriorPoints().slice());\n  return interiorPoints;\n};\n\n\n/**\n * @return {Array.<number>} Oriented flat coordinates.\n */\nMultiPolygon.prototype.getOrientedFlatCoordinates = function() {\n  if (this.orientedRevision_ != this.getRevision()) {\n    const flatCoordinates = this.flatCoordinates;\n    if (_ol_geom_flat_orient_.linearRingssAreOriented(\n      flatCoordinates, 0, this.endss_, this.stride)) {\n      this.orientedFlatCoordinates_ = flatCoordinates;\n    } else {\n      this.orientedFlatCoordinates_ = flatCoordinates.slice();\n      this.orientedFlatCoordinates_.length =\n          _ol_geom_flat_orient_.orientLinearRingss(\n            this.orientedFlatCoordinates_, 0, this.endss_, this.stride);\n    }\n    this.orientedRevision_ = this.getRevision();\n  }\n  return this.orientedFlatCoordinates_;\n};\n\n\n/**\n * @inheritDoc\n */\nMultiPolygon.prototype.getSimplifiedGeometryInternal = function(squaredTolerance) {\n  const simplifiedFlatCoordinates = [];\n  const simplifiedEndss = [];\n  simplifiedFlatCoordinates.length = _ol_geom_flat_simplify_.quantizess(\n    this.flatCoordinates, 0, this.endss_, this.stride,\n    Math.sqrt(squaredTolerance),\n    simplifiedFlatCoordinates, 0, simplifiedEndss);\n  const simplifiedMultiPolygon = new MultiPolygon(null);\n  simplifiedMultiPolygon.setFlatCoordinates(\n    GeometryLayout.XY, simplifiedFlatCoordinates, simplifiedEndss);\n  return simplifiedMultiPolygon;\n};\n\n\n/**\n * Return the polygon at the specified index.\n * @param {number} index Index.\n * @return {ol.geom.Polygon} Polygon.\n * @api\n */\nMultiPolygon.prototype.getPolygon = function(index) {\n  if (index < 0 || this.endss_.length <= index) {\n    return null;\n  }\n  let offset;\n  if (index === 0) {\n    offset = 0;\n  } else {\n    const prevEnds = this.endss_[index - 1];\n    offset = prevEnds[prevEnds.length - 1];\n  }\n  const ends = this.endss_[index].slice();\n  const end = ends[ends.length - 1];\n  if (offset !== 0) {\n    let i, ii;\n    for (i = 0, ii = ends.length; i < ii; ++i) {\n      ends[i] -= offset;\n    }\n  }\n  const polygon = new Polygon(null);\n  polygon.setFlatCoordinates(\n    this.layout, this.flatCoordinates.slice(offset, end), ends);\n  return polygon;\n};\n\n\n/**\n * Return the polygons of this multipolygon.\n * @return {Array.<ol.geom.Polygon>} Polygons.\n * @api\n */\nMultiPolygon.prototype.getPolygons = function() {\n  const layout = this.layout;\n  const flatCoordinates = this.flatCoordinates;\n  const endss = this.endss_;\n  const polygons = [];\n  let offset = 0;\n  let i, ii, j, jj;\n  for (i = 0, ii = endss.length; i < ii; ++i) {\n    const ends = endss[i].slice();\n    const end = ends[ends.length - 1];\n    if (offset !== 0) {\n      for (j = 0, jj = ends.length; j < jj; ++j) {\n        ends[j] -= offset;\n      }\n    }\n    const polygon = new Polygon(null);\n    polygon.setFlatCoordinates(\n      layout, flatCoordinates.slice(offset, end), ends);\n    polygons.push(polygon);\n    offset = end;\n  }\n  return polygons;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nMultiPolygon.prototype.getType = function() {\n  return GeometryType.MULTI_POLYGON;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nMultiPolygon.prototype.intersectsExtent = function(extent) {\n  return _ol_geom_flat_intersectsextent_.linearRingss(\n    this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, extent);\n};\n\n\n/**\n * Set the coordinates of the multipolygon.\n * @param {Array.<Array.<Array.<ol.Coordinate>>>} coordinates Coordinates.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @override\n * @api\n */\nMultiPolygon.prototype.setCoordinates = function(coordinates, opt_layout) {\n  if (!coordinates) {\n    this.setFlatCoordinates(GeometryLayout.XY, null, this.endss_);\n  } else {\n    this.setLayout(opt_layout, coordinates, 3);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    const endss = _ol_geom_flat_deflate_.coordinatesss(\n      this.flatCoordinates, 0, coordinates, this.stride, this.endss_);\n    if (endss.length === 0) {\n      this.flatCoordinates.length = 0;\n    } else {\n      const lastEnds = endss[endss.length - 1];\n      this.flatCoordinates.length = lastEnds.length === 0 ?\n        0 : lastEnds[lastEnds.length - 1];\n    }\n    this.changed();\n  }\n};\n\n\n/**\n * @param {ol.geom.GeometryLayout} layout Layout.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n * @param {Array.<Array.<number>>} endss Endss.\n */\nMultiPolygon.prototype.setFlatCoordinates = function(layout, flatCoordinates, endss) {\n  this.setFlatCoordinatesInternal(layout, flatCoordinates);\n  this.endss_ = endss;\n  this.changed();\n};\n\n\n/**\n * @param {Array.<ol.geom.Polygon>} polygons Polygons.\n */\nMultiPolygon.prototype.setPolygons = function(polygons) {\n  let layout = this.getLayout();\n  const flatCoordinates = [];\n  const endss = [];\n  for (let i = 0, ii = polygons.length; i < ii; ++i) {\n    const polygon = polygons[i];\n    if (i === 0) {\n      layout = polygon.getLayout();\n    }\n    const offset = flatCoordinates.length;\n    const ends = polygon.getEnds();\n    for (let j = 0, jj = ends.length; j < jj; ++j) {\n      ends[j] += offset;\n    }\n    extend(flatCoordinates, polygon.getFlatCoordinates());\n    endss.push(ends);\n  }\n  this.setFlatCoordinates(layout, flatCoordinates, endss);\n};\n\nexport default MultiPolygon;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/geom/MultiPolygon.js\n// module id = 21\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23","/**\n * @module gmf.theme.Themes\n */\nimport googAsserts from 'goog/asserts.js';\nimport gmfBase from 'gmf/index.js';\nimport ngeoMapLayerHelper from 'ngeo/map/LayerHelper.js';\nimport * as olBase from 'ol/index.js';\nimport * as olArray from 'ol/array.js';\nimport olCollection from 'ol/Collection.js';\nimport olEventsEventTarget from 'ol/events/EventTarget.js';\nimport olLayerTile from 'ol/layer/Tile.js';\n\n/**\n * The Themes service. This service interacts\n * with c2cgeoportal's \"themes\" web service and exposes functions that return\n * objects in the tree returned by the \"themes\" web service.\n *\n * @constructor\n * @struct\n * @extends {ol.events.EventTarget}\n * @param {angular.$http} $http Angular http service.\n * @param {angular.$injector} $injector Main injector.\n * @param {angular.$q} $q Angular q service\n * @param {ngeo.map.LayerHelper} ngeoLayerHelper Ngeo Layer Helper.\n * @param {angularGettext.Catalog} gettextCatalog Gettext catalog.\n * @param {gmfx.ThemesOptions} gmfThemesOptions Themes options.\n * @ngInject\n * @ngdoc service\n * @ngname gmfThemes\n */\nconst exports = function($http, $injector, $q, ngeoLayerHelper, gettextCatalog, gmfThemesOptions) {\n\n  olEventsEventTarget.call(this);\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.addBlankBackgroundLayer_ = true;\n  if (gmfThemesOptions.addBlankBackgroundLayer !== undefined) {\n    this.addBlankBackgroundLayer_ = gmfThemesOptions.addBlankBackgroundLayer;\n  }\n\n  /**\n   * @type {angular.$q}\n   * @private\n   */\n  this.$q_ = $q;\n\n  /**\n   * @type {angular.$http}\n   * @private\n   */\n  this.$http_ = $http;\n\n  /**\n   * @type {string|undefined}\n   * @private\n   */\n  this.treeUrl_ = undefined;\n  if ($injector.has('gmfTreeUrl')) {\n    this.treeUrl_ = $injector.get('gmfTreeUrl');\n  }\n\n  this.cacheVersion_ = '0';\n  if ($injector.has('cacheVersion')) {\n    this.cacheVersion_ = $injector.get('cacheVersion');\n  }\n\n  /**\n   * @type {?ngeo.statemanager.Location}\n   * @private\n   */\n  this.ngeoLocation_ = null;\n  if ($injector.has('ngeoLocation')) {\n    this.ngeoLocation_ = $injector.get('ngeoLocation');\n  }\n\n  /**\n   * @type {ngeo.map.LayerHelper}\n   * @private\n   */\n  this.layerHelper_ = ngeoLayerHelper;\n\n  /**\n   * @type {angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog = gettextCatalog;\n\n  /**\n   * @type {angular.$q.Deferred}\n   * @private\n   */\n  this.deferred_ = $q.defer();\n\n  /**\n   * @type {angular.$q.Promise}\n   * @private\n   */\n  this.promise_ = this.deferred_.promise;\n\n  /**\n   * @type {boolean}\n   */\n  this.loaded = false;\n\n  /**\n   * @type {angular.$q.Promise}\n   * @private\n   */\n  this.bgLayerPromise_ = null;\n};\n\nolBase.inherits(exports, olEventsEventTarget);\n\n\n/**\n * @param {Array.<gmfThemes.GmfTheme>} themes Array of \"theme\" objects.\n * @param {string} name The layer name.\n * @return {gmfThemes.GmfGroup} The group.\n */\nexports.findGroupByLayerNodeName = function(themes, name) {\n  for (let i = 0, ii = themes.length; i < ii; i++) {\n    const theme = themes[i];\n    for (let j = 0, jj = theme.children.length; j < jj; j++) {\n      const group = theme.children[j];\n      const childNodes = [];\n      exports.getFlatNodes(group, childNodes);\n      if (exports.findObjectByName(childNodes, name)) {\n        return group;\n      }\n    }\n  }\n  return null;\n};\n\n/**\n * Find a layer group object by its name. Return null if not found.\n * @param {Array.<gmfThemes.GmfTheme>} themes Array of \"theme\" objects.\n * @param {string} name The group name.\n * @return {gmfThemes.GmfGroup} The group.\n */\nexports.findGroupByName = function(themes, name) {\n  for (let i = 0, ii = themes.length; i < ii; i++) {\n    const theme = themes[i];\n    for (let j = 0, jj = theme.children.length; j < jj; j++) {\n      const group = theme.children[j];\n      const internalNodes = [];\n      exports.getFlatInternalNodes(group, internalNodes);\n      if (exports.findObjectByName(internalNodes, name)) {\n        return group;\n      }\n    }\n  }\n  return null;\n};\n\n\n/**\n * Find an object by its name. Return null if not found.\n * @param {Array.<T>} objects Array of objects with a 'name' attribute.\n * @param {string} objectName The object name.\n * @return {T} The object or null.\n * @template T\n */\nexports.findObjectByName = function(objects, objectName) {\n  return olArray.find(objects, object => object['name'] === objectName);\n};\n\n\n/**\n * Find a theme object by its name. Return null if not found.\n * @param {Array.<gmfThemes.GmfTheme>} themes Array of \"theme\" objects.\n * @param {string} themeName The theme name.\n * @return {gmfThemes.GmfTheme} The theme object or null.\n */\nexports.findThemeByName = function(themes, themeName) {\n  return exports.findObjectByName(themes, themeName);\n};\n\n\n/**\n * Fill the given \"nodes\" array with all internal nodes (non-leaf nones) in\n * the given node.\n *\n * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} node Layertree node.\n * @param {Array.<gmfThemes.GmfGroup|gmfThemes.GmfLayer>} nodes An array.\n */\nexports.getFlatInternalNodes = function(node, nodes) {\n  const children = node.children;\n  if (children !== undefined) {\n    nodes.push(node);\n    for (let i = 0; i < children.length; i++) {\n      exports.getFlatInternalNodes(children[i], nodes);\n    }\n  }\n};\n\n\n/**\n * Fill the given \"nodes\" array with all leaf nodes in the given node.\n *\n * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} node Layertree node.\n * @param {Array.<gmfThemes.GmfGroup|gmfThemes.GmfLayer>} nodes An array.\n */\nexports.getFlatNodes = function(node, nodes) {\n  let i;\n  const children = node.children;\n  if (children !== undefined) {\n    for (i = 0; i < children.length; i++) {\n      exports.getFlatNodes(children[i], nodes);\n    }\n  } else {\n    nodes.push(node);\n  }\n};\n\n\n/**\n * Get background layers.\n * @param {!Object.<string, string>} appDimensions Dimensions.\n * @return {!angular.$q.Promise.<!Array.<!ol.layer.Base>>} Promise.\n */\nexports.prototype.getBgLayers = function(appDimensions) {\n  const gettextCatalog = this.gettextCatalog;\n  if (this.bgLayerPromise_) {\n    return this.bgLayerPromise_;\n  }\n  const $q = this.$q_;\n  const layerHelper = this.layerHelper_;\n\n  /**\n   * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} item A group or a leaf.\n   * @param {Array.<number>} array Array of ids;\n   */\n  const getIds = function(item, array) {\n    array.push(olBase.getUid(item));\n    const children = item.children || [];\n    children.forEach((child) => {\n      getIds(child, array);\n    });\n  };\n\n  /**\n   * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} item The item.\n   * @param {ol.layer.Base} layer The layer.\n   * @return {ol.layer.Base} the provided layer.\n   */\n  const callback = function(item, layer) {\n    layer.set('label', item.name);\n    layer.set('metadata', item.metadata);\n    layer.set('dimensions', item.dimensions);\n    const ids = [];\n    getIds(item, ids);\n    layer.set('querySourceIds', ids);\n    return layer;\n  };\n\n  /**\n   * @param {gmfThemes.GmfOgcServers} ogcServers The ogc servers.\n   * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} gmfLayer The item.\n   * @return {angular.$q.Promise.<ol.layer.Base>|ol.layer.Base} the created layer.\n   */\n  const layerLayerCreationFn = function(ogcServers, gmfLayer) {\n    if (gmfLayer.type === 'WMTS') {\n      const gmfLayerWMTS = /** @type gmfThemes.GmfLayerWMTS */ (gmfLayer);\n      googAsserts.assert(gmfLayerWMTS.url, 'Layer URL is required');\n      return layerHelper.createWMTSLayerFromCapabilitites(\n        gmfLayerWMTS.url,\n        gmfLayerWMTS.layer || '',\n        gmfLayer.dimensions\n      ).then(callback.bind(null, gmfLayer)).then(null, (response) => {\n        let message = `Unable to build layer \"${gmfLayerWMTS.layer}\" from WMTSCapabilities: ${gmfLayerWMTS.url}\\n`;\n        message += `OpenLayers error is \"${response['message']}`;\n        console.error(message);\n        // Continue even if some layers have failed loading.\n        return $q.resolve(undefined);\n      });\n    } else if (gmfLayer.type === 'WMS') {\n      const gmfLayerWMS = /** @type gmfThemes.GmfLayerWMS */ (gmfLayer);\n      googAsserts.assert(gmfLayerWMS.ogcServer, 'An OGC server is required');\n      const server = ogcServers[gmfLayerWMS.ogcServer];\n      googAsserts.assert(server, 'The OGC server was not found');\n      googAsserts.assert(server.url, 'The server URL is required');\n      googAsserts.assert(server.imageType, 'The server image type is required');\n      return callback(gmfLayer, layerHelper.createBasicWMSLayer(\n        server.url,\n        gmfLayerWMS.layers || '',\n        server.imageType,\n        server.type,\n        undefined, // time\n        gmfLayer.dimensions,\n        server.credential ? 'use-credentials' : 'anonymous'\n      ));\n    }\n    googAsserts.fail(`Unsupported type: ${gmfLayer.type}`);\n  };\n\n  /**\n   * @param {gmfThemes.GmfOgcServers} ogcServers The ogc servers.\n   * @param {gmfThemes.GmfGroup} item The item.\n   * @return {angular.$q.Promise.<ol.layer.Group>} the created layer.\n   */\n  const layerGroupCreationFn = function(ogcServers, item) {\n    // We assume no child is a layer group.\n    const orderedChildren = item.children.map(x => x).reverse(); // the order of insertion in OL3 is the contrary of the theme\n    const promises = orderedChildren.map(layerLayerCreationFn.bind(null, ogcServers));\n    return $q.all(promises).then((layers) => {\n      let collection;\n      if (layers) {\n        layers = layers.filter(l => l);\n        collection = new olCollection(layers);\n      }\n      const group = layerHelper.createBasicGroup(collection);\n      callback(item, group);\n      return group;\n    });\n  };\n\n  /**\n   * @param {gmfThemes.GmfThemesResponse} data The \"themes\" web service\n   *     response.\n   * @return {angular.$q.Promise.<Array.<ol.layer.Base>>} Promise.\n   */\n  const promiseSuccessFn = function(data) {\n    const promises = data.background_layers.map((item) => {\n      const itemType = item.type;\n      if (itemType === 'WMTS' || itemType === 'WMS') {\n        return layerLayerCreationFn(data.ogcServers, item);\n      } else if (item.children) {\n        // group of layers\n        return layerGroupCreationFn(data.ogcServers, item);\n      } else {\n        return undefined;\n      }\n    }, this);\n    return $q.all(promises);\n  }.bind(this);\n\n  this.bgLayerPromise_ = this.promise_.then(promiseSuccessFn).then((values) => {\n    const layers = [];\n\n    // (1) add a blank layer\n    if (this.addBlankBackgroundLayer_) {\n      // For i18n string collection\n      gettextCatalog.getString('blank');\n      layers.push(new olLayerTile({\n        'label': 'blank',\n        'metadata': {'thumbnail': ''}\n      }));\n    }\n\n    // (2) add layers that were returned\n    values.forEach((layer) => {\n      if (layer) {\n        layers.push(layer);\n      }\n    });\n    return layers;\n  });\n\n  return this.bgLayerPromise_;\n};\n\n\n/**\n * Get a theme object by its name.\n * @param {string} themeName Theme name.\n * @return {angular.$q.Promise.<gmfThemes.GmfTheme>} Promise.\n * @export\n */\nexports.prototype.getThemeObject = function(themeName) {\n  return this.promise_.then(\n    /**\n       * @param {gmfThemes.GmfThemesResponse} data The \"themes\" web service\n       *     response.\n       * @return {gmfThemes.GmfTheme?} The theme object for themeName, or null\n       *     if not found.\n       */\n    data => exports.findThemeByName(data.themes, themeName));\n};\n\n\n/**\n * Get an array of theme objects.\n * @return {angular.$q.Promise.<!Array.<!gmfThemes.GmfTheme>>} Promise.\n * @export\n */\nexports.prototype.getThemesObject = function() {\n  return this.promise_.then(\n    /**\n       * @param {!gmfThemes.GmfThemesResponse} data The \"themes\" web service\n       *     response.\n       * @return {!Array.<!gmfThemes.GmfTheme>} The themes object.\n       */\n    data => data.themes);\n};\n\n\n/**\n * Get an array of background layer objects.\n * @return {angular.$q.Promise.<!Array.<!gmfThemes.GmfLayer>>} Promise.\n */\nexports.prototype.getBackgroundLayersObject = function() {\n  googAsserts.assert(this.promise_ !== null);\n  return this.promise_.then(\n    /**\n       * @param {!gmfThemes.GmfThemesResponse} data The \"themes\" web service\n       *     response.\n       * @return {!Array.<!gmfThemes.GmfLayer>} The background layers object.\n       */\n    data => data.background_layers\n  );\n};\n\n\n/**\n * Get the `ogcServers` object.\n * @return {angular.$q.Promise.<!gmfThemes.GmfOgcServers>} Promise.\n * @export\n */\nexports.prototype.getOgcServersObject = function() {\n  googAsserts.assert(this.promise_ !== null);\n  return this.promise_.then(\n    /**\n       * @param {gmfThemes.GmfThemesResponse} data The \"themes\" web service\n       *     response.\n       * @return {gmfThemes.GmfOgcServers} The `ogcServers` object.\n       */\n    data => data.ogcServers);\n};\n\n\n/**\n * Returns a promise to check if one of the layers in the themes is editable.\n * @return {angular.$q.Promise.<boolean>} Promise.\n */\nexports.prototype.hasEditableLayers = function() {\n  googAsserts.assert(this.promise_ !== null);\n  return this.promise_.then(this.hasEditableLayers_.bind(this));\n};\n\n\n/**\n * Returns if one of the layers in the themes is editable.\n * @param {gmfThemes.GmfThemesResponse} data The \"themes\" web service response.\n * @return {boolean} Editable layers?\n */\nexports.prototype.hasEditableLayers_ = function(data) {\n  return data.themes.some((theme) => {\n    const hasEditableLayers = theme.children.some(this.hasNodeEditableLayers_.bind(this));\n    return hasEditableLayers;\n  });\n};\n\n\n/**\n * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} node Theme node\n * @return {boolean} Editable layers?\n */\nexports.prototype.hasNodeEditableLayers_ = function(node) {\n  if (node.editable) {\n    return true;\n  }\n\n  let hasEditableLayers = false;\n  const children = node.children;\n  if (children && children.length) {\n    hasEditableLayers = children.some(this.hasNodeEditableLayers_.bind(this));\n  }\n  return hasEditableLayers;\n};\n\n\n/**\n * Get the snapping configuration object from a Layertree controller\n * @param {gmfThemes.GmfLayer} node Layer node from the theme.\n * @return {?gmfThemes.GmfSnappingConfig} Snapping configuration, if found.\n * @export\n */\nexports.getSnappingConfig = function(node) {\n  const config = (node.metadata && node.metadata.snappingConfig !== undefined) ?\n    node.metadata.snappingConfig : null;\n  return config;\n};\n\n\n/**\n * Get the maximal resolution defined for this layer. Looks in the\n *     layer itself before to look into its metadata.\n * @param {gmfThemes.GmfLayerWMS} gmfLayer the GeoMapFish Layer. WMTS layer is\n *     also allowed (the type is defined as GmfLayerWMS only to avoid some\n *     useless tests to know if a maxResolutionHint property can exist\n *     on the node).\n * @return {number|undefined} the max resolution or undefined if any.\n */\nexports.getNodeMaxResolution = function(gmfLayer) {\n  const metadata = gmfLayer.metadata;\n  let maxResolution = gmfLayer.maxResolutionHint;\n  if (maxResolution === undefined && metadata !== undefined) {\n    maxResolution = metadata.maxResolution;\n  }\n  return maxResolution;\n};\n\n\n/**\n * Get the minimal resolution defined for this layer. Looks in the\n *     layer itself before to look into its metadata.\n * @param {gmfThemes.GmfLayerWMS} gmfLayer the GeoMapFish Layer. WMTS layer is\n *     also allowed (the type is defined as GmfLayerWMS only to avoid some\n *     useless tests to know if a minResolutionHint property can exist\n *     on the node).\n * @return {number|undefined} the min resolution or undefined if any.\n */\nexports.getNodeMinResolution = function(gmfLayer) {\n  const metadata = gmfLayer.metadata;\n  let minResolution = gmfLayer.minResolutionHint;\n  if (minResolution === undefined && metadata !== undefined) {\n    minResolution = metadata.minResolution;\n  }\n  return minResolution;\n};\n\n\n/**\n * @param {number=} opt_roleId The role id to send in the request.\n * Load themes from the \"themes\" service.\n * @export\n */\nexports.prototype.loadThemes = function(opt_roleId) {\n\n  googAsserts.assert(this.treeUrl_, 'gmfTreeUrl should be defined.');\n\n  if (this.loaded) {\n    // reload the themes\n    this.deferred_ = this.$q_.defer();\n    this.promise_ = this.deferred_.promise;\n    this.bgLayerPromise_ = null;\n    this.loaded = false;\n  }\n\n  this.$http_.get(this.treeUrl_, {\n    params: opt_roleId !== undefined ? {\n      'role': opt_roleId,\n      'cache_version': this.cacheVersion_\n    } : {\n      'cache_version': this.cacheVersion_\n    },\n    cache: false,\n    withCredentials: true\n  }).then((response) => {\n    if (response.data.errors.length != 0) {\n      const message = `The themes contain some errors:\\n${\n        response.data.errors.join('\\n')}`;\n      console.error(message);\n      if (this.ngeoLocation_ !== null && this.ngeoLocation_.hasParam('debug')) {\n        window.alert(message);\n      }\n    }\n    this.deferred_.resolve(response.data);\n    this.dispatchEvent('change');\n    this.loaded = true;\n  }, (response) => {\n    this.deferred_.reject(response);\n  });\n};\n\n\n/**\n * @enum {string}\n */\nexports.NodeType = {\n  MIXED_GROUP: 'MixedGroup',\n  NOT_MIXED_GROUP: 'NotMixedGroup',\n  WMTS: 'WMTS',\n  WMS: 'WMS'\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfThemes', [\n  ngeoMapLayerHelper.module.name,\n]);\nexports.module.value('gmfThemesOptions', {});\nexports.module.service('gmfThemes', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/theme/Themes.js","import hasOwnProp from '../utils/has-own-prop';\n\nvar aliases = {};\n\nexport function addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nexport function normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nexport function normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/aliases.js\n// module id = 26\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.layertree.Controller\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscDecorate from 'ngeo/misc/decorate.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\nimport olLayerGroup from 'ol/layer/Group.js';\nimport olLayerLayer from 'ol/layer/Layer.js';\n\n/**\n * The controller for the \"tree node\" directive.\n * @param {angular.Scope} $scope Scope.\n * @param {angular.Scope} $rootScope Angular rootScope.\n * @param {angular.Attributes} $attrs Attributes.\n * @constructor\n * @ngInject\n * @export\n * @struct\n * @ngdoc controller\n * @ngname NgeoLayertreeController\n */\nconst exports = function($scope, $rootScope, $attrs) {\n\n  const isRoot = $attrs['ngeoLayertreeNotroot'] === undefined;\n\n  /**\n   * @type {boolean}\n   * @export\n   */\n  this.isRoot = isRoot;\n\n  const nodeExpr = $attrs['ngeoLayertree'];\n\n  /**\n   * @type {angular.Scope}\n   * @private\n   */\n  this.rootScope_ = $rootScope;\n\n  /**\n   * @type {!Object}\n   * @export\n   */\n  this.properties = {};\n\n  /**\n   * @type {!string}\n   * @private\n   */\n  this.state_ = 'off';\n\n  /**\n   * @type {!Object}\n   * @export\n   */\n  this.node;\n\n  if (isRoot) {\n    $scope.$watch(nodeExpr, (newVal, oldVal) => {\n      this.node = newVal;\n    });\n  } else {\n    this.node = /** @type {!Object} */ ($scope.$eval(nodeExpr));\n    googAsserts.assert(this.node !== undefined);\n  }\n\n  const mapExpr = $attrs['ngeoLayertreeMap'];\n  const map = /** @type {ol.Map} */ ($scope.$eval(mapExpr));\n  googAsserts.assert(map !== undefined);\n\n  /**\n   * @type {ngeo.layertree.Controller}\n   * @export\n   */\n  this.parent = $scope.$parent['layertreeCtrl'];\n\n  /**\n   * @type {Array.<ngeo.layertree.Controller>}\n   * @export\n   */\n  this.children = [];\n\n  if (this.parent) {\n    this.parent.children.push(this);\n  }\n\n  $scope.$on('$destroy', () => {\n    if (this.parent) {\n      const index = this.parent.children.indexOf(this);\n      googAsserts.assert(index >= 0);\n      this.parent.children.splice(index, 1);\n    }\n  });\n\n  /**\n   * @type {number}\n   * @export\n   */\n  this.uid = olBase.getUid(this);\n\n  /**\n   * @type {number}\n   * @export\n   */\n  this.depth = isRoot ? 0 : this.parent.depth + 1;\n\n  // We set 'uid' and 'depth' in the scope as well to access the parent values\n  // in the inherited scopes. This is intended to be used in the javascript not\n  // in the templates.\n  $scope['uid'] = this.uid;\n  $scope['depth'] = this.depth;\n\n  /**\n   * @type {ol.Map}\n   * @export\n   */\n  this.map = map;\n\n  let nodelayerExpr = $attrs['ngeoLayertreeNodelayer'];\n  if (nodelayerExpr === undefined) {\n    const nodelayerexprExpr = $attrs['ngeoLayertreeNodelayerexpr'];\n    const newNodelayerExpr = $scope.$eval(nodelayerexprExpr);\n    googAsserts.assertString(newNodelayerExpr);\n    nodelayerExpr = newNodelayerExpr;\n  }\n  googAsserts.assert(nodelayerExpr !== undefined);\n\n  /**\n   * @type {string}\n   * @export\n   */\n  this.nodelayerExpr = nodelayerExpr;\n\n  /**\n   * @type {?ol.layer.Layer|ol.layer.Group}\n   * @export\n   */\n  this.layer = null;\n  if (!isRoot) {\n    const layer = $scope.$eval(nodelayerExpr, {'treeCtrl': this}) || null;\n    if (layer) {\n      googAsserts.assert(\n        layer instanceof olLayerLayer || layer instanceof olLayerGroup\n      );\n      this.layer = layer;\n    }\n  }\n\n  /**\n   * @type {?ngeo.datasource.DataSource}\n   * @private\n   */\n  this.dataSource_ = null;\n\n  if (this.layer) {\n    ngeoMiscDecorate.layerLoading(this.layer, $scope);\n    ngeoMiscDecorate.layer(this.layer);\n\n    olEvents.listen(this.layer, 'change:opacity', () => {\n      this.rootScope_.$broadcast('ngeo-layertree-opacity', this);\n    });\n  }\n\n  let listenersExpr = $attrs['ngeoLayertreeListeners'];\n  if (listenersExpr === undefined) {\n    const listenersexprExpr = $attrs['ngeoLayertreeListenersexpr'];\n    listenersExpr = $scope.$eval(listenersexprExpr);\n  }\n\n  if (listenersExpr !== undefined) {\n    googAsserts.assertString(listenersExpr);\n  }\n\n  /**\n   * @type {string|undefined}\n   * @export\n   */\n  this.listenersExpr = listenersExpr;\n\n  // Eval function to bind functions to this tree's events.\n  if (listenersExpr) {\n    $scope.$eval(listenersExpr, {'treeScope': $scope, 'treeCtrl': this});\n  }\n\n  $scope['layertreeCtrl'] = this;\n};\n\n\n/**\n * Return the current state.\n * @return {string} 'on', 'off', 'indeterminate'.\n * @export\n */\nexports.prototype.getState = function() {\n  return this.state_;\n};\n\n\n/**\n * Set the state of this treeCtrl. Update its children with its value and then\n * ask its parent to refresh its state.\n * @param {string} state 'on' or 'off'.\n * @param {boolean=} opt_broadcast Broadcast.\n * @export\n */\nexports.prototype.setState = function(state, opt_broadcast) {\n  if (state === this.state_) {\n    return;\n  }\n  this.setStateInternal_(state);\n\n  // Ask to its parent to update it's state.\n  if (this.parent) {\n    this.parent.refreshState();\n  }\n\n  const firstParents = this.isRoot ? this.children : [exports.getFirstParentTree(this)];\n\n  if (opt_broadcast === undefined || opt_broadcast) {\n    firstParents.forEach((firstParent) => {\n      this.rootScope_.$broadcast('ngeo-layertree-state', this, firstParent);\n    });\n  }\n};\n\n\n/**\n * @param {string} state 'on' or 'off'.\n */\nexports.prototype.setStateInternal_ = function(state) {\n  // Set the state\n  this.state_ = state === 'on' ? 'on' : 'off';\n  // Asks to each child to set its state;\n  this.children.forEach(function(child) {\n    child.setStateInternal_(this.state_);\n  }, this);\n};\n\n\n/**\n * Refresh the state of this treeCtrl based on it's children value. The call its\n * parent to do the same.\n * @public\n */\nexports.prototype.refreshState = function() {\n  const newState = this.getCalculateState();\n  if (this.state_ === newState) {\n    return;\n  }\n  this.state_ = newState;\n  if (this.parent) {\n    this.parent.refreshState();\n  }\n};\n\n\n/**\n * Return the current state, calculate on all its children recursively.\n * @return {string} 'on', 'off' or 'indeterminate'.\n * @export\n */\nexports.prototype.getCalculateState = function() {\n  if (this.node.children === undefined) {\n    return this.state_;\n  }\n  let childState;\n  let previousChildState;\n  this.children.some((child) => {\n    childState = child.getCalculateState();\n    if (previousChildState) {\n      if (previousChildState !== childState) {\n        return childState = 'indeterminate';\n      }\n    }\n    previousChildState = childState;\n  });\n  return childState;\n};\n\n\n/**\n * @param {boolean|undefined} val Value.\n * @return {boolean|undefined} Value.\n * @export\n */\nexports.prototype.getSetActive = function(val) {\n  const layer = this.layer;\n  const map = this.map;\n  if (!layer) {\n    return;\n  }\n  if (val !== undefined) {\n    if (!val) {\n      map.removeLayer(layer);\n    } else {\n      map.addLayer(layer);\n    }\n  } else {\n    return map.getLayers().getArray().indexOf(layer) >= 0;\n  }\n};\n\n\n/**\n * @return {?ngeo.datasource.DataSource} dataSource The data source bound to\n *     this layer tree controller.\n * @export\n */\nexports.prototype.getDataSource = function() {\n  return this.dataSource_;\n};\n\n\n/**\n * @param {?ngeo.datasource.DataSource} dataSource Data source or null.\n * @export\n */\nexports.prototype.setDataSource = function(dataSource) {\n  this.dataSource_ = dataSource;\n};\n\n\n/**\n * Get the \"top level\" layertree (one of the first level child under the root\n * layertree). Can return itself.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @return {ngeo.layertree.Controller} the top level layertree.\n * @public\n */\nexports.getFirstParentTree = function(treeCtrl) {\n  let tree = treeCtrl;\n  while (!tree.parent.isRoot) {\n    tree = tree.parent;\n  }\n  return tree;\n};\n\n\n/**\n * @enum {string}\n */\nexports.VisitorDecision = {\n  STOP: 'STOP',\n  SKIP: 'SKIP',\n  DESCEND: 'DESCEND'\n};\n\n\n/**\n * @typedef {\n *   function(ngeo.layertree.Controller): (!ngeo.layertree.Controller.VisitorDecision|undefined)\n * }\n */\nexports.Visitor;\n\n\n/**\n * Recursive method to traverse the layertree controller graph.\n * @param {ngeo.layertree.Controller.Visitor} visitor A visitor called for each node.\n * @return {boolean} whether to stop traversing.\n * @export\n */\nexports.prototype.traverseDepthFirst = function(visitor) {\n  // First visit the current controller\n  const decision = visitor(this) || exports.VisitorDecision.DESCEND;\n\n  switch (decision) {\n    case exports.VisitorDecision.STOP:\n      return true; // stop traversing\n    case exports.VisitorDecision.SKIP:\n      return false; // continue traversing but skip current branch\n    case exports.VisitorDecision.DESCEND:\n      for (let i = 0; i < this.children.length; ++i) {\n        const child = this.children[i];\n        const stop = child.traverseDepthFirst(visitor);\n        if (stop) {\n          return true; // stop traversing\n        }\n      }\n      return false; // continue traversing\n    default:\n      googAsserts.fail('Unhandled case');\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoLayertreeController', []);\nexports.module.controller('ngeoLayertreeController', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/layertree/Controller.js","/**\n * @module ol/format/XMLFeature\n */\nimport {inherits} from '../index.js';\nimport {extend} from '../array.js';\nimport FeatureFormat from '../format/Feature.js';\nimport FormatType from '../format/FormatType.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for XML feature formats.\n *\n * @constructor\n * @abstract\n * @extends {ol.format.Feature}\n */\nconst XMLFeature = function() {\n\n  /**\n   * @type {XMLSerializer}\n   * @private\n   */\n  this.xmlSerializer_ = new XMLSerializer();\n\n  FeatureFormat.call(this);\n};\n\ninherits(XMLFeature, FeatureFormat);\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.getType = function() {\n  return FormatType.XML;\n};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.readFeature = function(source, opt_options) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readFeatureFromDocument(\n      /** @type {Document} */ (source), opt_options);\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readFeatureFromNode(/** @type {Node} */ (source), opt_options);\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readFeatureFromDocument(doc, opt_options);\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @return {ol.Feature} Feature.\n */\nXMLFeature.prototype.readFeatureFromDocument = function(\n  doc, opt_options) {\n  const features = this.readFeaturesFromDocument(doc, opt_options);\n  if (features.length > 0) {\n    return features[0];\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @return {ol.Feature} Feature.\n */\nXMLFeature.prototype.readFeatureFromNode = function(node, opt_options) {\n  return null; // not implemented\n};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.readFeatures = function(source, opt_options) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readFeaturesFromDocument(\n      /** @type {Document} */ (source), opt_options);\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readFeaturesFromNode(/** @type {Node} */ (source), opt_options);\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readFeaturesFromDocument(doc, opt_options);\n  } else {\n    return [];\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @protected\n * @return {Array.<ol.Feature>} Features.\n */\nXMLFeature.prototype.readFeaturesFromDocument = function(\n  doc, opt_options) {\n  /** @type {Array.<ol.Feature>} */\n  const features = [];\n  let n;\n  for (n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      extend(features, this.readFeaturesFromNode(n, opt_options));\n    }\n  }\n  return features;\n};\n\n\n/**\n * @abstract\n * @param {Node} node Node.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @protected\n * @return {Array.<ol.Feature>} Features.\n */\nXMLFeature.prototype.readFeaturesFromNode = function(node, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.readGeometry = function(source, opt_options) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readGeometryFromDocument(\n      /** @type {Document} */ (source), opt_options);\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readGeometryFromNode(/** @type {Node} */ (source), opt_options);\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readGeometryFromDocument(doc, opt_options);\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @protected\n * @return {ol.geom.Geometry} Geometry.\n */\nXMLFeature.prototype.readGeometryFromDocument = function(doc, opt_options) {\n  return null; // not implemented\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @protected\n * @return {ol.geom.Geometry} Geometry.\n */\nXMLFeature.prototype.readGeometryFromNode = function(node, opt_options) {\n  return null; // not implemented\n};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.readProjection = function(source) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readProjectionFromDocument(/** @type {Document} */ (source));\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readProjectionFromNode(/** @type {Node} */ (source));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readProjectionFromDocument(doc);\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @protected\n * @return {ol.proj.Projection} Projection.\n */\nXMLFeature.prototype.readProjectionFromDocument = function(doc) {\n  return this.defaultDataProjection;\n};\n\n\n/**\n * @param {Node} node Node.\n * @protected\n * @return {ol.proj.Projection} Projection.\n */\nXMLFeature.prototype.readProjectionFromNode = function(node) {\n  return this.defaultDataProjection;\n};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.writeFeature = function(feature, opt_options) {\n  const node = this.writeFeatureNode(feature, opt_options);\n  return this.xmlSerializer_.serializeToString(node);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @protected\n * @return {Node} Node.\n */\nXMLFeature.prototype.writeFeatureNode = function(feature, opt_options) {\n  return null; // not implemented\n};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.writeFeatures = function(features, opt_options) {\n  const node = this.writeFeaturesNode(features, opt_options);\n  return this.xmlSerializer_.serializeToString(node);\n};\n\n\n/**\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {Node} Node.\n */\nXMLFeature.prototype.writeFeaturesNode = function(features, opt_options) {\n  return null; // not implemented\n};\n\n\n/**\n * @inheritDoc\n */\nXMLFeature.prototype.writeGeometry = function(geometry, opt_options) {\n  const node = this.writeGeometryNode(geometry, opt_options);\n  return this.xmlSerializer_.serializeToString(node);\n};\n\n\n/**\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {Node} Node.\n */\nXMLFeature.prototype.writeGeometryNode = function(geometry, opt_options) {\n  return null; // not implemented\n};\nexport default XMLFeature;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/XMLFeature.js\n// module id = 29\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22","import absFloor from './abs-floor';\n\nexport default function toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/to-int.js\n// module id = 30\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.statemanager.Service\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoStatemanagerLocation from 'ngeo/statemanager/Location.js';\n\n/**\n * Provides a service for managing the application state.\n * The application state is written to both the URL and the local storage.\n * @constructor\n * @struct\n * @param {!ngeo.statemanager.Location} ngeoLocation ngeo location service.\n * @param {!Array.<!RegExp>} ngeoUsedKeyRegexp regexp used to identify the used keys.\n * @ngInject\n */\nconst exports = function(ngeoLocation, ngeoUsedKeyRegexp) {\n\n  /**\n   * Object representing the application's initial state.\n   * @type {!Object.<string, string>}\n   */\n  this.initialState = {};\n\n  /**\n   * @type {!ngeo.statemanager.Location}\n   */\n  this.ngeoLocation = ngeoLocation;\n\n\n  /**\n   * @type {!Array.<!RegExp>}\n   */\n  this.usedKeyRegexp = ngeoUsedKeyRegexp;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.useLocalStorage_;\n\n  this.setUseLocalStorage(false);\n\n  // Populate initialState with the application's initial state. The initial\n  // state is read from the location URL, or from the local storage if there\n  // is no state in the location URL.\n\n  const paramKeys = ngeoLocation.getParamKeys().filter(key => key != 'debug' && key != 'no_redirect');\n\n  if (paramKeys.length === 0) {\n    if (this.useLocalStorage_) {\n      for (const key in window.localStorage) {\n        googAsserts.assert(key);\n\n        this.usedKeyRegexp.some((keyRegexp) => {\n          if (key.match(keyRegexp)) {\n            const value = window.localStorage[key];\n            if (value !== undefined || value !== null) {\n              this.initialState[key] = value;\n            } else {\n              this.initialState[key] = '';\n            }\n            return true;\n          }\n        });\n      }\n    }\n  } else {\n    paramKeys.forEach((key) => {\n      this.usedKeyRegexp.some((keyRegexp) => {\n        if (key.match(keyRegexp)) {\n          const value = this.ngeoLocation.getParam(key);\n          if (value !== undefined) {\n            this.initialState[key] = value;\n            return true;\n          }\n        }\n      });\n    });\n  }\n};\n\n\n/**\n * @param {boolean} value Use localStorage\n * @return {boolean} localStorage will be used.\n */\nexports.prototype.setUseLocalStorage = function(value) {\n  this.useLocalStorage_ = value;\n\n  // check if localStorage is supported\n  if (this.useLocalStorage_) {\n    try {\n      if ('localStorage' in window) {\n        window.localStorage['test'] = '';\n        delete window.localStorage['test'];\n      } else {\n        this.useLocalStorage_ = false;\n      }\n    } catch (err) {\n      console.error(err);\n      this.useLocalStorage_ = false;\n    }\n  }\n  return this.useLocalStorage_;\n};\n\n/**\n * Get the state value for `key`.\n * @param {string} key State key.\n * @return {string|undefined} State value.\n */\nexports.prototype.getInitialValue = function(key) {\n  return this.initialState[key];\n};\n\n\n/**\n * Get the state value for `key`.\n * @param {string} key State key.\n * @return {string|undefined} State value.\n */\nexports.prototype.getInitialStringValue = function(key) {\n  const value = this.initialState[key];\n  if (value === undefined) {\n    return undefined;\n  }\n  return value;\n};\n\n\n/**\n * Get the state value for `key`.\n * @param {string} key State key.\n * @return {number|undefined} State value.\n */\nexports.prototype.getInitialNumberValue = function(key) {\n  const value = this.initialState[key];\n  if (value === undefined) {\n    return undefined;\n  }\n  return parseFloat(value);\n};\n\n\n/**\n * Get the state value for `key`.\n * @param {string} key State key.\n * @return {boolean|undefined} State value.\n */\nexports.prototype.getInitialBooleanValue = function(key) {\n  const value = this.initialState[key];\n  if (value === undefined) {\n    return undefined;\n  }\n  return value === 'true';\n};\n\n\n/**\n * Update the application state with the values in `object`.\n * @param {!Object.<string, string>} object Object.\n */\nexports.prototype.updateState = function(object) {\n  this.ngeoLocation.updateParams(object);\n  if (this.useLocalStorage_) {\n    for (const key in object) {\n      googAsserts.assert(key);\n      const value = object[key];\n      googAsserts.assert(value !== undefined);\n      window.localStorage[key] = value;\n    }\n  }\n};\n\n\n/**\n * Delete a parameter\n * @param {string} key Key.\n */\nexports.prototype.deleteParam = function(key) {\n  this.ngeoLocation.deleteParam(key);\n  if (this.useLocalStorage_) {\n    delete window.localStorage[key];\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoStateManager', [\n  ngeoStatemanagerLocation.module.name\n]);\nexports.module.service('ngeoStateManager', exports);\nexports.module.value('ngeoUsedKeyRegexp', [new RegExp('.*')]);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/statemanager/Service.js","import zeroFill from '../utils/zero-fill';\nimport isFunction from '../utils/is-function';\n\nexport var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nexport var formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nexport function addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nexport function formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nexport function expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/format/format.js\n// module id = 32\n// module chunks = 0 1 2 3 4 5","export { hooks, setHookCallback };\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/hooks.js\n// module id = 36\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.datasource.OGC\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceDataSource from 'ngeo/datasource/DataSource.js';\nimport ngeoFilterCondition from 'ngeo/filter/Condition.js';\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport olFormatGML2 from 'ol/format/GML2.js';\nimport olFormatGML3 from 'ol/format/GML3.js';\nimport olFormatWFS from 'ol/format/WFS.js';\nimport olFormatWMSGetFeatureInfo from 'ol/format/WMSGetFeatureInfo.js';\n\n/**\n * @implements {ngeox.datasource.OGC}\n */\nconst exports = class extends ngeoDatasourceDataSource {\n\n  /**\n   * A data source contains information of a single source of data that can\n   * show or fetch the data using an OGC server. Serveral OGC service types are\n   * supported by this data source: WMS, WMTS and even WFS.\n   *\n   * You can use the information stored within an OGC data source to do all\n   * sorts of things:\n   * - issue WMS/WFS queries\n   * - apply filter rules on it\n   * - create `ol.layer.Layer` objects using the WMS, WMTS or event WFS\n   *   information\n   *\n   * @struct\n   * @param {ngeox.datasource.OGCOptions} options Options.\n   */\n  constructor(options) {\n\n    super(options);\n\n    // === DYNAMIC properties (i.e. that can change / be watched) ===\n\n    /**\n     * The dimensions configuration for the data source.\n     * @type {?ngeox.Dimensions}\n     * @private\n     */\n    this.dimensionsConfig_ = options.dimensionsConfig || null;\n\n    /**\n     * The filter condition to apply to the filter rules (if any).\n     * @type {string}\n     * @private\n     */\n    this.filterCondition_ = options.filterCondition || ngeoFilterCondition.AND;\n\n    /**\n     * A list of filter rules to apply to this data source using the filter\n     * condition.\n     * @type {?Array.<!ngeo.rule.Rule>}\n     * @private\n     */\n    this.filterRules_ = options.filterRules || null;\n\n    /**\n     * Whether the data source is filtrable or not. When `null`, that means\n     * that we do not know if the data source if filtrable or not, yet. In\n     * that case, the value of the property needs to be determined from an\n     * external way.\n     * @type {?boolean}\n     * @private\n     */\n    this.filtrable_ = options.filtrable || null;\n\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * Whether the geometry from this data source can be copied to other data\n     * sources or not. Defaults to `false`.\n     * @type {boolean}\n     * @private\n     */\n    this.copyable_ = options.copyable === true;\n\n    /**\n     * A reference to the dimensions object.\n     * @type {?ngeox.Dimensions}\n     * @private\n     */\n    this.dimensions_ = options.dimensions || null;\n\n    /**\n     * The name of the geometry attribute.\n     * @type {string}\n     * @private\n     */\n    this.geometryName_ = options.geometryName ||\n      exports.DEFAULT_GEOMETRY_NAME_;\n\n    /**\n     * The type of images to fetch by queries by the (WMS) or (WMTS) .\n     * @type {string}\n     * @private\n     */\n    this.ogcImageType_ = options.ogcImageType || 'image/png';\n\n    /**\n     * A list of layer definitions that are used by (WMS) and (WFS) queries.\n     * These are **not** used by the (WMTS) queries (the wmtsLayers is used\n     * by WMTS queries).\n     * @type {?Array.<!ngeox.datasource.OGCLayer>}\n     * @private\n     */\n    this.ogcLayers_ = options.ogcLayers || null;\n\n    /**\n     * The type of OGC server making the requests.\n     * @type {string}\n     * @private\n     */\n    this.ogcServerType_ = options.ogcServerType ||\n      exports.ServerType.MAPSERVER;\n\n    /**\n     * The type data source. Can be: 'WMS' or 'WMTS'.\n     * @type {string}\n     * @private\n     */\n    this.ogcType_ = options.ogcType || exports.Type.WMS;\n\n    /**\n     * Whether the geometry from this data source can be used to snap the\n     * geometry of features from other data sources that are being edited.\n     * Defaults to `false`.\n     * @type {boolean}\n     * @private\n     */\n    this.snappable_ = options.snappable === true;\n\n    /**\n     * Determines whether external features can be snapped to the edges of\n     * features from this data source or not. Defaults to `true`. Requires\n     * `snappable` to be set.\n     * @type {boolean}\n     * @private\n     */\n    this.snappingToEdges_ = options.snappingToEdges !== false;\n\n    /**\n     * Determines whether external features can be snapped to the vertice of\n     * features from this data source or not. Defaults to `true`. Requires\n     * `snappable` to be set.\n     * @type {boolean}\n     * @private\n     */\n    this.snappingToVertice_ = options.snappingToVertice !== false;\n\n    /**\n     * The tolerance in pixels the snapping should occur. Defaults to `10`.\n     * @type {number}\n     * @private\n     */\n    this.snappingTolerance_ = options.snappingTolerance !== undefined ?\n      options.snappingTolerance : 10;\n\n    /**\n     * The name of the time attribute.\n     * @type {string|undefined}\n     * @private\n     */\n    this.timeAttributeName_ = options.timeAttributeName;\n\n    /**\n     * @type {number|undefined}\n     * @private\n     */\n    this.timeLowerValue_ = options.timeLowerValue;\n\n    /**\n     * @type {?ngeox.TimeProperty}\n     * @private\n     */\n    this.timeProperty_ = options.timeProperty !== undefined ?\n      options.timeProperty : null;\n\n    /**\n     * @type {number|undefined}\n     * @private\n     */\n    this.timeUpperValue_ = options.timeUpperValue;\n\n    /**\n     * The feature namespace to use with WFS requests.\n     * @type {string}\n     * @private\n     */\n    this.wfsFeatureNS_ = options.wfsFeatureNS ||\n      exports.WFSFeatureNS[this.ogcServerType_];\n\n    /**\n     * The feature prefix to use with WFS requests.\n     * @type {string}\n     * @private\n     */\n    this.wfsFeaturePrefix_ = options.wfsFeaturePrefix ||\n      exports.WFSFeaturePrefix.FEATURE;\n\n    /**\n     * The OutputFormat to use with WFS requests.\n     * @type {string}\n     * @private\n     */\n    this.wfsOutputFormat_ = options.wfsOutputFormat ||\n      exports.WFSOutputFormat.GML3;\n\n    /**\n     * The url to use for (WFS) requests.\n     * @type {string|undefined}\n     * @private\n     */\n    this.wfsUrl_ = options.wfsUrl;\n\n    /**\n     * The InfoFormat to use with WMS requests.\n     * @type {string}\n     * @private\n     */\n    this.wmsInfoFormat_ = options.wmsInfoFormat ||\n      exports.WMSInfoFormat.GML;\n\n    /**\n     * Whether the (WMS) images returned by this data source\n     * should be single tiles or not.\n     * @type {boolean}\n     * @private\n     */\n    this.wmsIsSingleTile_ = options.wmsIsSingleTile === true;\n\n    /**\n     * The url to use for (WMS) requests.\n     * @type {string|undefined}\n     * @private\n     */\n    this.wmsUrl_ = options.wmsUrl;\n\n    /**\n     * The layer name to use for the (WMTS) requests.\n     * @type {string|undefined}\n     * @private\n     */\n    this.wmtsLayer_ = options.wmtsLayer;\n\n    /**\n     * The url to use for (WMTS) requests.\n     * @type {string|undefined}\n     * @private\n     */\n    this.wmtsUrl_ = options.wmtsUrl;\n\n\n    // === Calculated properties ===\n\n    // Get queryable ogc layer names\n    const layers = [];\n    if (this.queryable && this.ogcLayers) {\n      for (const ogcLayer of this.ogcLayers) {\n        if (ogcLayer.queryable) {\n          layers.push(ogcLayer.name);\n        }\n      }\n    }\n\n    let wfsFormat = null;\n    if (this.supportsWFS && layers.length) {\n      let format = undefined;\n      if (this.wfsOutputFormat_ === exports.WFSOutputFormat.GML3) {\n        format = new olFormatGML3();\n      } else if (this.wfsOutputFormat_ === exports.WFSOutputFormat.GML2) {\n        format = new olFormatGML2();\n      }\n      googAsserts.assert(format);\n      wfsFormat = new olFormatWFS({\n        featureNS: this.wfsFeatureNS,\n        featureType: layers,\n        gmlFormat: format\n      });\n    }\n\n    /**\n     * @type {?ol.format.WFS}\n     * @private\n     */\n    this.wfsFormat_ = wfsFormat;\n\n    let wmsFormat = null;\n    if (this.supportsWMS && layers.length) {\n      if (this.wmsInfoFormat === exports.WMSInfoFormat.GML) {\n        wmsFormat = new olFormatWMSGetFeatureInfo({\n          layers\n        });\n      }\n      // Todo, support more formats for WMS\n    }\n\n    /**\n     * @type {?ol.format.WMSGetFeatureInfo}\n     * @private\n     */\n    this.wmsFormat_ = wmsFormat;\n  }\n\n  // ========================================\n  // === Dynamic property getters/setters ===\n  // ========================================\n\n  /**\n   * @return {?ngeox.Dimensions} Dimensions configuration for this data source\n   * @export\n   */\n  get dimensionsConfig() {\n    return this.dimensionsConfig_;\n  }\n\n  /**\n   * @param {?ngeox.Dimensions} dimensionsConfig Dimensions configuration\n   * @export\n   */\n  set dimensionsConfig(dimensionsConfig) {\n    this.dimensionsConfig_ = dimensionsConfig;\n  }\n\n  /**\n   * @return {string} Filter condition\n   * @export\n   */\n  get filterCondition() {\n    return this.filterCondition_;\n  }\n\n  /**\n   * @param {string} filterCondition Filter condition\n   * @export\n   */\n  set filterCondition(filterCondition) {\n    this.filterCondition_ = filterCondition;\n  }\n\n  /**\n   * @return {?Array.<!ngeo.rule.Rule>} Filter rules\n   * @export\n   */\n  get filterRules() {\n    return this.filterRules_;\n  }\n\n  /**\n   * @param {?Array.<!ngeo.rule.Rule>} filterRules Filter rules\n   * @export\n   */\n  set filterRules(filterRules) {\n    this.filterRules_ = filterRules;\n  }\n\n  /**\n   * @return {number|undefined} Time lower value\n   * @export\n   */\n  get timeLowerValue() {\n    return this.timeLowerValue_;\n  }\n\n  /**\n   * @param {number|undefined} time Time lower value\n   * @export\n   */\n  set timeLowerValue(time) {\n    this.timeLowerValue_ = time;\n  }\n\n  /**\n   * @return {?ngeox.TimeRange} Time range value\n   * @export\n   */\n  get timeRangeValue() {\n    let range = null;\n    const lower = this.timeLowerValue;\n    const upper = this.timeUpperValue;\n    if (lower !== undefined) {\n      range = {\n        end: upper,\n        start: lower\n      };\n    }\n    return range;\n  }\n\n  /**\n   * @param {?ngeox.TimeRange} range Time range value\n   * @export\n   */\n  set timeRangeValue(range) {\n    if (range) {\n      this.timeUpperValue = range.end;\n      this.timeLowerValue = range.start;\n    } else {\n      this.timeUpperValue = undefined;\n      this.timeLowerValue = undefined;\n    }\n  }\n\n  /**\n   * @return {number|undefined} Time upper value\n   * @export\n   */\n  get timeUpperValue() {\n    return this.timeUpperValue_;\n  }\n\n  /**\n   * @param {number|undefined} time Time upper value\n   * @export\n   */\n  set timeUpperValue(time) {\n    this.timeUpperValue_ = time;\n  }\n\n  // =======================================\n  // === Static property getters/setters ===\n  // =======================================\n\n  /**\n   * @inheritDoc\n   */\n  getAttributes() {\n    return super.attributes;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  setAttributes(attributes) {\n    super.setAttributes(attributes);\n    this.updateGeometryNameFromAttributes_();\n  }\n\n  /**\n   * @return {boolean} Copyable\n   * @export\n   */\n  get copyable() {\n    return this.copyable_;\n  }\n\n  /**\n   * @return {?boolean} Filtrable.\n   * @export\n   */\n  get filtrable() {\n    return this.filtrable_;\n  }\n\n  /**\n   * @param {?boolean} filtrable Filtrable.\n   * @export\n   */\n  set filtrable(filtrable) {\n    this.filtrable_ = filtrable;\n  }\n\n  /**\n   * @return {string} Geometry name\n   * @export\n   */\n  get geometryName() {\n    return this.geometryName_;\n  }\n\n  /**\n   * @return {string} OGC image type\n   * @export\n   */\n  get ogcImageType() {\n    return this.ogcImageType_;\n  }\n\n  /**\n   * @return {?Array.<!ngeox.datasource.OGCLayer>} OGC layers\n   * @export\n   */\n  get ogcLayers() {\n    return this.ogcLayers_;\n  }\n\n  /**\n   * @return {string} OGC server type\n   * @export\n   */\n  get ogcServerType() {\n    return this.ogcServerType_;\n  }\n\n  /**\n   * @return {string} OGC type\n   * @export\n   */\n  get ogcType() {\n    return this.ogcType_;\n  }\n\n  /**\n   * @return {boolean} Snappable\n   * @export\n   */\n  get snappable() {\n    return this.snappable_;\n  }\n\n  /**\n   * @return {boolean} Snapping to edges\n   * @export\n   */\n  get snappingToEdges() {\n    return this.snappingToEdges_;\n  }\n\n  /**\n   * @return {boolean} Snapping to vertices\n   * @export\n   */\n  get snappingToVertice() {\n    return this.snappingToVertice_;\n  }\n\n  /**\n   * @return {number} Snapping tolerance\n   * @export\n   */\n  get snappingTolerance() {\n    return this.snappingTolerance_;\n  }\n\n  /**\n   * @return {string|undefined} Time attribute name\n   * @export\n   */\n  get timeAttributeName() {\n    return this.timeAttributeName_;\n  }\n\n  /**\n   * @return {?ngeox.TimeProperty} Time property\n   * @export\n   */\n  get timeProperty() {\n    return this.timeProperty_;\n  }\n\n  /**\n   * @return {string} WFS feature namespace\n   * @export\n   */\n  get wfsFeatureNS() {\n    return this.wfsFeatureNS_;\n  }\n\n  /**\n   * @return {string} WFS feature prefix\n   * @export\n   */\n  get wfsFeaturePrefix() {\n    return this.wfsFeaturePrefix_;\n  }\n\n  /**\n   * @return {string} WFS output format\n   * @export\n   */\n  get wfsOutputFormat() {\n    return this.wfsOutputFormat_;\n  }\n\n  /**\n   * @export\n   * @return {string|undefined} WFS url\n   */\n  get wfsUrl() {\n    return this.wfsUrl_;\n  }\n\n  /**\n   * @return {string} WMS info format\n   * @export\n   */\n  get wmsInfoFormat() {\n    return this.wmsInfoFormat_;\n  }\n\n  /**\n   * @return {boolean} WMS is single tile\n   * @export\n   */\n  get wmsIsSingleTile() {\n    return this.wmsIsSingleTile_;\n  }\n\n  /**\n   * @return {string|undefined} WMS url\n   * @export\n   * @override\n   */\n  get wmsUrl() {\n    return this.wmsUrl_;\n  }\n\n  /**\n   * @return {string|undefined} WMTS layer\n   * @export\n   */\n  get wmtsLayer() {\n    return this.wmtsLayer_;\n  }\n\n  /**\n   * @return {string|undefined} WMTS url\n   * @export\n   * @override\n   */\n  get wmtsUrl() {\n    return this.wmtsUrl_;\n  }\n\n  // ===================================\n  // === Calculated property getters ===\n  // ===================================\n\n  /**\n   * @return {!ngeox.DimensionsActive} Active dimensions\n   * @export\n   */\n  get activeDimensions() {\n    const active = {};\n    const dimensions = this.dimensions_ || {};\n    const config = this.dimensionsConfig || {};\n\n    for (const key in config) {\n      if (config[key] === null) {\n        if (dimensions[key] !== undefined && dimensions[key] !== null) {\n          active[key] = dimensions[key];\n        }\n      } else {\n        active[key] = config[key];\n      }\n    }\n\n    return active;\n  }\n\n  /**\n   * A data source can't be combined to other data source to issue a single\n   * WFS request if:\n   *\n   * - it has filter rules set\n   * - it has time range set\n   *\n   * @return {boolean} Whether the data source can be combined to an other\n   *     data source to fetch features in a single WFS request.\n   * @export\n   * @override\n   */\n  get combinableForWFS() {\n    return this.filterRules_ === null &&\n      this.timeRangeValue === null;\n  }\n\n  /**\n   * A data source can't be combined to other data source to issue a single\n   * WMS request if:\n   *\n   * - it has filter rules set\n   * - it has time range set\n   *\n   * @return {boolean} Whether the data source can be combined to an other\n   *     data source to fetch features in a single WMS request.\n   * @export\n   * @override\n   */\n  get combinableForWMS() {\n    return this.filterRules_ === null &&\n      this.timeRangeValue === null;\n  }\n\n  /**\n   * Whether the data source is queryable or not. For an OGC data source to be\n   * queryable, it requires the support of WFS or WMS and at least one ogc\n   * layer to be querable.\n   * @export\n   */\n  get queryable() {\n    let queryable = false;\n    const supportsOGCQueries = this.supportsWMS || this.supportsWFS;\n    if (supportsOGCQueries && this.ogcLayers) {\n      for (const ogcLayer of this.ogcLayers) {\n        if (ogcLayer.queryable === true) {\n          queryable = true;\n          break;\n        }\n      }\n    }\n    return queryable;\n  }\n\n  /**\n   * @return {boolean} Whether the data source supports making WFS requests\n   *     or not.\n   * @export\n   * @override\n   */\n  get supportsWFS() {\n    return this.wfsUrl !== undefined;\n  }\n\n  /**\n   * To be able to do advanced operations on a data source, such as editing\n   * or filtering, a data source must be bound to 1 set of attributes.\n   * These attributes are the ones defined by an ogcLayer.  This means that\n   * to be considered to support having attributes defined, you either need\n   * to define them directly when creating the data source, or if you let\n   * the querent service get them for you using a WFS DescribeFeatureType\n   * request, the data source must have only 1 ogcLayer set, which must\n   * be queryable.\n   * @return {boolean} Supports attributes.\n   * @export\n   */\n  get supportsAttributes() {\n    return this.attributes !== null || (\n      this.supportsWFS &&\n      this.ogcLayers !== null &&\n      this.ogcLayers.length === 1 &&\n      this.ogcLayers[0].queryable === true\n    );\n  }\n\n  /**\n   * @return {boolean} Whether the data source supports making WMS requests\n   *     or not.\n   * @export\n   * @override\n   */\n  get supportsWMS() {\n    return this.wmsUrl !== undefined;\n  }\n\n  /**\n   * @return {boolean} Whether the data source supports making WTMS requests\n   *     or not.\n   * @export\n   */\n  get supportsWMTS() {\n    return this.wmtsUrl !== undefined;\n  }\n\n  /**\n   * @return {?ol.format.WFS} WFS format.\n   * @export\n   */\n  get wfsFormat() {\n    return this.wfsFormat_;\n  }\n\n  /**\n   * @return {?ol.format.WMSGetFeatureInfo} WMS format.\n   * @export\n   */\n  get wmsFormat() {\n    return this.wmsFormat_;\n  }\n\n  // ============================\n  // === Other public methods ===\n  // ============================\n\n  /**\n   * @param {ngeox.datasource.OGC} dataSource Data source.\n   * @return {boolean} Whether this data source can be combined to the given\n   *     other data source to fetch features in a single WFS request.\n   * @export\n   * @override\n   */\n  combinableWithDataSourceForWFS(dataSource) {\n    return this.combinableForWFS && dataSource.combinableForWFS &&\n      this.supportsWFS && dataSource.supportsWFS &&\n      this.queryable && dataSource.queryable &&\n      this.wfsUrl === dataSource.wfsUrl &&\n      this.haveTheSameActiveDimensions(dataSource);\n  }\n\n  /**\n   * @param {ngeox.datasource.OGC} dataSource Data source.\n   * @return {boolean} Whether this data source can be combined to the given\n   *     other data source to fetch features in a single WMS request.\n   * @export\n   * @override\n   */\n  combinableWithDataSourceForWMS(dataSource) {\n    return this.combinableForWMS && dataSource.combinableForWMS &&\n      this.supportsWMS && dataSource.supportsWMS &&\n      this.queryable && dataSource.queryable &&\n      this.wmsUrl === dataSource.wmsUrl &&\n      this.haveTheSameActiveDimensions(dataSource);\n  }\n\n  /**\n   * Check if there's at least one OGC layer in range of a given resolution.\n   * @param {number} res Resolution.\n   * @param {boolean} queryableOnly Whether to additionnally check if the\n   *     OGC layer is queryable as well or not. Defaults to `false`.\n   * @return {boolean} At least one OGC layer is in range.\n   * @export\n   */\n  isAnyOGCLayerInRange(res, queryableOnly = false) {\n    return !!(this.getInRangeOGCLayerNames(res, queryableOnly).length);\n  }\n\n  /**\n   * Returns a list of OGC layer names that are in range of a given resolution.\n   * If there's no OGC layers defined, an empty array is returned.\n   * @param {number} res Resolution.\n   * @param {boolean} queryableOnly Whether to additionnally check if the\n   *     OGC layer is queryable as well or not. Defaults to `false`.\n   * @return {Array.<string>} The OGC layer names that are in range.\n   * @export\n   */\n  getInRangeOGCLayerNames(res, queryableOnly = false) {\n\n    const layerNames = [];\n\n    if (this.ogcLayers) {\n      for (const ogcLayer of this.ogcLayers) {\n        const maxRes = ogcLayer.maxResolution;\n        const minRes = ogcLayer.minResolution;\n        const inMinRange = minRes === undefined || res >= minRes;\n        const inMaxRange = maxRes === undefined || res <= maxRes;\n        const inRange = inMinRange && inMaxRange;\n\n        if (inRange && (!queryableOnly || ogcLayer.queryable)) {\n          layerNames.push(ogcLayer.name);\n        }\n      }\n    }\n\n    return layerNames;\n  }\n\n  /**\n   * Returns the list of OGC layer names.\n   * @param {boolean} queryableOnly Whether to additionnally check if the\n   *     OGC layer is queryable as well or not. Defaults to `false`.\n   * @return {Array.<string>} The OGC layer names.\n   * @export\n   */\n  getOGCLayerNames(queryableOnly = false) {\n\n    const layerNames = [];\n\n    if (this.ogcLayers) {\n      for (const ogcLayer of this.ogcLayers) {\n        if (!queryableOnly || ogcLayer.queryable) {\n          layerNames.push(ogcLayer.name);\n        }\n      }\n    }\n\n    return layerNames;\n  }\n\n  /**\n   * Returns the filtrable OGC layer name. This methods asserts that\n   * the name exists and is filtrable.\n   * @return {string} OGC layer name.\n   * @export\n   */\n  getFiltrableOGCLayerName() {\n    googAsserts.assert(this.filtrable);\n    const layerNames = this.getOGCLayerNames();\n    googAsserts.assert(layerNames.length === 1);\n    return layerNames[0];\n  }\n\n  /**\n   * Loop in the attributes of the data source. Update the `geometryName`\n   * property on the first geometry attribute found. If none is found, then\n   * the default geometry name is set.\n   * @private\n   */\n  updateGeometryNameFromAttributes_() {\n    let geometryName = exports.DEFAULT_GEOMETRY_NAME_;\n\n    if (this.attributes) {\n      for (const attribute of this.attributes) {\n        if (attribute.type === ngeoFormatAttributeType.GEOMETRY) {\n          geometryName = attribute.name;\n          break;\n        }\n      }\n    }\n\n    this.geometryName_ = geometryName;\n  }\n\n  /**\n   * @param {!ngeox.datasource.OGC} dataSource Remote data source to\n   *     compare with this one.\n   * @return {boolean} Whether the two data sources have the same active\n   *     dimensions. If both have no dimensions, they are considered to be\n   *     sharing the same dimensions.\n   * @export\n   * @override\n   */\n  haveTheSameActiveDimensions(dataSource) {\n    let share = true;\n\n    const myActive = this.activeDimensions;\n    const itsActive = dataSource.activeDimensions;\n\n    for (const key in myActive) {\n      if (myActive[key] !== itsActive[key]) {\n        share = false;\n        break;\n      }\n    }\n\n    if (share) {\n      for (const key in itsActive) {\n        if (itsActive[key] !== myActive[key]) {\n          share = false;\n          break;\n        }\n      }\n    }\n\n    return share;\n  }\n};\n\n\n/**\n * Guess the type of OGC service from a given url. Default returned value is\n * WMS.\n * @param {string} url Url\n * @return {string} Guessed OGC service type.\n */\nexports.guessServiceTypeByUrl = function(url) {\n  let type;\n\n  if (/(wmts)/i.test(url)) {\n    type = exports.Type.WMTS;\n  } else {\n    type = exports.Type.WMS;\n  }\n\n  return type;\n};\n\n\n/**\n * Default name of the geometry attribute.\n * @type {string}\n * @private\n */\nexports.DEFAULT_GEOMETRY_NAME_ = 'the_geom';\n\n\n/**\n * Available OGC server types.\n * @enum {string}\n */\nexports.ServerType = {\n  GEOSERVER: 'geoserver',\n  MAPSERVER: 'mapserver',\n  QGISSERVER: 'qgisserver'\n};\n\n\n/**\n * Available OGC types.\n * @enum {string}\n */\nexports.Type = {\n  WMS: 'WMS',\n  WMTS: 'WMTS'\n};\n\n\n/**\n * Available Feature namespace for WFS requests.\n * @const {Object.<string, string>}\n */\nexports.WFSFeatureNS = {\n  'geoserver': 'http://www.opengis.net/gml/3.2',\n  'mapserver': 'http://mapserver.gis.umn.edu/mapserver',\n  'qgisserver': 'http://www.qgis.org/gml'\n};\n\n\n/**\n * Available Feature namespace for WFS requests.\n * @enum {string}\n */\nexports.WFSFeaturePrefix = {\n  FEATURE: 'feature'\n};\n\n\n/**\n * Available OutputFormat for WFS requests.\n * @enum {string}\n */\nexports.WFSOutputFormat = {\n  GML2: 'GML2',\n  GML3: 'GML3'\n};\n\n\n/**\n * Available InfoFormat for WMS requests.\n * @enum {string}\n */\nexports.WMSInfoFormat = {\n  GML: 'application/vnd.ogc.gml'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/OGC.js","/**\n * @module ngeo.format.AttributeType\n */\n/**\n * @enum {string}\n * @export\n */\nconst exports = {\n  /**\n   * @type {string}\n   */\n  BOOLEAN: 'boolean',\n  /**\n   * @type {string}\n   */\n  DATE: 'date',\n  /**\n   * @type {string}\n   */\n  DATETIME: 'datetime',\n  /**\n   * @type {string}\n   */\n  TIME: 'time',\n  /**\n   * @type {string}\n   */\n  GEOMETRY: 'geometry',\n  /**\n   * @type {string}\n   */\n  NUMBER: 'number',\n  /**\n   * @type {string}\n   */\n  SELECT: 'select',\n  /**\n   * @type {string}\n   */\n  TEXT: 'text'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/AttributeType.js","export var match1         = /\\d/;            //       0 - 9\nexport var match2         = /\\d\\d/;          //      00 - 99\nexport var match3         = /\\d{3}/;         //     000 - 999\nexport var match4         = /\\d{4}/;         //    0000 - 9999\nexport var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nexport var match1to2      = /\\d\\d?/;         //       0 - 99\nexport var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nexport var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nexport var match1to3      = /\\d{1,3}/;       //       0 - 999\nexport var match1to4      = /\\d{1,4}/;       //       0 - 9999\nexport var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nexport var matchUnsigned  = /\\d+/;           //       0 - inf\nexport var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nexport var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nexport var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nexport var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nexport var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n\nimport hasOwnProp from '../utils/has-own-prop';\nimport isFunction from '../utils/is-function';\n\nvar regexes = {};\n\nexport function addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nexport function getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nexport function regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/parse/regex.js\n// module id = 41\n// module chunks = 0 1 2 3 4 5","import hasOwnProp from '../utils/has-own-prop';\nimport isNumber from '../utils/is-number';\nimport toInt from '../utils/to-int';\n\nvar tokens = {};\n\nexport function addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nexport function addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nexport function addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/parse/token.js\n// module id = 42\n// module chunks = 0 1 2 3 4 5","/**\n * @module ol/format/GMLBase\n */\n// FIXME Envelopes should not be treated as geometries! readEnvelope_ is part\n// of GEOMETRY_PARSERS_ and methods using GEOMETRY_PARSERS_ do not expect\n// envelopes/extents, only geometries!\nimport {inherits} from '../index.js';\nimport {extend} from '../array.js';\nimport Feature from '../Feature.js';\nimport {transformWithOptions} from '../format/Feature.js';\nimport XMLFeature from '../format/XMLFeature.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport LineString from '../geom/LineString.js';\nimport LinearRing from '../geom/LinearRing.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport {assign} from '../obj.js';\nimport {get as getProjection} from '../proj.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Feature base format for reading and writing data in the GML format.\n * This class cannot be instantiated, it contains only base content that\n * is shared with versioned format classes ol.format.GML2 and\n * ol.format.GML3.\n *\n * @constructor\n * @abstract\n * @param {olx.format.GMLOptions=} opt_options\n *     Optional configuration object.\n * @extends {ol.format.XMLFeature}\n */\nconst GMLBase = function(opt_options) {\n  const options = /** @type {olx.format.GMLOptions} */\n      (opt_options ? opt_options : {});\n\n  /**\n   * @protected\n   * @type {Array.<string>|string|undefined}\n   */\n  this.featureType = options.featureType;\n\n  /**\n   * @protected\n   * @type {Object.<string, string>|string|undefined}\n   */\n  this.featureNS = options.featureNS;\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  this.srsName = options.srsName;\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  this.schemaLocation = '';\n\n  /**\n   * @type {Object.<string, Object.<string, Object>>}\n   */\n  this.FEATURE_COLLECTION_PARSERS = {};\n  this.FEATURE_COLLECTION_PARSERS[GMLBase.GMLNS] = {\n    'featureMember': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readFeaturesInternal),\n    'featureMembers': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readFeaturesInternal)\n  };\n\n  XMLFeature.call(this);\n};\n\ninherits(GMLBase, XMLFeature);\n\n\n/**\n * @const\n * @type {string}\n */\nGMLBase.GMLNS = 'http://www.opengis.net/gml';\n\n\n/**\n * A regular expression that matches if a string only contains whitespace\n * characters. It will e.g. match `''`, `' '`, `'\\n'` etc. The non-breaking\n * space (0xa0) is explicitly included as IE doesn't include it in its\n * definition of `\\s`.\n *\n * Information from `goog.string.isEmptyOrWhitespace`: https://github.com/google/closure-library/blob/e877b1e/closure/goog/string/string.js#L156-L160\n *\n * @const\n * @type {RegExp}\n * @private\n */\nGMLBase.ONLY_WHITESPACE_RE_ = /^[\\s\\xa0]*$/;\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<ol.Feature> | undefined} Features.\n */\nGMLBase.prototype.readFeaturesInternal = function(node, objectStack) {\n  const localName = node.localName;\n  let features = null;\n  if (localName == 'FeatureCollection') {\n    if (node.namespaceURI === 'http://www.opengis.net/wfs') {\n      features = _ol_xml_.pushParseAndPop([],\n        this.FEATURE_COLLECTION_PARSERS, node,\n        objectStack, this);\n    } else {\n      features = _ol_xml_.pushParseAndPop(null,\n        this.FEATURE_COLLECTION_PARSERS, node,\n        objectStack, this);\n    }\n  } else if (localName == 'featureMembers' || localName == 'featureMember') {\n    const context = objectStack[0];\n    let featureType = context['featureType'];\n    let featureNS = context['featureNS'];\n    let i, ii;\n    const prefix = 'p';\n    const defaultPrefix = 'p0';\n    if (!featureType && node.childNodes) {\n      featureType = [], featureNS = {};\n      for (i = 0, ii = node.childNodes.length; i < ii; ++i) {\n        const child = node.childNodes[i];\n        if (child.nodeType === 1) {\n          const ft = child.nodeName.split(':').pop();\n          if (featureType.indexOf(ft) === -1) {\n            let key = '';\n            let count = 0;\n            const uri = child.namespaceURI;\n            for (const candidate in featureNS) {\n              if (featureNS[candidate] === uri) {\n                key = candidate;\n                break;\n              }\n              ++count;\n            }\n            if (!key) {\n              key = prefix + count;\n              featureNS[key] = uri;\n            }\n            featureType.push(key + ':' + ft);\n          }\n        }\n      }\n      if (localName != 'featureMember') {\n        // recheck featureType for each featureMember\n        context['featureType'] = featureType;\n        context['featureNS'] = featureNS;\n      }\n    }\n    if (typeof featureNS === 'string') {\n      const ns = featureNS;\n      featureNS = {};\n      featureNS[defaultPrefix] = ns;\n    }\n    const parsersNS = {};\n    const featureTypes = Array.isArray(featureType) ? featureType : [featureType];\n    for (const p in featureNS) {\n      const parsers = {};\n      for (i = 0, ii = featureTypes.length; i < ii; ++i) {\n        const featurePrefix = featureTypes[i].indexOf(':') === -1 ?\n          defaultPrefix : featureTypes[i].split(':')[0];\n        if (featurePrefix === p) {\n          parsers[featureTypes[i].split(':').pop()] =\n              (localName == 'featureMembers') ?\n                _ol_xml_.makeArrayPusher(this.readFeatureElement, this) :\n                _ol_xml_.makeReplacer(this.readFeatureElement, this);\n        }\n      }\n      parsersNS[featureNS[p]] = parsers;\n    }\n    if (localName == 'featureMember') {\n      features = _ol_xml_.pushParseAndPop(undefined, parsersNS, node, objectStack);\n    } else {\n      features = _ol_xml_.pushParseAndPop([], parsersNS, node, objectStack);\n    }\n  }\n  if (features === null) {\n    features = [];\n  }\n  return features;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.Geometry|undefined} Geometry.\n */\nGMLBase.prototype.readGeometryElement = function(node, objectStack) {\n  const context = /** @type {Object} */ (objectStack[0]);\n  context['srsName'] = node.firstElementChild.getAttribute('srsName');\n  context['srsDimension'] = node.firstElementChild.getAttribute('srsDimension');\n  /** @type {ol.geom.Geometry} */\n  const geometry = _ol_xml_.pushParseAndPop(null,\n    this.GEOMETRY_PARSERS_, node, objectStack, this);\n  if (geometry) {\n    return (\n      /** @type {ol.geom.Geometry} */ transformWithOptions(geometry, false, context)\n    );\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Feature} Feature.\n */\nGMLBase.prototype.readFeatureElement = function(node, objectStack) {\n  let n;\n  const fid = node.getAttribute('fid') ||\n      _ol_xml_.getAttributeNS(node, GMLBase.GMLNS, 'id');\n  const values = {};\n  let geometryName;\n  for (n = node.firstElementChild; n; n = n.nextElementSibling) {\n    const localName = n.localName;\n    // Assume attribute elements have one child node and that the child\n    // is a text or CDATA node (to be treated as text).\n    // Otherwise assume it is a geometry node.\n    if (n.childNodes.length === 0 ||\n        (n.childNodes.length === 1 &&\n        (n.firstChild.nodeType === 3 || n.firstChild.nodeType === 4))) {\n      let value = _ol_xml_.getAllTextContent(n, false);\n      if (GMLBase.ONLY_WHITESPACE_RE_.test(value)) {\n        value = undefined;\n      }\n      values[localName] = value;\n    } else {\n      // boundedBy is an extent and must not be considered as a geometry\n      if (localName !== 'boundedBy') {\n        geometryName = localName;\n      }\n      values[localName] = this.readGeometryElement(n, objectStack);\n    }\n  }\n  const feature = new Feature(values);\n  if (geometryName) {\n    feature.setGeometryName(geometryName);\n  }\n  if (fid) {\n    feature.setId(fid);\n  }\n  return feature;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.Point|undefined} Point.\n */\nGMLBase.prototype.readPoint = function(node, objectStack) {\n  const flatCoordinates =\n      this.readFlatCoordinatesFromNode_(node, objectStack);\n  if (flatCoordinates) {\n    const point = new Point(null);\n    point.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates);\n    return point;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.MultiPoint|undefined} MultiPoint.\n */\nGMLBase.prototype.readMultiPoint = function(node, objectStack) {\n  /** @type {Array.<Array.<number>>} */\n  const coordinates = _ol_xml_.pushParseAndPop([],\n    this.MULTIPOINT_PARSERS_, node, objectStack, this);\n  if (coordinates) {\n    return new MultiPoint(coordinates);\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.MultiLineString|undefined} MultiLineString.\n */\nGMLBase.prototype.readMultiLineString = function(node, objectStack) {\n  /** @type {Array.<ol.geom.LineString>} */\n  const lineStrings = _ol_xml_.pushParseAndPop([],\n    this.MULTILINESTRING_PARSERS_, node, objectStack, this);\n  if (lineStrings) {\n    const multiLineString = new MultiLineString(null);\n    multiLineString.setLineStrings(lineStrings);\n    return multiLineString;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.MultiPolygon|undefined} MultiPolygon.\n */\nGMLBase.prototype.readMultiPolygon = function(node, objectStack) {\n  /** @type {Array.<ol.geom.Polygon>} */\n  const polygons = _ol_xml_.pushParseAndPop([],\n    this.MULTIPOLYGON_PARSERS_, node, objectStack, this);\n  if (polygons) {\n    const multiPolygon = new MultiPolygon(null);\n    multiPolygon.setPolygons(polygons);\n    return multiPolygon;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGMLBase.prototype.pointMemberParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(this.POINTMEMBER_PARSERS_,\n    node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGMLBase.prototype.lineStringMemberParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(this.LINESTRINGMEMBER_PARSERS_,\n    node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGMLBase.prototype.polygonMemberParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(this.POLYGONMEMBER_PARSERS_, node,\n    objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.LineString|undefined} LineString.\n */\nGMLBase.prototype.readLineString = function(node, objectStack) {\n  const flatCoordinates =\n      this.readFlatCoordinatesFromNode_(node, objectStack);\n  if (flatCoordinates) {\n    const lineString = new LineString(null);\n    lineString.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates);\n    return lineString;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>|undefined} LinearRing flat coordinates.\n */\nGMLBase.prototype.readFlatLinearRing_ = function(node, objectStack) {\n  const ring = _ol_xml_.pushParseAndPop(null,\n    this.GEOMETRY_FLAT_COORDINATES_PARSERS_, node,\n    objectStack, this);\n  if (ring) {\n    return ring;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.LinearRing|undefined} LinearRing.\n */\nGMLBase.prototype.readLinearRing = function(node, objectStack) {\n  const flatCoordinates =\n      this.readFlatCoordinatesFromNode_(node, objectStack);\n  if (flatCoordinates) {\n    const ring = new LinearRing(null);\n    ring.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates);\n    return ring;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.geom.Polygon|undefined} Polygon.\n */\nGMLBase.prototype.readPolygon = function(node, objectStack) {\n  /** @type {Array.<Array.<number>>} */\n  const flatLinearRings = _ol_xml_.pushParseAndPop([null],\n    this.FLAT_LINEAR_RINGS_PARSERS_, node, objectStack, this);\n  if (flatLinearRings && flatLinearRings[0]) {\n    const polygon = new Polygon(null);\n    const flatCoordinates = flatLinearRings[0];\n    const ends = [flatCoordinates.length];\n    let i, ii;\n    for (i = 1, ii = flatLinearRings.length; i < ii; ++i) {\n      extend(flatCoordinates, flatLinearRings[i]);\n      ends.push(flatCoordinates.length);\n    }\n    polygon.setFlatCoordinates(\n      GeometryLayout.XYZ, flatCoordinates, ends);\n    return polygon;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>} Flat coordinates.\n */\nGMLBase.prototype.readFlatCoordinatesFromNode_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(null,\n    this.GEOMETRY_FLAT_COORDINATES_PARSERS_, node,\n    objectStack, this);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGMLBase.prototype.MULTIPOINT_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'pointMember': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.pointMemberParser_),\n    'pointMembers': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.pointMemberParser_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGMLBase.prototype.MULTILINESTRING_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'lineStringMember': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.lineStringMemberParser_),\n    'lineStringMembers': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.lineStringMemberParser_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGMLBase.prototype.MULTIPOLYGON_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'polygonMember': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.polygonMemberParser_),\n    'polygonMembers': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.polygonMemberParser_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGMLBase.prototype.POINTMEMBER_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'Point': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.readFlatCoordinatesFromNode_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGMLBase.prototype.LINESTRINGMEMBER_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'LineString': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.readLineString)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGMLBase.prototype.POLYGONMEMBER_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'Polygon': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.readPolygon)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @protected\n */\nGMLBase.prototype.RING_PARSERS = {\n  'http://www.opengis.net/gml': {\n    'LinearRing': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readFlatLinearRing_)\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nGMLBase.prototype.readGeometryFromNode = function(node, opt_options) {\n  const geometry = this.readGeometryElement(node,\n    [this.getReadOptions(node, opt_options ? opt_options : {})]);\n  return geometry ? geometry : null;\n};\n\n\n/**\n * Read all features from a GML FeatureCollection.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\nGMLBase.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nGMLBase.prototype.readFeaturesFromNode = function(node, opt_options) {\n  const options = {\n    featureType: this.featureType,\n    featureNS: this.featureNS\n  };\n  if (opt_options) {\n    assign(options, this.getReadOptions(node, opt_options));\n  }\n  const features = this.readFeaturesInternal(node, [options]);\n  return features || [];\n};\n\n\n/**\n * @inheritDoc\n */\nGMLBase.prototype.readProjectionFromNode = function(node) {\n  return getProjection(this.srsName ? this.srsName :\n    node.firstElementChild.getAttribute('srsName'));\n};\nexport default GMLBase;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/GMLBase.js\n// module id = 46\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22","/**\n * @module ngeo.map.LayerHelper\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport * as olArray from 'ol/array.js';\nimport olFormatWMTSCapabilities from 'ol/format/WMTSCapabilities.js';\nimport olLayerGroup from 'ol/layer/Group.js';\nimport olLayerImage from 'ol/layer/Image.js';\nimport olLayerTile from 'ol/layer/Tile.js';\nimport * as olObj from 'ol/obj.js';\nimport olSourceImageWMS from 'ol/source/ImageWMS.js';\nimport olSourceTileWMS from 'ol/source/TileWMS.js';\nimport olSourceWMTS from 'ol/source/WMTS.js';\nimport * as olUri from 'ol/uri.js';\n\n/**\n * Provides help functions that helps you to create and manage layers.\n * @param {angular.$q} $q Angular promises/deferred service.\n * @param {angular.$http} $http Angular http service.\n * @constructor\n * @struct\n * @ngdoc service\n * @ngname ngeoLayerHelper\n * @ngInject\n */\nconst exports = function($q, $http) {\n\n  /**\n   * @type {angular.$q}\n   * @private\n   */\n  this.$q_ = $q;\n\n  /**\n   * @type {angular.$http}\n   * @private\n   */\n  this.$http_ = $http;\n};\n\n\n/**\n * @const\n */\nexports.GROUP_KEY = 'groupName';\n\n\n/**\n * @const\n */\nexports.REFRESH_PARAM = 'random';\n\n\n/**\n * Create and return a basic WMS layer with only a source URL and a comma\n * separated layers names (see {@link ol.source.ImageWMS}).\n *\n * @param {string} sourceURL The source URL.\n * @param {string} sourceLayersName A comma separated names string.\n * @param {string} sourceFormat Image format, for example 'image/png'.\n * @param {string=} opt_serverType Type of the server (\"mapserver\",\n *     \"geoserver\", \"qgisserver\", …).\n * @param {string=} opt_time time parameter for layer queryable by time/periode\n * @param {Object.<string, string>=} opt_params WMS parameters.\n * @param {string=} opt_crossOrigin crossOrigin.\n * @return {ol.layer.Image} WMS Layer.\n * @export\n */\nexports.prototype.createBasicWMSLayer = function(sourceURL,\n  sourceLayersName, sourceFormat, opt_serverType, opt_time, opt_params, opt_crossOrigin) {\n\n  const params = {\n    'FORMAT': sourceFormat,\n    'LAYERS': sourceLayersName\n  };\n  let olServerType;\n  if (opt_time) {\n    params['TIME'] = opt_time;\n  }\n  if (opt_serverType) {\n    params['SERVERTYPE'] = opt_serverType;\n    // OpenLayers expects 'qgis' insteads of 'qgisserver'\n    olServerType = opt_serverType.replace('qgisserver', 'qgis');\n  }\n  const source = new olSourceImageWMS({\n    url: sourceURL,\n    params: params,\n    serverType: olServerType,\n    crossOrigin: opt_crossOrigin\n  });\n  if (opt_params) {\n    source.updateParams(opt_params);\n  }\n\n  return new olLayerImage({source});\n};\n\n\n/**\n * Create and return a basic WMS layer using an OGC data source.\n *\n * @param {ngeo.datasource.OGC} dataSource OGC data source.\n * @param {string=} opt_crossOrigin crossOrigin.\n * @return {ol.layer.Image} WMS Layer.\n * @export\n */\nexports.prototype.createBasicWMSLayerFromDataSource = function(\n  dataSource, opt_crossOrigin\n) {\n  const url = dataSource.wmsUrl;\n  googAsserts.assert(url);\n\n  const layerNames = dataSource.getOGCLayerNames().join(',');\n  const serverType = dataSource.ogcServerType;\n  const imageType = dataSource.ogcImageType;\n\n  // (1) Layer creation\n  const layer = this.createBasicWMSLayer(\n    url,\n    layerNames,\n    imageType,\n    serverType,\n    undefined,\n    undefined,\n    opt_crossOrigin\n  );\n\n  // (2) Manage visibility\n  layer.setVisible(dataSource.visible);\n\n  // (3) Reference to the data source\n  layer.set('querySourceIds', [dataSource.id]);\n\n  return layer;\n};\n\n\n/**\n * Create and return a promise that provides a WMTS layer with source on\n * success, no layer else.\n * The WMTS layer source will be configured by the capabilities that are\n * loaded from the given capabilitiesUrl.\n * The style object described in the capabilities for this layer will be added\n * as key 'capabilitiesStyles' as param of the new layer.\n * @param {string} capabilitiesURL The getCapabilities url.\n * @param {string} layerName The name of the layer.\n * @param {Object.<string, string>=} opt_dimensions WMTS dimensions.\n * @return {angular.$q.Promise.<ol.layer.Tile>} A Promise with a layer (with source) on success,\n *     no layer else.\n * @export\n */\nexports.prototype.createWMTSLayerFromCapabilitites = function(capabilitiesURL, layerName, opt_dimensions) {\n  const parser = new olFormatWMTSCapabilities();\n  const layer = new olLayerTile({\n    preload: Infinity\n  });\n  const $q = this.$q_;\n\n  return this.$http_.get(capabilitiesURL, {cache: true}).then((response) => {\n    let result;\n    if (response.data) {\n      result = parser.read(response.data);\n    }\n    if (result) {\n      const options = olSourceWMTS.optionsFromCapabilities(result, {\n        crossOrigin: 'anonymous',\n        layer: layerName\n      });\n      googAsserts.assert(options);\n      const source = new olSourceWMTS(/** @type {olx.source.WMTSOptions} */ (options));\n      if (opt_dimensions && !olObj.isEmpty(opt_dimensions)) {\n        source.updateDimensions(opt_dimensions);\n      }\n      layer.setSource(source);\n\n      // Add styles from capabilities as param of the layer\n      const layers = result['Contents']['Layer'];\n      const l = olArray.find(layers, (elt, index, array) => elt['Identifier'] == layerName);\n      layer.set('capabilitiesStyles', l['Style']);\n\n      return $q.resolve(layer);\n    }\n    return $q.reject(`Failed to get WMTS capabilities from ${capabilitiesURL}`);\n  });\n};\n\n\n/**\n * Create and return a WMTS layer using a formatted capabilities response\n * and a capability layer.\n *\n * @param {!Object} capabilities The complete capabilities object of the service\n * @param {!Object} layerCap The layer capability object\n * @param {Object.<string, string>=} opt_dimensions WMTS dimensions.\n * @return {!ol.layer.Tile} WMTS layer\n * @export\n */\nexports.prototype.createWMTSLayerFromCapabilititesObj = function(\n  capabilities, layerCap, opt_dimensions\n) {\n\n  const options = olSourceWMTS.optionsFromCapabilities(capabilities, {\n    crossOrigin: 'anonymous',\n    layer: layerCap['Identifier']\n  });\n\n  googAsserts.assert(options);\n  const source = new olSourceWMTS(\n    /** @type {olx.source.WMTSOptions} */ (options));\n\n  if (opt_dimensions && !olObj.isEmpty(opt_dimensions)) {\n    source.updateDimensions(opt_dimensions);\n  }\n\n  return new olLayerTile({\n    'capabilitiesStyles': layerCap['Style'],\n    preload: Infinity,\n    source: source\n  });\n};\n\n\n/**\n * Create and return an ol.layer.Group. You can pass a collection of layers to\n * directly add them in the returned group.\n * @param {ol.Collection.<ol.layer.Base>=} opt_layers The layer to add to the\n * returned Group.\n * @return {ol.layer.Group} Layer group.\n * @export\n */\nexports.prototype.createBasicGroup = function(opt_layers) {\n  const group = new olLayerGroup();\n  if (opt_layers) {\n    group.setLayers(opt_layers);\n  }\n  return group;\n};\n\n\n/**\n * Retrieve (or create if it doesn't exist) and return a group of layer from\n * the base array of layers of a map. The given name is used as unique\n * identifier. If the group is created, it will be automatically added to\n * the map.\n * @param {ol.Map} map A map.\n * @param {string} groupName The name of the group.\n * @return {ol.layer.Group} The group corresponding to the given name.\n * @export\n */\nexports.prototype.getGroupFromMap = function(map, groupName) {\n  const groups = map.getLayerGroup().getLayers();\n  let group;\n  groups.getArray().some((existingGroup) => {\n    if (existingGroup.get(exports.GROUP_KEY) === groupName) {\n      group = /** @type {ol.layer.Group} */ (existingGroup);\n      return true;\n    } else {\n      return false;\n    }\n  });\n  if (!group) {\n    group = this.createBasicGroup();\n    group.set(exports.GROUP_KEY, groupName);\n    map.addLayer(group);\n  }\n  return group;\n};\n\n\n/**\n * Get an array of all layers in a group. The group can contain multiple levels\n * of others groups.\n * @param {ol.layer.Base} layer The base layer, mostly a group of layers.\n * @return {Array.<ol.layer.Layer>} Layers.\n * @export\n */\nexports.prototype.getFlatLayers = function(layer) {\n  return this.getFlatLayers_(layer, []);\n};\n\n\n/**\n * Get an array of all layers in a group. The group can contain multiple levels\n * of others groups.\n * @param {ol.layer.Base} layer The base layer, mostly a group of layers.\n * @param {Array.<ol.layer.Base>} array An array to add layers.\n * @return {Array.<ol.layer.Layer>} Layers.\n * @private\n */\nexports.prototype.getFlatLayers_ = function(layer, array) {\n  if (layer instanceof olLayerGroup) {\n    const sublayers = layer.getLayers();\n    sublayers.forEach(function(l) {\n      this.getFlatLayers_(l, array);\n    }, this);\n  } else {\n    if (array.indexOf(layer) < 0) {\n      array.push(layer);\n    }\n  }\n  return array;\n};\n\n\n/**\n * Get a layer that has a `layerName` property equal to a given layer name from\n * an array of layers. If one of the layers in the array is a group, then the\n * layers contained in that group are searched as well.\n * @param {string} layerName The name of the layer we're looking for.\n * @param {Array.<ol.layer.Base>} layers Layers.\n * @return {?ol.layer.Base} Layer.\n * @export\n */\nexports.prototype.getLayerByName = function(layerName, layers) {\n  let found = null;\n  layers.some(function(layer) {\n    if (layer instanceof olLayerGroup) {\n      const sublayers = layer.getLayers().getArray();\n      found = this.getLayerByName(layerName, sublayers);\n    } else if (layer.get('layerNodeName') === layerName) {\n      found = layer;\n    }\n    return !!found;\n  }, this);\n\n  return found;\n};\n\n\n/**\n * Get the WMTS legend URL for the given layer.\n * @param {ol.layer.Tile} layer Tile layer as returned by the\n * ngeo layerHelper service.\n * @return {string|undefined} The legend URL or undefined.\n * @export\n */\nexports.prototype.getWMTSLegendURL = function(layer) {\n  // FIXME case of multiple styles ?  case of multiple legendUrl ?\n  let url;\n  const styles = layer.get('capabilitiesStyles');\n  if (styles !== undefined) {\n    const legendURL = styles[0]['legendURL'];\n    if (legendURL !== undefined) {\n      url = legendURL[0]['href'];\n    }\n  }\n  return url;\n};\n\n\n/**\n * Get the WMS legend URL for the given node.\n * @param {string|undefined} url The base url of the wms service.\n * @param {string} layerName The name of a wms layer.\n * @param {number=} opt_scale A scale.\n * @param {string=} opt_legendRule rule parameters to add to the returned URL.\n * @return {string|undefined} The legend URL or undefined.\n * @export\n */\nexports.prototype.getWMSLegendURL = function(url,\n  layerName, opt_scale, opt_legendRule) {\n  if (!url) {\n    return undefined;\n  }\n  const queryString = {\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true,\n    'SERVICE': 'WMS',\n    'VERSION': '1.1.1',\n    'REQUEST': 'GetLegendGraphic',\n    'LAYER': layerName\n  };\n  if (opt_scale !== undefined) {\n    queryString['SCALE'] = opt_scale;\n  }\n  if (opt_legendRule !== undefined) {\n    queryString['RULE'] = opt_legendRule;\n  }\n  return olUri.appendParams(url, queryString);\n};\n\n\n/**\n * Returns if this layer is visible at the current resolution.\n * @param {ol.layer.Base} layer Layer.\n * @param {ol.Map} map Map.\n * @return {boolean} Is the layer currently visible?\n */\nexports.prototype.isLayerVisible = function(layer, map) {\n  if (!layer.getVisible()) {\n    return false;\n  }\n\n  const currentResolution = map.getView().getResolution();\n  return currentResolution > layer.getMinResolution() &&\n      currentResolution < layer.getMaxResolution();\n};\n\n\n/**\n * Force a WMS layer to refresh using a random value.\n * @param {ol.layer.Image|ol.layer.Tile} layer Layer to refresh.\n */\nexports.prototype.refreshWMSLayer = function(layer) {\n  const source_ = layer.getSource();\n  googAsserts.assert(\n    source_ instanceof olSourceImageWMS ||\n    source_ instanceof olSourceTileWMS\n  );\n  const source = /** @type {ol.source.ImageWMS|ol.source.TileWMS} */ (source_);\n  const params = source.getParams();\n  params[exports.REFRESH_PARAM] = Math.random();\n  source.updateParams(params);\n};\n\n\n/**\n * Update the LAYERS parameter of the source of the given WMS layer.\n * @param {ol.layer.Image} layer The WMS layer.\n * @param {string} names The names that will be used to set\n * the LAYERS parameter.\n * @param {string=} opt_time The start\n * and optionally the end datetime (for time range selection) selected by user\n * in a ISO-8601 string datetime or time interval format\n * @export\n */\nexports.prototype.updateWMSLayerState = function(layer, names, opt_time) {\n  // Don't send layer without parameters, hide layer instead;\n  if (names.length <= 0) {\n    layer.setVisible(false);\n  } else {\n    layer.setVisible(true);\n    const source = /** @type {ol.source.ImageWMS} */ (layer.getSource());\n    if (opt_time) {\n      source.updateParams({'LAYERS': names, 'TIME': opt_time});\n    } else {\n      source.updateParams({'LAYERS': names});\n    }\n  }\n};\n\n\n/**\n * @param {ol.layer.Image} layer The WMS layer.\n * @return {Array.<number>|undefined} List of query source ids, a.k.a.\n *     the data source ids this layer is composed of.\n * @export\n */\nexports.prototype.getQuerySourceIds = function(layer) {\n  return /** @type {Array.<number>|undefined} */ (\n    layer.get('querySourceIds'));\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoLayerHelper', []);\nexports.module.service('ngeoLayerHelper', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/map/LayerHelper.js","/**\n * @module gmf.layertree.TreeManager\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport googAsserts from 'goog/asserts.js';\nimport ngeoLayertreeController from 'ngeo/layertree/Controller.js';\nimport ngeoMessageMessage from 'ngeo/message/Message.js';\nimport ngeoMessageNotification from 'ngeo/message/Notification.js';\nimport ngeoStatemanagerService from 'ngeo/statemanager/Service.js';\nimport * as olArray from 'ol/array.js';\nimport olEvents from 'ol/events.js';\nimport * as olObj from 'ol/obj.js';\n\n/**\n * Manage a tree with children. This service can be used in mode 'flush'\n * (default) or not (mode 'add'). In mode 'flush', each theme, group or group\n * by layer that you add will replace the previous children's array. In mode\n * 'add', children will be just pushed in this array. The default state can be\n * changed by setting the value `gmfTreeManagerModeFlush`, e.g.:\n *\n *     let module = angular.module('app');\n *     module.value('gmfTreeManagerModeFlush', false);\n *\n * This service's theme is a GmfTheme with only children and a name.\n * Thought to be the tree source of the gmf layertree directive.\n * @constructor\n * @struct\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @param {angular.$injector} $injector Angular injector service.\n * @param {angularGettext.Catalog} gettextCatalog Gettext catalog.\n * @param {ngeo.map.LayerHelper} ngeoLayerHelper Ngeo Layer Helper.\n * @param {ngeo.message.Notification} ngeoNotification Ngeo notification service.\n * @param {gmf.theme.Themes} gmfThemes gmf Themes service.\n * @param {ngeo.statemanager.Service} ngeoStateManager The ngeo statemanager service.\n * @ngInject\n * @ngdoc service\n * @ngname gmfTreeManager\n */\nconst exports = function($timeout, $injector, gettextCatalog, ngeoLayerHelper,\n  ngeoNotification, gmfThemes, ngeoStateManager) {\n\n  /**\n   * @type {angular.$timeout}\n   * @private\n   */\n  this.$timeout_ = $timeout;\n\n  /**\n   * @type {angular.$injector}\n   * @private\n   */\n  this.$injector_ = $injector;\n\n  /**\n   * @type {angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog_ = gettextCatalog;\n\n  /**\n   * @type {ngeo.map.LayerHelper}\n   * @private\n   */\n  this.layerHelper_ = ngeoLayerHelper;\n\n  /**\n   * @type {ngeo.message.Notification}\n   * @private\n   */\n  this.ngeoNotification_ = ngeoNotification;\n\n  /**\n   * @type {gmf.theme.Themes}\n   * @private\n   */\n  this.gmfThemes_ = gmfThemes;\n\n  /**\n   * The root node and its children used to generate the layertree (with the\n   * same ordre).\n   * @type {gmfThemes.GmfRootNode}\n   * @public\n   */\n  this.root = /** @type {gmfThemes.GmfRootNode} */ ({\n    children: []\n  });\n\n  /**\n   * The controller of the (unique) root layer tree.\n   * The array of top level layer trees is avaible through `rootCtrl.children`.\n   * The order doesn't match with the ordre of the displayed layertree.\n   * @type {ngeo.layertree.Controller}\n   * @export\n   */\n  this.rootCtrl = null;\n\n  /**\n   * Number of groups to add to the layertree during one single Angular\n   * digest loop.\n   * @type {number}\n   * @public\n   */\n  this.numberOfGroupsToAddInThisDigestLoop = 0;\n\n  /**\n   * @type {Array.<gmfThemes.GmfGroup>}\n   * @private\n   */\n  this.groupsToAddInThisDigestLoop_ = [];\n\n  /**\n   * @type {angular.$q.Promise}\n   * @private\n   */\n  this.promiseForGroupsToAddInThisDigestLoop_ = null;\n\n  /**\n   * @type {ngeo.statemanager.Service}\n   * @private\n   */\n  this.ngeoStateManager_ = ngeoStateManager;\n\n  /**\n   * A reference to the OGC servers loaded by the theme service.\n   * @type {gmfThemes.GmfOgcServers|null}\n   * @private\n   */\n  this.ogcServers_ = null;\n\n  olEvents.listen(this.gmfThemes_, 'change', this.handleThemesChange_, this);\n};\n\n/**\n * Called when the themes change. Get the OGC servers, then listen to the\n * tree manager Layertree controllers array changes.\n * The themes could have been changed so it also call a refresh of the\n * layertree.\n * @private\n */\nexports.prototype.handleThemesChange_ = function() {\n  this.gmfThemes_.getOgcServersObject().then((ogcServers) => {\n    this.ogcServers_ = ogcServers;\n  });\n\n  if (this.rootCtrl && this.rootCtrl.children) {\n    this.gmfThemes_.getThemesObject().then((themes) => {\n      this.refreshFirstLevelGroups_(themes);\n    });\n  }\n};\n\n/**\n * Set some groups as tree's children. If the service use mode 'flush', the\n * previous tree's children will be removed. Add only groups that are not\n * already in the tree.\n * @param {Array.<gmfThemes.GmfGroup>} firstLevelGroups An array of gmf theme group.\n * @return {boolean} True if the group has been added. False otherwise.\n * @export\n */\nexports.prototype.setFirstLevelGroups = function(firstLevelGroups) {\n  this.root.children.length = 0;\n  this.ngeoStateManager_.deleteParam(gmfBase.PermalinkParam.TREE_GROUPS);\n  return this.addFirstLevelGroups(firstLevelGroups);\n};\n\n/**\n * Add some groups as tree's children. If the service use mode 'flush', the\n * previous tree's children will be removed. Add only groups that are not\n * already in the tree.\n * @param {Array.<gmfThemes.GmfGroup>} firstLevelGroups An array of gmf theme\n *     group.\n * @param {boolean=} opt_add if true, force to use the 'add' mode this time.\n * @param {boolean=} opt_silent if true notifyCantAddGroups_ is not called.\n * @return{boolean} True if the group has been added. False otherwise.\n * @export\n */\nexports.prototype.addFirstLevelGroups = function(firstLevelGroups,\n  opt_add, opt_silent) {\n  const groupNotAdded = [];\n\n  firstLevelGroups.slice().reverse().forEach((group) => {\n    if (!this.addFirstLevelGroup_(group)) {\n      groupNotAdded.push(group);\n    }\n  });\n  if (groupNotAdded.length > 0 && !opt_silent) {\n    this.notifyCantAddGroups_(groupNotAdded);\n  }\n\n  return groupNotAdded.length === 0;\n};\n\n\n/**\n * Update the application state with the list of first level groups in the tree\n * @param {Array.<gmfThemes.GmfGroup>} groups firstlevel groups of the tree\n * @private\n */\nexports.prototype.updateTreeGroupsState_ = function(groups) {\n  const treeGroupsParam = {};\n  treeGroupsParam[gmfBase.PermalinkParam.TREE_GROUPS] = groups.map(node => node.name).join(',');\n  this.ngeoStateManager_.updateState(treeGroupsParam);\n  if (this.$injector_.has('gmfPermalink')) {\n    /** @type {gmf.permalink.Permalink} */(this.$injector_.get('gmfPermalink')).cleanParams(groups);\n  }\n};\n\n\n/**\n * Add a group as tree's children without consideration of this service 'mode'.\n * Add it only if it's not already in the tree.\n * @param {gmfThemes.GmfGroup} group The group to add.\n * @return {boolean} true if the group has been added.\n * @private\n */\nexports.prototype.addFirstLevelGroup_ = function(group) {\n  let alreadyAdded = false;\n  const groupID = group.id;\n  this.root.children.some((rootChild) => {\n    if (groupID === rootChild.id) {\n      return alreadyAdded = true;\n    }\n  }, this);\n  this.groupsToAddInThisDigestLoop_.some((grp) => {\n    if (groupID === grp.id) {\n      return alreadyAdded = true;\n    }\n  }, this);\n  if (alreadyAdded) {\n    return false;\n  }\n\n  // Add groups in the list of groups to add and be sure that the counter of\n  // groups to add is reset.\n  this.groupsToAddInThisDigestLoop_.push(group);\n  this.numberOfGroupsToAddInThisDigestLoop = 0;\n\n  // Delete previous timeout promise if it exists to do this action only once.\n  if (this.promiseForGroupsToAddInThisDigestLoop_ !== null) {\n    this.$timeout_.cancel(this.promiseForGroupsToAddInThisDigestLoop_);\n  }\n\n  // Add the groups only when there is no more group to come during this digest\n  // loop. The purpose of this is to preserve a consistent order between the\n  // layertree (generated by a template) and the layers in the map.\n  this.promiseForGroupsToAddInThisDigestLoop_ = this.$timeout_(() => {\n    // Set the number of group to add.\n    this.numberOfGroupsToAddInThisDigestLoop = this.groupsToAddInThisDigestLoop_.length;\n    // Add each first-level-groups.\n    this.groupsToAddInThisDigestLoop_.forEach(function(grp) {\n      this.root.children.unshift(grp);\n    }, this);\n    //Update the permalink\n    this.updateTreeGroupsState_(this.root.children);\n    // Reset the groups and the promise state. Don't reset the\n    // numberOfGroupsToAddInThisDigestLoop, it must persist because the layers\n    // will be added into the map after that the layertree template is\n    // generated (so in the next angular loop).\n    this.groupsToAddInThisDigestLoop_.length = 0;\n    this.promiseForGroupsToAddInThisDigestLoop_ = null;\n  });\n\n  return true;\n};\n\n\n/**\n * Retrieve a group (first found) by its name and add in the tree. Do nothing\n * if any corresponding group is found.\n * @param {string} groupName Name of the group to add.\n * @param {boolean=} opt_add if true, force to use the 'add' mode this time.\n * @export\n */\nexports.prototype.addGroupByName = function(groupName, opt_add) {\n  this.gmfThemes_.getThemesObject().then((themes) => {\n    const group = gmfThemeThemes.findGroupByName(themes, groupName);\n    if (group) {\n      this.addFirstLevelGroups([group], opt_add, false);\n    }\n  });\n};\n\n\n/**\n * Retrieve a group by the name of a layer that is contained in this group\n * (first found). This group will be added in the tree. Do nothing if any\n * corresponding group is found.\n * @param {string} layerName Name of the layer inside the group to add.\n * @param {boolean=} opt_add if true, force to use the 'add' mode this time.\n * @param {boolean=} opt_silent if true notifyCantAddGroups_ is not called\n * @export\n */\nexports.prototype.addGroupByLayerName = function(layerName, opt_add, opt_silent) {\n  this.gmfThemes_.getThemesObject().then((themes) => {\n    const group = gmfThemeThemes.findGroupByLayerNodeName(themes, layerName);\n    if (group) {\n      const groupAdded = this.addFirstLevelGroups([group], opt_add, opt_silent);\n      this.$timeout_(() => {\n        const treeCtrl = this.getTreeCtrlByNodeId(group.id);\n        if (!treeCtrl) {\n          console.warn('Tree controller not found, unable to add the group');\n          return;\n        }\n        let treeCtrlToActive;\n        treeCtrl.traverseDepthFirst((treeCtrl) => {\n          if (treeCtrl.node.name === layerName) {\n            treeCtrlToActive = treeCtrl;\n            return ngeoLayertreeController.VisitorDecision.STOP;\n          }\n        });\n\n        // Deactive all layers in the group if it's not in the tree.\n        if (groupAdded)  {\n          treeCtrl.setState('off');\n        }\n\n        // Active it.\n        if (treeCtrlToActive) {\n          treeCtrlToActive.setState('on');\n        }\n      });\n    }\n  });\n};\n\n\n/**\n * Remove a group from this tree's children. The first group that is found (\n * based on its name) will be removed. If any is found, nothing will append.\n * @param {gmfThemes.GmfGroup} group The group to remove.\n * @export\n */\nexports.prototype.removeGroup = function(group) {\n  const children = this.root.children;\n  let index = 0, found = false;\n  children.some((child) => {\n    if (child.name === group.name) {\n      return found = true;\n    }\n    index++;\n  });\n  if (found) {\n    children.splice(index, 1);\n    this.updateTreeGroupsState_(children);\n  }\n};\n\n\n/**\n * Remove all groups.\n * @export\n */\nexports.prototype.removeAll = function() {\n  while (this.root.children.length) {\n    this.removeGroup(this.root.children[0]);\n  }\n};\n\n\n/**\n * Clone a group node and recursively set all child node `isChecked` using\n * the given list of layer names.\n * @param {gmfThemes.GmfGroup} group The original group node.\n * @param {Array.<string>} names Array of node names to check (i.e. that\n *     should have their checkbox checked)\n * @return {gmfThemes.GmfGroup} Cloned node.\n * @private\n */\nexports.prototype.cloneGroupNode_ = function(group, names) {\n  const clone = /** @type {gmfThemes.GmfGroup} */ (olObj.assign({}, group));\n  this.toggleNodeCheck_(clone, names);\n  return clone;\n};\n\n\n/**\n * Set the child nodes metadata `isChecked` if its name is among the list of\n * given names. If a child node also has children, check those instead.\n * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} node The original node.\n * @param {Array.<string>} names Array of node names to check (i.e. that\n *     should have their checkbox checked)\n * @private\n */\nexports.prototype.toggleNodeCheck_ = function(node, names) {\n  if (!node.children) {\n    return;\n  }\n  node.children.forEach(function(childNode) {\n    if (childNode.children) {\n      this.toggleNodeCheck_(childNode, names);\n    } else if (childNode.metadata) {\n      childNode.metadata.isChecked = olArray.includes(names, childNode.name);\n    }\n  }, this);\n};\n\n\n/**\n * Display a notification that informs that the given groups are already in the\n * tree.\n * @param {Array.<gmfThemes.GmfGroup>} groups An array of groups that already in\n *   the tree.\n * @private\n */\nexports.prototype.notifyCantAddGroups_ = function(groups) {\n  const names = [];\n  const gettextCatalog = this.gettextCatalog_;\n  groups.forEach((group) => {\n    names.push(group.name);\n  });\n  const msg = (names.length < 2) ?\n    gettextCatalog.getString('group is already loaded.') :\n    gettextCatalog.getString('groups are already loaded.');\n  this.ngeoNotification_.notify({\n    msg: `${names.join(', ')} ${msg}`,\n    type: ngeoMessageMessage.Type.INFORMATION\n  });\n};\n\n\n/**\n * Get a treeCtrl based on it's node id.\n * @param {number} id the id of a GMFThemesGroup or a GMFThemesLeaf.\n * @return {ngeo.layertree.Controller?} treeCtrl The associated controller or null.\n * @public\n */\nexports.prototype.getTreeCtrlByNodeId = function(id) {\n  let correspondingTreeCtrl = null;\n  if (this.rootCtrl && this.rootCtrl.traverseDepthFirst) {\n    this.rootCtrl.traverseDepthFirst((treeCtrl) => {\n      if (treeCtrl.node.id === id) {\n        correspondingTreeCtrl = treeCtrl;\n        return ngeoLayertreeController.VisitorDecision.STOP;\n      }\n    });\n  }\n  return correspondingTreeCtrl;\n};\n\n\n/**\n * Get the OGC server.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @return {gmfThemes.GmfOgcServer} The OGC server.\n */\nexports.prototype.getOgcServer = function(treeCtrl) {\n  if (treeCtrl.parent.node.mixed) {\n    const gmfLayerWMS = /** @type {gmfThemes.GmfLayerWMS} */ (treeCtrl.node);\n    googAsserts.assert(gmfLayerWMS.ogcServer);\n    return this.ogcServers_[gmfLayerWMS.ogcServer];\n  } else {\n    let firstLevelGroupCtrl = treeCtrl;\n    while (!firstLevelGroupCtrl.parent.isRoot) {\n      firstLevelGroupCtrl = firstLevelGroupCtrl.parent;\n    }\n    const gmfGroup = /** @type {gmfThemes.GmfGroup} */ (firstLevelGroupCtrl.node);\n    googAsserts.assert(gmfGroup.ogcServer);\n    return this.ogcServers_[gmfGroup.ogcServer];\n  }\n};\n\n\n/**\n * Keep the state of each existing first-level-groups in the layertree then\n * remove it and recreate it with nodes that come from the new theme and\n * the corresponding saved state (when possible, otherwise, juste take the\n * corresponding new node).\n * FIXME: Currently doesn't save nor restore the opacity.\n * @param {Array.<gmfThemes.GmfTheme>} themes the array of themes to be based on.\n * @private\n */\nexports.prototype.refreshFirstLevelGroups_ = function(themes) {\n  const firstLevelGroupsFullState = {};\n\n  // Save state of each child\n  this.rootCtrl.children.map((treeCtrl) => {\n    const name = treeCtrl.node.name;\n    firstLevelGroupsFullState[name] = this.getFirstLevelGroupFullState_(treeCtrl);\n  });\n\n  // Get nodes and set their state\n  const nodesToRestore = [];\n  // Iterate on the root to keep the same order in the tree as before.\n  this.root.children.map((node) => {\n    const name = node.name;\n\n    // Find the right firstlevelgroup in the new theme.\n    const nodeToRestore = gmfThemeThemes.findGroupByName(themes, name);\n    if (nodeToRestore) {\n      // Restore state.\n      const fullState = firstLevelGroupsFullState[name];\n      if (fullState) {\n        this.setNodeMetadataFromFullState_(nodeToRestore, fullState);\n      }\n      nodesToRestore.push(nodeToRestore);\n    }\n  });\n\n  // Readd the firstlevelgroups.\n  this.setFirstLevelGroups(nodesToRestore);\n\n  // Wait that Angular has created the layetree, then update the permalink.\n  this.$timeout_(() => {\n    this.updateTreeGroupsState_(this.root.children);\n  });\n};\n\n\n/**\n * Return a gmfx.TreeManagerFullState that keeps the state of the given\n * treeCtrl including the state of its children.\n * @param {ngeo.layertree.Controller} treeCtrl the ngeo layertree controller to\n *     save.\n * @return {gmfx.TreeManagerFullState!} the fullState object.\n * @private\n */\nexports.prototype.getFirstLevelGroupFullState_ = function(treeCtrl) {\n  const children = {};\n  // Get the state of the treeCtrl children recursively.\n  treeCtrl.children.map((child) => {\n    children[child.node.name] = this.getFirstLevelGroupFullState_(child);\n  });\n\n  let isChecked, isExpanded, isLegendExpanded;\n  if (treeCtrl.children.length > 0) {\n    const nodeElement = $(`#gmf-layertree-layer-group-${treeCtrl.uid}`);\n    // Set isExpanded only in groups.\n    if (nodeElement) {\n      isExpanded = nodeElement.hasClass('in');\n    }\n  } else {\n    // Set state and isLegendExpanded only in leaves.\n    isChecked = treeCtrl.getState();\n    if (isChecked === 'on') {\n      isChecked = true;\n    } else if (isChecked === 'off') {\n      isChecked = false;\n    } else {\n      isChecked = undefined;\n    }\n    const legendElement = $(`#gmf-layertree-node-${treeCtrl.uid}-legend`);\n    if (legendElement) {\n      isLegendExpanded = legendElement.is(':visible');\n    }\n  }\n\n  return {\n    children,\n    isChecked,\n    isExpanded,\n    isLegendExpanded\n  };\n};\n\n\n/**\n * Set a node's metadata with the given fullState. Update also its children\n * recursively with the fullState children.\n * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} node to update.\n * @param {gmfx.TreeManagerFullState|undefined} fullState the fullState object\n *     to use.\n * @return {gmfThemes.GmfGroup|gmfThemes.GmfLayer} the node with modification.\n * @private\n */\nexports.prototype.setNodeMetadataFromFullState_ = function(node, fullState) {\n  if (!fullState) {\n    return node;\n  }\n\n  // Set the metadata of the node children recursively.\n  if (node.children) {\n    node.children.map((child) => {\n      this.setNodeMetadataFromFullState_(child, fullState.children[child.name]);\n    });\n  }\n\n  // Set the metadata with the fullState object informations.\n  const metadata = node.metadata;\n  metadata.isChecked = fullState.isChecked;\n  metadata.isExpanded = fullState.isExpanded;\n  metadata.isLegendExpanded = fullState.isLegendExpanded;\n\n  return node;\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfTreeManager', [\n  gmfThemeThemes.module.name,\n  ngeoLayertreeController.module.name,\n  ngeoMessageNotification.module.name,\n  ngeoStatemanagerService.module.name,\n]);\nexports.module.service('gmfTreeManager', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/layertree/TreeManager.js","/**\n * @module ol/format/XML\n */\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Generic format for reading non-feature XML data\n *\n * @constructor\n * @abstract\n * @struct\n */\nconst XML = function() {\n};\n\n\n/**\n * @param {Document|Node|string} source Source.\n * @return {Object} The parsed result.\n */\nXML.prototype.read = function(source) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readFromDocument(/** @type {Document} */ (source));\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readFromNode(/** @type {Node} */ (source));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readFromDocument(doc);\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @abstract\n * @param {Document} doc Document.\n * @return {Object} Object\n */\nXML.prototype.readFromDocument = function(doc) {};\n\n\n/**\n * @abstract\n * @param {Node} node Node.\n * @return {Object} Object\n */\nXML.prototype.readFromNode = function(node) {};\nexport default XML;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/XML.js\n// module id = 50\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24","/**\n * @module ol/format/GML2\n */\nimport {inherits} from '../index.js';\nimport {createOrUpdate} from '../extent.js';\nimport {transformWithOptions} from '../format/Feature.js';\nimport GMLBase from '../format/GMLBase.js';\nimport XSD from '../format/XSD.js';\nimport Geometry from '../geom/Geometry.js';\nimport {assign} from '../obj.js';\nimport {get as getProjection, transformExtent} from '../proj.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the GML format,\n * version 2.1.2.\n *\n * @constructor\n * @param {olx.format.GMLOptions=} opt_options Optional configuration object.\n * @extends {ol.format.GMLBase}\n * @api\n */\nconst GML2 = function(opt_options) {\n  const options = /** @type {olx.format.GMLOptions} */\n      (opt_options ? opt_options : {});\n\n  GMLBase.call(this, options);\n\n  this.FEATURE_COLLECTION_PARSERS[GMLBase.GMLNS][\n    'featureMember'] =\n      _ol_xml_.makeArrayPusher(GMLBase.prototype.readFeaturesInternal);\n\n  /**\n   * @inheritDoc\n   */\n  this.schemaLocation = options.schemaLocation ?\n    options.schemaLocation : GML2.schemaLocation_;\n\n};\n\ninherits(GML2, GMLBase);\n\n\n/**\n * @const\n * @type {string}\n * @private\n */\nGML2.schemaLocation_ = GMLBase.GMLNS +\n    ' http://schemas.opengis.net/gml/2.1.2/feature.xsd';\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>|undefined} Flat coordinates.\n */\nGML2.prototype.readFlatCoordinates_ = function(node, objectStack) {\n  const s = _ol_xml_.getAllTextContent(node, false).replace(/^\\s*|\\s*$/g, '');\n  const context = /** @type {ol.XmlNodeStackItem} */ (objectStack[0]);\n  const containerSrs = context['srsName'];\n  let axisOrientation = 'enu';\n  if (containerSrs) {\n    const proj = getProjection(containerSrs);\n    if (proj) {\n      axisOrientation = proj.getAxisOrientation();\n    }\n  }\n  const coordsGroups = s.trim().split(/\\s+/);\n  let x, y, z;\n  const flatCoordinates = [];\n  for (let i = 0, ii = coordsGroups.length; i < ii; i++) {\n    const coords = coordsGroups[i].split(/,+/);\n    x = parseFloat(coords[0]);\n    y = parseFloat(coords[1]);\n    z = (coords.length === 3) ? parseFloat(coords[2]) : 0;\n    if (axisOrientation.substr(0, 2) === 'en') {\n      flatCoordinates.push(x, y, z);\n    } else {\n      flatCoordinates.push(y, x, z);\n    }\n  }\n  return flatCoordinates;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.Extent|undefined} Envelope.\n */\nGML2.prototype.readBox_ = function(node, objectStack) {\n  /** @type {Array.<number>} */\n  const flatCoordinates = _ol_xml_.pushParseAndPop([null],\n    this.BOX_PARSERS_, node, objectStack, this);\n  return createOrUpdate(flatCoordinates[1][0],\n    flatCoordinates[1][1], flatCoordinates[1][3],\n    flatCoordinates[1][4]);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGML2.prototype.innerBoundaryIsParser_ = function(node, objectStack) {\n  /** @type {Array.<number>|undefined} */\n  const flatLinearRing = _ol_xml_.pushParseAndPop(undefined,\n    this.RING_PARSERS, node, objectStack, this);\n  if (flatLinearRing) {\n    const flatLinearRings = /** @type {Array.<Array.<number>>} */\n        (objectStack[objectStack.length - 1]);\n    flatLinearRings.push(flatLinearRing);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGML2.prototype.outerBoundaryIsParser_ = function(node, objectStack) {\n  /** @type {Array.<number>|undefined} */\n  const flatLinearRing = _ol_xml_.pushParseAndPop(undefined,\n    this.RING_PARSERS, node, objectStack, this);\n  if (flatLinearRing) {\n    const flatLinearRings = /** @type {Array.<Array.<number>>} */\n        (objectStack[objectStack.length - 1]);\n    flatLinearRings[0] = flatLinearRing;\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'coordinates': _ol_xml_.makeReplacer(\n      GML2.prototype.readFlatCoordinates_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML2.prototype.FLAT_LINEAR_RINGS_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'innerBoundaryIs': GML2.prototype.innerBoundaryIsParser_,\n    'outerBoundaryIs': GML2.prototype.outerBoundaryIsParser_\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML2.prototype.BOX_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'coordinates': _ol_xml_.makeArrayPusher(\n      GML2.prototype.readFlatCoordinates_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML2.prototype.GEOMETRY_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'Point': _ol_xml_.makeReplacer(GMLBase.prototype.readPoint),\n    'MultiPoint': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readMultiPoint),\n    'LineString': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readLineString),\n    'MultiLineString': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readMultiLineString),\n    'LinearRing': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readLinearRing),\n    'Polygon': _ol_xml_.makeReplacer(GMLBase.prototype.readPolygon),\n    'MultiPolygon': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readMultiPolygon),\n    'Box': _ol_xml_.makeReplacer(GML2.prototype.readBox_)\n  }\n};\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nGML2.prototype.GEOMETRY_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  const context = objectStack[objectStack.length - 1];\n  const multiSurface = context['multiSurface'];\n  const surface = context['surface'];\n  const multiCurve = context['multiCurve'];\n  let nodeName;\n  if (!Array.isArray(value)) {\n    nodeName = /** @type {ol.geom.Geometry} */ (value).getType();\n    if (nodeName === 'MultiPolygon' && multiSurface === true) {\n      nodeName = 'MultiSurface';\n    } else if (nodeName === 'Polygon' && surface === true) {\n      nodeName = 'Surface';\n    } else if (nodeName === 'MultiLineString' && multiCurve === true) {\n      nodeName = 'MultiCurve';\n    }\n  } else {\n    nodeName = 'Envelope';\n  }\n  return _ol_xml_.createElementNS('http://www.opengis.net/gml',\n    nodeName);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Node stack.\n */\nGML2.prototype.writeFeatureElement = function(node, feature, objectStack) {\n  const fid = feature.getId();\n  if (fid) {\n    node.setAttribute('fid', fid);\n  }\n  const context = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const featureNS = context['featureNS'];\n  const geometryName = feature.getGeometryName();\n  if (!context.serializers) {\n    context.serializers = {};\n    context.serializers[featureNS] = {};\n  }\n  const properties = feature.getProperties();\n  const keys = [];\n  const values = [];\n  for (const key in properties) {\n    const value = properties[key];\n    if (value !== null) {\n      keys.push(key);\n      values.push(value);\n      if (key == geometryName || value instanceof Geometry) {\n        if (!(key in context.serializers[featureNS])) {\n          context.serializers[featureNS][key] = _ol_xml_.makeChildAppender(\n            this.writeGeometryElement, this);\n        }\n      } else {\n        if (!(key in context.serializers[featureNS])) {\n          context.serializers[featureNS][key] = _ol_xml_.makeChildAppender(\n            XSD.writeStringTextNode);\n        }\n      }\n    }\n  }\n  const item = assign({}, context);\n  item.node = node;\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    (item), context.serializers,\n    _ol_xml_.makeSimpleNodeFactory(undefined, featureNS),\n    values,\n    objectStack, keys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Geometry|ol.Extent} geometry Geometry.\n * @param {Array.<*>} objectStack Node stack.\n */\nGML2.prototype.writeGeometryElement = function(node, geometry, objectStack) {\n  const context = /** @type {olx.format.WriteOptions} */ (objectStack[objectStack.length - 1]);\n  const item = assign({}, context);\n  item.node = node;\n  let value;\n  if (Array.isArray(geometry)) {\n    if (context.dataProjection) {\n      value = transformExtent(\n        geometry, context.featureProjection, context.dataProjection);\n    } else {\n      value = geometry;\n    }\n  } else {\n    value = transformWithOptions(/** @type {ol.geom.Geometry} */ (geometry), true, context);\n  }\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    (item), GML2.GEOMETRY_SERIALIZERS_,\n    this.GEOMETRY_NODE_FACTORY_, [value],\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} geometry LineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeCurveOrLineString_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (node.nodeName !== 'LineStringSegment' && srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  if (node.nodeName === 'LineString' ||\n      node.nodeName === 'LineStringSegment') {\n    const coordinates = this.createCoordinatesNode_(node.namespaceURI);\n    node.appendChild(coordinates);\n    this.writeCoordinates_(coordinates, geometry, objectStack);\n  } else if (node.nodeName === 'Curve') {\n    const segments = _ol_xml_.createElementNS(node.namespaceURI, 'segments');\n    node.appendChild(segments);\n    this.writeCurveSegments_(segments,\n      geometry, objectStack);\n  }\n};\n\n\n/**\n * @param {string} namespaceURI XML namespace.\n * @returns {Node} coordinates node.\n * @private\n */\nGML2.prototype.createCoordinatesNode_ = function(namespaceURI) {\n  const coordinates = _ol_xml_.createElementNS(namespaceURI, 'coordinates');\n  coordinates.setAttribute('decimal', '.');\n  coordinates.setAttribute('cs', ',');\n  coordinates.setAttribute('ts', ' ');\n\n  return coordinates;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString|ol.geom.LinearRing} value Geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeCoordinates_ = function(node, value, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  // only 2d for simple features profile\n  const points = value.getCoordinates();\n  const len = points.length;\n  const parts = new Array(len);\n  let point;\n  for (let i = 0; i < len; ++i) {\n    point = points[i];\n    parts[i] = this.getCoords_(point, srsName, hasZ);\n  }\n  XSD.writeStringTextNode(node, parts.join(' '));\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} line LineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeCurveSegments_ = function(node, line, objectStack) {\n  const child = _ol_xml_.createElementNS(node.namespaceURI,\n    'LineStringSegment');\n  node.appendChild(child);\n  this.writeCurveOrLineString_(child, line, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} geometry Polygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeSurfaceOrPolygon_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  if (node.nodeName !== 'PolygonPatch' && srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  if (node.nodeName === 'Polygon' || node.nodeName === 'PolygonPatch') {\n    const rings = geometry.getLinearRings();\n    _ol_xml_.pushSerializeAndPop(\n      {node: node, hasZ: hasZ, srsName: srsName},\n      GML2.RING_SERIALIZERS_,\n      this.RING_NODE_FACTORY_,\n      rings, objectStack, undefined, this);\n  } else if (node.nodeName === 'Surface') {\n    const patches = _ol_xml_.createElementNS(node.namespaceURI, 'patches');\n    node.appendChild(patches);\n    this.writeSurfacePatches_(\n      patches, geometry, objectStack);\n  }\n};\n\n\n/**\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node} Node.\n * @private\n */\nGML2.prototype.RING_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  const context = objectStack[objectStack.length - 1];\n  const parentNode = context.node;\n  const exteriorWritten = context['exteriorWritten'];\n  if (exteriorWritten === undefined) {\n    context['exteriorWritten'] = true;\n  }\n  return _ol_xml_.createElementNS(parentNode.namespaceURI,\n    exteriorWritten !== undefined ? 'innerBoundaryIs' : 'outerBoundaryIs');\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} polygon Polygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeSurfacePatches_ = function(node, polygon, objectStack) {\n  const child = _ol_xml_.createElementNS(node.namespaceURI, 'PolygonPatch');\n  node.appendChild(child);\n  this.writeSurfaceOrPolygon_(child, polygon, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LinearRing} ring LinearRing geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeRing_ = function(node, ring, objectStack) {\n  const linearRing = _ol_xml_.createElementNS(node.namespaceURI, 'LinearRing');\n  node.appendChild(linearRing);\n  this.writeLinearRing_(linearRing, ring, objectStack);\n};\n\n\n/**\n * @param {Array.<number>} point Point geometry.\n * @param {string=} opt_srsName Optional srsName\n * @param {boolean=} opt_hasZ whether the geometry has a Z coordinate (is 3D) or not.\n * @return {string} The coords string.\n * @private\n */\nGML2.prototype.getCoords_ = function(point, opt_srsName, opt_hasZ) {\n  let axisOrientation = 'enu';\n  if (opt_srsName) {\n    axisOrientation = getProjection(opt_srsName).getAxisOrientation();\n  }\n  let coords = ((axisOrientation.substr(0, 2) === 'en') ?\n    point[0] + ',' + point[1] :\n    point[1] + ',' + point[0]);\n  if (opt_hasZ) {\n    // For newly created points, Z can be undefined.\n    const z = point[2] || 0;\n    coords += ',' + z;\n  }\n\n  return coords;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.MultiLineString} geometry MultiLineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeMultiCurveOrLineString_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  const curve = context['curve'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const lines = geometry.getLineStrings();\n  _ol_xml_.pushSerializeAndPop({node: node, hasZ: hasZ, srsName: srsName, curve: curve},\n    GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,\n    this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, lines,\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Point} geometry Point geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writePoint_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const coordinates = this.createCoordinatesNode_(node.namespaceURI);\n  node.appendChild(coordinates);\n  const point = geometry.getCoordinates();\n  const coord = this.getCoords_(point, srsName, hasZ);\n  XSD.writeStringTextNode(coordinates, coord);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.MultiPoint} geometry MultiPoint geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeMultiPoint_ = function(node, geometry,\n  objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const points = geometry.getPoints();\n  _ol_xml_.pushSerializeAndPop({node: node, hasZ: hasZ, srsName: srsName},\n    GML2.POINTMEMBER_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('pointMember'), points,\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Point} point Point geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writePointMember_ = function(node, point, objectStack) {\n  const child = _ol_xml_.createElementNS(node.namespaceURI, 'Point');\n  node.appendChild(child);\n  this.writePoint_(child, point, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} line LineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeLineStringOrCurveMember_ = function(node, line, objectStack) {\n  const child = this.GEOMETRY_NODE_FACTORY_(line, objectStack);\n  if (child) {\n    node.appendChild(child);\n    this.writeCurveOrLineString_(child, line, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LinearRing} geometry LinearRing geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeLinearRing_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const coordinates = this.createCoordinatesNode_(node.namespaceURI);\n  node.appendChild(coordinates);\n  this.writeCoordinates_(coordinates, geometry, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.MultiPolygon} geometry MultiPolygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeMultiSurfaceOrPolygon_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  const surface = context['surface'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const polygons = geometry.getPolygons();\n  _ol_xml_.pushSerializeAndPop({node: node, hasZ: hasZ, srsName: srsName, surface: surface},\n    GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,\n    this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, polygons,\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} polygon Polygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeSurfaceOrPolygonMember_ = function(node, polygon, objectStack) {\n  const child = this.GEOMETRY_NODE_FACTORY_(\n    polygon, objectStack);\n  if (child) {\n    node.appendChild(child);\n    this.writeSurfaceOrPolygon_(child, polygon, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Extent} extent Extent.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML2.prototype.writeEnvelope = function(node, extent, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const keys = ['lowerCorner', 'upperCorner'];\n  const values = [extent[0] + ' ' + extent[1], extent[2] + ' ' + extent[3]];\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    ({node: node}), GML2.ENVELOPE_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    values,\n    objectStack, keys, this);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML2.GEOMETRY_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'Curve': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeCurveOrLineString_),\n    'MultiCurve': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeMultiCurveOrLineString_),\n    'Point': _ol_xml_.makeChildAppender(GML2.prototype.writePoint_),\n    'MultiPoint': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeMultiPoint_),\n    'LineString': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeCurveOrLineString_),\n    'MultiLineString': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeMultiCurveOrLineString_),\n    'LinearRing': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeLinearRing_),\n    'Polygon': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeSurfaceOrPolygon_),\n    'MultiPolygon': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeMultiSurfaceOrPolygon_),\n    'Surface': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeSurfaceOrPolygon_),\n    'MultiSurface': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeMultiSurfaceOrPolygon_),\n    'Envelope': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeEnvelope)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML2.RING_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'outerBoundaryIs': _ol_xml_.makeChildAppender(GML2.prototype.writeRing_),\n    'innerBoundaryIs': _ol_xml_.makeChildAppender(GML2.prototype.writeRing_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML2.POINTMEMBER_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'pointMember': _ol_xml_.makeChildAppender(\n      GML2.prototype.writePointMember_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'lineStringMember': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeLineStringOrCurveMember_),\n    'curveMember': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeLineStringOrCurveMember_)\n  }\n};\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nGML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  const parentNode = objectStack[objectStack.length - 1].node;\n  return _ol_xml_.createElementNS('http://www.opengis.net/gml',\n    GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[parentNode.nodeName]);\n};\n\n/**\n * @const\n * @type {Object.<string, string>}\n * @private\n */\nGML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_ = {\n  'MultiLineString': 'lineStringMember',\n  'MultiCurve': 'curveMember',\n  'MultiPolygon': 'polygonMember',\n  'MultiSurface': 'surfaceMember'\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'surfaceMember': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeSurfaceOrPolygonMember_),\n    'polygonMember': _ol_xml_.makeChildAppender(\n      GML2.prototype.writeSurfaceOrPolygonMember_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML2.ENVELOPE_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'lowerCorner': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'upperCorner': _ol_xml_.makeChildAppender(XSD.writeStringTextNode)\n  }\n};\nexport default GML2;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/GML2.js\n// module id = 51\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22","/**\n * @module ngeo.utils\n */\nconst exports = {};\nimport olEventsCondition from 'ol/events/condition.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomMultiPoint from 'ol/geom/MultiPoint.js';\nimport olGeomMultiLineString from 'ol/geom/MultiLineString.js';\nimport olGeomMultiPolygon from 'ol/geom/MultiPolygon.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\n\n\n/**\n * Utility method that converts a simple geometry to its multi equivalent. If\n * the geometry itself is already multi, it is returned as-is.\n * @param {ol.geom.Geometry} geometry A geometry\n * @return {ol.geom.Geometry} A multi geometry\n */\nexports.toMulti = function(geometry) {\n  let multiGeom;\n  if (geometry instanceof olGeomPoint) {\n    multiGeom = new olGeomMultiPoint([]);\n    multiGeom.appendPoint(geometry);\n  } else if (geometry instanceof olGeomLineString) {\n    multiGeom = new olGeomMultiLineString([]);\n    multiGeom.appendLineString(geometry);\n  } else if (geometry instanceof olGeomPolygon) {\n    multiGeom = new olGeomMultiPolygon([]);\n    multiGeom.appendPolygon(geometry);\n  } else {\n    multiGeom = geometry;\n  }\n  return multiGeom;\n};\n\n/**\n * Checks if on Safari.\n * @return {boolean} True if on Safari.\n */\nexports.isSafari = function() {\n  return navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1;\n};\n\n/**\n * Takes a hex value and prepends a zero if it's a single digit.\n * @param {string} hex Hex value to prepend if single digit.\n * @return {string} hex value prepended with zero if it was single digit,\n *     otherwise the same value that was passed in.\n */\nexports.colorZeroPadding = function(hex) {\n  return hex.length == 1 ? `0${hex}` : hex;\n};\n\n/**\n * Converts a color from RGB to hex representation.\n * @param {!Array.<number>} rgb rgb representation of the color.\n * @return {string} hex representation of the color.\n */\nexports.rgbArrayToHex = function(rgb) {\n  const r = rgb[0];\n  const g = rgb[1];\n  const b = rgb[2];\n  if (r != (r & 255) || g != (g & 255) || b != (b & 255)) {\n    throw Error(`\"(${r},${g},${b})\" is not a valid RGB color`);\n  }\n  const hexR = exports.colorZeroPadding(r.toString(16));\n  const hexG = exports.colorZeroPadding(g.toString(16));\n  const hexB = exports.colorZeroPadding(b.toString(16));\n  return `#${hexR}${hexG}${hexB}`;\n};\n\n/**\n * Decode the encoded query string into a query data dictionary.\n * @param {string|undefined} queryString The queryString.\n * @return {!Object.<string, string>} The result.\n */\nexports.decodeQueryString = function(queryString) {\n  const queryData = {};\n  if (queryString) {\n    const pairs = queryString.substring(1).split('&');\n    for (const pair of pairs) {\n      const indexOfEquals = pair.indexOf('=');\n      if (indexOfEquals >= 0) {\n        const name = pair.substring(0, indexOfEquals);\n        const value = pair.substring(indexOfEquals + 1);\n        queryData[decodeURIComponent(name)] = decodeURIComponent(value);\n      } else {\n        queryData[pair] = '';\n      }\n    }\n  }\n  return queryData;\n};\n\n/**\n * Encode the query data dictionary into an encoded query string.\n * @param {!Object.<string, string>} queryData The queryData,\n * @return {string} The result.\n */\nexports.encodeQueryString = function(queryData) {\n  const queryItem = [];\n  for (const key in queryData) {\n    const value = queryData[key];\n    queryItem.push(`${encodeURIComponent(key)}=${encodeURIComponent(value)}`);\n  }\n  return queryItem.join('&');\n};\n\n\n/**\n * Delete condition passed to the modify interaction\n * @param {ol.MapBrowserEvent} event Browser event.\n * @return {boolean} The result.\n */\nexports.deleteCondition = function(event) {\n  return olEventsCondition.noModifierKeys(event) && olEventsCondition.singleClick(event);\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","/**\n * @module ngeo.format.FeatureProperties\n */\n/**\n * @enum {string}\n * @export\n */\nconst exports = {\n  /**\n   * @type {string}\n   * @export\n   */\n  ANGLE: 'a',\n  /**\n   * @type {string}\n   * @export\n   */\n  COLOR: 'c',\n  /**\n   * @type {string}\n   * @export\n   */\n  IS_CIRCLE: 'l',\n  /**\n   * @type {string}\n   * @export\n   */\n  IS_RECTANGLE: 'r',\n  /**\n   * @type {string}\n   * @export\n   */\n  IS_TEXT: 't',\n  /**\n   * @type {string}\n   * @export\n   */\n  NAME: 'n',\n  /**\n   * @type {string}\n   * @export\n   */\n  SHOW_LABEL: 'b',\n  /**\n   * @type {string}\n   * @export\n   */\n  OPACITY: 'o',\n  /**\n   * @type {number}\n   * @export\n   */\n  AZIMUT: 'z',\n  /**\n   * @type {string}\n   * @export\n   */\n  SHOW_MEASURE: 'm',\n  /**\n   * @type {string}\n   * @export\n   */\n  SIZE: 's',\n  /**\n   * @type {string}\n   * @export\n   */\n  STROKE: 'k'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/FeatureProperties.js","var priorities = {};\n\nexport function addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nexport function getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/priorities.js\n// module id = 57\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.message.Message\n */\n/**\n * Abstract class for services that display messages.\n *\n * @constructor\n * @struct\n * @abstract\n */\nconst exports = function() {};\n\n\n/**\n * Show the message.\n *\n * @abstract\n * @param {ngeox.Message} message Message.\n * @protected\n */\nexports.prototype.showMessage = function(message) {};\n\n\n/**\n * Show disclaimer message string or object or list of disclame message\n * strings or objects.\n *\n * @param {string|Array.<string>|ngeox.Message|Array.<ngeox.Message>}\n *     object A message or list of messages as text or configuration objects.\n * @export\n */\nexports.prototype.show = function(object) {\n  const msgObjects = this.getMessageObjects(object);\n  msgObjects.forEach(this.showMessage, this);\n};\n\n\n/**\n * Display the given error message or list of error messages.\n *\n * @param {string|Array.<string>} message Message or list of messages.\n * @export\n */\nexports.prototype.error = function(message) {\n  this.show(this.getMessageObjects(message, exports.Type.ERROR));\n};\n\n\n/**\n * Display the given info message or list of info messages.\n * @param {string|Array.<string>} message Message or list of messages.\n * @export\n */\nexports.prototype.info = function(message) {\n  this.show(this.getMessageObjects(message, exports.Type.INFORMATION));\n};\n\n\n/**\n * Display the given success message or list of success messages.\n * @param {string|Array.<string>} message Message or list of messages.\n * @export\n */\nexports.prototype.success = function(message) {\n  this.show(this.getMessageObjects(message, exports.Type.SUCCESS));\n};\n\n\n/**\n * Display the given warning message or list of warning messages.\n * @param {string|Array.<string>} message Message or list of messages.\n * @export\n */\nexports.prototype.warn = function(message) {\n  this.show(this.getMessageObjects(message, exports.Type.WARNING));\n};\n\n\n/**\n * Returns an array of message object from any given message string, list of\n * message strings, message object or list message objects. The type can be\n * overridden here as well OR defined (if the message(s) is/are string(s),\n * defaults to 'information').\n * @param {string|Array.<string>|ngeox.Message|Array.<ngeox.Message>}\n *     object A message or list of messages as text or configuration objects.\n * @param {string=} opt_type The type of message to override the messages with.\n * @return {Array.<ngeox.Message>} List of message objects.\n * @protected\n */\nexports.prototype.getMessageObjects = function(object, opt_type) {\n  const msgObjects = [];\n  let msgObject = null;\n  const defaultType = exports.Type.INFORMATION;\n\n  if (typeof object === 'string') {\n    msgObjects.push({\n      msg: object,\n      type: opt_type !== undefined ? opt_type : defaultType\n    });\n  } else if (Array.isArray(object)) {\n    object.forEach((msg) => {\n      if (typeof object === 'string') {\n        msgObject = {\n          msg: msg,\n          type: opt_type !== undefined ? opt_type : defaultType\n        };\n      } else {\n        msgObject = msg;\n        if (opt_type !== undefined) {\n          msgObject.type = opt_type;\n        }\n      }\n      msgObjects.push(msgObject);\n    }, this);\n  } else {\n    msgObject = object;\n    if (opt_type !== undefined) {\n      msgObject.type = opt_type;\n    }\n    if (msgObject.type === undefined) {\n      msgObject.type = defaultType;\n    }\n    msgObjects.push(msgObject);\n  }\n\n  return msgObjects;\n};\n\n\n/**\n * @enum {string}\n * @export\n */\nexports.Type = {\n  /**\n   * @type {string}\n   * @export\n   */\n  ERROR: 'error',\n  /**\n   * @type {string}\n   * @export\n   */\n  INFORMATION: 'information',\n  /**\n   * @type {string}\n   * @export\n   */\n  SUCCESS: 'success',\n  /**\n   * @type {string}\n   * @export\n   */\n  WARNING: 'warning'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/Message.js","/**\n * @module ol/format/XLink\n */\nconst XLink = {};\n\n\n/**\n * @const\n * @type {string}\n */\nconst NAMESPACE_URI = 'http://www.w3.org/1999/xlink';\n\n\n/**\n * @param {Node} node Node.\n * @return {boolean|undefined} Boolean.\n */\nXLink.readHref = function(node) {\n  return node.getAttributeNS(NAMESPACE_URI, 'href');\n};\nexport default XLink;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/XLink.js\n// module id = 60\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24","/**\n * @module ol/Image\n */\nimport {inherits} from './index.js';\nimport _ol_ImageBase_ from './ImageBase.js';\nimport ImageState from './ImageState.js';\nimport _ol_events_ from './events.js';\nimport EventType from './events/EventType.js';\nimport {getHeight} from './extent.js';\n\n/**\n * @constructor\n * @extends {ol.ImageBase}\n * @param {ol.Extent} extent Extent.\n * @param {number|undefined} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @param {string} src Image source URI.\n * @param {?string} crossOrigin Cross origin.\n * @param {ol.ImageLoadFunctionType} imageLoadFunction Image load function.\n */\nconst _ol_Image_ = function(extent, resolution, pixelRatio, src, crossOrigin, imageLoadFunction) {\n\n  _ol_ImageBase_.call(this, extent, resolution, pixelRatio, ImageState.IDLE);\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.src_ = src;\n\n  /**\n   * @private\n   * @type {HTMLCanvasElement|Image|HTMLVideoElement}\n   */\n  this.image_ = new Image();\n  if (crossOrigin !== null) {\n    this.image_.crossOrigin = crossOrigin;\n  }\n\n  /**\n   * @private\n   * @type {Array.<ol.EventsKey>}\n   */\n  this.imageListenerKeys_ = null;\n\n  /**\n   * @protected\n   * @type {ol.ImageState}\n   */\n  this.state = ImageState.IDLE;\n\n  /**\n   * @private\n   * @type {ol.ImageLoadFunctionType}\n   */\n  this.imageLoadFunction_ = imageLoadFunction;\n\n};\n\ninherits(_ol_Image_, _ol_ImageBase_);\n\n\n/**\n * @inheritDoc\n * @api\n */\n_ol_Image_.prototype.getImage = function() {\n  return this.image_;\n};\n\n\n/**\n * Tracks loading or read errors.\n *\n * @private\n */\n_ol_Image_.prototype.handleImageError_ = function() {\n  this.state = ImageState.ERROR;\n  this.unlistenImage_();\n  this.changed();\n};\n\n\n/**\n * Tracks successful image load.\n *\n * @private\n */\n_ol_Image_.prototype.handleImageLoad_ = function() {\n  if (this.resolution === undefined) {\n    this.resolution = getHeight(this.extent) / this.image_.height;\n  }\n  this.state = ImageState.LOADED;\n  this.unlistenImage_();\n  this.changed();\n};\n\n\n/**\n * Load the image or retry if loading previously failed.\n * Loading is taken care of by the tile queue, and calling this method is\n * only needed for preloading or for reloading in case of an error.\n * @override\n * @api\n */\n_ol_Image_.prototype.load = function() {\n  if (this.state == ImageState.IDLE || this.state == ImageState.ERROR) {\n    this.state = ImageState.LOADING;\n    this.changed();\n    this.imageListenerKeys_ = [\n      _ol_events_.listenOnce(this.image_, EventType.ERROR,\n        this.handleImageError_, this),\n      _ol_events_.listenOnce(this.image_, EventType.LOAD,\n        this.handleImageLoad_, this)\n    ];\n    this.imageLoadFunction_(this, this.src_);\n  }\n};\n\n\n/**\n * @param {HTMLCanvasElement|Image|HTMLVideoElement} image Image.\n */\n_ol_Image_.prototype.setImage = function(image) {\n  this.image_ = image;\n};\n\n\n/**\n * Discards event handlers which listen for load completion or errors.\n *\n * @private\n */\n_ol_Image_.prototype.unlistenImage_ = function() {\n  this.imageListenerKeys_.forEach(_ol_events_.unlistenByKey);\n  this.imageListenerKeys_ = null;\n};\nexport default _ol_Image_;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/Image.js\n// module id = null\n// module chunks = ","/**\n * @module ol/source/ImageWMS\n */\n\nimport {DEFAULT_WMS_VERSION} from './common.js';\nimport {inherits} from '../index.js';\nimport _ol_Image_ from '../Image.js';\nimport {assert} from '../asserts.js';\nimport _ol_events_ from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {containsExtent, getCenter, getForViewAndSize, getHeight, getWidth} from '../extent.js';\nimport {assign} from '../obj.js';\nimport {get as getProjection, transform} from '../proj.js';\nimport _ol_reproj_ from '../reproj.js';\nimport ImageSource from '../source/Image.js';\nimport WMSServerType from '../source/WMSServerType.js';\nimport _ol_string_ from '../string.js';\nimport {appendParams} from '../uri.js';\n\n/**\n * @classdesc\n * Source for WMS servers providing single, untiled images.\n *\n * @constructor\n * @fires ol.source.Image.Event\n * @extends {ol.source.Image}\n * @param {olx.source.ImageWMSOptions=} opt_options Options.\n * @api\n */\nconst ImageWMS = function(opt_options) {\n\n  const options = opt_options || {};\n\n  ImageSource.call(this, {\n    attributions: options.attributions,\n    projection: options.projection,\n    resolutions: options.resolutions\n  });\n\n  /**\n   * @private\n   * @type {?string}\n   */\n  this.crossOrigin_ =\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.url_ = options.url;\n\n  /**\n   * @private\n   * @type {ol.ImageLoadFunctionType}\n   */\n  this.imageLoadFunction_ = options.imageLoadFunction !== undefined ?\n    options.imageLoadFunction : ImageSource.defaultImageLoadFunction;\n\n  /**\n   * @private\n   * @type {!Object}\n   */\n  this.params_ = options.params || {};\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.v13_ = true;\n  this.updateV13_();\n\n  /**\n   * @private\n   * @type {ol.source.WMSServerType|undefined}\n   */\n  this.serverType_ = /** @type {ol.source.WMSServerType|undefined} */ (options.serverType);\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n\n  /**\n   * @private\n   * @type {ol.Image}\n   */\n  this.image_ = null;\n\n  /**\n   * @private\n   * @type {ol.Size}\n   */\n  this.imageSize_ = [0, 0];\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.renderedRevision_ = 0;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.ratio_ = options.ratio !== undefined ? options.ratio : 1.5;\n\n};\n\ninherits(ImageWMS, ImageSource);\n\n\n/**\n * @const\n * @type {ol.Size}\n * @private\n */\nImageWMS.GETFEATUREINFO_IMAGE_SIZE_ = [101, 101];\n\n\n/**\n * Return the GetFeatureInfo URL for the passed coordinate, resolution, and\n * projection. Return `undefined` if the GetFeatureInfo URL cannot be\n * constructed.\n * @param {ol.Coordinate} coordinate Coordinate.\n * @param {number} resolution Resolution.\n * @param {ol.ProjectionLike} projection Projection.\n * @param {!Object} params GetFeatureInfo params. `INFO_FORMAT` at least should\n *     be provided. If `QUERY_LAYERS` is not provided then the layers specified\n *     in the `LAYERS` parameter will be used. `VERSION` should not be\n *     specified here.\n * @return {string|undefined} GetFeatureInfo URL.\n * @api\n */\nImageWMS.prototype.getGetFeatureInfoUrl = function(coordinate, resolution, projection, params) {\n  if (this.url_ === undefined) {\n    return undefined;\n  }\n  const projectionObj = getProjection(projection);\n  const sourceProjectionObj = this.getProjection();\n\n  if (sourceProjectionObj && sourceProjectionObj !== projectionObj) {\n    resolution = _ol_reproj_.calculateSourceResolution(sourceProjectionObj, projectionObj, coordinate, resolution);\n    coordinate = transform(coordinate, projectionObj, sourceProjectionObj);\n  }\n\n  const extent = getForViewAndSize(coordinate, resolution, 0,\n    ImageWMS.GETFEATUREINFO_IMAGE_SIZE_);\n\n  const baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetFeatureInfo',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true,\n    'QUERY_LAYERS': this.params_['LAYERS']\n  };\n  assign(baseParams, this.params_, params);\n\n  const x = Math.floor((coordinate[0] - extent[0]) / resolution);\n  const y = Math.floor((extent[3] - coordinate[1]) / resolution);\n  baseParams[this.v13_ ? 'I' : 'X'] = x;\n  baseParams[this.v13_ ? 'J' : 'Y'] = y;\n\n  return this.getRequestUrl_(\n    extent, ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,\n    1, sourceProjectionObj || projectionObj, baseParams);\n};\n\n\n/**\n * Get the user-provided params, i.e. those passed to the constructor through\n * the \"params\" option, and possibly updated using the updateParams method.\n * @return {Object} Params.\n * @api\n */\nImageWMS.prototype.getParams = function() {\n  return this.params_;\n};\n\n\n/**\n * @inheritDoc\n */\nImageWMS.prototype.getImageInternal = function(extent, resolution, pixelRatio, projection) {\n\n  if (this.url_ === undefined) {\n    return null;\n  }\n\n  resolution = this.findNearestResolution(resolution);\n\n  if (pixelRatio != 1 && (!this.hidpi_ || this.serverType_ === undefined)) {\n    pixelRatio = 1;\n  }\n\n  const imageResolution = resolution / pixelRatio;\n\n  const center = getCenter(extent);\n  const viewWidth = Math.ceil(getWidth(extent) / imageResolution);\n  const viewHeight = Math.ceil(getHeight(extent) / imageResolution);\n  const viewExtent = getForViewAndSize(center, imageResolution, 0,\n    [viewWidth, viewHeight]);\n  const requestWidth = Math.ceil(this.ratio_ * getWidth(extent) / imageResolution);\n  const requestHeight = Math.ceil(this.ratio_ * getHeight(extent) / imageResolution);\n  const requestExtent = getForViewAndSize(center, imageResolution, 0,\n    [requestWidth, requestHeight]);\n\n  const image = this.image_;\n  if (image &&\n      this.renderedRevision_ == this.getRevision() &&\n      image.getResolution() == resolution &&\n      image.getPixelRatio() == pixelRatio &&\n      containsExtent(image.getExtent(), viewExtent)) {\n    return image;\n  }\n\n  const params = {\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetMap',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true\n  };\n  assign(params, this.params_);\n\n  this.imageSize_[0] = Math.round(getWidth(requestExtent) / imageResolution);\n  this.imageSize_[1] = Math.round(getHeight(requestExtent) / imageResolution);\n\n  const url = this.getRequestUrl_(requestExtent, this.imageSize_, pixelRatio,\n    projection, params);\n\n  this.image_ = new _ol_Image_(requestExtent, resolution, pixelRatio,\n    url, this.crossOrigin_, this.imageLoadFunction_);\n\n  this.renderedRevision_ = this.getRevision();\n\n  _ol_events_.listen(this.image_, EventType.CHANGE,\n    this.handleImageChange, this);\n\n  return this.image_;\n\n};\n\n\n/**\n * Return the image load function of the source.\n * @return {ol.ImageLoadFunctionType} The image load function.\n * @api\n */\nImageWMS.prototype.getImageLoadFunction = function() {\n  return this.imageLoadFunction_;\n};\n\n\n/**\n * @param {ol.Extent} extent Extent.\n * @param {ol.Size} size Size.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.proj.Projection} projection Projection.\n * @param {Object} params Params.\n * @return {string} Request URL.\n * @private\n */\nImageWMS.prototype.getRequestUrl_ = function(extent, size, pixelRatio, projection, params) {\n\n  assert(this.url_ !== undefined, 9); // `url` must be configured or set using `#setUrl()`\n\n  params[this.v13_ ? 'CRS' : 'SRS'] = projection.getCode();\n\n  if (!('STYLES' in this.params_)) {\n    params['STYLES'] = '';\n  }\n\n  if (pixelRatio != 1) {\n    switch (this.serverType_) {\n      case WMSServerType.GEOSERVER:\n        const dpi = (90 * pixelRatio + 0.5) | 0;\n        if ('FORMAT_OPTIONS' in params) {\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\n        } else {\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\n        }\n        break;\n      case WMSServerType.MAPSERVER:\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\n        break;\n      case WMSServerType.CARMENTA_SERVER:\n      case WMSServerType.QGIS:\n        params['DPI'] = 90 * pixelRatio;\n        break;\n      default:\n        assert(false, 8); // Unknown `serverType` configured\n        break;\n    }\n  }\n\n  params['WIDTH'] = size[0];\n  params['HEIGHT'] = size[1];\n\n  const axisOrientation = projection.getAxisOrientation();\n  let bbox;\n  if (this.v13_ && axisOrientation.substr(0, 2) == 'ne') {\n    bbox = [extent[1], extent[0], extent[3], extent[2]];\n  } else {\n    bbox = extent;\n  }\n  params['BBOX'] = bbox.join(',');\n\n  return appendParams(/** @type {string} */ (this.url_), params);\n};\n\n\n/**\n * Return the URL used for this WMS source.\n * @return {string|undefined} URL.\n * @api\n */\nImageWMS.prototype.getUrl = function() {\n  return this.url_;\n};\n\n\n/**\n * Set the image load function of the source.\n * @param {ol.ImageLoadFunctionType} imageLoadFunction Image load function.\n * @api\n */\nImageWMS.prototype.setImageLoadFunction = function(\n  imageLoadFunction) {\n  this.image_ = null;\n  this.imageLoadFunction_ = imageLoadFunction;\n  this.changed();\n};\n\n\n/**\n * Set the URL to use for requests.\n * @param {string|undefined} url URL.\n * @api\n */\nImageWMS.prototype.setUrl = function(url) {\n  if (url != this.url_) {\n    this.url_ = url;\n    this.image_ = null;\n    this.changed();\n  }\n};\n\n\n/**\n * Update the user-provided params.\n * @param {Object} params Params.\n * @api\n */\nImageWMS.prototype.updateParams = function(params) {\n  assign(this.params_, params);\n  this.updateV13_();\n  this.image_ = null;\n  this.changed();\n};\n\n\n/**\n * @private\n */\nImageWMS.prototype.updateV13_ = function() {\n  const version = this.params_['VERSION'] || DEFAULT_WMS_VERSION;\n  this.v13_ = _ol_string_.compareVersions(version, '1.3') >= 0;\n};\nexport default ImageWMS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/ImageWMS.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/WFS\n */\nimport {inherits} from '../index.js';\nimport {assert} from '../asserts.js';\nimport GML2 from '../format/GML2.js';\nimport GML3 from '../format/GML3.js';\nimport GMLBase from '../format/GMLBase.js';\nimport _ol_format_filter_ from '../format/filter.js';\nimport XMLFeature from '../format/XMLFeature.js';\nimport XSD from '../format/XSD.js';\nimport Geometry from '../geom/Geometry.js';\nimport {assign} from '../obj.js';\nimport {get as getProjection} from '../proj.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the WFS format.\n * By default, supports WFS version 1.1.0. You can pass a GML format\n * as option if you want to read a WFS that contains GML2 (WFS 1.0.0).\n * Also see {@link ol.format.GMLBase} which is used by this format.\n *\n * @constructor\n * @param {olx.format.WFSOptions=} opt_options\n *     Optional configuration object.\n * @extends {ol.format.XMLFeature}\n * @api\n */\nconst WFS = function(opt_options) {\n  const options = opt_options ? opt_options : {};\n\n  /**\n   * @private\n   * @type {Array.<string>|string|undefined}\n   */\n  this.featureType_ = options.featureType;\n\n  /**\n   * @private\n   * @type {Object.<string, string>|string|undefined}\n   */\n  this.featureNS_ = options.featureNS;\n\n  /**\n   * @private\n   * @type {ol.format.GMLBase}\n   */\n  this.gmlFormat_ = options.gmlFormat ?\n    options.gmlFormat : new GML3();\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.schemaLocation_ = options.schemaLocation ?\n    options.schemaLocation :\n    WFS.SCHEMA_LOCATIONS[WFS.DEFAULT_VERSION];\n\n  XMLFeature.call(this);\n};\n\ninherits(WFS, XMLFeature);\n\n\n/**\n * @const\n * @type {string}\n */\nWFS.FEATURE_PREFIX = 'feature';\n\n\n/**\n * @const\n * @type {string}\n */\nWFS.XMLNS = 'http://www.w3.org/2000/xmlns/';\n\n\n/**\n * @const\n * @type {string}\n */\nWFS.OGCNS = 'http://www.opengis.net/ogc';\n\n\n/**\n * @const\n * @type {string}\n */\nWFS.WFSNS = 'http://www.opengis.net/wfs';\n\n\n/**\n * @const\n * @type {string}\n */\nWFS.FESNS = 'http://www.opengis.net/fes';\n\n\n/**\n * @const\n * @type {Object.<string, string>}\n */\nWFS.SCHEMA_LOCATIONS = {\n  '1.1.0': 'http://www.opengis.net/wfs ' +\n      'http://schemas.opengis.net/wfs/1.1.0/wfs.xsd',\n  '1.0.0': 'http://www.opengis.net/wfs ' +\n      'http://schemas.opengis.net/wfs/1.0.0/wfs.xsd'\n};\n\n\n/**\n * @const\n * @type {string}\n */\nWFS.DEFAULT_VERSION = '1.1.0';\n\n\n/**\n * @return {Array.<string>|string|undefined} featureType\n */\nWFS.prototype.getFeatureType = function() {\n  return this.featureType_;\n};\n\n\n/**\n * @param {Array.<string>|string|undefined} featureType Feature type(s) to parse.\n */\nWFS.prototype.setFeatureType = function(featureType) {\n  this.featureType_ = featureType;\n};\n\n\n/**\n * Read all features from a WFS FeatureCollection.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\nWFS.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nWFS.prototype.readFeaturesFromNode = function(node, opt_options) {\n  const context = /** @type {ol.XmlNodeStackItem} */ ({\n    'featureType': this.featureType_,\n    'featureNS': this.featureNS_\n  });\n  assign(context, this.getReadOptions(node, opt_options ? opt_options : {}));\n  const objectStack = [context];\n  this.gmlFormat_.FEATURE_COLLECTION_PARSERS[GMLBase.GMLNS][\n    'featureMember'] =\n      _ol_xml_.makeArrayPusher(GMLBase.prototype.readFeaturesInternal);\n  let features = _ol_xml_.pushParseAndPop([],\n    this.gmlFormat_.FEATURE_COLLECTION_PARSERS, node,\n    objectStack, this.gmlFormat_);\n  if (!features) {\n    features = [];\n  }\n  return features;\n};\n\n\n/**\n * Read transaction response of the source.\n *\n * @param {Document|Node|Object|string} source Source.\n * @return {ol.WFSTransactionResponse|undefined} Transaction response.\n * @api\n */\nWFS.prototype.readTransactionResponse = function(source) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readTransactionResponseFromDocument(\n      /** @type {Document} */ (source));\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readTransactionResponseFromNode(/** @type {Node} */ (source));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readTransactionResponseFromDocument(doc);\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * Read feature collection metadata of the source.\n *\n * @param {Document|Node|Object|string} source Source.\n * @return {ol.WFSFeatureCollectionMetadata|undefined}\n *     FeatureCollection metadata.\n * @api\n */\nWFS.prototype.readFeatureCollectionMetadata = function(source) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readFeatureCollectionMetadataFromDocument(\n      /** @type {Document} */ (source));\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readFeatureCollectionMetadataFromNode(\n      /** @type {Node} */ (source));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readFeatureCollectionMetadataFromDocument(doc);\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @return {ol.WFSFeatureCollectionMetadata|undefined}\n *     FeatureCollection metadata.\n */\nWFS.prototype.readFeatureCollectionMetadataFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFeatureCollectionMetadataFromNode(n);\n    }\n  }\n  return undefined;\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWFS.FEATURE_COLLECTION_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'boundedBy': _ol_xml_.makeObjectPropertySetter(\n      GMLBase.prototype.readGeometryElement, 'bounds')\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {ol.WFSFeatureCollectionMetadata|undefined}\n *     FeatureCollection metadata.\n */\nWFS.prototype.readFeatureCollectionMetadataFromNode = function(node) {\n  const result = {};\n  const value = XSD.readNonNegativeIntegerString(\n    node.getAttribute('numberOfFeatures'));\n  result['numberOfFeatures'] = value;\n  return _ol_xml_.pushParseAndPop(\n    /** @type {ol.WFSFeatureCollectionMetadata} */ (result),\n    WFS.FEATURE_COLLECTION_PARSERS_, node, [], this.gmlFormat_);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWFS.TRANSACTION_SUMMARY_PARSERS_ = {\n  'http://www.opengis.net/wfs': {\n    'totalInserted': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'totalUpdated': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'totalDeleted': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger)\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Transaction Summary.\n * @private\n */\nWFS.readTransactionSummary_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WFS.TRANSACTION_SUMMARY_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWFS.OGC_FID_PARSERS_ = {\n  'http://www.opengis.net/ogc': {\n    'FeatureId': _ol_xml_.makeArrayPusher(function(node, objectStack) {\n      return node.getAttribute('fid');\n    })\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nWFS.fidParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(WFS.OGC_FID_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWFS.INSERT_RESULTS_PARSERS_ = {\n  'http://www.opengis.net/wfs': {\n    'Feature': WFS.fidParser_\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Insert results.\n * @private\n */\nWFS.readInsertResults_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    [], WFS.INSERT_RESULTS_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWFS.TRANSACTION_RESPONSE_PARSERS_ = {\n  'http://www.opengis.net/wfs': {\n    'TransactionSummary': _ol_xml_.makeObjectPropertySetter(\n      WFS.readTransactionSummary_, 'transactionSummary'),\n    'InsertResults': _ol_xml_.makeObjectPropertySetter(\n      WFS.readInsertResults_, 'insertIds')\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @return {ol.WFSTransactionResponse|undefined} Transaction response.\n */\nWFS.prototype.readTransactionResponseFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readTransactionResponseFromNode(n);\n    }\n  }\n  return undefined;\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {ol.WFSTransactionResponse|undefined} Transaction response.\n */\nWFS.prototype.readTransactionResponseFromNode = function(node) {\n  return _ol_xml_.pushParseAndPop(\n    /** @type {ol.WFSTransactionResponse} */({}),\n    WFS.TRANSACTION_RESPONSE_PARSERS_, node, []);\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nWFS.QUERY_SERIALIZERS_ = {\n  'http://www.opengis.net/wfs': {\n    'PropertyName': _ol_xml_.makeChildAppender(XSD.writeStringTextNode)\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeFeature_ = function(node, feature, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const featureType = context['featureType'];\n  const featureNS = context['featureNS'];\n  const gmlVersion = context['gmlVersion'];\n  const child = _ol_xml_.createElementNS(featureNS, featureType);\n  node.appendChild(child);\n  if (gmlVersion === 2) {\n    GML2.prototype.writeFeatureElement(child, feature, objectStack);\n  } else {\n    GML3.prototype.writeFeatureElement(child, feature, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {number|string} fid Feature identifier.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeOgcFidFilter_ = function(node, fid, objectStack) {\n  const filter = _ol_xml_.createElementNS(WFS.OGCNS, 'Filter');\n  const child = _ol_xml_.createElementNS(WFS.OGCNS, 'FeatureId');\n  filter.appendChild(child);\n  child.setAttribute('fid', fid);\n  node.appendChild(filter);\n};\n\n\n/**\n * @param {string|undefined} featurePrefix The prefix of the feature.\n * @param {string} featureType The type of the feature.\n * @returns {string} The value of the typeName property.\n * @private\n */\nWFS.getTypeName_ = function(featurePrefix, featureType) {\n  featurePrefix = featurePrefix ? featurePrefix :\n    WFS.FEATURE_PREFIX;\n  const prefix = featurePrefix + ':';\n  // The featureType already contains the prefix.\n  if (featureType.indexOf(prefix) === 0) {\n    return featureType;\n  } else {\n    return prefix + featureType;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeDelete_ = function(node, feature, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  assert(feature.getId() !== undefined, 26); // Features must have an id set\n  const featureType = context['featureType'];\n  const featurePrefix = context['featurePrefix'];\n  const featureNS = context['featureNS'];\n  const typeName = WFS.getTypeName_(featurePrefix, featureType);\n  node.setAttribute('typeName', typeName);\n  _ol_xml_.setAttributeNS(node, WFS.XMLNS, 'xmlns:' + featurePrefix,\n    featureNS);\n  const fid = feature.getId();\n  if (fid !== undefined) {\n    WFS.writeOgcFidFilter_(node, fid, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeUpdate_ = function(node, feature, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  assert(feature.getId() !== undefined, 27); // Features must have an id set\n  const featureType = context['featureType'];\n  const featurePrefix = context['featurePrefix'];\n  const featureNS = context['featureNS'];\n  const typeName = WFS.getTypeName_(featurePrefix, featureType);\n  const geometryName = feature.getGeometryName();\n  node.setAttribute('typeName', typeName);\n  _ol_xml_.setAttributeNS(node, WFS.XMLNS, 'xmlns:' + featurePrefix,\n    featureNS);\n  const fid = feature.getId();\n  if (fid !== undefined) {\n    const keys = feature.getKeys();\n    const values = [];\n    for (let i = 0, ii = keys.length; i < ii; i++) {\n      const value = feature.get(keys[i]);\n      if (value !== undefined) {\n        let name = keys[i];\n        if (value instanceof Geometry) {\n          name = geometryName;\n        }\n        values.push({name: name, value: value});\n      }\n    }\n    _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */ (\n      {'gmlVersion': context['gmlVersion'], node: node,\n        'hasZ': context['hasZ'], 'srsName': context['srsName']}),\n    WFS.TRANSACTION_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('Property'), values,\n    objectStack);\n    WFS.writeOgcFidFilter_(node, fid, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Object} pair Property name and value.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeProperty_ = function(node, pair, objectStack) {\n  const name = _ol_xml_.createElementNS(WFS.WFSNS, 'Name');\n  const context = objectStack[objectStack.length - 1];\n  const gmlVersion = context['gmlVersion'];\n  node.appendChild(name);\n  XSD.writeStringTextNode(name, pair.name);\n  if (pair.value !== undefined && pair.value !== null) {\n    const value = _ol_xml_.createElementNS(WFS.WFSNS, 'Value');\n    node.appendChild(value);\n    if (pair.value instanceof Geometry) {\n      if (gmlVersion === 2) {\n        GML2.prototype.writeGeometryElement(value,\n          pair.value, objectStack);\n      } else {\n        GML3.prototype.writeGeometryElement(value,\n          pair.value, objectStack);\n      }\n    } else {\n      XSD.writeStringTextNode(value, pair.value);\n    }\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {{vendorId: string, safeToIgnore: boolean, value: string}}\n *     nativeElement The native element.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeNative_ = function(node, nativeElement, objectStack) {\n  if (nativeElement.vendorId) {\n    node.setAttribute('vendorId', nativeElement.vendorId);\n  }\n  if (nativeElement.safeToIgnore !== undefined) {\n    node.setAttribute('safeToIgnore', nativeElement.safeToIgnore);\n  }\n  if (nativeElement.value !== undefined) {\n    XSD.writeStringTextNode(node, nativeElement.value);\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nWFS.TRANSACTION_SERIALIZERS_ = {\n  'http://www.opengis.net/wfs': {\n    'Insert': _ol_xml_.makeChildAppender(WFS.writeFeature_),\n    'Update': _ol_xml_.makeChildAppender(WFS.writeUpdate_),\n    'Delete': _ol_xml_.makeChildAppender(WFS.writeDelete_),\n    'Property': _ol_xml_.makeChildAppender(WFS.writeProperty_),\n    'Native': _ol_xml_.makeChildAppender(WFS.writeNative_)\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {string} featureType Feature type.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeQuery_ = function(node, featureType, objectStack) {\n  const context = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const featurePrefix = context['featurePrefix'];\n  const featureNS = context['featureNS'];\n  const propertyNames = context['propertyNames'];\n  const srsName = context['srsName'];\n  let typeName;\n  // If feature prefix is not defined, we must not use the default prefix.\n  if (featurePrefix) {\n    typeName = WFS.getTypeName_(featurePrefix, featureType);\n  } else {\n    typeName = featureType;\n  }\n  node.setAttribute('typeName', typeName);\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  if (featureNS) {\n    _ol_xml_.setAttributeNS(node, WFS.XMLNS, 'xmlns:' + featurePrefix,\n      featureNS);\n  }\n  const item = /** @type {ol.XmlNodeStackItem} */ (assign({}, context));\n  item.node = node;\n  _ol_xml_.pushSerializeAndPop(item,\n    WFS.QUERY_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('PropertyName'), propertyNames,\n    objectStack);\n  const filter = context['filter'];\n  if (filter) {\n    const child = _ol_xml_.createElementNS(WFS.OGCNS, 'Filter');\n    node.appendChild(child);\n    WFS.writeFilterCondition_(child, filter, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.Filter} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeFilterCondition_ = function(node, filter, objectStack) {\n  /** @type {ol.XmlNodeStackItem} */\n  const item = {node: node};\n  _ol_xml_.pushSerializeAndPop(item,\n    WFS.GETFEATURE_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory(filter.getTagName()),\n    [filter], objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.Bbox} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeBboxFilter_ = function(node, filter, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  context['srsName'] = filter.srsName;\n\n  WFS.writeOgcPropertyName_(node, filter.geometryName);\n  GML3.prototype.writeGeometryElement(node, filter.extent, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.Contains} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeContainsFilter_ = function(node, filter, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  context['srsName'] = filter.srsName;\n\n  WFS.writeOgcPropertyName_(node, filter.geometryName);\n  GML3.prototype.writeGeometryElement(node, filter.geometry, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.Intersects} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeIntersectsFilter_ = function(node, filter, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  context['srsName'] = filter.srsName;\n\n  WFS.writeOgcPropertyName_(node, filter.geometryName);\n  GML3.prototype.writeGeometryElement(node, filter.geometry, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.Within} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeWithinFilter_ = function(node, filter, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  context['srsName'] = filter.srsName;\n\n  WFS.writeOgcPropertyName_(node, filter.geometryName);\n  GML3.prototype.writeGeometryElement(node, filter.geometry, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.During} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeDuringFilter_ = function(node, filter, objectStack) {\n\n  const valueReference = _ol_xml_.createElementNS(WFS.FESNS, 'ValueReference');\n  XSD.writeStringTextNode(valueReference, filter.propertyName);\n  node.appendChild(valueReference);\n\n  const timePeriod = _ol_xml_.createElementNS(GMLBase.GMLNS, 'TimePeriod');\n\n  node.appendChild(timePeriod);\n\n  const begin = _ol_xml_.createElementNS(GMLBase.GMLNS, 'begin');\n  timePeriod.appendChild(begin);\n  WFS.writeTimeInstant_(begin, filter.begin);\n\n  const end = _ol_xml_.createElementNS(GMLBase.GMLNS, 'end');\n  timePeriod.appendChild(end);\n  WFS.writeTimeInstant_(end, filter.end);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.LogicalNary} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeLogicalFilter_ = function(node, filter, objectStack) {\n  /** @type {ol.XmlNodeStackItem} */\n  const item = {node: node};\n  const conditions = filter.conditions;\n  for (let i = 0, ii = conditions.length; i < ii; ++i) {\n    const condition = conditions[i];\n    _ol_xml_.pushSerializeAndPop(item,\n      WFS.GETFEATURE_SERIALIZERS_,\n      _ol_xml_.makeSimpleNodeFactory(condition.getTagName()),\n      [condition], objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.Not} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeNotFilter_ = function(node, filter, objectStack) {\n  /** @type {ol.XmlNodeStackItem} */\n  const item = {node: node};\n  const condition = filter.condition;\n  _ol_xml_.pushSerializeAndPop(item,\n    WFS.GETFEATURE_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory(condition.getTagName()),\n    [condition], objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.ComparisonBinary} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeComparisonFilter_ = function(node, filter, objectStack) {\n  if (filter.matchCase !== undefined) {\n    node.setAttribute('matchCase', filter.matchCase.toString());\n  }\n  WFS.writeOgcPropertyName_(node, filter.propertyName);\n  WFS.writeOgcLiteral_(node, '' + filter.expression);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.IsNull} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeIsNullFilter_ = function(node, filter, objectStack) {\n  WFS.writeOgcPropertyName_(node, filter.propertyName);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.IsBetween} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeIsBetweenFilter_ = function(node, filter, objectStack) {\n  WFS.writeOgcPropertyName_(node, filter.propertyName);\n\n  const lowerBoundary = _ol_xml_.createElementNS(WFS.OGCNS, 'LowerBoundary');\n  node.appendChild(lowerBoundary);\n  WFS.writeOgcLiteral_(lowerBoundary, '' + filter.lowerBoundary);\n\n  const upperBoundary = _ol_xml_.createElementNS(WFS.OGCNS, 'UpperBoundary');\n  node.appendChild(upperBoundary);\n  WFS.writeOgcLiteral_(upperBoundary, '' + filter.upperBoundary);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.format.filter.IsLike} filter Filter.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeIsLikeFilter_ = function(node, filter, objectStack) {\n  node.setAttribute('wildCard', filter.wildCard);\n  node.setAttribute('singleChar', filter.singleChar);\n  node.setAttribute('escapeChar', filter.escapeChar);\n  if (filter.matchCase !== undefined) {\n    node.setAttribute('matchCase', filter.matchCase.toString());\n  }\n  WFS.writeOgcPropertyName_(node, filter.propertyName);\n  WFS.writeOgcLiteral_(node, '' + filter.pattern);\n};\n\n\n/**\n * @param {string} tagName Tag name.\n * @param {Node} node Node.\n * @param {string} value Value.\n * @private\n */\nWFS.writeOgcExpression_ = function(tagName, node, value) {\n  const property = _ol_xml_.createElementNS(WFS.OGCNS, tagName);\n  XSD.writeStringTextNode(property, value);\n  node.appendChild(property);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {string} value PropertyName value.\n * @private\n */\nWFS.writeOgcPropertyName_ = function(node, value) {\n  WFS.writeOgcExpression_('PropertyName', node, value);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {string} value PropertyName value.\n * @private\n */\nWFS.writeOgcLiteral_ = function(node, value) {\n  WFS.writeOgcExpression_('Literal', node, value);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {string} time PropertyName value.\n * @private\n */\nWFS.writeTimeInstant_ = function(node, time) {\n  const timeInstant = _ol_xml_.createElementNS(GMLBase.GMLNS, 'TimeInstant');\n  node.appendChild(timeInstant);\n\n  const timePosition = _ol_xml_.createElementNS(GMLBase.GMLNS, 'timePosition');\n  timeInstant.appendChild(timePosition);\n  XSD.writeStringTextNode(timePosition, time);\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nWFS.GETFEATURE_SERIALIZERS_ = {\n  'http://www.opengis.net/wfs': {\n    'Query': _ol_xml_.makeChildAppender(WFS.writeQuery_)\n  },\n  'http://www.opengis.net/ogc': {\n    'During': _ol_xml_.makeChildAppender(WFS.writeDuringFilter_),\n    'And': _ol_xml_.makeChildAppender(WFS.writeLogicalFilter_),\n    'Or': _ol_xml_.makeChildAppender(WFS.writeLogicalFilter_),\n    'Not': _ol_xml_.makeChildAppender(WFS.writeNotFilter_),\n    'BBOX': _ol_xml_.makeChildAppender(WFS.writeBboxFilter_),\n    'Contains': _ol_xml_.makeChildAppender(WFS.writeContainsFilter_),\n    'Intersects': _ol_xml_.makeChildAppender(WFS.writeIntersectsFilter_),\n    'Within': _ol_xml_.makeChildAppender(WFS.writeWithinFilter_),\n    'PropertyIsEqualTo': _ol_xml_.makeChildAppender(WFS.writeComparisonFilter_),\n    'PropertyIsNotEqualTo': _ol_xml_.makeChildAppender(WFS.writeComparisonFilter_),\n    'PropertyIsLessThan': _ol_xml_.makeChildAppender(WFS.writeComparisonFilter_),\n    'PropertyIsLessThanOrEqualTo': _ol_xml_.makeChildAppender(WFS.writeComparisonFilter_),\n    'PropertyIsGreaterThan': _ol_xml_.makeChildAppender(WFS.writeComparisonFilter_),\n    'PropertyIsGreaterThanOrEqualTo': _ol_xml_.makeChildAppender(WFS.writeComparisonFilter_),\n    'PropertyIsNull': _ol_xml_.makeChildAppender(WFS.writeIsNullFilter_),\n    'PropertyIsBetween': _ol_xml_.makeChildAppender(WFS.writeIsBetweenFilter_),\n    'PropertyIsLike': _ol_xml_.makeChildAppender(WFS.writeIsLikeFilter_)\n  }\n};\n\n\n/**\n * Encode filter as WFS `Filter` and return the Node.\n *\n * @param {ol.format.filter.Filter} filter Filter.\n * @return {Node} Result.\n * @api\n */\nWFS.writeFilter = function(filter) {\n  const child = _ol_xml_.createElementNS(WFS.OGCNS, 'Filter');\n  WFS.writeFilterCondition_(child, filter, []);\n  return child;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<string>} featureTypes Feature types.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nWFS.writeGetFeature_ = function(node, featureTypes, objectStack) {\n  const context = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const item = /** @type {ol.XmlNodeStackItem} */ (assign({}, context));\n  item.node = node;\n  _ol_xml_.pushSerializeAndPop(item,\n    WFS.GETFEATURE_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('Query'), featureTypes,\n    objectStack);\n};\n\n\n/**\n * Encode format as WFS `GetFeature` and return the Node.\n *\n * @param {olx.format.WFSWriteGetFeatureOptions} options Options.\n * @return {Node} Result.\n * @api\n */\nWFS.prototype.writeGetFeature = function(options) {\n  const node = _ol_xml_.createElementNS(WFS.WFSNS, 'GetFeature');\n  node.setAttribute('service', 'WFS');\n  node.setAttribute('version', '1.1.0');\n  let filter;\n  if (options) {\n    if (options.handle) {\n      node.setAttribute('handle', options.handle);\n    }\n    if (options.outputFormat) {\n      node.setAttribute('outputFormat', options.outputFormat);\n    }\n    if (options.maxFeatures !== undefined) {\n      node.setAttribute('maxFeatures', options.maxFeatures);\n    }\n    if (options.resultType) {\n      node.setAttribute('resultType', options.resultType);\n    }\n    if (options.startIndex !== undefined) {\n      node.setAttribute('startIndex', options.startIndex);\n    }\n    if (options.count !== undefined) {\n      node.setAttribute('count', options.count);\n    }\n    filter = options.filter;\n    if (options.bbox) {\n      assert(options.geometryName,\n        12); // `options.geometryName` must also be provided when `options.bbox` is set\n      const bbox = _ol_format_filter_.bbox(\n        /** @type {string} */ (options.geometryName), options.bbox, options.srsName);\n      if (filter) {\n        // if bbox and filter are both set, combine the two into a single filter\n        filter = _ol_format_filter_.and(filter, bbox);\n      } else {\n        filter = bbox;\n      }\n    }\n  }\n  _ol_xml_.setAttributeNS(node, 'http://www.w3.org/2001/XMLSchema-instance',\n    'xsi:schemaLocation', this.schemaLocation_);\n  /** @type {ol.XmlNodeStackItem} */\n  const context = {\n    node: node,\n    'srsName': options.srsName,\n    'featureNS': options.featureNS ? options.featureNS : this.featureNS_,\n    'featurePrefix': options.featurePrefix,\n    'geometryName': options.geometryName,\n    'filter': filter,\n    'propertyNames': options.propertyNames ? options.propertyNames : []\n  };\n  assert(Array.isArray(options.featureTypes),\n    11); // `options.featureTypes` should be an Array\n  WFS.writeGetFeature_(node, /** @type {!Array.<string>} */ (options.featureTypes), [context]);\n  return node;\n};\n\n\n/**\n * Encode format as WFS `Transaction` and return the Node.\n *\n * @param {Array.<ol.Feature>} inserts The features to insert.\n * @param {Array.<ol.Feature>} updates The features to update.\n * @param {Array.<ol.Feature>} deletes The features to delete.\n * @param {olx.format.WFSWriteTransactionOptions} options Write options.\n * @return {Node} Result.\n * @api\n */\nWFS.prototype.writeTransaction = function(inserts, updates, deletes,\n  options) {\n  const objectStack = [];\n  const node = _ol_xml_.createElementNS(WFS.WFSNS, 'Transaction');\n  const version = options.version ?\n    options.version : WFS.DEFAULT_VERSION;\n  const gmlVersion = version === '1.0.0' ? 2 : 3;\n  node.setAttribute('service', 'WFS');\n  node.setAttribute('version', version);\n  let baseObj;\n  /** @type {ol.XmlNodeStackItem} */\n  let obj;\n  if (options) {\n    baseObj = options.gmlOptions ? options.gmlOptions : {};\n    if (options.handle) {\n      node.setAttribute('handle', options.handle);\n    }\n  }\n  const schemaLocation = WFS.SCHEMA_LOCATIONS[version];\n  _ol_xml_.setAttributeNS(node, 'http://www.w3.org/2001/XMLSchema-instance',\n    'xsi:schemaLocation', schemaLocation);\n  const featurePrefix = options.featurePrefix ? options.featurePrefix : WFS.FEATURE_PREFIX;\n  if (inserts) {\n    obj = {node: node, 'featureNS': options.featureNS,\n      'featureType': options.featureType, 'featurePrefix': featurePrefix,\n      'gmlVersion': gmlVersion, 'hasZ': options.hasZ, 'srsName': options.srsName};\n    assign(obj, baseObj);\n    _ol_xml_.pushSerializeAndPop(obj,\n      WFS.TRANSACTION_SERIALIZERS_,\n      _ol_xml_.makeSimpleNodeFactory('Insert'), inserts,\n      objectStack);\n  }\n  if (updates) {\n    obj = {node: node, 'featureNS': options.featureNS,\n      'featureType': options.featureType, 'featurePrefix': featurePrefix,\n      'gmlVersion': gmlVersion, 'hasZ': options.hasZ, 'srsName': options.srsName};\n    assign(obj, baseObj);\n    _ol_xml_.pushSerializeAndPop(obj,\n      WFS.TRANSACTION_SERIALIZERS_,\n      _ol_xml_.makeSimpleNodeFactory('Update'), updates,\n      objectStack);\n  }\n  if (deletes) {\n    _ol_xml_.pushSerializeAndPop({node: node, 'featureNS': options.featureNS,\n      'featureType': options.featureType, 'featurePrefix': featurePrefix,\n      'gmlVersion': gmlVersion, 'srsName': options.srsName},\n    WFS.TRANSACTION_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('Delete'), deletes,\n    objectStack);\n  }\n  if (options.nativeElements) {\n    _ol_xml_.pushSerializeAndPop({node: node, 'featureNS': options.featureNS,\n      'featureType': options.featureType, 'featurePrefix': featurePrefix,\n      'gmlVersion': gmlVersion, 'srsName': options.srsName},\n    WFS.TRANSACTION_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('Native'), options.nativeElements,\n    objectStack);\n  }\n  return node;\n};\n\n\n/**\n * Read the projection from a WFS source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @return {?ol.proj.Projection} Projection.\n * @api\n */\nWFS.prototype.readProjection;\n\n\n/**\n * @inheritDoc\n */\nWFS.prototype.readProjectionFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readProjectionFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nWFS.prototype.readProjectionFromNode = function(node) {\n  if (node.firstElementChild &&\n      node.firstElementChild.firstElementChild) {\n    node = node.firstElementChild.firstElementChild;\n    for (let n = node.firstElementChild; n; n = n.nextElementSibling) {\n      if (!(n.childNodes.length === 0 ||\n          (n.childNodes.length === 1 &&\n          n.firstChild.nodeType === 3))) {\n        const objectStack = [{}];\n        this.gmlFormat_.readGeometryElement(n, objectStack);\n        return getProjection(objectStack.pop().srsName);\n      }\n    }\n  }\n\n  return null;\n};\nexport default WFS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/WFS.js\n// module id = 62\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22","import { createLocalOrUTC } from './from-anything';\n\nexport function createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/local.js\n// module id = 63\n// module chunks = 0 1 2 3 4 5","export var YEAR = 0;\nexport var MONTH = 1;\nexport var DATE = 2;\nexport var HOUR = 3;\nexport var MINUTE = 4;\nexport var SECOND = 5;\nexport var MILLISECOND = 6;\nexport var WEEK = 7;\nexport var WEEKDAY = 8;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/constants.js\n// module id = 64\n// module chunks = 0 1 2 3 4 5","/**\n * @type {string} Default WMS version.\n */\nexport const DEFAULT_WMS_VERSION = '1.3.0';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/common.js\n// module id = 66\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24","/**\n * @module ol/source/WMSServerType\n */\n\n/**\n * Available server types: `'carmentaserver'`, `'geoserver'`, `'mapserver'`,\n *     `'qgis'`. These are servers that have vendor parameters beyond the WMS\n *     specification that OpenLayers can make use of.\n * @enum {string}\n */\nexport default {\n  CARMENTA_SERVER: 'carmentaserver',\n  GEOSERVER: 'geoserver',\n  MAPSERVER: 'mapserver',\n  QGIS: 'qgis'\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/WMSServerType.js\n// module id = 67\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24","/**\n * @module ngeo.datasource.Group\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport olCollection from 'ol/Collection.js';\n\nconst exports = class {\n\n  /**\n   * A Group data source combines multiple `ngeo.datasource.DataSource` objects.\n   * Its main purpose is to provide a calculated `visibilityState` property\n   * that can be used to determine if all its data source are all visible, all\n   * hidden or some are hidden and other visible.\n   *\n   * @struct\n   * @param {ngeox.datasource.GroupOptions} options Options.\n   */\n  constructor(options) {\n\n    // === DYNAMIC properties (i.e. that can change / be watched ===\n\n    /**\n     * @type {!ol.Collection.<!ngeo.datasource.DataSource>}\n     * @protected\n     */\n    this.dataSourcesCollection_ = new olCollection(options.dataSources);\n\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.title_ = options.title;\n  }\n\n  /**\n   * @export\n   */\n  destroy() {\n    this.dataSourcesCollection_.clear();\n  }\n\n  // ========================================\n  // === Dynamic property getters/setters ===\n  // ========================================\n\n  /**\n   * @return {!Array.<!ngeo.datasource.DataSource>} Data sources\n   * @export\n   */\n  get dataSources() {\n    return this.dataSourcesCollection_.getArray();\n  }\n\n\n  /**\n   * @return {!ol.Collection.<!ngeo.datasource.DataSource>} Data sources\n   * @export\n   */\n  get dataSourcesCollection() {\n    return this.dataSourcesCollection_;\n  }\n\n\n  // =======================================\n  // === Static property getters/setters ===\n  // =======================================\n\n  /**\n   * @return {string} Title\n   * @export\n   */\n  get title() {\n    return this.title_;\n  }\n\n\n  // ===================================\n  // === Calculated property getters ===\n  // ===================================\n\n  /**\n   * @return {string} Visibility state\n   * @export\n   */\n  get visibilityState() {\n    let state;\n\n    for (const dataSource of this.dataSources) {\n      if (state === undefined) {\n        state = this.getDataSourceState(dataSource);\n      } else {\n        const otherState = this.getDataSourceState(dataSource);\n        if (otherState !== state) {\n          state = exports.VisibilityState.INDETERMINATE;\n        }\n      }\n      if (state === exports.VisibilityState.INDETERMINATE) {\n        break;\n      }\n    }\n\n    googAsserts.assertString(state);\n\n    return state;\n  }\n\n\n  // =======================\n  // === Utility Methods ===\n  // =======================\n\n  /**\n   * @param {!ngeo.datasource.DataSource} dataSource Data source.\n   * @return {string} Visible state of a data source\n   * @export\n   */\n  getDataSourceState(dataSource) {\n    return dataSource.visible ?\n      exports.VisibilityState.ON :\n      exports.VisibilityState.OFF;\n  }\n\n  /**\n   * @param {!ngeo.datasource.DataSource} dataSource Data source to add.\n   * @export\n   */\n  addDataSource(dataSource) {\n    this.dataSourcesCollection_.push(dataSource);\n  }\n\n  /**\n   * @param {!ngeo.datasource.DataSource} dataSource Data source to remove.\n   * @export\n   */\n  removeDataSource(dataSource) {\n    this.dataSourcesCollection_.remove(dataSource);\n  }\n\n  /**\n   * Update visible property of all data sources depending on the current\n   * visibility state:\n   *\n   * - state ON --> visible false\n   * - state OFF --> visible true\n   * - state IND. --> visible true\n   *\n   * @export\n   */\n  toggleVisibilityState() {\n    const visibleToSet =\n        this.visibilityState !== exports.VisibilityState.ON;\n    for (const dataSource of this.dataSources) {\n      if (dataSource.visible !== visibleToSet) {\n        dataSource.visible = visibleToSet;\n      }\n    }\n  }\n};\n\n\n/**\n * @enum {string}\n */\nexports.VisibilityState = {\n  INDETERMINATE: 'indeterminate',\n  OFF: 'off',\n  ON: 'on'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/Group.js","/**\n * @module ol/source/TileWMS\n */\n\nimport {DEFAULT_WMS_VERSION} from './common.js';\nimport {inherits} from '../index.js';\nimport {assert} from '../asserts.js';\nimport {buffer, createEmpty} from '../extent.js';\nimport {assign} from '../obj.js';\nimport {modulo} from '../math.js';\nimport {get as getProjection, transform, transformExtent} from '../proj.js';\nimport _ol_reproj_ from '../reproj.js';\nimport _ol_size_ from '../size.js';\nimport TileImage from '../source/TileImage.js';\nimport WMSServerType from '../source/WMSServerType.js';\nimport _ol_tilecoord_ from '../tilecoord.js';\nimport _ol_string_ from '../string.js';\nimport {appendParams} from '../uri.js';\n\n/**\n * @classdesc\n * Layer source for tile data from WMS servers.\n *\n * @constructor\n * @extends {ol.source.TileImage}\n * @param {olx.source.TileWMSOptions=} opt_options Tile WMS options.\n * @api\n */\nconst TileWMS = function(opt_options) {\n\n  const options = opt_options || {};\n\n  const params = options.params || {};\n\n  const transparent = 'TRANSPARENT' in params ? params['TRANSPARENT'] : true;\n\n  TileImage.call(this, {\n    attributions: options.attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: options.crossOrigin,\n    opaque: !transparent,\n    projection: options.projection,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileClass: options.tileClass,\n    tileGrid: options.tileGrid,\n    tileLoadFunction: options.tileLoadFunction,\n    url: options.url,\n    urls: options.urls,\n    wrapX: options.wrapX !== undefined ? options.wrapX : true,\n    transition: options.transition\n  });\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.gutter_ = options.gutter !== undefined ? options.gutter : 0;\n\n  /**\n   * @private\n   * @type {!Object}\n   */\n  this.params_ = params;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.v13_ = true;\n\n  /**\n   * @private\n   * @type {ol.source.WMSServerType|undefined}\n   */\n  this.serverType_ = /** @type {ol.source.WMSServerType|undefined} */ (options.serverType);\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\n\n  /**\n   * @private\n   * @type {ol.Extent}\n   */\n  this.tmpExtent_ = createEmpty();\n\n  this.updateV13_();\n  this.setKey(this.getKeyForParams_());\n\n};\n\ninherits(TileWMS, TileImage);\n\n\n/**\n * Return the GetFeatureInfo URL for the passed coordinate, resolution, and\n * projection. Return `undefined` if the GetFeatureInfo URL cannot be\n * constructed.\n * @param {ol.Coordinate} coordinate Coordinate.\n * @param {number} resolution Resolution.\n * @param {ol.ProjectionLike} projection Projection.\n * @param {!Object} params GetFeatureInfo params. `INFO_FORMAT` at least should\n *     be provided. If `QUERY_LAYERS` is not provided then the layers specified\n *     in the `LAYERS` parameter will be used. `VERSION` should not be\n *     specified here.\n * @return {string|undefined} GetFeatureInfo URL.\n * @api\n */\nTileWMS.prototype.getGetFeatureInfoUrl = function(coordinate, resolution, projection, params) {\n  const projectionObj = getProjection(projection);\n  const sourceProjectionObj = this.getProjection();\n\n  let tileGrid = this.getTileGrid();\n  if (!tileGrid) {\n    tileGrid = this.getTileGridForProjection(projectionObj);\n  }\n\n  const tileCoord = tileGrid.getTileCoordForCoordAndResolution(coordinate, resolution);\n\n  if (tileGrid.getResolutions().length <= tileCoord[0]) {\n    return undefined;\n  }\n\n  let tileResolution = tileGrid.getResolution(tileCoord[0]);\n  let tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\n  let tileSize = _ol_size_.toSize(tileGrid.getTileSize(tileCoord[0]), this.tmpSize);\n\n\n  const gutter = this.gutter_;\n  if (gutter !== 0) {\n    tileSize = _ol_size_.buffer(tileSize, gutter, this.tmpSize);\n    tileExtent = buffer(tileExtent, tileResolution * gutter, tileExtent);\n  }\n\n  if (sourceProjectionObj && sourceProjectionObj !== projectionObj) {\n    tileResolution = _ol_reproj_.calculateSourceResolution(sourceProjectionObj, projectionObj, coordinate, tileResolution);\n    tileExtent = transformExtent(tileExtent, projectionObj, sourceProjectionObj);\n    coordinate = transform(coordinate, projectionObj, sourceProjectionObj);\n  }\n\n  const baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetFeatureInfo',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true,\n    'QUERY_LAYERS': this.params_['LAYERS']\n  };\n  assign(baseParams, this.params_, params);\n\n  const x = Math.floor((coordinate[0] - tileExtent[0]) / tileResolution);\n  const y = Math.floor((tileExtent[3] - coordinate[1]) / tileResolution);\n\n  baseParams[this.v13_ ? 'I' : 'X'] = x;\n  baseParams[this.v13_ ? 'J' : 'Y'] = y;\n\n  return this.getRequestUrl_(tileCoord, tileSize, tileExtent,\n    1, sourceProjectionObj || projectionObj, baseParams);\n};\n\n\n/**\n * @inheritDoc\n */\nTileWMS.prototype.getGutterInternal = function() {\n  return this.gutter_;\n};\n\n\n/**\n * Get the user-provided params, i.e. those passed to the constructor through\n * the \"params\" option, and possibly updated using the updateParams method.\n * @return {Object} Params.\n * @api\n */\nTileWMS.prototype.getParams = function() {\n  return this.params_;\n};\n\n\n/**\n * @param {ol.TileCoord} tileCoord Tile coordinate.\n * @param {ol.Size} tileSize Tile size.\n * @param {ol.Extent} tileExtent Tile extent.\n * @param {number} pixelRatio Pixel ratio.\n * @param {ol.proj.Projection} projection Projection.\n * @param {Object} params Params.\n * @return {string|undefined} Request URL.\n * @private\n */\nTileWMS.prototype.getRequestUrl_ = function(tileCoord, tileSize, tileExtent,\n  pixelRatio, projection, params) {\n\n  const urls = this.urls;\n  if (!urls) {\n    return undefined;\n  }\n\n  params['WIDTH'] = tileSize[0];\n  params['HEIGHT'] = tileSize[1];\n\n  params[this.v13_ ? 'CRS' : 'SRS'] = projection.getCode();\n\n  if (!('STYLES' in this.params_)) {\n    params['STYLES'] = '';\n  }\n\n  if (pixelRatio != 1) {\n    switch (this.serverType_) {\n      case WMSServerType.GEOSERVER:\n        const dpi = (90 * pixelRatio + 0.5) | 0;\n        if ('FORMAT_OPTIONS' in params) {\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\n        } else {\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\n        }\n        break;\n      case WMSServerType.MAPSERVER:\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\n        break;\n      case WMSServerType.CARMENTA_SERVER:\n      case WMSServerType.QGIS:\n        params['DPI'] = 90 * pixelRatio;\n        break;\n      default:\n        assert(false, 52); // Unknown `serverType` configured\n        break;\n    }\n  }\n\n  const axisOrientation = projection.getAxisOrientation();\n  const bbox = tileExtent;\n  if (this.v13_ && axisOrientation.substr(0, 2) == 'ne') {\n    let tmp;\n    tmp = tileExtent[0];\n    bbox[0] = tileExtent[1];\n    bbox[1] = tmp;\n    tmp = tileExtent[2];\n    bbox[2] = tileExtent[3];\n    bbox[3] = tmp;\n  }\n  params['BBOX'] = bbox.join(',');\n\n  let url;\n  if (urls.length == 1) {\n    url = urls[0];\n  } else {\n    const index = modulo(_ol_tilecoord_.hash(tileCoord), urls.length);\n    url = urls[index];\n  }\n  return appendParams(url, params);\n};\n\n\n/**\n * @inheritDoc\n */\nTileWMS.prototype.getTilePixelRatio = function(pixelRatio) {\n  return (!this.hidpi_ || this.serverType_ === undefined) ? 1 :\n  /** @type {number} */ (pixelRatio);\n};\n\n\n/**\n * @private\n * @return {string} The key for the current params.\n */\nTileWMS.prototype.getKeyForParams_ = function() {\n  let i = 0;\n  const res = [];\n  for (const key in this.params_) {\n    res[i++] = key + '-' + this.params_[key];\n  }\n  return res.join('/');\n};\n\n\n/**\n * @inheritDoc\n */\nTileWMS.prototype.fixedTileUrlFunction = function(tileCoord, pixelRatio, projection) {\n\n  let tileGrid = this.getTileGrid();\n  if (!tileGrid) {\n    tileGrid = this.getTileGridForProjection(projection);\n  }\n\n  if (tileGrid.getResolutions().length <= tileCoord[0]) {\n    return undefined;\n  }\n\n  if (pixelRatio != 1 && (!this.hidpi_ || this.serverType_ === undefined)) {\n    pixelRatio = 1;\n  }\n\n  const tileResolution = tileGrid.getResolution(tileCoord[0]);\n  let tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\n  let tileSize = _ol_size_.toSize(\n    tileGrid.getTileSize(tileCoord[0]), this.tmpSize);\n\n  const gutter = this.gutter_;\n  if (gutter !== 0) {\n    tileSize = _ol_size_.buffer(tileSize, gutter, this.tmpSize);\n    tileExtent = buffer(tileExtent, tileResolution * gutter, tileExtent);\n  }\n\n  if (pixelRatio != 1) {\n    tileSize = _ol_size_.scale(tileSize, pixelRatio, this.tmpSize);\n  }\n\n  const baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_WMS_VERSION,\n    'REQUEST': 'GetMap',\n    'FORMAT': 'image/png',\n    'TRANSPARENT': true\n  };\n  assign(baseParams, this.params_);\n\n  return this.getRequestUrl_(tileCoord, tileSize, tileExtent,\n    pixelRatio, projection, baseParams);\n};\n\n/**\n * Update the user-provided params.\n * @param {Object} params Params.\n * @api\n */\nTileWMS.prototype.updateParams = function(params) {\n  assign(this.params_, params);\n  this.updateV13_();\n  this.setKey(this.getKeyForParams_());\n};\n\n\n/**\n * @private\n */\nTileWMS.prototype.updateV13_ = function() {\n  const version = this.params_['VERSION'] || DEFAULT_WMS_VERSION;\n  this.v13_ = _ol_string_.compareVersions(version, '1.3') >= 0;\n};\nexport default TileWMS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/TileWMS.js\n// module id = 69\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24","/**\n * @module ngeo.statemanager.Location\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoUtils from 'ngeo/utils.js';\n\n/**\n * Provides a service for interacting with the URL in the\n * browser address bar.\n *\n * WARNING: because of a bug in Angular this service is not compatible with\n * the $location service. This further means that service is not compatible\n * with the $anchorScroll and $route services, and with the ng-include and\n * ng-view directives (which are based on the $anchorScroll and $route\n * services). See <https://github.com/angular/angular.js/issues/1417>.\n *\n * This file also provides an ngeo.statemanager.Location.MockProvider function that you can\n * use to mock Angular's $location provider and make it possible to use both\n * ngeoLocation and ng-include.\n *\n *     app.module.config(ngeo.statemanager.Location.MockProvider);\n *\n * The ngeo Location type.\n *\n * See our live example: [../examples/permalink.html](../examples/permalink.html)\n *\n * @param {Location} location Location.\n * @param {History} history History.\n * @constructor\n * @struct\n * @ngdoc service\n * @ngname ngeoLocation\n */\nconst exports = function(location, history) {\n  /**\n   * @type {History}\n   * @private\n   */\n  this.history_ = history;\n\n  /**\n   * @type {string|undefined}\n   * @private\n   */\n  this.schema_ = location.protocol.substring(0, location.protocol.length - 1);\n\n  /**\n   * @type {string|undefined}\n   * @private\n   */\n  this.domain_ = location.hostname;\n\n  /**\n   * @type {number|undefined}\n   * @private\n   */\n  this.port_ = location.port ? parseInt(location.port, 10) : undefined;\n\n  /**\n   * @type {string|undefined}\n   * @private\n   */\n  this.path_ = location.pathname;\n\n  /**\n   * @type {!Object.<string, string>}\n   * @private\n   */\n  this.queryData_ = ngeoUtils.decodeQueryString(location.search);\n\n  /**\n   * @type {!Object.<string, string>}\n   * @private\n   */\n  this.fragment_ = ngeoUtils.decodeQueryString(location.hash);\n};\n\n\n/**\n * @param {History} history History.\n * @param {string} state State.\n */\nexports.replaceState = function(history, state) {\n  try {\n    history.replaceState(null, '', state);\n  } catch (error) {\n    // replaceState fails on some browser if the domain in the state\n    // is not the same as location.origin\n  }\n};\n\n\n/**\n * Get the location's current path.\n * @return {string|undefined} The path.\n * @export\n */\nexports.prototype.getPath = function() {\n  return this.path_;\n};\n\n\n/**\n * Get the location's URI as a string\n * @return {string} The URI.\n * @export\n */\nexports.prototype.getUriString = function() {\n  const out = [];\n\n  if (this.schema_) {\n    out.push(this.schema_, ':');\n  }\n\n  if (this.domain_ || this.schema_ === 'file') {\n    out.push('//');\n\n    out.push(this.domain_);\n\n    if (this.port_ !== undefined) {\n      out.push(':', String(this.port_));\n    }\n  }\n\n  if (this.path_) {\n    if (this.domain_ && this.path_.charAt(0) !== '/') {\n      out.push('/');\n    }\n    out.push(this.path_);\n  }\n\n  const encodedQueryData = ngeoUtils.encodeQueryString(this.queryData_);\n  if (encodedQueryData.length > 0) {\n    out.push('?', encodedQueryData);\n  }\n\n  const encodedFragment = ngeoUtils.encodeQueryString(this.fragment_);\n  if (encodedFragment.length > 0) {\n    out.push('#', encodedFragment);\n  }\n  return out.join('');\n};\n\n\n/**\n * Check if a param exists in the location's URI.\n * @param {string} key Param key.\n * @return {boolean} True if the param exists.\n * @export\n */\nexports.prototype.hasParam = function(key) {\n  return key in this.queryData_;\n};\n\n\n/**\n * Check if a param exists in the fragment of the location's URI.\n * @param {string} key Param key.\n * @return {boolean} True if the param exists.\n * @export\n */\nexports.prototype.hasFragmentParam = function(key) {\n  return key in this.fragment_;\n};\n\n\n/**\n * Get a param in the location's URI.\n * @param {string} key Param key.\n * @return {string|undefined} Param value.\n * @export\n */\nexports.prototype.getParam = function(key) {\n  return this.queryData_[key];\n};\n\n\n/**\n * Get a param from the fragment of the location's URI.\n * @param {string} key Param key.\n * @return {string|undefined} Param value.\n * @export\n */\nexports.prototype.getFragmentParam = function(key) {\n  return this.fragment_[key];\n};\n\n\n/**\n * Get a param in the location's URI as integer. If the entry does not exist,\n * or if the value can not be parsed as integer, `undefined` is returned.\n * @param {string} key Param key.\n * @return {number|undefined} Param value.\n * @export\n */\nexports.prototype.getParamAsInt = function(key) {\n  const value = this.getParam(key);\n  if (value === undefined) {\n    return undefined;\n  }\n  googAsserts.assertString(value);\n  const valueAsInt = parseInt(value, 10);\n  return (isNaN(valueAsInt)) ? undefined : valueAsInt;\n};\n\n\n/**\n * Get a param in the location's URI as a floating point number.\n * If the entry does not exist, or if the value can not be parsed,\n * `undefined` is returned.\n * @param {string} key Param key.\n * @return {number|undefined} Param value.\n * @export\n */\nexports.prototype.getParamAsFloat = function(key) {\n  const value = this.getParam(key);\n  if (value === undefined) {\n    return undefined;\n  }\n  googAsserts.assertString(value);\n  const valueAsFloat = parseFloat(value);\n  return isNaN(valueAsFloat) ? undefined : valueAsFloat;\n};\n\n\n/**\n * Get a param from the fragment of the location's URI as integer. If the entry\n * does not exist, or if the value can not be parsed as integer, `undefined` is returned.\n * @param {string} key Param key.\n * @return {number|undefined} Param value.\n * @export\n */\nexports.prototype.getFragmentParamAsInt = function(key) {\n  const value = this.getFragmentParam(key);\n  if (value === undefined) {\n    return undefined;\n  }\n  googAsserts.assertString(value);\n  const valueAsInt = parseInt(value, 10);\n  return (isNaN(valueAsInt)) ? undefined : valueAsInt;\n};\n\n\n/**\n * Get an array with all existing param's keys in the location's URI.\n * @return {Array.<string>} Param keys.\n * @export\n */\nexports.prototype.getParamKeys = function() {\n  const keys = [];\n  for (const key in this.queryData_) {\n    keys.push(key);\n  }\n  return keys;\n};\n\n\n/**\n * Get an array with all existing param's keys from the fragment of the location's URI.\n * @return {Array.<string>} Param keys.\n * @export\n */\nexports.prototype.getFragmentParamKeys = function() {\n  const keys = [];\n  for (const key in this.fragment_) {\n    keys.push(key);\n  }\n  return keys;\n};\n\n\n/**\n * Get an array with all existing param's keys in the location's URI that start\n * with the given prefix.\n * @param {string} prefix Key prefix.\n * @return {Array.<string>} Param keys.\n * @export\n */\nexports.prototype.getParamKeysWithPrefix = function(prefix) {\n  const keys = [];\n  for (const key in this.queryData_) {\n    if (key.indexOf(prefix) == 0) {\n      keys.push(key);\n    }\n  }\n  return keys;\n};\n\n\n/**\n * Get an array with all existing param's keys from the fragment of the location's URI\n * that start with the given prefix.\n * @param {string} prefix Key prefix.\n * @return {Array.<string>} Param keys.\n * @export\n */\nexports.prototype.getFragmentParamKeysWithPrefix = function(prefix) {\n  const keys = [];\n  for (const key in this.fragment_) {\n    if (key.indexOf(prefix) == 0) {\n      keys.push(key);\n    }\n  }\n  return keys;\n};\n\n\n/**\n * Set or create a param in the location's URI.\n * @param {!Object.<string, string>} params Parameters.\n * @export\n */\nexports.prototype.updateParams = function(params) {\n  for (const key in params) {\n    this.queryData_[key] = params[key];\n  }\n};\n\n\n/**\n * Set or create a param in the fragment of the location's URI.\n * @param {!Object.<string, string>} params Parameters.\n * @export\n */\nexports.prototype.updateFragmentParams = function(params) {\n  for (const key in params) {\n    this.fragment_[key] = params[key];\n  }\n};\n\n\n/**\n * Delete a param in the location's URI.\n * @param {string} key Param key.\n * @export\n */\nexports.prototype.deleteParam = function(key) {\n  delete this.queryData_[key];\n};\n\n\n/**\n * Delete a param int the fragment of the location's URI.\n * @param {string} key Param key.\n * @export\n */\nexports.prototype.deleteFragmentParam = function(key) {\n  delete this.fragment_[key];\n};\n\n\n/**\n * Refresh the the location's URI.\n * @export\n */\nexports.prototype.refresh = function() {\n  exports.replaceState(this.history_, this.getUriString());\n};\n\n\n/**\n * Set a new path for this location.\n * @param {string} path Path.\n * @export\n */\nexports.prototype.setPath = function(path) {\n  this.path_ = path;\n};\n\n\n/**\n * The factory creating the ngeo Location service.\n *\n * @param {angular.Scope} $rootScope The root scope.\n * @param {angular.$window} $window Angular window service.\n * @return {ngeo.statemanager.Location} The ngeo location service.\n * @ngInject\n */\nexports.LocationFactory = function($rootScope, $window) {\n  const history = $window.history;\n  const service = new exports($window.location, $window.history);\n\n  let lastUri = service.getUriString();\n  $rootScope.$watch(() => {\n    const newUri = service.getUriString();\n    if (lastUri !== newUri) {\n      $rootScope.$evalAsync(() => {\n        lastUri = newUri;\n        if (history !== undefined && history.replaceState !== undefined) {\n          exports.replaceState(history, newUri);\n        }\n        $rootScope.$broadcast('ngeoLocationChange');\n      });\n    }\n  });\n\n  return service;\n};\n\n/**\n * A function that changes Angular's $location provider to avoid problem\n * when both ngeoLocation and $location are used in an application. This\n * is how you can use that function in an application:\n *\n * app.module.config(ngeo.statemanager.Location.MockProvider);\n *\n * @param {angular.$locationProvider} $locationProvider Angular location\n *     provider.\n * @ngInject\n */\nexports.MockProvider = function($locationProvider) {\n  /**\n   * @return {angular.$location} Mock object for Angular location service.\n   */\n  $locationProvider['$get'] = function() {\n    const locationMock = /** @type {angular.$location} */ ({\n      /**\n       * @return {string} Absolute URL.\n       */\n      absUrl() {\n        return '';\n      },\n      /**\n       * @param {string=} opt_path Path.\n       * @return {string} Hash.\n       */\n      hash(opt_path) {\n        return opt_path !== undefined ? this : '';\n      },\n      /**\n       * @return {string} Host.\n       */\n      host() {\n        return '';\n      },\n      /**\n       * @param {string=} opt_path Path.\n       * @return {string} Path.\n       */\n      path(opt_path) {\n        return opt_path !== undefined ? this : '';\n      },\n      /**\n       * @return {number} Port.\n       */\n      port() {\n        return 0;\n      },\n      /**\n       * @return {string} Protocol.\n       */\n      protocol() {\n        return '';\n      },\n      replace() {\n      },\n      /**\n       * @param {string=} opt_search Search.\n       * @param {Object=} opt_paramValue Parameters.\n       * @return {Object} Search.\n       */\n      search(opt_search, opt_paramValue) {\n        return opt_search !== undefined ? this : {};\n      },\n      /**\n       * @param {string=} opt_url URL.\n       * @return {string} URL.\n       */\n      url(opt_url) {\n        return '';\n      }\n    });\n    return locationMock;\n  };\n};\n\n\n/**\n * @type {!angular.Module}\n * FIXME add utils dependencies.\n * FIXME What about Mockup provider ?\n */\nexports.module = angular.module('ngeoLocation', []);\nexports.module.factory('ngeoLocation', exports.LocationFactory);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/statemanager/Location.js","export default function hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/has-own-prop.js\n// module id = 72\n// module chunks = 0 1 2 3 4 5","function defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nexport default function getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/parsing-flags.js\n// module id = 73\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.datasource.DataSource\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * @implements {ngeox.datasource.DataSource}\n */\nconst exports = class {\n\n  /**\n   * A `ngeo.datasource.DataSource` represents a single source of data, which\n   * can combine different type of servers to display or fetch the data. It can\n   * serve as a point of entry to get all the information about a single data\n   * source.\n   *\n   * You can use the information in a data source to do all sorts of things:\n   *  - create `ol.layer.Layer` objects using the WMS, WMTS or even WFS\n   *    information\n   *  - issue WMS/WFS queries\n   *  - know whether the data is visible or not\n   *  - apply filter rules on it\n   *\n   * @struct\n   * @param {ngeox.datasource.DataSourceOptions} options Options.\n   */\n  constructor(options) {\n\n    // === DYNAMIC properties (i.e. that can change / be watched ===\n\n    /**\n     * A data source is considered 'in range' when it is synchronized to\n     * a map view and the resolution of that view is within the range of\n     * the `maxResolution` and `minResolution`. These 2 properties are\n     * required for the `inRange` property to be dynamic, otherwise its\n     * value is always `true` by default.\n     *\n     * The synchronization is made in the `ngeo.datasource.DataSources`\n     * service.\n     *\n     * @type {boolean}\n     * @private\n     */\n    this.inRange_ = options.inRange !== false;\n\n    /**\n     * Whether the data source is visible or not, i.e. whether its is ON or OFF.\n     * Defaults to `false`.\n     * @type {boolean}\n     * @private\n     */\n    this.visible_ = options.visible === true;\n\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * The attributes of the data source.\n     *\n     * Note: `attributes` is not using the conventionnal getter/setter due\n     * to:  See: https://github.com/google/closure-compiler/issues/1089\n     *\n     * @type {?Array.<ngeox.Attribute>}\n     * @export\n     */\n    this.attributes = options.attributes || null;\n\n    /**\n     * (Required) The data source id.\n     * @type {number}\n     * @private\n     */\n    this.id_ = options.id;\n\n    /**\n     * The name of an attribute among the attributes of the data source.\n     * The value of that attribute, in records, can be used to identify\n     * each record individually.\n     * @type {string|undefined}\n     * @private\n     */\n    this.identifierAttribute_ = options.identifierAttribute;\n\n    /**\n     * Maximum resolution where the data source can be displayed or queried.\n     * @type {number|undefined}\n     * @private\n     */\n    this.maxResolution_ = options.maxResolution;\n\n    /**\n     * Minimum resolution where the data source can be displayed or queried.\n     * @type {number|undefined}\n     * @private\n     */\n    this.minResolution_ = options.minResolution;\n\n    /**\n     * (Required) A human-readable name for the data source.\n     * @type {string}\n     * @private\n     */\n    this.name_ = options.name;\n  }\n\n  // ========================================\n  // === Dynamic property getters/setters ===\n  // ========================================\n\n  /**\n   * @return {boolean} In range\n   * @export\n   */\n  get inRange() {\n    return this.inRange_;\n  }\n\n  /**\n   * @param {boolean} inRange In range\n   * @export\n   */\n  set inRange(inRange) {\n    this.inRange_ = inRange;\n  }\n\n  /**\n   * @return {boolean} Visible\n   * @export\n   */\n  get visible() {\n    return this.visible_;\n  }\n\n  /**\n   * @param {boolean} visible Visible\n   * @export\n   */\n  set visible(visible) {\n    this.visible_ = visible;\n  }\n\n  // =======================================\n  // === Static property getters/setters ===\n  // =======================================\n\n  /**\n   * @return {?Array.<ngeox.Attribute>} Attributes\n   * @export\n   */\n  getAttributes() {\n    return this.attributes;\n  }\n\n  /**\n   * @param {?Array.<ngeox.Attribute>} attributes Attributes\n   * @export\n   */\n  setAttributes(attributes) {\n    this.attributes = attributes;\n  }\n\n  /**\n   * @return {number} Id\n   * @export\n   */\n  get id() {\n    return this.id_;\n  }\n\n  /**\n   * @return {string|undefined} Identifier attribute\n   * @export\n   */\n  get identifierAttribute() {\n    return this.identifierAttribute_;\n  }\n\n  /**\n   * @return {number|undefined} Maximum resolution\n   * @export\n   */\n  get maxResolution() {\n    return this.maxResolution_;\n  }\n\n  /**\n   * @return {number|undefined} Minimum resolution\n   * @export\n   */\n  get minResolution() {\n    return this.minResolution_;\n  }\n\n  /**\n   * @return {string} Name\n   * @export\n   */\n  get name() {\n    return this.name_;\n  }\n\n\n  // ===================================\n  // === Calculated property getters ===\n  // ===================================\n\n  /**\n   * Whether the data source is queryable or not.\n   * @return {boolean} Whether the data source is queryable or not.\n   * @export\n   */\n  get queryable() {\n    return false;\n  }\n\n  /**\n   * @return {boolean} Whether the data source supports a dynamic `inRange`\n   *     property or not, i.e. whether it can be calculated.\n   * @export\n   */\n  get supportsDynamicInRange() {\n    return this.maxResolution !== null || this.minResolution !== null;\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/DataSource.js","/**\n * @module ol/style/Text\n */\nimport Fill from '../style/Fill.js';\nimport TextPlacement from '../style/TextPlacement.js';\n\n/**\n * @classdesc\n * Set text style for vector features.\n *\n * @constructor\n * @param {olx.style.TextOptions=} opt_options Options.\n * @api\n */\nconst Text = function(opt_options) {\n\n  const options = opt_options || {};\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.font_ = options.font;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.rotation_ = options.rotation;\n\n  /**\n   * @private\n   * @type {boolean|undefined}\n   */\n  this.rotateWithView_ = options.rotateWithView;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.scale_ = options.scale;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.text_ = options.text;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.textAlign_ = options.textAlign;\n\n  /**\n   * @private\n   * @type {string|undefined}\n   */\n  this.textBaseline_ = options.textBaseline;\n\n  /**\n   * @private\n   * @type {ol.style.Fill}\n   */\n  this.fill_ = options.fill !== undefined ? options.fill :\n    new Fill({color: Text.DEFAULT_FILL_COLOR_});\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.maxAngle_ = options.maxAngle !== undefined ? options.maxAngle : Math.PI / 4;\n\n  /**\n   * @private\n   * @type {ol.style.TextPlacement|string}\n   */\n  this.placement_ = options.placement !== undefined ? options.placement : TextPlacement.POINT;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.overflow_ = !!options.overflow;\n\n  /**\n   * @private\n   * @type {ol.style.Stroke}\n   */\n  this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.offsetX_ = options.offsetX !== undefined ? options.offsetX : 0;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.offsetY_ = options.offsetY !== undefined ? options.offsetY : 0;\n\n  /**\n   * @private\n   * @type {ol.style.Fill}\n   */\n  this.backgroundFill_ = options.backgroundFill ? options.backgroundFill : null;\n\n  /**\n   * @private\n   * @type {ol.style.Stroke}\n   */\n  this.backgroundStroke_ = options.backgroundStroke ? options.backgroundStroke : null;\n\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n  this.padding_ = options.padding === undefined ? null : options.padding;\n};\n\n\n/**\n * The default fill color to use if no fill was set at construction time; a\n * blackish `#333`.\n *\n * @const {string}\n * @private\n */\nText.DEFAULT_FILL_COLOR_ = '#333';\n\n\n/**\n * Clones the style.\n * @return {ol.style.Text} The cloned style.\n * @api\n */\nText.prototype.clone = function() {\n  return new Text({\n    font: this.getFont(),\n    placement: this.getPlacement(),\n    maxAngle: this.getMaxAngle(),\n    overflow: this.getOverflow(),\n    rotation: this.getRotation(),\n    rotateWithView: this.getRotateWithView(),\n    scale: this.getScale(),\n    text: this.getText(),\n    textAlign: this.getTextAlign(),\n    textBaseline: this.getTextBaseline(),\n    fill: this.getFill() ? this.getFill().clone() : undefined,\n    stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n    offsetX: this.getOffsetX(),\n    offsetY: this.getOffsetY(),\n    backgroundFill: this.getBackgroundFill() ? this.getBackgroundFill().clone() : undefined,\n    backgroundStroke: this.getBackgroundStroke() ? this.getBackgroundStroke().clone() : undefined\n  });\n};\n\n\n/**\n * Get the `overflow` configuration.\n * @return {boolean} Let text overflow the length of the path they follow.\n * @api\n */\nText.prototype.getOverflow = function() {\n  return this.overflow_;\n};\n\n\n/**\n * Get the font name.\n * @return {string|undefined} Font.\n * @api\n */\nText.prototype.getFont = function() {\n  return this.font_;\n};\n\n\n/**\n * Get the maximum angle between adjacent characters.\n * @return {number} Angle in radians.\n * @api\n */\nText.prototype.getMaxAngle = function() {\n  return this.maxAngle_;\n};\n\n\n/**\n * Get the label placement.\n * @return {ol.style.TextPlacement|string} Text placement.\n * @api\n */\nText.prototype.getPlacement = function() {\n  return this.placement_;\n};\n\n\n/**\n * Get the x-offset for the text.\n * @return {number} Horizontal text offset.\n * @api\n */\nText.prototype.getOffsetX = function() {\n  return this.offsetX_;\n};\n\n\n/**\n * Get the y-offset for the text.\n * @return {number} Vertical text offset.\n * @api\n */\nText.prototype.getOffsetY = function() {\n  return this.offsetY_;\n};\n\n\n/**\n * Get the fill style for the text.\n * @return {ol.style.Fill} Fill style.\n * @api\n */\nText.prototype.getFill = function() {\n  return this.fill_;\n};\n\n\n/**\n * Determine whether the text rotates with the map.\n * @return {boolean|undefined} Rotate with map.\n * @api\n */\nText.prototype.getRotateWithView = function() {\n  return this.rotateWithView_;\n};\n\n\n/**\n * Get the text rotation.\n * @return {number|undefined} Rotation.\n * @api\n */\nText.prototype.getRotation = function() {\n  return this.rotation_;\n};\n\n\n/**\n * Get the text scale.\n * @return {number|undefined} Scale.\n * @api\n */\nText.prototype.getScale = function() {\n  return this.scale_;\n};\n\n\n/**\n * Get the stroke style for the text.\n * @return {ol.style.Stroke} Stroke style.\n * @api\n */\nText.prototype.getStroke = function() {\n  return this.stroke_;\n};\n\n\n/**\n * Get the text to be rendered.\n * @return {string|undefined} Text.\n * @api\n */\nText.prototype.getText = function() {\n  return this.text_;\n};\n\n\n/**\n * Get the text alignment.\n * @return {string|undefined} Text align.\n * @api\n */\nText.prototype.getTextAlign = function() {\n  return this.textAlign_;\n};\n\n\n/**\n * Get the text baseline.\n * @return {string|undefined} Text baseline.\n * @api\n */\nText.prototype.getTextBaseline = function() {\n  return this.textBaseline_;\n};\n\n\n/**\n * Get the background fill style for the text.\n * @return {ol.style.Fill} Fill style.\n * @api\n */\nText.prototype.getBackgroundFill = function() {\n  return this.backgroundFill_;\n};\n\n\n/**\n * Get the background stroke style for the text.\n * @return {ol.style.Stroke} Stroke style.\n * @api\n */\nText.prototype.getBackgroundStroke = function() {\n  return this.backgroundStroke_;\n};\n\n\n/**\n * Get the padding for the text.\n * @return {Array.<number>} Padding.\n * @api\n */\nText.prototype.getPadding = function() {\n  return this.padding_;\n};\n\n\n/**\n * Set the `overflow` property.\n *\n * @param {boolean} overflow Let text overflow the path that it follows.\n * @api\n */\nText.prototype.setOverflow = function(overflow) {\n  this.overflow_ = overflow;\n};\n\n\n/**\n * Set the font.\n *\n * @param {string|undefined} font Font.\n * @api\n */\nText.prototype.setFont = function(font) {\n  this.font_ = font;\n};\n\n\n/**\n * Set the maximum angle between adjacent characters.\n *\n * @param {number} maxAngle Angle in radians.\n * @api\n */\nText.prototype.setMaxAngle = function(maxAngle) {\n  this.maxAngle_ = maxAngle;\n};\n\n\n/**\n * Set the x offset.\n *\n * @param {number} offsetX Horizontal text offset.\n * @api\n */\nText.prototype.setOffsetX = function(offsetX) {\n  this.offsetX_ = offsetX;\n};\n\n\n/**\n * Set the y offset.\n *\n * @param {number} offsetY Vertical text offset.\n * @api\n */\nText.prototype.setOffsetY = function(offsetY) {\n  this.offsetY_ = offsetY;\n};\n\n\n/**\n * Set the text placement.\n *\n * @param {ol.style.TextPlacement|string} placement Placement.\n * @api\n */\nText.prototype.setPlacement = function(placement) {\n  this.placement_ = placement;\n};\n\n\n/**\n * Set the fill.\n *\n * @param {ol.style.Fill} fill Fill style.\n * @api\n */\nText.prototype.setFill = function(fill) {\n  this.fill_ = fill;\n};\n\n\n/**\n * Set the rotation.\n *\n * @param {number|undefined} rotation Rotation.\n * @api\n */\nText.prototype.setRotation = function(rotation) {\n  this.rotation_ = rotation;\n};\n\n\n/**\n * Set the scale.\n *\n * @param {number|undefined} scale Scale.\n * @api\n */\nText.prototype.setScale = function(scale) {\n  this.scale_ = scale;\n};\n\n\n/**\n * Set the stroke.\n *\n * @param {ol.style.Stroke} stroke Stroke style.\n * @api\n */\nText.prototype.setStroke = function(stroke) {\n  this.stroke_ = stroke;\n};\n\n\n/**\n * Set the text.\n *\n * @param {string|undefined} text Text.\n * @api\n */\nText.prototype.setText = function(text) {\n  this.text_ = text;\n};\n\n\n/**\n * Set the text alignment.\n *\n * @param {string|undefined} textAlign Text align.\n * @api\n */\nText.prototype.setTextAlign = function(textAlign) {\n  this.textAlign_ = textAlign;\n};\n\n\n/**\n * Set the text baseline.\n *\n * @param {string|undefined} textBaseline Text baseline.\n * @api\n */\nText.prototype.setTextBaseline = function(textBaseline) {\n  this.textBaseline_ = textBaseline;\n};\n\n\n/**\n * Set the background fill.\n *\n * @param {ol.style.Fill} fill Fill style.\n * @api\n */\nText.prototype.setBackgroundFill = function(fill) {\n  this.backgroundFill_ = fill;\n};\n\n\n/**\n * Set the background stroke.\n *\n * @param {ol.style.Stroke} stroke Stroke style.\n * @api\n */\nText.prototype.setBackgroundStroke = function(stroke) {\n  this.backgroundStroke_ = stroke;\n};\n\n\n/**\n * Set the padding (`[top, right, bottom, left]`).\n *\n * @param {!Array.<number>} padding Padding.\n * @api\n */\nText.prototype.setPadding = function(padding) {\n  this.padding_ = padding;\n};\nexport default Text;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/style/Text.js\n// module id = 75\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21","/**\n * @module ol/format/GML3\n */\nimport {inherits} from '../index.js';\nimport {extend} from '../array.js';\nimport {createOrUpdate} from '../extent.js';\nimport {transformWithOptions} from '../format/Feature.js';\nimport GMLBase from '../format/GMLBase.js';\nimport XSD from '../format/XSD.js';\nimport Geometry from '../geom/Geometry.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Polygon from '../geom/Polygon.js';\nimport {assign} from '../obj.js';\nimport {get as getProjection, transformExtent} from '../proj.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the GML format\n * version 3.1.1.\n * Currently only supports GML 3.1.1 Simple Features profile.\n *\n * @constructor\n * @param {olx.format.GMLOptions=} opt_options\n *     Optional configuration object.\n * @extends {ol.format.GMLBase}\n * @api\n */\nconst GML3 = function(opt_options) {\n  const options = /** @type {olx.format.GMLOptions} */\n      (opt_options ? opt_options : {});\n\n  GMLBase.call(this, options);\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.surface_ = options.surface !== undefined ? options.surface : false;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.curve_ = options.curve !== undefined ? options.curve : false;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.multiCurve_ = options.multiCurve !== undefined ?\n    options.multiCurve : true;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.multiSurface_ = options.multiSurface !== undefined ?\n    options.multiSurface : true;\n\n  /**\n   * @inheritDoc\n   */\n  this.schemaLocation = options.schemaLocation ?\n    options.schemaLocation : GML3.schemaLocation_;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.hasZ = options.hasZ !== undefined ?\n    options.hasZ : false;\n\n};\n\ninherits(GML3, GMLBase);\n\n\n/**\n * @const\n * @type {string}\n * @private\n */\nGML3.schemaLocation_ = GMLBase.GMLNS +\n    ' http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/' +\n    '1.0.0/gmlsf.xsd';\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.MultiLineString|undefined} MultiLineString.\n */\nGML3.prototype.readMultiCurve_ = function(node, objectStack) {\n  /** @type {Array.<ol.geom.LineString>} */\n  const lineStrings = _ol_xml_.pushParseAndPop([],\n    this.MULTICURVE_PARSERS_, node, objectStack, this);\n  if (lineStrings) {\n    const multiLineString = new MultiLineString(null);\n    multiLineString.setLineStrings(lineStrings);\n    return multiLineString;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.MultiPolygon|undefined} MultiPolygon.\n */\nGML3.prototype.readMultiSurface_ = function(node, objectStack) {\n  /** @type {Array.<ol.geom.Polygon>} */\n  const polygons = _ol_xml_.pushParseAndPop([],\n    this.MULTISURFACE_PARSERS_, node, objectStack, this);\n  if (polygons) {\n    const multiPolygon = new MultiPolygon(null);\n    multiPolygon.setPolygons(polygons);\n    return multiPolygon;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGML3.prototype.curveMemberParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(this.CURVEMEMBER_PARSERS_, node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGML3.prototype.surfaceMemberParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(this.SURFACEMEMBER_PARSERS_,\n    node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<(Array.<number>)>|undefined} flat coordinates.\n */\nGML3.prototype.readPatch_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop([null],\n    this.PATCHES_PARSERS_, node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>|undefined} flat coordinates.\n */\nGML3.prototype.readSegment_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop([null],\n    this.SEGMENTS_PARSERS_, node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<(Array.<number>)>|undefined} flat coordinates.\n */\nGML3.prototype.readPolygonPatch_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop([null],\n    this.FLAT_LINEAR_RINGS_PARSERS_, node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>|undefined} flat coordinates.\n */\nGML3.prototype.readLineStringSegment_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop([null],\n    this.GEOMETRY_FLAT_COORDINATES_PARSERS_,\n    node, objectStack, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGML3.prototype.interiorParser_ = function(node, objectStack) {\n  /** @type {Array.<number>|undefined} */\n  const flatLinearRing = _ol_xml_.pushParseAndPop(undefined,\n    this.RING_PARSERS, node, objectStack, this);\n  if (flatLinearRing) {\n    const flatLinearRings = /** @type {Array.<Array.<number>>} */\n        (objectStack[objectStack.length - 1]);\n    flatLinearRings.push(flatLinearRing);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nGML3.prototype.exteriorParser_ = function(node, objectStack) {\n  /** @type {Array.<number>|undefined} */\n  const flatLinearRing = _ol_xml_.pushParseAndPop(undefined,\n    this.RING_PARSERS, node, objectStack, this);\n  if (flatLinearRing) {\n    const flatLinearRings = /** @type {Array.<Array.<number>>} */\n        (objectStack[objectStack.length - 1]);\n    flatLinearRings[0] = flatLinearRing;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.Polygon|undefined} Polygon.\n */\nGML3.prototype.readSurface_ = function(node, objectStack) {\n  /** @type {Array.<Array.<number>>} */\n  const flatLinearRings = _ol_xml_.pushParseAndPop([null],\n    this.SURFACE_PARSERS_, node, objectStack, this);\n  if (flatLinearRings && flatLinearRings[0]) {\n    const polygon = new Polygon(null);\n    const flatCoordinates = flatLinearRings[0];\n    const ends = [flatCoordinates.length];\n    let i, ii;\n    for (i = 1, ii = flatLinearRings.length; i < ii; ++i) {\n      extend(flatCoordinates, flatLinearRings[i]);\n      ends.push(flatCoordinates.length);\n    }\n    polygon.setFlatCoordinates(\n      GeometryLayout.XYZ, flatCoordinates, ends);\n    return polygon;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.LineString|undefined} LineString.\n */\nGML3.prototype.readCurve_ = function(node, objectStack) {\n  /** @type {Array.<number>} */\n  const flatCoordinates = _ol_xml_.pushParseAndPop([null],\n    this.CURVE_PARSERS_, node, objectStack, this);\n  if (flatCoordinates) {\n    const lineString = new LineString(null);\n    lineString.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates);\n    return lineString;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.Extent|undefined} Envelope.\n */\nGML3.prototype.readEnvelope_ = function(node, objectStack) {\n  /** @type {Array.<number>} */\n  const flatCoordinates = _ol_xml_.pushParseAndPop([null],\n    this.ENVELOPE_PARSERS_, node, objectStack, this);\n  return createOrUpdate(flatCoordinates[1][0],\n    flatCoordinates[1][1], flatCoordinates[2][0],\n    flatCoordinates[2][1]);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>|undefined} Flat coordinates.\n */\nGML3.prototype.readFlatPos_ = function(node, objectStack) {\n  let s = _ol_xml_.getAllTextContent(node, false);\n  const re = /^\\s*([+\\-]?\\d*\\.?\\d+(?:[eE][+\\-]?\\d+)?)\\s*/;\n  /** @type {Array.<number>} */\n  const flatCoordinates = [];\n  let m;\n  while ((m = re.exec(s))) {\n    flatCoordinates.push(parseFloat(m[1]));\n    s = s.substr(m[0].length);\n  }\n  if (s !== '') {\n    return undefined;\n  }\n  const context = objectStack[0];\n  const containerSrs = context['srsName'];\n  let axisOrientation = 'enu';\n  if (containerSrs) {\n    const proj = getProjection(containerSrs);\n    axisOrientation = proj.getAxisOrientation();\n  }\n  if (axisOrientation === 'neu') {\n    let i, ii;\n    for (i = 0, ii = flatCoordinates.length; i < ii; i += 3) {\n      const y = flatCoordinates[i];\n      const x = flatCoordinates[i + 1];\n      flatCoordinates[i] = x;\n      flatCoordinates[i + 1] = y;\n    }\n  }\n  const len = flatCoordinates.length;\n  if (len == 2) {\n    flatCoordinates.push(0);\n  }\n  if (len === 0) {\n    return undefined;\n  }\n  return flatCoordinates;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>|undefined} Flat coordinates.\n */\nGML3.prototype.readFlatPosList_ = function(node, objectStack) {\n  const s = _ol_xml_.getAllTextContent(node, false).replace(/^\\s*|\\s*$/g, '');\n  const context = objectStack[0];\n  const containerSrs = context['srsName'];\n  const contextDimension = context['srsDimension'];\n  let axisOrientation = 'enu';\n  if (containerSrs) {\n    const proj = getProjection(containerSrs);\n    axisOrientation = proj.getAxisOrientation();\n  }\n  const coords = s.split(/\\s+/);\n  // The \"dimension\" attribute is from the GML 3.0.1 spec.\n  let dim = 2;\n  if (node.getAttribute('srsDimension')) {\n    dim = XSD.readNonNegativeIntegerString(\n      node.getAttribute('srsDimension'));\n  } else if (node.getAttribute('dimension')) {\n    dim = XSD.readNonNegativeIntegerString(\n      node.getAttribute('dimension'));\n  } else if (node.parentNode.getAttribute('srsDimension')) {\n    dim = XSD.readNonNegativeIntegerString(\n      node.parentNode.getAttribute('srsDimension'));\n  } else if (contextDimension) {\n    dim = XSD.readNonNegativeIntegerString(contextDimension);\n  }\n  let x, y, z;\n  const flatCoordinates = [];\n  for (let i = 0, ii = coords.length; i < ii; i += dim) {\n    x = parseFloat(coords[i]);\n    y = parseFloat(coords[i + 1]);\n    z = (dim === 3) ? parseFloat(coords[i + 2]) : 0;\n    if (axisOrientation.substr(0, 2) === 'en') {\n      flatCoordinates.push(x, y, z);\n    } else {\n      flatCoordinates.push(y, x, z);\n    }\n  }\n  return flatCoordinates;\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'pos': _ol_xml_.makeReplacer(GML3.prototype.readFlatPos_),\n    'posList': _ol_xml_.makeReplacer(GML3.prototype.readFlatPosList_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.FLAT_LINEAR_RINGS_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'interior': GML3.prototype.interiorParser_,\n    'exterior': GML3.prototype.exteriorParser_\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.GEOMETRY_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'Point': _ol_xml_.makeReplacer(GMLBase.prototype.readPoint),\n    'MultiPoint': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readMultiPoint),\n    'LineString': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readLineString),\n    'MultiLineString': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readMultiLineString),\n    'LinearRing': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readLinearRing),\n    'Polygon': _ol_xml_.makeReplacer(GMLBase.prototype.readPolygon),\n    'MultiPolygon': _ol_xml_.makeReplacer(\n      GMLBase.prototype.readMultiPolygon),\n    'Surface': _ol_xml_.makeReplacer(GML3.prototype.readSurface_),\n    'MultiSurface': _ol_xml_.makeReplacer(\n      GML3.prototype.readMultiSurface_),\n    'Curve': _ol_xml_.makeReplacer(GML3.prototype.readCurve_),\n    'MultiCurve': _ol_xml_.makeReplacer(\n      GML3.prototype.readMultiCurve_),\n    'Envelope': _ol_xml_.makeReplacer(GML3.prototype.readEnvelope_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.MULTICURVE_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'curveMember': _ol_xml_.makeArrayPusher(\n      GML3.prototype.curveMemberParser_),\n    'curveMembers': _ol_xml_.makeArrayPusher(\n      GML3.prototype.curveMemberParser_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.MULTISURFACE_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'surfaceMember': _ol_xml_.makeArrayPusher(\n      GML3.prototype.surfaceMemberParser_),\n    'surfaceMembers': _ol_xml_.makeArrayPusher(\n      GML3.prototype.surfaceMemberParser_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.CURVEMEMBER_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'LineString': _ol_xml_.makeArrayPusher(\n      GMLBase.prototype.readLineString),\n    'Curve': _ol_xml_.makeArrayPusher(GML3.prototype.readCurve_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.SURFACEMEMBER_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'Polygon': _ol_xml_.makeArrayPusher(GMLBase.prototype.readPolygon),\n    'Surface': _ol_xml_.makeArrayPusher(GML3.prototype.readSurface_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.SURFACE_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'patches': _ol_xml_.makeReplacer(GML3.prototype.readPatch_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.CURVE_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'segments': _ol_xml_.makeReplacer(GML3.prototype.readSegment_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.ENVELOPE_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'lowerCorner': _ol_xml_.makeArrayPusher(\n      GML3.prototype.readFlatPosList_),\n    'upperCorner': _ol_xml_.makeArrayPusher(\n      GML3.prototype.readFlatPosList_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.PATCHES_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'PolygonPatch': _ol_xml_.makeReplacer(\n      GML3.prototype.readPolygonPatch_)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nGML3.prototype.SEGMENTS_PARSERS_ = {\n  'http://www.opengis.net/gml': {\n    'LineStringSegment': _ol_xml_.makeReplacer(\n      GML3.prototype.readLineStringSegment_)\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Point} value Point geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writePos_ = function(node, value, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsDimension = hasZ ? 3 : 2;\n  node.setAttribute('srsDimension', srsDimension);\n  const srsName = context['srsName'];\n  let axisOrientation = 'enu';\n  if (srsName) {\n    axisOrientation = getProjection(srsName).getAxisOrientation();\n  }\n  const point = value.getCoordinates();\n  let coords;\n  // only 2d for simple features profile\n  if (axisOrientation.substr(0, 2) === 'en') {\n    coords = (point[0] + ' ' + point[1]);\n  } else {\n    coords = (point[1] + ' ' + point[0]);\n  }\n  if (hasZ) {\n    // For newly created points, Z can be undefined.\n    const z = point[2] || 0;\n    coords += ' ' + z;\n  }\n  XSD.writeStringTextNode(node, coords);\n};\n\n\n/**\n * @param {Array.<number>} point Point geometry.\n * @param {string=} opt_srsName Optional srsName\n * @param {boolean=} opt_hasZ whether the geometry has a Z coordinate (is 3D) or not.\n * @return {string} The coords string.\n * @private\n */\nGML3.prototype.getCoords_ = function(point, opt_srsName, opt_hasZ) {\n  let axisOrientation = 'enu';\n  if (opt_srsName) {\n    axisOrientation = getProjection(opt_srsName).getAxisOrientation();\n  }\n  let coords = ((axisOrientation.substr(0, 2) === 'en') ?\n    point[0] + ' ' + point[1] :\n    point[1] + ' ' + point[0]);\n  if (opt_hasZ) {\n    // For newly created points, Z can be undefined.\n    const z = point[2] || 0;\n    coords += ' ' + z;\n  }\n\n  return coords;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString|ol.geom.LinearRing} value Geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writePosList_ = function(node, value, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsDimension = hasZ ? 3 : 2;\n  node.setAttribute('srsDimension', srsDimension);\n  const srsName = context['srsName'];\n  // only 2d for simple features profile\n  const points = value.getCoordinates();\n  const len = points.length;\n  const parts = new Array(len);\n  let point;\n  for (let i = 0; i < len; ++i) {\n    point = points[i];\n    parts[i] = this.getCoords_(point, srsName, hasZ);\n  }\n  XSD.writeStringTextNode(node, parts.join(' '));\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Point} geometry Point geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writePoint_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const pos = _ol_xml_.createElementNS(node.namespaceURI, 'pos');\n  node.appendChild(pos);\n  this.writePos_(pos, geometry, objectStack);\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML3.ENVELOPE_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'lowerCorner': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'upperCorner': _ol_xml_.makeChildAppender(XSD.writeStringTextNode)\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Extent} extent Extent.\n * @param {Array.<*>} objectStack Node stack.\n */\nGML3.prototype.writeEnvelope = function(node, extent, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const keys = ['lowerCorner', 'upperCorner'];\n  const values = [extent[0] + ' ' + extent[1], extent[2] + ' ' + extent[3]];\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    ({node: node}), GML3.ENVELOPE_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    values,\n    objectStack, keys, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LinearRing} geometry LinearRing geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeLinearRing_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const posList = _ol_xml_.createElementNS(node.namespaceURI, 'posList');\n  node.appendChild(posList);\n  this.writePosList_(posList, geometry, objectStack);\n};\n\n\n/**\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node} Node.\n * @private\n */\nGML3.prototype.RING_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  const context = objectStack[objectStack.length - 1];\n  const parentNode = context.node;\n  const exteriorWritten = context['exteriorWritten'];\n  if (exteriorWritten === undefined) {\n    context['exteriorWritten'] = true;\n  }\n  return _ol_xml_.createElementNS(parentNode.namespaceURI,\n    exteriorWritten !== undefined ? 'interior' : 'exterior');\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} geometry Polygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeSurfaceOrPolygon_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  if (node.nodeName !== 'PolygonPatch' && srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  if (node.nodeName === 'Polygon' || node.nodeName === 'PolygonPatch') {\n    const rings = geometry.getLinearRings();\n    _ol_xml_.pushSerializeAndPop(\n      {node: node, hasZ: hasZ, srsName: srsName},\n      GML3.RING_SERIALIZERS_,\n      this.RING_NODE_FACTORY_,\n      rings, objectStack, undefined, this);\n  } else if (node.nodeName === 'Surface') {\n    const patches = _ol_xml_.createElementNS(node.namespaceURI, 'patches');\n    node.appendChild(patches);\n    this.writeSurfacePatches_(\n      patches, geometry, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} geometry LineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeCurveOrLineString_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  if (node.nodeName !== 'LineStringSegment' && srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  if (node.nodeName === 'LineString' ||\n      node.nodeName === 'LineStringSegment') {\n    const posList = _ol_xml_.createElementNS(node.namespaceURI, 'posList');\n    node.appendChild(posList);\n    this.writePosList_(posList, geometry, objectStack);\n  } else if (node.nodeName === 'Curve') {\n    const segments = _ol_xml_.createElementNS(node.namespaceURI, 'segments');\n    node.appendChild(segments);\n    this.writeCurveSegments_(segments,\n      geometry, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.MultiPolygon} geometry MultiPolygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeMultiSurfaceOrPolygon_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  const surface = context['surface'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const polygons = geometry.getPolygons();\n  _ol_xml_.pushSerializeAndPop({node: node, hasZ: hasZ, srsName: srsName, surface: surface},\n    GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,\n    this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, polygons,\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.MultiPoint} geometry MultiPoint geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeMultiPoint_ = function(node, geometry,\n  objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const srsName = context['srsName'];\n  const hasZ = context['hasZ'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const points = geometry.getPoints();\n  _ol_xml_.pushSerializeAndPop({node: node, hasZ: hasZ, srsName: srsName},\n    GML3.POINTMEMBER_SERIALIZERS_,\n    _ol_xml_.makeSimpleNodeFactory('pointMember'), points,\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.MultiLineString} geometry MultiLineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeMultiCurveOrLineString_ = function(node, geometry, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const hasZ = context['hasZ'];\n  const srsName = context['srsName'];\n  const curve = context['curve'];\n  if (srsName) {\n    node.setAttribute('srsName', srsName);\n  }\n  const lines = geometry.getLineStrings();\n  _ol_xml_.pushSerializeAndPop({node: node, hasZ: hasZ, srsName: srsName, curve: curve},\n    GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,\n    this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, lines,\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LinearRing} ring LinearRing geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeRing_ = function(node, ring, objectStack) {\n  const linearRing = _ol_xml_.createElementNS(node.namespaceURI, 'LinearRing');\n  node.appendChild(linearRing);\n  this.writeLinearRing_(linearRing, ring, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} polygon Polygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeSurfaceOrPolygonMember_ = function(node, polygon, objectStack) {\n  const child = this.GEOMETRY_NODE_FACTORY_(\n    polygon, objectStack);\n  if (child) {\n    node.appendChild(child);\n    this.writeSurfaceOrPolygon_(child, polygon, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Point} point Point geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writePointMember_ = function(node, point, objectStack) {\n  const child = _ol_xml_.createElementNS(node.namespaceURI, 'Point');\n  node.appendChild(child);\n  this.writePoint_(child, point, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} line LineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeLineStringOrCurveMember_ = function(node, line, objectStack) {\n  const child = this.GEOMETRY_NODE_FACTORY_(line, objectStack);\n  if (child) {\n    node.appendChild(child);\n    this.writeCurveOrLineString_(child, line, objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} polygon Polygon geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeSurfacePatches_ = function(node, polygon, objectStack) {\n  const child = _ol_xml_.createElementNS(node.namespaceURI, 'PolygonPatch');\n  node.appendChild(child);\n  this.writeSurfaceOrPolygon_(child, polygon, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} line LineString geometry.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeCurveSegments_ = function(node, line, objectStack) {\n  const child = _ol_xml_.createElementNS(node.namespaceURI,\n    'LineStringSegment');\n  node.appendChild(child);\n  this.writeCurveOrLineString_(child, line, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Geometry|ol.Extent} geometry Geometry.\n * @param {Array.<*>} objectStack Node stack.\n */\nGML3.prototype.writeGeometryElement = function(node, geometry, objectStack) {\n  const context = /** @type {olx.format.WriteOptions} */ (objectStack[objectStack.length - 1]);\n  const item = assign({}, context);\n  item.node = node;\n  let value;\n  if (Array.isArray(geometry)) {\n    if (context.dataProjection) {\n      value = transformExtent(\n        geometry, context.featureProjection, context.dataProjection);\n    } else {\n      value = geometry;\n    }\n  } else {\n    value = transformWithOptions(/** @type {ol.geom.Geometry} */ (geometry), true, context);\n  }\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    (item), GML3.GEOMETRY_SERIALIZERS_,\n    this.GEOMETRY_NODE_FACTORY_, [value],\n    objectStack, undefined, this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Node stack.\n */\nGML3.prototype.writeFeatureElement = function(node, feature, objectStack) {\n  const fid = feature.getId();\n  if (fid) {\n    node.setAttribute('fid', fid);\n  }\n  const context = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const featureNS = context['featureNS'];\n  const geometryName = feature.getGeometryName();\n  if (!context.serializers) {\n    context.serializers = {};\n    context.serializers[featureNS] = {};\n  }\n  const properties = feature.getProperties();\n  const keys = [];\n  const values = [];\n  for (const key in properties) {\n    const value = properties[key];\n    if (value !== null) {\n      keys.push(key);\n      values.push(value);\n      if (key == geometryName || value instanceof Geometry) {\n        if (!(key in context.serializers[featureNS])) {\n          context.serializers[featureNS][key] = _ol_xml_.makeChildAppender(\n            this.writeGeometryElement, this);\n        }\n      } else {\n        if (!(key in context.serializers[featureNS])) {\n          context.serializers[featureNS][key] = _ol_xml_.makeChildAppender(\n            XSD.writeStringTextNode);\n        }\n      }\n    }\n  }\n  const item = assign({}, context);\n  item.node = node;\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    (item), context.serializers,\n    _ol_xml_.makeSimpleNodeFactory(undefined, featureNS),\n    values,\n    objectStack, keys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<ol.Feature>} features Features.\n * @param {Array.<*>} objectStack Node stack.\n * @private\n */\nGML3.prototype.writeFeatureMembers_ = function(node, features, objectStack) {\n  const context = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const featureType = context['featureType'];\n  const featureNS = context['featureNS'];\n  const serializers = {};\n  serializers[featureNS] = {};\n  serializers[featureNS][featureType] = _ol_xml_.makeChildAppender(\n    this.writeFeatureElement, this);\n  const item = assign({}, context);\n  item.node = node;\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    (item),\n    serializers,\n    _ol_xml_.makeSimpleNodeFactory(featureType, featureNS), features,\n    objectStack);\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'surfaceMember': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeSurfaceOrPolygonMember_),\n    'polygonMember': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeSurfaceOrPolygonMember_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML3.POINTMEMBER_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'pointMember': _ol_xml_.makeChildAppender(\n      GML3.prototype.writePointMember_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'lineStringMember': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeLineStringOrCurveMember_),\n    'curveMember': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeLineStringOrCurveMember_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML3.RING_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'exterior': _ol_xml_.makeChildAppender(GML3.prototype.writeRing_),\n    'interior': _ol_xml_.makeChildAppender(GML3.prototype.writeRing_)\n  }\n};\n\n\n/**\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nGML3.GEOMETRY_SERIALIZERS_ = {\n  'http://www.opengis.net/gml': {\n    'Curve': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeCurveOrLineString_),\n    'MultiCurve': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeMultiCurveOrLineString_),\n    'Point': _ol_xml_.makeChildAppender(GML3.prototype.writePoint_),\n    'MultiPoint': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeMultiPoint_),\n    'LineString': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeCurveOrLineString_),\n    'MultiLineString': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeMultiCurveOrLineString_),\n    'LinearRing': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeLinearRing_),\n    'Polygon': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeSurfaceOrPolygon_),\n    'MultiPolygon': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeMultiSurfaceOrPolygon_),\n    'Surface': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeSurfaceOrPolygon_),\n    'MultiSurface': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeMultiSurfaceOrPolygon_),\n    'Envelope': _ol_xml_.makeChildAppender(\n      GML3.prototype.writeEnvelope)\n  }\n};\n\n\n/**\n * @const\n * @type {Object.<string, string>}\n * @private\n */\nGML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_ = {\n  'MultiLineString': 'lineStringMember',\n  'MultiCurve': 'curveMember',\n  'MultiPolygon': 'polygonMember',\n  'MultiSurface': 'surfaceMember'\n};\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nGML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  const parentNode = objectStack[objectStack.length - 1].node;\n  return _ol_xml_.createElementNS('http://www.opengis.net/gml',\n    GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[parentNode.nodeName]);\n};\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nGML3.prototype.GEOMETRY_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  const context = objectStack[objectStack.length - 1];\n  const multiSurface = context['multiSurface'];\n  const surface = context['surface'];\n  const curve = context['curve'];\n  const multiCurve = context['multiCurve'];\n  let nodeName;\n  if (!Array.isArray(value)) {\n    nodeName = /** @type {ol.geom.Geometry} */ (value).getType();\n    if (nodeName === 'MultiPolygon' && multiSurface === true) {\n      nodeName = 'MultiSurface';\n    } else if (nodeName === 'Polygon' && surface === true) {\n      nodeName = 'Surface';\n    } else if (nodeName === 'LineString' && curve === true) {\n      nodeName = 'Curve';\n    } else if (nodeName === 'MultiLineString' && multiCurve === true) {\n      nodeName = 'MultiCurve';\n    }\n  } else {\n    nodeName = 'Envelope';\n  }\n  return _ol_xml_.createElementNS('http://www.opengis.net/gml',\n    nodeName);\n};\n\n\n/**\n * Encode a geometry in GML 3.1.1 Simple Features.\n *\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {Node} Node.\n * @override\n * @api\n */\nGML3.prototype.writeGeometryNode = function(geometry, opt_options) {\n  opt_options = this.adaptOptions(opt_options);\n  const geom = _ol_xml_.createElementNS('http://www.opengis.net/gml', 'geom');\n  const context = {node: geom, hasZ: this.hasZ, srsName: this.srsName,\n    curve: this.curve_, surface: this.surface_,\n    multiSurface: this.multiSurface_, multiCurve: this.multiCurve_};\n  if (opt_options) {\n    assign(context, opt_options);\n  }\n  this.writeGeometryElement(geom, geometry, [context]);\n  return geom;\n};\n\n\n/**\n * Encode an array of features in GML 3.1.1 Simple Features.\n *\n * @function\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {string} Result.\n * @api\n */\nGML3.prototype.writeFeatures;\n\n\n/**\n * Encode an array of features in the GML 3.1.1 format as an XML node.\n *\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {Node} Node.\n * @override\n * @api\n */\nGML3.prototype.writeFeaturesNode = function(features, opt_options) {\n  opt_options = this.adaptOptions(opt_options);\n  const node = _ol_xml_.createElementNS('http://www.opengis.net/gml',\n    'featureMembers');\n  _ol_xml_.setAttributeNS(node, 'http://www.w3.org/2001/XMLSchema-instance',\n    'xsi:schemaLocation', this.schemaLocation);\n  const context = {\n    srsName: this.srsName,\n    hasZ: this.hasZ,\n    curve: this.curve_,\n    surface: this.surface_,\n    multiSurface: this.multiSurface_,\n    multiCurve: this.multiCurve_,\n    featureNS: this.featureNS,\n    featureType: this.featureType\n  };\n  if (opt_options) {\n    assign(context, opt_options);\n  }\n  this.writeFeatureMembers_(node, features, [context]);\n  return node;\n};\nexport default GML3;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/GML3.js\n// module id = 76\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22","import { hooks } from '../utils/hooks';\nimport hasOwnProp from '../utils/has-own-prop';\nimport isUndefined from '../utils/is-undefined';\nimport getParsingFlags from '../create/parsing-flags';\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nexport function copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nexport function Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nexport function isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/constructor.js\n// module id = 79\n// module chunks = 0 1 2 3 4 5","import { normalizeUnits, normalizeObjectUnits } from '../units/aliases';\nimport { getPrioritizedUnits } from '../units/priorities';\nimport { hooks } from '../utils/hooks';\nimport isFunction from '../utils/is-function';\nimport { daysInMonth } from '../units/month';\nimport { isLeapYear } from '../units/year';\n\nexport function makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nexport function get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nexport function set (mom, unit, value) {\n    if (mom.isValid() && !isNaN(value)) {\n        if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n        }\n        else {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n}\n\n// MOMENTS\n\nexport function stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nexport function stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/get-set.js\n// module id = 80\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.map.FeatureOverlayMgr\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMapFeatureOverlay from 'ngeo/map/FeatureOverlay.js';\nimport * as olBase from 'ol/index.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport * as olObj from 'ol/obj.js';\nimport olSourceVector from 'ol/source/Vector.js';\nimport olStyleStyle from 'ol/style/Style.js';\n\n/**\n * Provides a service that wraps an \"unmanaged\" vector layer,\n * used as a shared vector layer across the application.\n *\n * Example:\n *\n * The application's main component/controller initializes the feature\n * overlay manager with the map:\n *\n *     ngeoFeatureOverlayMgr.init(map);\n *\n * Once initialized, components of the application can use the manager to\n * create a feature overlay, configuring it with specific styles:\n *\n *     let featureOverlay = ngeoFeatureOverlayMgr.getFeatureOverlay();\n *     featureOverlay.setStyle(myStyle);\n *     featureOverlay.addFeature(myFeature);\n *\n * @constructor\n * @struct\n * @ngdoc service\n * @ngname ngeoFeatureOverlayMgr\n */\nconst exports = function() {\n\n  /**\n   * @type {Object.<string, number>}\n   * @private\n   */\n  this.featureUidToGroupIndex_ = {};\n\n  /**\n   * @type {Array.<ngeox.MapFeatureOverlayGroup>}\n   * @private\n   */\n  this.groups_ = [];\n\n  /**\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = new olSourceVector({\n    useSpatialIndex: false\n  });\n\n  /**\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.layer_ = new olLayerVector({\n    source: this.source_,\n    style: this.styleFunction_.bind(this),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n};\n\n\n/**\n * @param {ol.Feature} feature The feature to add.\n * @param {number} groupIndex The group groupIndex.\n * @export\n */\nexports.prototype.addFeature = function(feature, groupIndex) {\n  googAsserts.assert(groupIndex >= 0);\n  googAsserts.assert(groupIndex < this.groups_.length);\n  const featureUid = olBase.getUid(feature).toString();\n  this.featureUidToGroupIndex_[featureUid] = groupIndex;\n  this.groups_[groupIndex].features[featureUid] = feature;\n  this.source_.addFeature(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature The feature to add.\n * @param {number} groupIndex The group groupIndex.\n * @export\n */\nexports.prototype.removeFeature = function(feature, groupIndex) {\n  googAsserts.assert(groupIndex >= 0);\n  googAsserts.assert(groupIndex < this.groups_.length);\n  const featureUid = olBase.getUid(feature).toString();\n  delete this.featureUidToGroupIndex_[featureUid];\n  delete this.groups_[groupIndex].features[featureUid];\n  this.source_.removeFeature(feature);\n};\n\n\n/**\n * @param {number} groupIndex The group groupIndex.\n * @export\n */\nexports.prototype.clear = function(groupIndex) {\n  googAsserts.assert(groupIndex >= 0);\n  googAsserts.assert(groupIndex < this.groups_.length);\n  const group = this.groups_[groupIndex];\n  for (const featureUid in group.features) {\n    this.removeFeature(group.features[featureUid], groupIndex);\n  }\n  googAsserts.assert(olObj.isEmpty(group.features));\n};\n\n\n/**\n * @return {ol.layer.Vector} The vector layer used internally.\n * @export\n */\nexports.prototype.getLayer = function() {\n  return this.layer_;\n};\n\n\n/**\n * @return {ngeo.map.FeatureOverlay} Feature overlay.\n * @export\n */\nexports.prototype.getFeatureOverlay = function() {\n  const groupIndex = this.groups_.length;\n  this.groups_.push({\n    styleFunction: olStyleStyle.defaultFunction,\n    features: {}\n  });\n  return new ngeoMapFeatureOverlay(this, groupIndex);\n};\n\n\n/**\n * @param {ol.Map} map Map.\n * @export\n */\nexports.prototype.init = function(map) {\n  this.layer_.setMap(map);\n};\n\n\n/**\n * @param {ol.style.Style|Array.<ol.style.Style>|ol.StyleFunction} style\n * Style.\n * @param {number} groupIndex Group index.\n * @export\n */\nexports.prototype.setStyle = function(style, groupIndex) {\n  googAsserts.assert(groupIndex >= 0);\n  googAsserts.assert(groupIndex < this.groups_.length);\n  this.groups_[groupIndex].styleFunction = style === null ?\n    olStyleStyle.defaultFunction : olStyleStyle.createFunction(style);\n};\n\n\n/**\n * @param {ol.Feature|ol.render.Feature} feature Feature.\n * @param {number} resolution Resolution.\n * @return {Array.<ol.style.Style>|ol.style.Style} Styles.\n * @private\n */\nexports.prototype.styleFunction_ = function(feature, resolution) {\n  const featureUid = olBase.getUid(feature).toString();\n  googAsserts.assert(featureUid in this.featureUidToGroupIndex_);\n  const groupIndex = this.featureUidToGroupIndex_[featureUid];\n  const group = this.groups_[groupIndex];\n  return group.styleFunction(feature, resolution);\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoFeatureOverlayMgr', [\n  ngeoMapFeatureOverlay.module.name\n]);\nexports.module.service('ngeoFeatureOverlayMgr', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/map/FeatureOverlayMgr.js","/**\n * @module ol/proj/proj4\n */\nimport {addCoordinateTransforms, addProjection, addEquivalentProjections, get} from '../proj.js';\nimport {get as getTransform} from './transforms.js';\nimport Projection from './Projection.js';\n\n/**\n * Make projections defined in proj4 (with `proj4.defs()`) available in\n * OpenLayers.\n *\n * This function should be called whenever changes are made to the proj4\n * registry, e.g. after calling `proj4.defs()`. Existing transforms will not be\n * modified by this function.\n *\n * @param {?} proj4 Proj4.\n * @api\n */\nexport function register(proj4) {\n  const projCodes = Object.keys(proj4.defs);\n  const len = projCodes.length;\n  let i, j;\n  for (i = 0; i < len; ++i) {\n    const code = projCodes[i];\n    if (!get(code)) {\n      const def = proj4.defs(code);\n      addProjection(new Projection({\n        code: code,\n        axisOrientation: def.axis,\n        metersPerUnit: def.to_meter,\n        units: def.units\n      }));\n    }\n  }\n  for (i = 0; i < len; ++i) {\n    const code1 = projCodes[i];\n    const proj1 = get(code1);\n    for (j = 0; j < len; ++j) {\n      const code2 = projCodes[j];\n      const proj2 = get(code2);\n      if (!getTransform(code1, code2)) {\n        if (proj4.defs[code1] === proj4.defs[code2]) {\n          addEquivalentProjections([proj1, proj2]);\n        } else {\n          const transform = proj4(code1, code2);\n          addCoordinateTransforms(proj1, proj2, transform.forward, transform.inverse);\n        }\n      }\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/proj/proj4.js\n// module id = 82\n// module chunks = 0 1 2 3 4 5 6 7 9 10 11 12 13 15 16 17 18 19 20","export default function(defs) {\n  defs('EPSG:4326', \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\");\n  defs('EPSG:4269', \"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees\");\n  defs('EPSG:3857', \"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs\");\n\n  defs.WGS84 = defs['EPSG:4326'];\n  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857\n  defs.GOOGLE = defs['EPSG:3857'];\n  defs['EPSG:900913'] = defs['EPSG:3857'];\n  defs['EPSG:102113'] = defs['EPSG:3857'];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/global.js\n// module id = null\n// module chunks = ","export var PJD_3PARAM = 1;\nexport var PJD_7PARAM = 2;\nexport var PJD_WGS84 = 4; // WGS84 or equivalent\nexport var PJD_NODATUM = 5; // WGS84 or equivalent\nexport var SEC_TO_RAD = 4.84813681109535993589914102357e-6;\nexport var HALF_PI = Math.PI/2;\n// ellipoid pj_set_ell.c\nexport var SIXTH = 0.1666666666666666667;\n/* 1/6 */\nexport var RA4 = 0.04722222222222222222;\n/* 17/360 */\nexport var RA6 = 0.02215608465608465608;\nexport var EPSLN = 1.0e-10;\n// you'd think you could use Number.EPSILON above but that makes\n// Mollweide get into an infinate loop.\n\nexport var D2R = 0.01745329251994329577;\nexport var R2D = 57.29577951308232088;\nexport var FORTPI = Math.PI/4;\nexport var TWO_PI = Math.PI * 2;\n// SPI is slightly greater than Math.PI, so values that exceed the -180..180\n// degree range by a tiny amount don't get wrapped. This prevents points that\n// have drifted from their original location along the 180th meridian (due to\n// floating point error) from changing their sign.\nexport var SPI = 3.14159265359;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/constants/values.js\n// module id = null\n// module chunks = ","var exports = {};\nexport {exports as default};\n\nexports.greenwich = 0.0; //\"0dE\",\nexports.lisbon = -9.131906111111; //\"9d07'54.862\\\"W\",\nexports.paris = 2.337229166667; //\"2d20'14.025\\\"E\",\nexports.bogota = -74.080916666667; //\"74d04'51.3\\\"W\",\nexports.madrid = -3.687938888889; //\"3d41'16.58\\\"W\",\nexports.rome = 12.452333333333; //\"12d27'8.4\\\"E\",\nexports.bern = 7.439583333333; //\"7d26'22.5\\\"E\",\nexports.jakarta = 106.807719444444; //\"106d48'27.79\\\"E\",\nexports.ferro = -17.666666666667; //\"17d40'W\",\nexports.brussels = 4.367975; //\"4d22'4.71\\\"E\",\nexports.stockholm = 18.058277777778; //\"18d3'29.8\\\"E\",\nexports.athens = 23.7163375; //\"23d42'58.815\\\"E\",\nexports.oslo = 10.722916666667; //\"10d43'22.5\\\"E\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/constants/PrimeMeridian.js\n// module id = null\n// module chunks = ","export default {\n  ft: {to_meter: 0.3048},\n  'us-ft': {to_meter: 1200 / 3937}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/constants/units.js\n// module id = null\n// module chunks = ","var ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nexport default function match(obj, key) {\n  if (obj[key]) {\n    return obj[key];\n  }\n  var keys = Object.keys(obj);\n  var lkey = key.toLowerCase().replace(ignoredChar, '');\n  var i = -1;\n  var testkey, processedKey;\n  while (++i < keys.length) {\n    testkey = keys[i];\n    processedKey = testkey.toLowerCase().replace(ignoredChar, '');\n    if (processedKey === lkey) {\n      return obj[testkey];\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/match.js\n// module id = null\n// module chunks = ","import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projString.js\n// module id = null\n// module chunks = ","export default parseString;\n\nvar NEUTRAL = 1;\nvar KEYWORD = 2;\nvar NUMBER = 3;\nvar QUOTED = 4;\nvar AFTERQUOTE = 5;\nvar ENDED = -1;\nvar whitespace = /\\s/;\nvar latin = /[A-Za-z]/;\nvar keyword = /[A-Za-z84]/;\nvar endThings = /[,\\]]/;\nvar digets = /[\\d\\.E\\-\\+]/;\n// const ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nfunction Parser(text) {\n  if (typeof text !== 'string') {\n    throw new Error('not a string');\n  }\n  this.text = text.trim();\n  this.level = 0;\n  this.place = 0;\n  this.root = null;\n  this.stack = [];\n  this.currentObject = null;\n  this.state = NEUTRAL;\n}\nParser.prototype.readCharicter = function() {\n  var char = this.text[this.place++];\n  if (this.state !== QUOTED) {\n    while (whitespace.test(char)) {\n      if (this.place >= this.text.length) {\n        return;\n      }\n      char = this.text[this.place++];\n    }\n  }\n  switch (this.state) {\n    case NEUTRAL:\n      return this.neutral(char);\n    case KEYWORD:\n      return this.keyword(char)\n    case QUOTED:\n      return this.quoted(char);\n    case AFTERQUOTE:\n      return this.afterquote(char);\n    case NUMBER:\n      return this.number(char);\n    case ENDED:\n      return;\n  }\n};\nParser.prototype.afterquote = function(char) {\n  if (char === '\"') {\n    this.word += '\"';\n    this.state = QUOTED;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = this.word.trim();\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in afterquote yet, index ' + this.place);\n};\nParser.prototype.afterItem = function(char) {\n  if (char === ',') {\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n    }\n    this.word = null;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (char === ']') {\n    this.level--;\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n      this.word = null;\n    }\n    this.state = NEUTRAL;\n    this.currentObject = this.stack.pop();\n    if (!this.currentObject) {\n      this.state = ENDED;\n    }\n\n    return;\n  }\n};\nParser.prototype.number = function(char) {\n  if (digets.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = parseFloat(this.word);\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in number yet, index ' + this.place);\n};\nParser.prototype.quoted = function(char) {\n  if (char === '\"') {\n    this.state = AFTERQUOTE;\n    return;\n  }\n  this.word += char;\n  return;\n};\nParser.prototype.keyword = function(char) {\n  if (keyword.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (char === '[') {\n    var newObjects = [];\n    newObjects.push(this.word);\n    this.level++;\n    if (this.root === null) {\n      this.root = newObjects;\n    } else {\n      this.currentObject.push(newObjects);\n    }\n    this.stack.push(this.currentObject);\n    this.currentObject = newObjects;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in keyword yet, index ' + this.place);\n};\nParser.prototype.neutral = function(char) {\n  if (latin.test(char)) {\n    this.word = char;\n    this.state = KEYWORD;\n    return;\n  }\n  if (char === '\"') {\n    this.word = '';\n    this.state = QUOTED;\n    return;\n  }\n  if (digets.test(char)) {\n    this.word = char;\n    this.state = NUMBER;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in neutral yet, index ' + this.place);\n};\nParser.prototype.output = function() {\n  while (this.place < this.text.length) {\n    this.readCharicter();\n  }\n  if (this.state === ENDED) {\n    return this.root;\n  }\n  throw new Error('unable to parse string \"' +this.text + '\". State is ' + this.state);\n};\n\nfunction parseString(txt) {\n  var parser = new Parser(txt);\n  return parser.output();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/wkt-parser/parser.js\n// module id = null\n// module chunks = ","\n\nfunction mapit(obj, key, value) {\n  if (Array.isArray(key)) {\n    value.unshift(key);\n    key = null;\n  }\n  var thing = key ? {} : obj;\n\n  var out = value.reduce(function(newObj, item) {\n    sExpr(item, newObj);\n    return newObj\n  }, thing);\n  if (key) {\n    obj[key] = out;\n  }\n}\n\nexport function sExpr(v, obj) {\n  if (!Array.isArray(v)) {\n    obj[v] = true;\n    return;\n  }\n  var key = v.shift();\n  if (key === 'PARAMETER') {\n    key = v.shift();\n  }\n  if (v.length === 1) {\n    if (Array.isArray(v[0])) {\n      obj[key] = {};\n      sExpr(v[0], obj[key]);\n      return;\n    }\n    obj[key] = v[0];\n    return;\n  }\n  if (!v.length) {\n    obj[key] = true;\n    return;\n  }\n  if (key === 'TOWGS84') {\n    obj[key] = v;\n    return;\n  }\n  if (!Array.isArray(key)) {\n    obj[key] = {};\n  }\n\n  var i;\n  switch (key) {\n    case 'UNIT':\n    case 'PRIMEM':\n    case 'VERT_DATUM':\n      obj[key] = {\n        name: v[0].toLowerCase(),\n        convert: v[1]\n      };\n      if (v.length === 3) {\n        sExpr(v[2], obj[key]);\n      }\n      return;\n    case 'SPHEROID':\n    case 'ELLIPSOID':\n      obj[key] = {\n        name: v[0],\n        a: v[1],\n        rf: v[2]\n      };\n      if (v.length === 4) {\n        sExpr(v[3], obj[key]);\n      }\n      return;\n    case 'PROJECTEDCRS':\n    case 'PROJCRS':\n    case 'GEOGCS':\n    case 'GEOCCS':\n    case 'PROJCS':\n    case 'LOCAL_CS':\n    case 'GEODCRS':\n    case 'GEODETICCRS':\n    case 'GEODETICDATUM':\n    case 'EDATUM':\n    case 'ENGINEERINGDATUM':\n    case 'VERT_CS':\n    case 'VERTCRS':\n    case 'VERTICALCRS':\n    case 'COMPD_CS':\n    case 'COMPOUNDCRS':\n    case 'ENGINEERINGCRS':\n    case 'ENGCRS':\n    case 'FITTED_CS':\n    case 'LOCAL_DATUM':\n    case 'DATUM':\n      v[0] = ['name', v[0]];\n      mapit(obj, key, v);\n      return;\n    default:\n      i = -1;\n      while (++i < v.length) {\n        if (!Array.isArray(v[i])) {\n          return sExpr(v, obj[key]);\n        }\n      }\n      return mapit(obj, key, v);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/wkt-parser/process.js\n// module id = null\n// module chunks = ","var D2R = 0.01745329251994329577;\nimport parser from './parser';\nimport {sExpr} from './process';\n\n\n\nfunction rename(obj, params) {\n  var outName = params[0];\n  var inName = params[1];\n  if (!(outName in obj) && (inName in obj)) {\n    obj[outName] = obj[inName];\n    if (params.length === 3) {\n      obj[outName] = params[2](obj[outName]);\n    }\n  }\n}\n\nfunction d2r(input) {\n  return input * D2R;\n}\n\nfunction cleanWKT(wkt) {\n  if (wkt.type === 'GEOGCS') {\n    wkt.projName = 'longlat';\n  } else if (wkt.type === 'LOCAL_CS') {\n    wkt.projName = 'identity';\n    wkt.local = true;\n  } else {\n    if (typeof wkt.PROJECTION === 'object') {\n      wkt.projName = Object.keys(wkt.PROJECTION)[0];\n    } else {\n      wkt.projName = wkt.PROJECTION;\n    }\n  }\n  if (wkt.UNIT) {\n    wkt.units = wkt.UNIT.name.toLowerCase();\n    if (wkt.units === 'metre') {\n      wkt.units = 'meter';\n    }\n    if (wkt.UNIT.convert) {\n      if (wkt.type === 'GEOGCS') {\n        if (wkt.DATUM && wkt.DATUM.SPHEROID) {\n          wkt.to_meter = wkt.UNIT.convert*wkt.DATUM.SPHEROID.a;\n        }\n      } else {\n        wkt.to_meter = wkt.UNIT.convert, 10;\n      }\n    }\n  }\n  var geogcs = wkt.GEOGCS;\n  if (wkt.type === 'GEOGCS') {\n    geogcs = wkt;\n  }\n  if (geogcs) {\n    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){\n    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;\n    //}\n    if (geogcs.DATUM) {\n      wkt.datumCode = geogcs.DATUM.name.toLowerCase();\n    } else {\n      wkt.datumCode = geogcs.name.toLowerCase();\n    }\n    if (wkt.datumCode.slice(0, 2) === 'd_') {\n      wkt.datumCode = wkt.datumCode.slice(2);\n    }\n    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {\n      wkt.datumCode = 'nzgd49';\n    }\n    if (wkt.datumCode === 'wgs_1984') {\n      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {\n        wkt.sphere = true;\n      }\n      wkt.datumCode = 'wgs84';\n    }\n    if (wkt.datumCode.slice(-6) === '_ferro') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 6);\n    }\n    if (wkt.datumCode.slice(-8) === '_jakarta') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 8);\n    }\n    if (~wkt.datumCode.indexOf('belge')) {\n      wkt.datumCode = 'rnb72';\n    }\n    if (geogcs.DATUM && geogcs.DATUM.SPHEROID) {\n      wkt.ellps = geogcs.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\\_18/, 'clrk');\n      if (wkt.ellps.toLowerCase().slice(0, 13) === 'international') {\n        wkt.ellps = 'intl';\n      }\n\n      wkt.a = geogcs.DATUM.SPHEROID.a;\n      wkt.rf = parseFloat(geogcs.DATUM.SPHEROID.rf, 10);\n    }\n    if (~wkt.datumCode.indexOf('osgb_1936')) {\n      wkt.datumCode = 'osgb36';\n    }\n    if (~wkt.datumCode.indexOf('osni_1952')) {\n      wkt.datumCode = 'osni52';\n    }\n    if (~wkt.datumCode.indexOf('tm65')\n      || ~wkt.datumCode.indexOf('geodetic_datum_of_1965')) {\n      wkt.datumCode = 'ire65';\n    }\n    if (wkt.datumCode === 'ch1903+') {\n      wkt.datumCode = 'ch1903';\n    }\n  }\n  if (wkt.b && !isFinite(wkt.b)) {\n    wkt.b = wkt.a;\n  }\n\n  function toMeter(input) {\n    var ratio = wkt.to_meter || 1;\n    return input * ratio;\n  }\n  var renamer = function(a) {\n    return rename(wkt, a);\n  };\n  var list = [\n    ['standard_parallel_1', 'Standard_Parallel_1'],\n    ['standard_parallel_2', 'Standard_Parallel_2'],\n    ['false_easting', 'False_Easting'],\n    ['false_northing', 'False_Northing'],\n    ['central_meridian', 'Central_Meridian'],\n    ['latitude_of_origin', 'Latitude_Of_Origin'],\n    ['latitude_of_origin', 'Central_Parallel'],\n    ['scale_factor', 'Scale_Factor'],\n    ['k0', 'scale_factor'],\n    ['latitude_of_center', 'Latitude_Of_Center'],\n    ['latitude_of_center', 'Latitude_of_center'],\n    ['lat0', 'latitude_of_center', d2r],\n    ['longitude_of_center', 'Longitude_Of_Center'],\n    ['longitude_of_center', 'Longitude_of_center'],\n    ['longc', 'longitude_of_center', d2r],\n    ['x0', 'false_easting', toMeter],\n    ['y0', 'false_northing', toMeter],\n    ['long0', 'central_meridian', d2r],\n    ['lat0', 'latitude_of_origin', d2r],\n    ['lat0', 'standard_parallel_1', d2r],\n    ['lat1', 'standard_parallel_1', d2r],\n    ['lat2', 'standard_parallel_2', d2r],\n    ['azimuth', 'Azimuth'],\n    ['alpha', 'azimuth', d2r],\n    ['srsCode', 'name']\n  ];\n  list.forEach(renamer);\n  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === 'Lambert_Azimuthal_Equal_Area')) {\n    wkt.long0 = wkt.longc;\n  }\n  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {\n    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);\n    wkt.lat_ts = wkt.lat1;\n  }\n}\nexport default function(wkt) {\n  var lisp = parser(wkt);\n  var type = lisp.shift();\n  var name = lisp.shift();\n  lisp.unshift(['name', name]);\n  lisp.unshift(['type', type]);\n  var obj = {};\n  sExpr(lisp, obj);\n  cleanWKT(obj);\n  return obj;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/wkt-parser/index.js\n// module id = null\n// module chunks = ","import globals from './global';\nimport parseProj from './projString';\nimport wkt from 'wkt-parser';\n\nfunction defs(name) {\n  /*global console*/\n  var that = this;\n  if (arguments.length === 2) {\n    var def = arguments[1];\n    if (typeof def === 'string') {\n      if (def.charAt(0) === '+') {\n        defs[name] = parseProj(arguments[1]);\n      }\n      else {\n        defs[name] = wkt(arguments[1]);\n      }\n    } else {\n      defs[name] = def;\n    }\n  }\n  else if (arguments.length === 1) {\n    if (Array.isArray(name)) {\n      return name.map(function(v) {\n        if (Array.isArray(v)) {\n          defs.apply(that, v);\n        }\n        else {\n          defs(v);\n        }\n      });\n    }\n    else if (typeof name === 'string') {\n      if (name in defs) {\n        return defs[name];\n      }\n    }\n    else if ('EPSG' in name) {\n      defs['EPSG:' + name.EPSG] = name;\n    }\n    else if ('ESRI' in name) {\n      defs['ESRI:' + name.ESRI] = name;\n    }\n    else if ('IAU2000' in name) {\n      defs['IAU2000:' + name.IAU2000] = name;\n    }\n    else {\n      console.log(name);\n    }\n    return;\n  }\n\n\n}\nglobals(defs);\nexport default defs;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/defs.js\n// module id = null\n// module chunks = ","import defs from './defs';\nimport wkt from 'wkt-parser';\nimport projStr from './projString';\nfunction testObj(code){\n  return typeof code === 'string';\n}\nfunction testDef(code){\n  return code in defs;\n}\n var codeWords = ['PROJECTEDCRS', 'PROJCRS', 'GEOGCS','GEOCCS','PROJCS','LOCAL_CS', 'GEODCRS', 'GEODETICCRS', 'GEODETICDATUM', 'ENGCRS', 'ENGINEERINGCRS']; \nfunction testWKT(code){\n  return codeWords.some(function (word) {\n    return code.indexOf(word) > -1;\n  });\n}\nfunction testProj(code){\n  return code[0] === '+';\n}\nfunction parse(code){\n  if (testObj(code)) {\n    //check to see if this is a WKT string\n    if (testDef(code)) {\n      return defs[code];\n    }\n    if (testWKT(code)) {\n      return wkt(code);\n    }\n    if (testProj(code)) {\n      return projStr(code);\n    }\n  }else{\n    return code;\n  }\n}\n\nexport default parse;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/parseCode.js\n// module id = null\n// module chunks = ","export default function(destination, source) {\n  destination = destination || {};\n  var value, property;\n  if (!source) {\n    return destination;\n  }\n  for (property in source) {\n    value = source[property];\n    if (value !== undefined) {\n      destination[property] = value;\n    }\n  }\n  return destination;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/extend.js\n// module id = null\n// module chunks = ","export default function(eccent, sinphi, cosphi) {\n  var con = eccent * sinphi;\n  return cosphi / (Math.sqrt(1 - con * con));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/msfnz.js\n// module id = null\n// module chunks = ","export default function(x) {\n  return x<0 ? -1 : 1;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/sign.js\n// module id = null\n// module chunks = ","\nimport {TWO_PI, SPI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/adjust_lon.js\n// module id = null\n// module chunks = ","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, phi, sinphi) {\n  var con = eccent * sinphi;\n  var com = 0.5 * eccent;\n  con = Math.pow(((1 - con) / (1 + con)), com);\n  return (Math.tan(0.5 * (HALF_PI - phi)) / con);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/tsfnz.js\n// module id = null\n// module chunks = ","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, ts) {\n  var eccnth = 0.5 * eccent;\n  var con, dphi;\n  var phi = HALF_PI - 2 * Math.atan(ts);\n  for (var i = 0; i <= 15; i++) {\n    con = eccent * Math.sin(phi);\n    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n  //console.log(\"phi2z has NoConvergence\");\n  return -9999;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/phi2z.js\n// module id = null\n// module chunks = ","export function init() {\n  //no-op for longlat\n}\n\nfunction identity(pt) {\n  return pt;\n}\nexport {identity as forward};\nexport {identity as inverse};\nexport var names = [\"longlat\", \"identity\"];\nexport default {\n  init: init,\n  forward: identity,\n  inverse: identity,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/longlat.js\n// module id = null\n// module chunks = ","import merc from \"./projections/merc\";\nimport longlat from \"./projections/longlat\";\nvar projs = [merc, longlat];\nvar names = {};\nvar projStore = [];\n\nfunction add(proj, i) {\n  var len = projStore.length;\n  if (!proj.names) {\n    console.log(i);\n    return true;\n  }\n  projStore[len] = proj;\n  proj.names.forEach(function(n) {\n    names[n.toLowerCase()] = len;\n  });\n  return this;\n}\n\nexport {add};\n\nexport function get(name) {\n  if (!name) {\n    return false;\n  }\n  var n = name.toLowerCase();\n  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {\n    return projStore[names[n]];\n  }\n}\n\nexport function start() {\n  projs.forEach(add);\n}\nexport default {\n  start: start,\n  add: add,\n  get: get\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections.js\n// module id = null\n// module chunks = ","import msfnz from '../common/msfnz';\n\nimport adjust_lon from '../common/adjust_lon';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport {FORTPI, R2D, EPSLN, HALF_PI} from '../constants/values';\nexport function init() {\n  var con = this.b / this.a;\n  this.es = 1 - con * con;\n  if(!('x0' in this)){\n    this.x0 = 0;\n  }\n  if(!('y0' in this)){\n    this.y0 = 0;\n  }\n  this.e = Math.sqrt(this.es);\n  if (this.lat_ts) {\n    if (this.sphere) {\n      this.k0 = Math.cos(this.lat_ts);\n    }\n    else {\n      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n    }\n  }\n  else {\n    if (!this.k0) {\n      if (this.k) {\n        this.k0 = this.k;\n      }\n      else {\n        this.k0 = 1;\n      }\n    }\n  }\n}\n\n/* Mercator forward equations--mapping lat,long to x,y\n  --------------------------------------------------*/\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  // convert to radians\n  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {\n    return null;\n  }\n\n  var x, y;\n  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n    return null;\n  }\n  else {\n    if (this.sphere) {\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));\n    }\n    else {\n      var sinphi = Math.sin(lat);\n      var ts = tsfnz(this.e, lat, sinphi);\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 - this.a * this.k0 * Math.log(ts);\n    }\n    p.x = x;\n    p.y = y;\n    return p;\n  }\n}\n\n/* Mercator inverse equations--mapping x,y to lat/long\n  --------------------------------------------------*/\nexport function inverse(p) {\n\n  var x = p.x - this.x0;\n  var y = p.y - this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));\n  }\n  else {\n    var ts = Math.exp(-y / (this.a * this.k0));\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  lon = adjust_lon(this.long0 + x / (this.a * this.k0));\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mercator\", \"Popular Visualisation Pseudo Mercator\", \"Mercator_1SP\", \"Mercator_Auxiliary_Sphere\", \"merc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/merc.js\n// module id = null\n// module chunks = ","var exports = {};\nexport {exports as default};\nexports.MERIT = {\n  a: 6378137.0,\n  rf: 298.257,\n  ellipseName: \"MERIT 1983\"\n};\n\nexports.SGS85 = {\n  a: 6378136.0,\n  rf: 298.257,\n  ellipseName: \"Soviet Geodetic System 85\"\n};\n\nexports.GRS80 = {\n  a: 6378137.0,\n  rf: 298.257222101,\n  ellipseName: \"GRS 1980(IUGG, 1980)\"\n};\n\nexports.IAU76 = {\n  a: 6378140.0,\n  rf: 298.257,\n  ellipseName: \"IAU 1976\"\n};\n\nexports.airy = {\n  a: 6377563.396,\n  b: 6356256.910,\n  ellipseName: \"Airy 1830\"\n};\n\nexports.APL4 = {\n  a: 6378137,\n  rf: 298.25,\n  ellipseName: \"Appl. Physics. 1965\"\n};\n\nexports.NWL9D = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"Naval Weapons Lab., 1965\"\n};\n\nexports.mod_airy = {\n  a: 6377340.189,\n  b: 6356034.446,\n  ellipseName: \"Modified Airy\"\n};\n\nexports.andrae = {\n  a: 6377104.43,\n  rf: 300.0,\n  ellipseName: \"Andrae 1876 (Den., Iclnd.)\"\n};\n\nexports.aust_SA = {\n  a: 6378160.0,\n  rf: 298.25,\n  ellipseName: \"Australian Natl & S. Amer. 1969\"\n};\n\nexports.GRS67 = {\n  a: 6378160.0,\n  rf: 298.2471674270,\n  ellipseName: \"GRS 67(IUGG 1967)\"\n};\n\nexports.bessel = {\n  a: 6377397.155,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841\"\n};\n\nexports.bess_nam = {\n  a: 6377483.865,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841 (Namibia)\"\n};\n\nexports.clrk66 = {\n  a: 6378206.4,\n  b: 6356583.8,\n  ellipseName: \"Clarke 1866\"\n};\n\nexports.clrk80 = {\n  a: 6378249.145,\n  rf: 293.4663,\n  ellipseName: \"Clarke 1880 mod.\"\n};\n\nexports.clrk58 = {\n  a: 6378293.645208759,\n  rf: 294.2606763692654,\n  ellipseName: \"Clarke 1858\"\n};\n\nexports.CPM = {\n  a: 6375738.7,\n  rf: 334.29,\n  ellipseName: \"Comm. des Poids et Mesures 1799\"\n};\n\nexports.delmbr = {\n  a: 6376428.0,\n  rf: 311.5,\n  ellipseName: \"Delambre 1810 (Belgium)\"\n};\n\nexports.engelis = {\n  a: 6378136.05,\n  rf: 298.2566,\n  ellipseName: \"Engelis 1985\"\n};\n\nexports.evrst30 = {\n  a: 6377276.345,\n  rf: 300.8017,\n  ellipseName: \"Everest 1830\"\n};\n\nexports.evrst48 = {\n  a: 6377304.063,\n  rf: 300.8017,\n  ellipseName: \"Everest 1948\"\n};\n\nexports.evrst56 = {\n  a: 6377301.243,\n  rf: 300.8017,\n  ellipseName: \"Everest 1956\"\n};\n\nexports.evrst69 = {\n  a: 6377295.664,\n  rf: 300.8017,\n  ellipseName: \"Everest 1969\"\n};\n\nexports.evrstSS = {\n  a: 6377298.556,\n  rf: 300.8017,\n  ellipseName: \"Everest (Sabah & Sarawak)\"\n};\n\nexports.fschr60 = {\n  a: 6378166.0,\n  rf: 298.3,\n  ellipseName: \"Fischer (Mercury Datum) 1960\"\n};\n\nexports.fschr60m = {\n  a: 6378155.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1960\"\n};\n\nexports.fschr68 = {\n  a: 6378150.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1968\"\n};\n\nexports.helmert = {\n  a: 6378200.0,\n  rf: 298.3,\n  ellipseName: \"Helmert 1906\"\n};\n\nexports.hough = {\n  a: 6378270.0,\n  rf: 297.0,\n  ellipseName: \"Hough\"\n};\n\nexports.intl = {\n  a: 6378388.0,\n  rf: 297.0,\n  ellipseName: \"International 1909 (Hayford)\"\n};\n\nexports.kaula = {\n  a: 6378163.0,\n  rf: 298.24,\n  ellipseName: \"Kaula 1961\"\n};\n\nexports.lerch = {\n  a: 6378139.0,\n  rf: 298.257,\n  ellipseName: \"Lerch 1979\"\n};\n\nexports.mprts = {\n  a: 6397300.0,\n  rf: 191.0,\n  ellipseName: \"Maupertius 1738\"\n};\n\nexports.new_intl = {\n  a: 6378157.5,\n  b: 6356772.2,\n  ellipseName: \"New International 1967\"\n};\n\nexports.plessis = {\n  a: 6376523.0,\n  rf: 6355863.0,\n  ellipseName: \"Plessis 1817 (France)\"\n};\n\nexports.krass = {\n  a: 6378245.0,\n  rf: 298.3,\n  ellipseName: \"Krassovsky, 1942\"\n};\n\nexports.SEasia = {\n  a: 6378155.0,\n  b: 6356773.3205,\n  ellipseName: \"Southeast Asia\"\n};\n\nexports.walbeck = {\n  a: 6376896.0,\n  b: 6355834.8467,\n  ellipseName: \"Walbeck\"\n};\n\nexports.WGS60 = {\n  a: 6378165.0,\n  rf: 298.3,\n  ellipseName: \"WGS 60\"\n};\n\nexports.WGS66 = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"WGS 66\"\n};\n\nexports.WGS7 = {\n  a: 6378135.0,\n  rf: 298.26,\n  ellipseName: \"WGS 72\"\n};\n\nexport var WGS84 = exports.WGS84 = {\n  a: 6378137.0,\n  rf: 298.257223563,\n  ellipseName: \"WGS 84\"\n};\n\nexports.sphere = {\n  a: 6370997.0,\n  b: 6370997.0,\n  ellipseName: \"Normal Sphere (r=6370997)\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/constants/Ellipsoid.js\n// module id = null\n// module chunks = ","var exports = {};\nexport {exports as default};\nexports.wgs84 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"WGS84\",\n  datumName: \"WGS84\"\n};\n\nexports.ch1903 = {\n  towgs84: \"674.374,15.056,405.346\",\n  ellipse: \"bessel\",\n  datumName: \"swiss\"\n};\n\nexports.ggrs87 = {\n  towgs84: \"-199.87,74.79,246.62\",\n  ellipse: \"GRS80\",\n  datumName: \"Greek_Geodetic_Reference_System_1987\"\n};\n\nexports.nad83 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"GRS80\",\n  datumName: \"North_American_Datum_1983\"\n};\n\nexports.nad27 = {\n  nadgrids: \"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat\",\n  ellipse: \"clrk66\",\n  datumName: \"North_American_Datum_1927\"\n};\n\nexports.potsdam = {\n  towgs84: \"606.0,23.0,413.0\",\n  ellipse: \"bessel\",\n  datumName: \"Potsdam Rauenberg 1950 DHDN\"\n};\n\nexports.carthage = {\n  towgs84: \"-263.0,6.0,431.0\",\n  ellipse: \"clark80\",\n  datumName: \"Carthage 1934 Tunisia\"\n};\n\nexports.hermannskogel = {\n  towgs84: \"653.0,-212.0,449.0\",\n  ellipse: \"bessel\",\n  datumName: \"Hermannskogel\"\n};\n\nexports.osni52 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"airy\",\n  datumName: \"Irish National\"\n};\n\nexports.ire65 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"mod_airy\",\n  datumName: \"Ireland 1965\"\n};\n\nexports.rassadiran = {\n  towgs84: \"-133.63,-157.5,-158.62\",\n  ellipse: \"intl\",\n  datumName: \"Rassadiran\"\n};\n\nexports.nzgd49 = {\n  towgs84: \"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993\",\n  ellipse: \"intl\",\n  datumName: \"New Zealand Geodetic Datum 1949\"\n};\n\nexports.osgb36 = {\n  towgs84: \"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894\",\n  ellipse: \"airy\",\n  datumName: \"Airy 1830\"\n};\n\nexports.s_jtsk = {\n  towgs84: \"589,76,480\",\n  ellipse: 'bessel',\n  datumName: 'S-JTSK (Ferro)'\n};\n\nexports.beduaram = {\n  towgs84: '-106,-87,188',\n  ellipse: 'clrk80',\n  datumName: 'Beduaram'\n};\n\nexports.gunung_segara = {\n  towgs84: '-403,684,41',\n  ellipse: 'bessel',\n  datumName: 'Gunung Segara Jakarta'\n};\n\nexports.rnb72 = {\n  towgs84: \"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1\",\n  ellipse: \"intl\",\n  datumName: \"Reseau National Belge 1972\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/constants/Datum.js\n// module id = null\n// module chunks = ","import {PJD_3PARAM, PJD_7PARAM, PJD_WGS84, PJD_NODATUM, SEC_TO_RAD} from './constants/values';\n\nfunction datum(datumCode, datum_params, a, b, es, ep2) {\n  var out = {};\n\n  if (datumCode === undefined || datumCode === 'none') {\n    out.datum_type = PJD_NODATUM;\n  } else {\n    out.datum_type = PJD_WGS84;\n  }\n\n  if (datum_params) {\n    out.datum_params = datum_params.map(parseFloat);\n    if (out.datum_params[0] !== 0 || out.datum_params[1] !== 0 || out.datum_params[2] !== 0) {\n      out.datum_type = PJD_3PARAM;\n    }\n    if (out.datum_params.length > 3) {\n      if (out.datum_params[3] !== 0 || out.datum_params[4] !== 0 || out.datum_params[5] !== 0 || out.datum_params[6] !== 0) {\n        out.datum_type = PJD_7PARAM;\n        out.datum_params[3] *= SEC_TO_RAD;\n        out.datum_params[4] *= SEC_TO_RAD;\n        out.datum_params[5] *= SEC_TO_RAD;\n        out.datum_params[6] = (out.datum_params[6] / 1000000.0) + 1.0;\n      }\n    }\n  }\n\n  out.a = a; //datum object also uses these values\n  out.b = b;\n  out.es = es;\n  out.ep2 = ep2;\n  return out;\n}\n\nexport default datum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/datum.js\n// module id = null\n// module chunks = ","import parseCode from './parseCode';\nimport extend from './extend';\nimport projections from './projections';\nimport {sphere as dc_sphere, eccentricity as dc_eccentricity} from './deriveConstants';\nimport Datum from './constants/Datum';\nimport datum from './datum';\nimport match from './match';\n\nfunction Projection(srsCode,callback) {\n  if (!(this instanceof Projection)) {\n    return new Projection(srsCode);\n  }\n  callback = callback || function(error){\n    if(error){\n      throw error;\n    }\n  };\n  var json = parseCode(srsCode);\n  if(typeof json !== 'object'){\n    callback(srsCode);\n    return;\n  }\n  var ourProj = Projection.projections.get(json.projName);\n  if(!ourProj){\n    callback(srsCode);\n    return;\n  }\n  if (json.datumCode && json.datumCode !== 'none') {\n    var datumDef = match(Datum, json.datumCode);\n    if (datumDef) {\n      json.datum_params = datumDef.towgs84 ? datumDef.towgs84.split(',') : null;\n      json.ellps = datumDef.ellipse;\n      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;\n    }\n  }\n  json.k0 = json.k0 || 1.0;\n  json.axis = json.axis || 'enu';\n  json.ellps = json.ellps || 'wgs84';\n  var sphere_ = dc_sphere(json.a, json.b, json.rf, json.ellps, json.sphere);\n  var ecc = dc_eccentricity(sphere_.a, sphere_.b, sphere_.rf, json.R_A);\n  var datumObj = json.datum || datum(json.datumCode, json.datum_params, sphere_.a, sphere_.b, ecc.es, ecc.ep2);\n\n  extend(this, json); // transfer everything over from the projection because we don't know what we'll need\n  extend(this, ourProj); // transfer all the methods from the projection\n\n  // copy the 4 things over we calulated in deriveConstants.sphere\n  this.a = sphere_.a;\n  this.b = sphere_.b;\n  this.rf = sphere_.rf;\n  this.sphere = sphere_.sphere;\n\n  // copy the 3 things we calculated in deriveConstants.eccentricity\n  this.es = ecc.es;\n  this.e = ecc.e;\n  this.ep2 = ecc.ep2;\n\n  // add in the datum object\n  this.datum = datumObj;\n\n  // init the projection\n  this.init();\n\n  // legecy callback from back in the day when it went to spatialreference.org\n  callback(null, this);\n\n}\nProjection.projections = projections;\nProjection.projections.start();\nexport default Projection;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/Proj.js\n// module id = null\n// module chunks = ","import {SIXTH, RA4, RA6, EPSLN} from './constants/values';\nimport {default as Ellipsoid, WGS84} from './constants/Ellipsoid';\nimport match from './match';\n\nexport function eccentricity(a, b, rf, R_A) {\n  var a2 = a * a; // used in geocentric\n  var b2 = b * b; // used in geocentric\n  var es = (a2 - b2) / a2; // e ^ 2\n  var e = 0;\n  if (R_A) {\n    a *= 1 - es * (SIXTH + es * (RA4 + es * RA6));\n    a2 = a * a;\n    es = 0;\n  } else {\n    e = Math.sqrt(es); // eccentricity\n  }\n  var ep2 = (a2 - b2) / b2; // used in geocentric\n  return {\n    es: es,\n    e: e,\n    ep2: ep2\n  };\n}\nexport function sphere(a, b, rf, ellps, sphere) {\n  if (!a) { // do we have an ellipsoid?\n    var ellipse = match(Ellipsoid, ellps);\n    if (!ellipse) {\n      ellipse = WGS84;\n    }\n    a = ellipse.a;\n    b = ellipse.b;\n    rf = ellipse.rf;\n  }\n\n  if (rf && !b) {\n    b = (1.0 - 1.0 / rf) * a;\n  }\n  if (rf === 0 || Math.abs(a - b) < EPSLN) {\n    sphere = true;\n    b = a;\n  }\n  return {\n    a: a,\n    b: b,\n    rf: rf,\n    sphere: sphere\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/deriveConstants.js\n// module id = null\n// module chunks = ","import {PJD_3PARAM, PJD_7PARAM, PJD_NODATUM} from './constants/values';\n\nimport {geodeticToGeocentric, geocentricToGeodetic, geocentricToWgs84, geocentricFromWgs84, compareDatums} from './datumUtils';\nfunction checkParams(type) {\n  return (type === PJD_3PARAM || type === PJD_7PARAM);\n}\n\nexport default function(source, dest, point) {\n  // Short cut if the datums are identical.\n  if (compareDatums(source, dest)) {\n    return point; // in this case, zero is sucess,\n    // whereas cs_compare_datums returns 1 to indicate TRUE\n    // confusing, should fix this\n  }\n\n  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest\n  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {\n    return point;\n  }\n\n  // If this datum requires grid shifts, then apply it to geodetic coordinates.\n\n  // Do we need to go through geocentric coordinates?\n  if (source.es === dest.es && source.a === dest.a && !checkParams(source.datum_type) &&  !checkParams(dest.datum_type)) {\n    return point;\n  }\n\n  // Convert to geocentric coordinates.\n  point = geodeticToGeocentric(point, source.es, source.a);\n  // Convert between datums\n  if (checkParams(source.datum_type)) {\n    point = geocentricToWgs84(point, source.datum_type, source.datum_params);\n  }\n  if (checkParams(dest.datum_type)) {\n    point = geocentricFromWgs84(point, dest.datum_type, dest.datum_params);\n  }\n  return geocentricToGeodetic(point, dest.es, dest.a, dest.b);\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/datum_transform.js\n// module id = null\n// module chunks = ","'use strict';\nimport {PJD_3PARAM, PJD_7PARAM, HALF_PI} from './constants/values';\nexport function compareDatums(source, dest) {\n  if (source.datum_type !== dest.datum_type) {\n    return false; // false, datums are not equal\n  } else if (source.a !== dest.a || Math.abs(source.es - dest.es) > 0.000000000050) {\n    // the tolerance for es is to ensure that GRS80 and WGS84\n    // are considered identical\n    return false;\n  } else if (source.datum_type === PJD_3PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2]);\n  } else if (source.datum_type === PJD_7PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2] && source.datum_params[3] === dest.datum_params[3] && source.datum_params[4] === dest.datum_params[4] && source.datum_params[5] === dest.datum_params[5] && source.datum_params[6] === dest.datum_params[6]);\n  } else {\n    return true; // datums are equal\n  }\n} // cs_compare_datums()\n\n/*\n * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates\n * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),\n * according to the current ellipsoid parameters.\n *\n *    Latitude  : Geodetic latitude in radians                     (input)\n *    Longitude : Geodetic longitude in radians                    (input)\n *    Height    : Geodetic height, in meters                       (input)\n *    X         : Calculated Geocentric X coordinate, in meters    (output)\n *    Y         : Calculated Geocentric Y coordinate, in meters    (output)\n *    Z         : Calculated Geocentric Z coordinate, in meters    (output)\n *\n */\nexport function geodeticToGeocentric(p, es, a) {\n  var Longitude = p.x;\n  var Latitude = p.y;\n  var Height = p.z ? p.z : 0; //Z value not always supplied\n\n  var Rn; /*  Earth radius at location  */\n  var Sin_Lat; /*  Math.sin(Latitude)  */\n  var Sin2_Lat; /*  Square of Math.sin(Latitude)  */\n  var Cos_Lat; /*  Math.cos(Latitude)  */\n\n  /*\n   ** Don't blow up if Latitude is just a little out of the value\n   ** range as it may just be a rounding issue.  Also removed longitude\n   ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.\n   */\n  if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {\n    Latitude = -HALF_PI;\n  } else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {\n    Latitude = HALF_PI;\n  } else if ((Latitude < -HALF_PI) || (Latitude > HALF_PI)) {\n    /* Latitude out of range */\n    //..reportError('geocent:lat out of range:' + Latitude);\n    return null;\n  }\n\n  if (Longitude > Math.PI) {\n    Longitude -= (2 * Math.PI);\n  }\n  Sin_Lat = Math.sin(Latitude);\n  Cos_Lat = Math.cos(Latitude);\n  Sin2_Lat = Sin_Lat * Sin_Lat;\n  Rn = a / (Math.sqrt(1.0e0 - es * Sin2_Lat));\n  return {\n    x: (Rn + Height) * Cos_Lat * Math.cos(Longitude),\n    y: (Rn + Height) * Cos_Lat * Math.sin(Longitude),\n    z: ((Rn * (1 - es)) + Height) * Sin_Lat\n  };\n} // cs_geodetic_to_geocentric()\n\nexport function geocentricToGeodetic(p, es, a, b) {\n  /* local defintions and variables */\n  /* end-criterium of loop, accuracy of sin(Latitude) */\n  var genau = 1e-12;\n  var genau2 = (genau * genau);\n  var maxiter = 30;\n\n  var P; /* distance between semi-minor axis and location */\n  var RR; /* distance between center and location */\n  var CT; /* sin of geocentric latitude */\n  var ST; /* cos of geocentric latitude */\n  var RX;\n  var RK;\n  var RN; /* Earth radius at location */\n  var CPHI0; /* cos of start or old geodetic latitude in iterations */\n  var SPHI0; /* sin of start or old geodetic latitude in iterations */\n  var CPHI; /* cos of searched geodetic latitude */\n  var SPHI; /* sin of searched geodetic latitude */\n  var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */\n  var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */\n\n  var X = p.x;\n  var Y = p.y;\n  var Z = p.z ? p.z : 0.0; //Z value not always supplied\n  var Longitude;\n  var Latitude;\n  var Height;\n\n  P = Math.sqrt(X * X + Y * Y);\n  RR = Math.sqrt(X * X + Y * Y + Z * Z);\n\n  /*      special cases for latitude and longitude */\n  if (P / a < genau) {\n\n    /*  special case, if P=0. (X=0., Y=0.) */\n    Longitude = 0.0;\n\n    /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis\n     *  of ellipsoid (=center of mass), Latitude becomes PI/2 */\n    if (RR / a < genau) {\n      Latitude = HALF_PI;\n      Height = -b;\n      return {\n        x: p.x,\n        y: p.y,\n        z: p.z\n      };\n    }\n  } else {\n    /*  ellipsoidal (geodetic) longitude\n     *  interval: -PI < Longitude <= +PI */\n    Longitude = Math.atan2(Y, X);\n  }\n\n  /* --------------------------------------------------------------\n   * Following iterative algorithm was developped by\n   * \"Institut for Erdmessung\", University of Hannover, July 1988.\n   * Internet: www.ife.uni-hannover.de\n   * Iterative computation of CPHI,SPHI and Height.\n   * Iteration of CPHI and SPHI to 10**-12 radian resp.\n   * 2*10**-7 arcsec.\n   * --------------------------------------------------------------\n   */\n  CT = Z / RR;\n  ST = P / RR;\n  RX = 1.0 / Math.sqrt(1.0 - es * (2.0 - es) * ST * ST);\n  CPHI0 = ST * (1.0 - es) * RX;\n  SPHI0 = CT * RX;\n  iter = 0;\n\n  /* loop to find sin(Latitude) resp. Latitude\n   * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */\n  do {\n    iter++;\n    RN = a / Math.sqrt(1.0 - es * SPHI0 * SPHI0);\n\n    /*  ellipsoidal (geodetic) height */\n    Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - es * SPHI0 * SPHI0);\n\n    RK = es * RN / (RN + Height);\n    RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);\n    CPHI = ST * (1.0 - RK) * RX;\n    SPHI = CT * RX;\n    SDPHI = SPHI * CPHI0 - CPHI * SPHI0;\n    CPHI0 = CPHI;\n    SPHI0 = SPHI;\n  }\n  while (SDPHI * SDPHI > genau2 && iter < maxiter);\n\n  /*      ellipsoidal (geodetic) latitude */\n  Latitude = Math.atan(SPHI / Math.abs(CPHI));\n  return {\n    x: Longitude,\n    y: Latitude,\n    z: Height\n  };\n} // cs_geocentric_to_geodetic()\n\n/****************************************************************/\n// pj_geocentic_to_wgs84( p )\n//  p = point to transform in geocentric coordinates (x,y,z)\n\n\n/** point object, nothing fancy, just allows values to be\n    passed back and forth by reference rather than by value.\n    Other point classes may be used as long as they have\n    x and y properties, which will get modified in the transform method.\n*/\nexport function geocentricToWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x + datum_params[0],\n      y: p.y + datum_params[1],\n      z: p.z + datum_params[2],\n    };\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF,\n      y: M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF,\n      z: M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF\n    };\n  }\n} // cs_geocentric_to_wgs84\n\n/****************************************************************/\n// pj_geocentic_from_wgs84()\n//  coordinate system definition,\n//  point to transform in geocentric coordinates (x,y,z)\nexport function geocentricFromWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x - datum_params[0],\n      y: p.y - datum_params[1],\n      z: p.z - datum_params[2],\n    };\n\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    var x_tmp = (p.x - Dx_BF) / M_BF;\n    var y_tmp = (p.y - Dy_BF) / M_BF;\n    var z_tmp = (p.z - Dz_BF) / M_BF;\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n\n    return {\n      x: x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp,\n      y: -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp,\n      z: Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp\n    };\n  } //cs_geocentric_from_wgs84()\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/datumUtils.js\n// module id = null\n// module chunks = ","export default function(crs, denorm, point) {\n  var xin = point.x,\n    yin = point.y,\n    zin = point.z || 0.0;\n  var v, t, i;\n  var out = {};\n  for (i = 0; i < 3; i++) {\n    if (denorm && i === 2 && point.z === undefined) {\n      continue;\n    }\n    if (i === 0) {\n      v = xin;\n      t = 'x';\n    }\n    else if (i === 1) {\n      v = yin;\n      t = 'y';\n    }\n    else {\n      v = zin;\n      t = 'z';\n    }\n    switch (crs.axis[i]) {\n    case 'e':\n      out[t] = v;\n      break;\n    case 'w':\n      out[t] = -v;\n      break;\n    case 'n':\n      out[t] = v;\n      break;\n    case 's':\n      out[t] = -v;\n      break;\n    case 'u':\n      if (point[t] !== undefined) {\n        out.z = v;\n      }\n      break;\n    case 'd':\n      if (point[t] !== undefined) {\n        out.z = -v;\n      }\n      break;\n    default:\n      //console.log(\"ERROR: unknow axis (\"+crs.axis[i]+\") - check definition of \"+crs.projName);\n      return null;\n    }\n  }\n  return out;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/adjust_axis.js\n// module id = null\n// module chunks = ","export default function (array){\n  var out = {\n    x: array[0],\n    y: array[1]\n  };\n  if (array.length>2) {\n    out.z = array[2];\n  }\n  if (array.length>3) {\n    out.m = array[3];\n  }\n  return out;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/toPoint.js\n// module id = null\n// module chunks = ","export default function (point) {\n  checkCoord(point.x);\n  checkCoord(point.y);\n}\nfunction checkCoord(num) {\n  if (typeof Number.isFinite === 'function') {\n    if (Number.isFinite(num)) {\n      return;\n    }\n    throw new TypeError('coordinates must be finite numbers');\n  }\n  if (typeof num !== 'number' || num !== num || !isFinite(num)) {\n    throw new TypeError('coordinates must be finite numbers');\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/checkSanity.js\n// module id = null\n// module chunks = ","import {D2R, R2D, PJD_3PARAM, PJD_7PARAM} from './constants/values';\nimport datum_transform from './datum_transform';\nimport adjust_axis from './adjust_axis';\nimport proj from './Proj';\nimport toPoint from './common/toPoint';\nimport checkSanity from './checkSanity';\n\nfunction checkNotWGS(source, dest) {\n  return ((source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM) && dest.datumCode !== 'WGS84') || ((dest.datum.datum_type === PJD_3PARAM || dest.datum.datum_type === PJD_7PARAM) && source.datumCode !== 'WGS84');\n}\n\nexport default function transform(source, dest, point) {\n  var wgs84;\n  if (Array.isArray(point)) {\n    point = toPoint(point);\n  }\n  checkSanity(point);\n  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84\n  if (source.datum && dest.datum && checkNotWGS(source, dest)) {\n    wgs84 = new proj('WGS84');\n    point = transform(source, wgs84, point);\n    source = wgs84;\n  }\n  // DGR, 2010/11/12\n  if (source.axis !== 'enu') {\n    point = adjust_axis(source, false, point);\n  }\n  // Transform source points to long/lat, if they aren't already.\n  if (source.projName === 'longlat') {\n    point = {\n      x: point.x * D2R,\n      y: point.y * D2R\n    };\n  }\n  else {\n    if (source.to_meter) {\n      point = {\n        x: point.x * source.to_meter,\n        y: point.y * source.to_meter\n      };\n    }\n    point = source.inverse(point); // Convert Cartesian to longlat\n  }\n  // Adjust for the prime meridian if necessary\n  if (source.from_greenwich) {\n    point.x += source.from_greenwich;\n  }\n\n  // Convert datums if needed, and if possible.\n  point = datum_transform(source.datum, dest.datum, point);\n\n  // Adjust for the prime meridian if necessary\n  if (dest.from_greenwich) {\n    point = {\n      x: point.x - dest.from_greenwich,\n      y: point.y\n    };\n  }\n\n  if (dest.projName === 'longlat') {\n    // convert radians to decimal degrees\n    point = {\n      x: point.x * R2D,\n      y: point.y * R2D\n    };\n  } else { // else project\n    point = dest.forward(point);\n    if (dest.to_meter) {\n      point = {\n        x: point.x / dest.to_meter,\n        y: point.y / dest.to_meter\n      };\n    }\n  }\n\n  // DGR, 2010/11/12\n  if (dest.axis !== 'enu') {\n    return adjust_axis(dest, true, point);\n  }\n\n  return point;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/transform.js\n// module id = null\n// module chunks = ","import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords) {\n  var transformedArray, out, keys;\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords);\n    if (coords.length === 3) {\n      return [transformedArray.x, transformedArray.y, transformedArray.z];\n    }\n    else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  }\n  else {\n    out = transform(from, to, coords);\n    keys = Object.keys(coords);\n    if (keys.length === 2) {\n      return out;\n    }\n    keys.forEach(function (key) {\n      if (key === 'x' || key === 'y') {\n        return;\n      }\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n  if (item.oProj) {\n    return item.oProj;\n  }\n  return proj(item);\n}\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  toProj = checkProj(toProj);\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  }\n  else {\n    obj = {\n      forward: function(coords) {\n        return transformer(fromProj, toProj, coords);\n      },\n      inverse: function(coords) {\n        return transformer(toProj, fromProj, coords);\n      }\n    };\n    if (single) {\n      obj.oProj = toProj;\n    }\n    return obj;\n  }\n}\nexport default proj4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/core.js\n// module id = null\n// module chunks = ","\n\n\n/**\n * UTM zones are grouped, and assigned to one of a group of 6\n * sets.\n *\n * {int} @private\n */\nvar NUM_100K_SETS = 6;\n\n/**\n * The column letters (for easting) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';\n\n/**\n * The row letters (for northing) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_ROW_LETTERS = 'AFAFAF';\n\nvar A = 65; // A\nvar I = 73; // I\nvar O = 79; // O\nvar V = 86; // V\nvar Z = 90; // Z\nexport default {\n  forward: forward,\n  inverse: inverse,\n  toPoint: toPoint\n};\n/**\n * Conversion of lat/lon to MGRS.\n *\n * @param {object} ll Object literal with lat and lon properties on a\n *     WGS84 ellipsoid.\n * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for\n *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.\n * @return {string} the MGRS string for the given location and accuracy.\n */\nexport function forward(ll, accuracy) {\n  accuracy = accuracy || 5; // default accuracy 1m\n  return encode(LLtoUTM({\n    lat: ll[1],\n    lon: ll[0]\n  }), accuracy);\n};\n\n/**\n * Conversion of MGRS to lat/lon.\n *\n * @param {string} mgrs MGRS string.\n * @return {array} An array with left (longitude), bottom (latitude), right\n *     (longitude) and top (latitude) values in WGS84, representing the\n *     bounding box for the provided MGRS reference.\n */\nexport function inverse(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];\n  }\n  return [bbox.left, bbox.bottom, bbox.right, bbox.top];\n};\n\nexport function toPoint(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat];\n  }\n  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];\n};\n/**\n * Conversion from degrees to radians.\n *\n * @private\n * @param {number} deg the angle in degrees.\n * @return {number} the angle in radians.\n */\nfunction degToRad(deg) {\n  return (deg * (Math.PI / 180.0));\n}\n\n/**\n * Conversion from radians to degrees.\n *\n * @private\n * @param {number} rad the angle in radians.\n * @return {number} the angle in degrees.\n */\nfunction radToDeg(rad) {\n  return (180.0 * (rad / Math.PI));\n}\n\n/**\n * Converts a set of Longitude and Latitude co-ordinates to UTM\n * using the WGS84 ellipsoid.\n *\n * @private\n * @param {object} ll Object literal with lat and lon properties\n *     representing the WGS84 coordinate to be converted.\n * @return {object} Object literal containing the UTM value with easting,\n *     northing, zoneNumber and zoneLetter properties, and an optional\n *     accuracy property in digits. Returns null if the conversion failed.\n */\nfunction LLtoUTM(ll) {\n  var Lat = ll.lat;\n  var Long = ll.lon;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var k0 = 0.9996;\n  var LongOrigin;\n  var eccPrimeSquared;\n  var N, T, C, A, M;\n  var LatRad = degToRad(Lat);\n  var LongRad = degToRad(Long);\n  var LongOriginRad;\n  var ZoneNumber;\n  // (int)\n  ZoneNumber = Math.floor((Long + 180) / 6) + 1;\n\n  //Make sure the longitude 180.00 is in Zone 60\n  if (Long === 180) {\n    ZoneNumber = 60;\n  }\n\n  // Special zone for Norway\n  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {\n    ZoneNumber = 32;\n  }\n\n  // Special zones for Svalbard\n  if (Lat >= 72.0 && Lat < 84.0) {\n    if (Long >= 0.0 && Long < 9.0) {\n      ZoneNumber = 31;\n    }\n    else if (Long >= 9.0 && Long < 21.0) {\n      ZoneNumber = 33;\n    }\n    else if (Long >= 21.0 && Long < 33.0) {\n      ZoneNumber = 35;\n    }\n    else if (Long >= 33.0 && Long < 42.0) {\n      ZoneNumber = 37;\n    }\n  }\n\n  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin\n  // in middle of\n  // zone\n  LongOriginRad = degToRad(LongOrigin);\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));\n  T = Math.tan(LatRad) * Math.tan(LatRad);\n  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);\n  A = Math.cos(LatRad) * (LongRad - LongOriginRad);\n\n  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));\n\n  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);\n\n  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));\n  if (Lat < 0.0) {\n    UTMNorthing += 10000000.0; //10000000 meter offset for\n    // southern hemisphere\n  }\n\n  return {\n    northing: Math.round(UTMNorthing),\n    easting: Math.round(UTMEasting),\n    zoneNumber: ZoneNumber,\n    zoneLetter: getLetterDesignator(Lat)\n  };\n}\n\n/**\n * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience\n * class where the Zone can be specified as a single string eg.\"60N\" which\n * is then broken down into the ZoneNumber and ZoneLetter.\n *\n * @private\n * @param {object} utm An object literal with northing, easting, zoneNumber\n *     and zoneLetter properties. If an optional accuracy property is\n *     provided (in meters), a bounding box will be returned instead of\n *     latitude and longitude.\n * @return {object} An object literal containing either lat and lon values\n *     (if no accuracy was provided), or top, right, bottom and left values\n *     for the bounding box calculated according to the provided accuracy.\n *     Returns null if the conversion failed.\n */\nfunction UTMtoLL(utm) {\n\n  var UTMNorthing = utm.northing;\n  var UTMEasting = utm.easting;\n  var zoneLetter = utm.zoneLetter;\n  var zoneNumber = utm.zoneNumber;\n  // check the ZoneNummber is valid\n  if (zoneNumber < 0 || zoneNumber > 60) {\n    return null;\n  }\n\n  var k0 = 0.9996;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var eccPrimeSquared;\n  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));\n  var N1, T1, C1, R1, D, M;\n  var LongOrigin;\n  var mu, phi1Rad;\n\n  // remove 500,000 meter offset for longitude\n  var x = UTMEasting - 500000.0;\n  var y = UTMNorthing;\n\n  // We must know somehow if we are in the Northern or Southern\n  // hemisphere, this is the only time we use the letter So even\n  // if the Zone letter isn't exactly correct it should indicate\n  // the hemisphere correctly\n  if (zoneLetter < 'N') {\n    y -= 10000000.0; // remove 10,000,000 meter offset used\n    // for southern hemisphere\n  }\n\n  // There are 60 zones with zone 1 being at West -180 to -174\n  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin\n  // in middle of\n  // zone\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  M = y / k0;\n  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\n\n  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\n  // double phi1 = ProjMath.radToDeg(phi1Rad);\n\n  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\n  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\n  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\n  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\n  D = x / (N1 * k0);\n\n  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\n  lat = radToDeg(lat);\n\n  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);\n  lon = LongOrigin + radToDeg(lon);\n\n  var result;\n  if (utm.accuracy) {\n    var topRight = UTMtoLL({\n      northing: utm.northing + utm.accuracy,\n      easting: utm.easting + utm.accuracy,\n      zoneLetter: utm.zoneLetter,\n      zoneNumber: utm.zoneNumber\n    });\n    result = {\n      top: topRight.lat,\n      right: topRight.lon,\n      bottom: lat,\n      left: lon\n    };\n  }\n  else {\n    result = {\n      lat: lat,\n      lon: lon\n    };\n  }\n  return result;\n}\n\n/**\n * Calculates the MGRS letter designator for the given latitude.\n *\n * @private\n * @param {number} lat The latitude in WGS84 to get the letter designator\n *     for.\n * @return {char} The letter designator.\n */\nfunction getLetterDesignator(lat) {\n  //This is here as an error flag to show that the Latitude is\n  //outside MGRS limits\n  var LetterDesignator = 'Z';\n\n  if ((84 >= lat) && (lat >= 72)) {\n    LetterDesignator = 'X';\n  }\n  else if ((72 > lat) && (lat >= 64)) {\n    LetterDesignator = 'W';\n  }\n  else if ((64 > lat) && (lat >= 56)) {\n    LetterDesignator = 'V';\n  }\n  else if ((56 > lat) && (lat >= 48)) {\n    LetterDesignator = 'U';\n  }\n  else if ((48 > lat) && (lat >= 40)) {\n    LetterDesignator = 'T';\n  }\n  else if ((40 > lat) && (lat >= 32)) {\n    LetterDesignator = 'S';\n  }\n  else if ((32 > lat) && (lat >= 24)) {\n    LetterDesignator = 'R';\n  }\n  else if ((24 > lat) && (lat >= 16)) {\n    LetterDesignator = 'Q';\n  }\n  else if ((16 > lat) && (lat >= 8)) {\n    LetterDesignator = 'P';\n  }\n  else if ((8 > lat) && (lat >= 0)) {\n    LetterDesignator = 'N';\n  }\n  else if ((0 > lat) && (lat >= -8)) {\n    LetterDesignator = 'M';\n  }\n  else if ((-8 > lat) && (lat >= -16)) {\n    LetterDesignator = 'L';\n  }\n  else if ((-16 > lat) && (lat >= -24)) {\n    LetterDesignator = 'K';\n  }\n  else if ((-24 > lat) && (lat >= -32)) {\n    LetterDesignator = 'J';\n  }\n  else if ((-32 > lat) && (lat >= -40)) {\n    LetterDesignator = 'H';\n  }\n  else if ((-40 > lat) && (lat >= -48)) {\n    LetterDesignator = 'G';\n  }\n  else if ((-48 > lat) && (lat >= -56)) {\n    LetterDesignator = 'F';\n  }\n  else if ((-56 > lat) && (lat >= -64)) {\n    LetterDesignator = 'E';\n  }\n  else if ((-64 > lat) && (lat >= -72)) {\n    LetterDesignator = 'D';\n  }\n  else if ((-72 > lat) && (lat >= -80)) {\n    LetterDesignator = 'C';\n  }\n  return LetterDesignator;\n}\n\n/**\n * Encodes a UTM location as MGRS string.\n *\n * @private\n * @param {object} utm An object literal with easting, northing,\n *     zoneLetter, zoneNumber\n * @param {number} accuracy Accuracy in digits (1-5).\n * @return {string} MGRS string for the given UTM location.\n */\nfunction encode(utm, accuracy) {\n  // prepend with leading zeroes\n  var seasting = \"00000\" + utm.easting,\n    snorthing = \"00000\" + utm.northing;\n\n  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);\n}\n\n/**\n * Get the two letter 100k designator for a given UTM easting,\n * northing and zone number value.\n *\n * @private\n * @param {number} easting\n * @param {number} northing\n * @param {number} zoneNumber\n * @return the two letter 100k designator for the given UTM location.\n */\nfunction get100kID(easting, northing, zoneNumber) {\n  var setParm = get100kSetForZone(zoneNumber);\n  var setColumn = Math.floor(easting / 100000);\n  var setRow = Math.floor(northing / 100000) % 20;\n  return getLetter100kID(setColumn, setRow, setParm);\n}\n\n/**\n * Given a UTM zone number, figure out the MGRS 100K set it is in.\n *\n * @private\n * @param {number} i An UTM zone number.\n * @return {number} the 100k set the UTM zone is in.\n */\nfunction get100kSetForZone(i) {\n  var setParm = i % NUM_100K_SETS;\n  if (setParm === 0) {\n    setParm = NUM_100K_SETS;\n  }\n\n  return setParm;\n}\n\n/**\n * Get the two-letter MGRS 100k designator given information\n * translated from the UTM northing, easting and zone number.\n *\n * @private\n * @param {number} column the column index as it relates to the MGRS\n *        100k set spreadsheet, created from the UTM easting.\n *        Values are 1-8.\n * @param {number} row the row index as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM northing value. Values\n *        are from 0-19.\n * @param {number} parm the set block, as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM zone. Values are from\n *        1-60.\n * @return two letter MGRS 100k code.\n */\nfunction getLetter100kID(column, row, parm) {\n  // colOrigin and rowOrigin are the letters at the origin of the set\n  var index = parm - 1;\n  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);\n  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);\n\n  // colInt and rowInt are the letters to build to return\n  var colInt = colOrigin + column - 1;\n  var rowInt = rowOrigin + row;\n  var rollover = false;\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n    rollover = true;\n  }\n\n  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {\n    colInt++;\n  }\n\n  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {\n    colInt++;\n\n    if (colInt === I) {\n      colInt++;\n    }\n  }\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n    rollover = true;\n  }\n  else {\n    rollover = false;\n  }\n\n  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {\n    rowInt++;\n  }\n\n  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {\n    rowInt++;\n\n    if (rowInt === I) {\n      rowInt++;\n    }\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n  }\n\n  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);\n  return twoLetter;\n}\n\n/**\n * Decode the UTM parameters from a MGRS string.\n *\n * @private\n * @param {string} mgrsString an UPPERCASE coordinate string is expected.\n * @return {object} An object literal with easting, northing, zoneLetter,\n *     zoneNumber and accuracy (in meters) properties.\n */\nfunction decode(mgrsString) {\n\n  if (mgrsString && mgrsString.length === 0) {\n    throw (\"MGRSPoint coverting from nothing\");\n  }\n\n  var length = mgrsString.length;\n\n  var hunK = null;\n  var sb = \"\";\n  var testChar;\n  var i = 0;\n\n  // get Zone number\n  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {\n    if (i >= 2) {\n      throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n    }\n    sb += testChar;\n    i++;\n  }\n\n  var zoneNumber = parseInt(sb, 10);\n\n  if (i === 0 || i + 3 > length) {\n    // A good MGRS string has to be 4-5 digits long,\n    // ##AAA/#AAA at least.\n    throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n  }\n\n  var zoneLetter = mgrsString.charAt(i++);\n\n  // Should we check the zone letter here? Why not.\n  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {\n    throw (\"MGRSPoint zone letter \" + zoneLetter + \" not handled: \" + mgrsString);\n  }\n\n  hunK = mgrsString.substring(i, i += 2);\n\n  var set = get100kSetForZone(zoneNumber);\n\n  var east100k = getEastingFromChar(hunK.charAt(0), set);\n  var north100k = getNorthingFromChar(hunK.charAt(1), set);\n\n  // We have a bug where the northing may be 2000000 too low.\n  // How\n  // do we know when to roll over?\n\n  while (north100k < getMinNorthing(zoneLetter)) {\n    north100k += 2000000;\n  }\n\n  // calculate the char index for easting/northing separator\n  var remainder = length - i;\n\n  if (remainder % 2 !== 0) {\n    throw (\"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters\" + mgrsString);\n  }\n\n  var sep = remainder / 2;\n\n  var sepEasting = 0.0;\n  var sepNorthing = 0.0;\n  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;\n  if (sep > 0) {\n    accuracyBonus = 100000.0 / Math.pow(10, sep);\n    sepEastingString = mgrsString.substring(i, i + sep);\n    sepEasting = parseFloat(sepEastingString) * accuracyBonus;\n    sepNorthingString = mgrsString.substring(i + sep);\n    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;\n  }\n\n  easting = sepEasting + east100k;\n  northing = sepNorthing + north100k;\n\n  return {\n    easting: easting,\n    northing: northing,\n    zoneLetter: zoneLetter,\n    zoneNumber: zoneNumber,\n    accuracy: accuracyBonus\n  };\n}\n\n/**\n * Given the first letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the easting value that\n * should be added to the other, secondary easting value.\n *\n * @private\n * @param {char} e The first letter from a two-letter MGRS 100´k zone.\n * @param {number} set The MGRS table set for the zone number.\n * @return {number} The easting value for the given letter and set.\n */\nfunction getEastingFromChar(e, set) {\n  // colOrigin is the letter at the origin of the set for the\n  // column\n  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);\n  var eastingValue = 100000.0;\n  var rewindMarker = false;\n\n  while (curCol !== e.charCodeAt(0)) {\n    curCol++;\n    if (curCol === I) {\n      curCol++;\n    }\n    if (curCol === O) {\n      curCol++;\n    }\n    if (curCol > Z) {\n      if (rewindMarker) {\n        throw (\"Bad character: \" + e);\n      }\n      curCol = A;\n      rewindMarker = true;\n    }\n    eastingValue += 100000.0;\n  }\n\n  return eastingValue;\n}\n\n/**\n * Given the second letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the northing value that\n * should be added to the other, secondary northing value. You have to\n * remember that Northings are determined from the equator, and the vertical\n * cycle of letters mean a 2000000 additional northing meters. This happens\n * approx. every 18 degrees of latitude. This method does *NOT* count any\n * additional northings. You have to figure out how many 2000000 meters need\n * to be added for the zone letter of the MGRS coordinate.\n *\n * @private\n * @param {char} n Second letter of the MGRS 100k zone\n * @param {number} set The MGRS table set number, which is dependent on the\n *     UTM zone number.\n * @return {number} The northing value for the given letter and set.\n */\nfunction getNorthingFromChar(n, set) {\n\n  if (n > 'V') {\n    throw (\"MGRSPoint given invalid Northing \" + n);\n  }\n\n  // rowOrigin is the letter at the origin of the set for the\n  // column\n  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);\n  var northingValue = 0.0;\n  var rewindMarker = false;\n\n  while (curRow !== n.charCodeAt(0)) {\n    curRow++;\n    if (curRow === I) {\n      curRow++;\n    }\n    if (curRow === O) {\n      curRow++;\n    }\n    // fixing a bug making whole application hang in this loop\n    // when 'n' is a wrong character\n    if (curRow > V) {\n      if (rewindMarker) { // making sure that this loop ends\n        throw (\"Bad character: \" + n);\n      }\n      curRow = A;\n      rewindMarker = true;\n    }\n    northingValue += 100000.0;\n  }\n\n  return northingValue;\n}\n\n/**\n * The function getMinNorthing returns the minimum northing value of a MGRS\n * zone.\n *\n * Ported from Geotrans' c Lattitude_Band_Value structure table.\n *\n * @private\n * @param {char} zoneLetter The MGRS zone to get the min northing for.\n * @return {number}\n */\nfunction getMinNorthing(zoneLetter) {\n  var northing;\n  switch (zoneLetter) {\n  case 'C':\n    northing = 1100000.0;\n    break;\n  case 'D':\n    northing = 2000000.0;\n    break;\n  case 'E':\n    northing = 2800000.0;\n    break;\n  case 'F':\n    northing = 3700000.0;\n    break;\n  case 'G':\n    northing = 4600000.0;\n    break;\n  case 'H':\n    northing = 5500000.0;\n    break;\n  case 'J':\n    northing = 6400000.0;\n    break;\n  case 'K':\n    northing = 7300000.0;\n    break;\n  case 'L':\n    northing = 8200000.0;\n    break;\n  case 'M':\n    northing = 9100000.0;\n    break;\n  case 'N':\n    northing = 0.0;\n    break;\n  case 'P':\n    northing = 800000.0;\n    break;\n  case 'Q':\n    northing = 1700000.0;\n    break;\n  case 'R':\n    northing = 2600000.0;\n    break;\n  case 'S':\n    northing = 3500000.0;\n    break;\n  case 'T':\n    northing = 4400000.0;\n    break;\n  case 'U':\n    northing = 5300000.0;\n    break;\n  case 'V':\n    northing = 6200000.0;\n    break;\n  case 'W':\n    northing = 7000000.0;\n    break;\n  case 'X':\n    northing = 7900000.0;\n    break;\n  default:\n    northing = -1.0;\n  }\n  if (northing >= 0.0) {\n    return northing;\n  }\n  else {\n    throw (\"Invalid zone letter: \" + zoneLetter);\n  }\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mgrs/mgrs.js\n// module id = null\n// module chunks = ","import {toPoint, forward} from 'mgrs';\n\nfunction Point(x, y, z) {\n  if (!(this instanceof Point)) {\n    return new Point(x, y, z);\n  }\n  if (Array.isArray(x)) {\n    this.x = x[0];\n    this.y = x[1];\n    this.z = x[2] || 0.0;\n  } else if(typeof x === 'object') {\n    this.x = x.x;\n    this.y = x.y;\n    this.z = x.z || 0.0;\n  } else if (typeof x === 'string' && typeof y === 'undefined') {\n    var coords = x.split(',');\n    this.x = parseFloat(coords[0], 10);\n    this.y = parseFloat(coords[1], 10);\n    this.z = parseFloat(coords[2], 10) || 0.0;\n  } else {\n    this.x = x;\n    this.y = y;\n    this.z = z || 0.0;\n  }\n  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');\n}\n\nPoint.fromMGRS = function(mgrsStr) {\n  return new Point(toPoint(mgrsStr));\n};\nPoint.prototype.toMGRS = function(accuracy) {\n  return forward([this.x, this.y], accuracy);\n};\nexport default Point;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/Point.js\n// module id = null\n// module chunks = ","var C00 = 1;\nvar C02 = 0.25;\nvar C04 = 0.046875;\nvar C06 = 0.01953125;\nvar C08 = 0.01068115234375;\nvar C22 = 0.75;\nvar C44 = 0.46875;\nvar C46 = 0.01302083333333333333;\nvar C48 = 0.00712076822916666666;\nvar C66 = 0.36458333333333333333;\nvar C68 = 0.00569661458333333333;\nvar C88 = 0.3076171875;\n\nexport default function(es) {\n  var en = [];\n  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));\n  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));\n  var t = es * es;\n  en[2] = t * (C44 - es * (C46 + es * C48));\n  t *= es;\n  en[3] = t * (C66 - es * C68);\n  en[4] = t * es * C88;\n  return en;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/pj_enfn.js\n// module id = null\n// module chunks = ","export default function(phi, sphi, cphi, en) {\n  cphi *= sphi;\n  sphi *= sphi;\n  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/pj_mlfn.js\n// module id = null\n// module chunks = ","import pj_mlfn from \"./pj_mlfn\";\nimport {EPSLN} from '../constants/values';\n\nvar MAX_ITER = 20;\n\nexport default function(arg, es, en) {\n  var k = 1 / (1 - es);\n  var phi = arg;\n  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */\n    var s = Math.sin(phi);\n    var t = 1 - es * s * s;\n    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;\n    //phi -= t * (t * Math.sqrt(t)) * k;\n    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;\n    phi -= t;\n    if (Math.abs(t) < EPSLN) {\n      return phi;\n    }\n  }\n  //..reportError(\"cass:pj_inv_mlfn: Convergence error\");\n  return phi;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/pj_inv_mlfn.js\n// module id = null\n// module chunks = ","// Heavily based on this tmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/tmerc.js\n\nimport pj_enfn from '../common/pj_enfn';\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport adjust_lon from '../common/adjust_lon';\n\nimport {EPSLN, HALF_PI} from '../constants/values';\nimport sign from '../common/sign';\n\nexport function init() {\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);\n  }\n}\n\n/**\n    Transverse Mercator Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var con;\n  var x, y;\n  var sin_phi = Math.sin(lat);\n  var cos_phi = Math.cos(lat);\n\n  if (!this.es) {\n    var b = cos_phi * Math.sin(delta_lon);\n\n    if ((Math.abs(Math.abs(b) - 1)) < EPSLN) {\n      return (93);\n    }\n    else {\n      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0;\n      y = cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - Math.pow(b, 2));\n      b = Math.abs(y);\n\n      if (b >= 1) {\n        if ((b - 1) > EPSLN) {\n          return (93);\n        }\n        else {\n          y = 0;\n        }\n      }\n      else {\n        y = Math.acos(y);\n      }\n\n      if (lat < 0) {\n        y = -y;\n      }\n\n      y = this.a * this.k0 * (y - this.lat0) + this.y0;\n    }\n  }\n  else {\n    var al = cos_phi * delta_lon;\n    var als = Math.pow(al, 2);\n    var c = this.ep2 * Math.pow(cos_phi, 2);\n    var cs = Math.pow(c, 2);\n    var tq = Math.abs(cos_phi) > EPSLN ? Math.tan(lat) : 0;\n    var t = Math.pow(tq, 2);\n    var ts = Math.pow(t, 2);\n    con = 1 - this.es * Math.pow(sin_phi, 2);\n    al = al / Math.sqrt(con);\n    var ml = pj_mlfn(lat, sin_phi, cos_phi, this.en);\n\n    x = this.a * (this.k0 * al * (1 +\n      als / 6 * (1 - t + c +\n      als / 20 * (5 - 18 * t + ts + 14 * c - 58 * t * c +\n      als / 42 * (61 + 179 * ts - ts * t - 479 * t))))) +\n      this.x0;\n\n    y = this.a * (this.k0 * (ml - this.ml0 +\n      sin_phi * delta_lon * al / 2 * (1 +\n      als / 12 * (5 - t + 9 * c + 4 * cs +\n      als / 30 * (61 + ts - 58 * t + 270 * c - 330 * t * c +\n      als / 56 * (1385 + 543 * ts - ts * t - 3111 * t)))))) +\n      this.y0;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\n/**\n    Transverse Mercator Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var con, phi;\n  var lat, lon;\n  var x = (p.x - this.x0) * (1 / this.a);\n  var y = (p.y - this.y0) * (1 / this.a);\n\n  if (!this.es) {\n    var f = Math.exp(x / this.k0);\n    var g = 0.5 * (f - 1 / f);\n    var temp = this.lat0 + y / this.k0;\n    var h = Math.cos(temp);\n    con = Math.sqrt((1 - Math.pow(h, 2)) / (1 + Math.pow(g, 2)));\n    lat = Math.asin(con);\n\n    if (y < 0) {\n      lat = -lat;\n    }\n\n    if ((g === 0) && (h === 0)) {\n      lon = 0;\n    }\n    else {\n      lon = adjust_lon(Math.atan2(g, h) + this.long0);\n    }\n  }\n  else { // ellipsoidal form\n    con = this.ml0 + y / this.k0;\n    phi = pj_inv_mlfn(con, this.es, this.en);\n\n    if (Math.abs(phi) < HALF_PI) {\n      var sin_phi = Math.sin(phi);\n      var cos_phi = Math.cos(phi);\n      var tan_phi = Math.abs(cos_phi) > EPSLN ? Math.tan(phi) : 0;\n      var c = this.ep2 * Math.pow(cos_phi, 2);\n      var cs = Math.pow(c, 2);\n      var t = Math.pow(tan_phi, 2);\n      var ts = Math.pow(t, 2);\n      con = 1 - this.es * Math.pow(sin_phi, 2);\n      var d = x * Math.sqrt(con) / this.k0;\n      var ds = Math.pow(d, 2);\n      con = con * tan_phi;\n\n      lat = phi - (con * ds / (1 - this.es)) * 0.5 * (1 -\n        ds / 12 * (5 + 3 * t - 9 * c * t + c - 4 * cs -\n        ds / 30 * (61 + 90 * t - 252 * c * t + 45 * ts + 46 * c -\n        ds / 56 * (1385 + 3633 * t + 4095 * ts + 1574 * ts * t))));\n\n      lon = adjust_lon(this.long0 + (d * (1 -\n        ds / 6 * (1 + 2 * t + c -\n        ds / 20 * (5 + 28 * t + 24 * ts + 8 * c * t + 6 * c -\n        ds / 42 * (61 + 662 * t + 1320 * ts + 720 * ts * t)))) / cos_phi));\n    }\n    else {\n      lat = HALF_PI * sign(y);\n      lon = 0;\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Transverse_Mercator\", \"Transverse Mercator\", \"tmerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/tmerc.js\n// module id = null\n// module chunks = ","export default function(x) {\n  var r = Math.exp(x);\n  r = (r - 1 / r) / 2;\n  return r;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/sinh.js\n// module id = null\n// module chunks = ","export default function(x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  var a = Math.max(x, y);\n  var b = Math.min(x, y) / (a ? a : 1);\n\n  return a * Math.sqrt(1 + Math.pow(b, 2));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/hypot.js\n// module id = null\n// module chunks = ","import hypot from './hypot';\nimport log1py from './log1py';\n\nexport default function(x) {\n  var y = Math.abs(x);\n  y = log1py(y * (1 + y / (hypot(1, y) + 1)));\n\n  return x < 0 ? -y : y;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/asinhy.js\n// module id = null\n// module chunks = ","export default function(x) {\n  var y = 1 + x;\n  var z = y - 1;\n\n  return z === 0 ? x : x * Math.log(y) / z;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/log1py.js\n// module id = null\n// module chunks = ","export default function(pp, B) {\n  var cos_2B = 2 * Math.cos(2 * B);\n  var i = pp.length - 1;\n  var h1 = pp[i];\n  var h2 = 0;\n  var h;\n\n  while (--i >= 0) {\n    h = -h2 + cos_2B * h1 + pp[i];\n    h2 = h1;\n    h1 = h;\n  }\n\n  return (B + h * Math.sin(2 * B));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/gatg.js\n// module id = null\n// module chunks = ","export default function(pp, arg_r) {\n  var r = 2 * Math.cos(arg_r);\n  var i = pp.length - 1;\n  var hr1 = pp[i];\n  var hr2 = 0;\n  var hr;\n\n  while (--i >= 0) {\n    hr = -hr2 + r * hr1 + pp[i];\n    hr2 = hr1;\n    hr1 = hr;\n  }\n\n  return Math.sin(arg_r) * hr;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/clens.js\n// module id = null\n// module chunks = ","import sinh from './sinh';\nimport cosh from './cosh';\n\nexport default function(pp, arg_r, arg_i) {\n  var sin_arg_r = Math.sin(arg_r);\n  var cos_arg_r = Math.cos(arg_r);\n  var sinh_arg_i = sinh(arg_i);\n  var cosh_arg_i = cosh(arg_i);\n  var r = 2 * cos_arg_r * cosh_arg_i;\n  var i = -2 * sin_arg_r * sinh_arg_i;\n  var j = pp.length - 1;\n  var hr = pp[j];\n  var hi1 = 0;\n  var hr1 = 0;\n  var hi = 0;\n  var hr2;\n  var hi2;\n\n  while (--j >= 0) {\n    hr2 = hr1;\n    hi2 = hi1;\n    hr1 = hr;\n    hi1 = hi;\n    hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n    hi = -hi2 + i * hr1 + r * hi1;\n  }\n\n  r = sin_arg_r * cosh_arg_i;\n  i = cos_arg_r * sinh_arg_i;\n\n  return [r * hr - i * hi, r * hi + i * hr];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/clens_cmplx.js\n// module id = null\n// module chunks = ","export default function(x) {\n  var r = Math.exp(x);\n  r = (r + 1 / r) / 2;\n  return r;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/cosh.js\n// module id = null\n// module chunks = ","// Heavily based on this etmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/etmerc.js\n\nimport sinh from '../common/sinh';\nimport hypot from '../common/hypot';\nimport asinhy from '../common/asinhy';\nimport gatg from '../common/gatg';\nimport clens from '../common/clens';\nimport clens_cmplx from '../common/clens_cmplx';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  if (this.es === undefined || this.es <= 0) {\n    throw new Error('incorrect elliptical usage');\n  }\n\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  this.cgb = [];\n  this.cbg = [];\n  this.utg = [];\n  this.gtu = [];\n\n  var f = this.es / (1 + Math.sqrt(1 - this.es));\n  var n = f / (2 - f);\n  var np = n;\n\n  this.cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n  this.cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n  np = np * n;\n  this.cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n  this.cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n  np = np * n;\n  this.cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n  this.cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n  np = np * n;\n  this.cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n  this.cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n  np = np * n;\n  this.cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n  this.cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n  np = np * n;\n  this.cgb[5] = np * (601676 / 22275);\n  this.cbg[5] = np * (444337 / 155925);\n\n  np = Math.pow(n, 2);\n  this.Qn = this.k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n  this.utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n  this.gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n  this.utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n  this.gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n  np = np * n;\n  this.utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n  this.gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n  np = np * n;\n  this.utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n  this.gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n  np = np * n;\n  this.utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n  this.gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n  np = np * n;\n  this.utg[5] = np * (-20648693 / 638668800);\n  this.gtu[5] = np * (212378941 / 319334400);\n\n  var Z = gatg(this.cbg, this.lat0);\n  this.Zb = -this.Qn * (Z + clens(this.gtu, 2 * Z));\n}\n\nexport function forward(p) {\n  var Ce = adjust_lon(p.x - this.long0);\n  var Cn = p.y;\n\n  Cn = gatg(this.cbg, Cn);\n  var sin_Cn = Math.sin(Cn);\n  var cos_Cn = Math.cos(Cn);\n  var sin_Ce = Math.sin(Ce);\n  var cos_Ce = Math.cos(Ce);\n\n  Cn = Math.atan2(sin_Cn, cos_Ce * cos_Cn);\n  Ce = Math.atan2(sin_Ce * cos_Cn, hypot(sin_Cn, cos_Cn * cos_Ce));\n  Ce = asinhy(Math.tan(Ce));\n\n  var tmp = clens_cmplx(this.gtu, 2 * Cn, 2 * Ce);\n\n  Cn = Cn + tmp[0];\n  Ce = Ce + tmp[1];\n\n  var x;\n  var y;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    x = this.a * (this.Qn * Ce) + this.x0;\n    y = this.a * (this.Qn * Cn + this.Zb) + this.y0;\n  }\n  else {\n    x = Infinity;\n    y = Infinity;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\nexport function inverse(p) {\n  var Ce = (p.x - this.x0) * (1 / this.a);\n  var Cn = (p.y - this.y0) * (1 / this.a);\n\n  Cn = (Cn - this.Zb) / this.Qn;\n  Ce = Ce / this.Qn;\n\n  var lon;\n  var lat;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    var tmp = clens_cmplx(this.utg, 2 * Cn, 2 * Ce);\n\n    Cn = Cn + tmp[0];\n    Ce = Ce + tmp[1];\n    Ce = Math.atan(sinh(Ce));\n\n    var sin_Cn = Math.sin(Cn);\n    var cos_Cn = Math.cos(Cn);\n    var sin_Ce = Math.sin(Ce);\n    var cos_Ce = Math.cos(Ce);\n\n    Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n    Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n    lon = adjust_lon(Ce + this.long0);\n    lat = gatg(this.cgb, Cn);\n  }\n  else {\n    lon = Infinity;\n    lat = Infinity;\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Extended_Transverse_Mercator\", \"Extended Transverse Mercator\", \"etmerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/etmerc.js\n// module id = null\n// module chunks = ","import adjust_lon from './adjust_lon';\n\nexport default function(zone, lon) {\n  if (zone === undefined) {\n    zone = Math.floor((adjust_lon(lon) + Math.PI) * 30 / Math.PI) + 1;\n\n    if (zone < 0) {\n      return 0;\n    } else if (zone > 60) {\n      return 60;\n    }\n  }\n  return zone;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/adjust_zone.js\n// module id = null\n// module chunks = ","import adjust_zone from '../common/adjust_zone';\nimport etmerc from './etmerc';\nexport var dependsOn = 'etmerc';\nimport {D2R} from '../constants/values';\n\n\nexport function init() {\n  var zone = adjust_zone(this.zone, this.long0);\n  if (zone === undefined) {\n    throw new Error('unknown utm zone');\n  }\n  this.lat0 = 0;\n  this.long0 =  ((6 * Math.abs(zone)) - 183) * D2R;\n  this.x0 = 500000;\n  this.y0 = this.utmSouth ? 10000000 : 0;\n  this.k0 = 0.9996;\n\n  etmerc.init.apply(this);\n  this.forward = etmerc.forward;\n  this.inverse = etmerc.inverse;\n}\n\nexport var names = [\"Universal Transverse Mercator System\", \"utm\"];\nexport default {\n  init: init,\n  names: names,\n  dependsOn: dependsOn\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/utm.js\n// module id = null\n// module chunks = ","export default function(esinp, exp) {\n  return (Math.pow((1 - esinp) / (1 + esinp), exp));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/srat.js\n// module id = null\n// module chunks = ","import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport {HALF_PI, FORTPI} from '../constants/values';\n\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\n\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n    p.y = lat;\n  }\n  /* convergence failed */\n  if (!i) {\n    return null;\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/gauss.js\n// module id = null\n// module chunks = ","import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = \"Oblique Stereographic Alternative\";\n  }\n}\n\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\n\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if ((rho = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0);\n  return p;\n}\n\nexport var names = [\"Stereographic_North_Pole\", \"Oblique_Stereographic\", \"Polar_Stereographic\", \"sterea\",\"Oblique Stereographic Alternative\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/sterea.js\n// module id = null\n// module chunks = ","import {EPSLN, HALF_PI} from '../constants/values';\n\nimport sign from '../common/sign';\nimport msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function ssfn_(phit, sinphi, eccen) {\n  sinphi *= eccen;\n  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));\n}\n\nexport function init() {\n  this.coslat0 = Math.cos(this.lat0);\n  this.sinlat0 = Math.sin(this.lat0);\n  if (this.sphere) {\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));\n    }\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (this.lat0 > 0) {\n        //North pole\n        //trace('stere:north pole');\n        this.con = 1;\n      }\n      else {\n        //South pole\n        //trace('stere:south pole');\n        this.con = -1;\n      }\n    }\n    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));\n    }\n    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);\n    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;\n    this.cosX0 = Math.cos(this.X0);\n    this.sinX0 = Math.sin(this.X0);\n  }\n}\n\n// Stereographic forward equations--mapping lat,long to x,y\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinlat = Math.sin(lat);\n  var coslat = Math.cos(lat);\n  var A, X, sinX, cosX, ts, rh;\n  var dlon = adjust_lon(lon - this.long0);\n\n  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {\n    //case of the origine point\n    //trace('stere:this is the origin point');\n    p.x = NaN;\n    p.y = NaN;\n    return p;\n  }\n  if (this.sphere) {\n    //trace('stere:sphere case');\n    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));\n    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;\n    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;\n    return p;\n  }\n  else {\n    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;\n    cosX = Math.cos(X);\n    sinX = Math.sin(X);\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);\n      rh = 2 * this.a * this.k0 * ts / this.cons;\n      p.x = this.x0 + rh * Math.sin(lon - this.long0);\n      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);\n      //trace(p.toString());\n      return p;\n    }\n    else if (Math.abs(this.sinlat0) < EPSLN) {\n      //Eq\n      //trace('stere:equateur');\n      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));\n      p.y = A * sinX;\n    }\n    else {\n      //other case\n      //trace('stere:normal case');\n      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));\n      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;\n    }\n    p.x = A * cosX * Math.sin(dlon) + this.x0;\n  }\n  //trace(p.toString());\n  return p;\n}\n\n//* Stereographic inverse equations--mapping x,y to lat/long\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat, ts, ce, Chi;\n  var rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  if (this.sphere) {\n    var c = 2 * Math.atan(rh / (0.5 * this.a * this.k0));\n    lon = this.long0;\n    lat = this.lat0;\n    if (rh <= EPSLN) {\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);\n    if (Math.abs(this.coslat0) < EPSLN) {\n      if (this.lat0 > 0) {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      }\n      else {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      }\n    }\n    else {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (rh <= EPSLN) {\n        lat = this.lat0;\n        lon = this.long0;\n        p.x = lon;\n        p.y = lat;\n        //trace(p.toString());\n        return p;\n      }\n      p.x *= this.con;\n      p.y *= this.con;\n      ts = rh * this.cons / (2 * this.a * this.k0);\n      lat = this.con * phi2z(this.e, ts);\n      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));\n    }\n    else {\n      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));\n      lon = this.long0;\n      if (rh <= EPSLN) {\n        Chi = this.X0;\n      }\n      else {\n        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));\n      }\n      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n\n  //trace(p.toString());\n  return p;\n\n}\n\nexport var names = [\"stere\", \"Stereographic_South_Pole\", \"Polar Stereographic (variant B)\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  ssfn_: ssfn_\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/stere.js\n// module id = null\n// module chunks = ","import tsfnz from '../common/tsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport {EPSLN, HALF_PI, FORTPI} from '../constants/values';\n\n/* Initialize the Oblique Mercator  projection\n    ------------------------------------------*/\nexport function init() {\n  this.no_off = this.no_off || false;\n  this.no_rot = this.no_rot || false;\n\n  if (isNaN(this.k0)) {\n    this.k0 = 1;\n  }\n  var sinlat = Math.sin(this.lat0);\n  var coslat = Math.cos(this.lat0);\n  var con = this.e * sinlat;\n\n  this.bl = Math.sqrt(1 + this.es / (1 - this.es) * Math.pow(coslat, 4));\n  this.al = this.a * this.bl * this.k0 * Math.sqrt(1 - this.es) / (1 - con * con);\n  var t0 = tsfnz(this.e, this.lat0, sinlat);\n  var dl = this.bl / coslat * Math.sqrt((1 - this.es) / (1 - con * con));\n  if (dl * dl < 1) {\n    dl = 1;\n  }\n  var fl;\n  var gl;\n  if (!isNaN(this.longc)) {\n    //Central point and azimuth method\n\n    if (this.lat0 >= 0) {\n      fl = dl + Math.sqrt(dl * dl - 1);\n    }\n    else {\n      fl = dl - Math.sqrt(dl * dl - 1);\n    }\n    this.el = fl * Math.pow(t0, this.bl);\n    gl = 0.5 * (fl - 1 / fl);\n    this.gamma0 = Math.asin(Math.sin(this.alpha) / dl);\n    this.long0 = this.longc - Math.asin(gl * Math.tan(this.gamma0)) / this.bl;\n\n  }\n  else {\n    //2 points method\n    var t1 = tsfnz(this.e, this.lat1, Math.sin(this.lat1));\n    var t2 = tsfnz(this.e, this.lat2, Math.sin(this.lat2));\n    if (this.lat0 >= 0) {\n      this.el = (dl + Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);\n    }\n    else {\n      this.el = (dl - Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);\n    }\n    var hl = Math.pow(t1, this.bl);\n    var ll = Math.pow(t2, this.bl);\n    fl = this.el / hl;\n    gl = 0.5 * (fl - 1 / fl);\n    var jl = (this.el * this.el - ll * hl) / (this.el * this.el + ll * hl);\n    var pl = (ll - hl) / (ll + hl);\n    var dlon12 = adjust_lon(this.long1 - this.long2);\n    this.long0 = 0.5 * (this.long1 + this.long2) - Math.atan(jl * Math.tan(0.5 * this.bl * (dlon12)) / pl) / this.bl;\n    this.long0 = adjust_lon(this.long0);\n    var dlon10 = adjust_lon(this.long1 - this.long0);\n    this.gamma0 = Math.atan(Math.sin(this.bl * (dlon10)) / gl);\n    this.alpha = Math.asin(dl * Math.sin(this.gamma0));\n  }\n\n  if (this.no_off) {\n    this.uc = 0;\n  }\n  else {\n    if (this.lat0 >= 0) {\n      this.uc = this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));\n    }\n    else {\n      this.uc = -1 * this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));\n    }\n  }\n\n}\n\n/* Oblique Mercator forward equations--mapping lat,long to x,y\n    ----------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var dlon = adjust_lon(lon - this.long0);\n  var us, vs;\n  var con;\n  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n    if (lat > 0) {\n      con = -1;\n    }\n    else {\n      con = 1;\n    }\n    vs = this.al / this.bl * Math.log(Math.tan(FORTPI + con * this.gamma0 * 0.5));\n    us = -1 * con * HALF_PI * this.al / this.bl;\n  }\n  else {\n    var t = tsfnz(this.e, lat, Math.sin(lat));\n    var ql = this.el / Math.pow(t, this.bl);\n    var sl = 0.5 * (ql - 1 / ql);\n    var tl = 0.5 * (ql + 1 / ql);\n    var vl = Math.sin(this.bl * (dlon));\n    var ul = (sl * Math.sin(this.gamma0) - vl * Math.cos(this.gamma0)) / tl;\n    if (Math.abs(Math.abs(ul) - 1) <= EPSLN) {\n      vs = Number.POSITIVE_INFINITY;\n    }\n    else {\n      vs = 0.5 * this.al * Math.log((1 - ul) / (1 + ul)) / this.bl;\n    }\n    if (Math.abs(Math.cos(this.bl * (dlon))) <= EPSLN) {\n      us = this.al * this.bl * (dlon);\n    }\n    else {\n      us = this.al * Math.atan2(sl * Math.cos(this.gamma0) + vl * Math.sin(this.gamma0), Math.cos(this.bl * dlon)) / this.bl;\n    }\n  }\n\n  if (this.no_rot) {\n    p.x = this.x0 + us;\n    p.y = this.y0 + vs;\n  }\n  else {\n\n    us -= this.uc;\n    p.x = this.x0 + vs * Math.cos(this.alpha) + us * Math.sin(this.alpha);\n    p.y = this.y0 + us * Math.cos(this.alpha) - vs * Math.sin(this.alpha);\n  }\n  return p;\n}\n\nexport function inverse(p) {\n  var us, vs;\n  if (this.no_rot) {\n    vs = p.y - this.y0;\n    us = p.x - this.x0;\n  }\n  else {\n    vs = (p.x - this.x0) * Math.cos(this.alpha) - (p.y - this.y0) * Math.sin(this.alpha);\n    us = (p.y - this.y0) * Math.cos(this.alpha) + (p.x - this.x0) * Math.sin(this.alpha);\n    us += this.uc;\n  }\n  var qp = Math.exp(-1 * this.bl * vs / this.al);\n  var sp = 0.5 * (qp - 1 / qp);\n  var tp = 0.5 * (qp + 1 / qp);\n  var vp = Math.sin(this.bl * us / this.al);\n  var up = (vp * Math.cos(this.gamma0) + sp * Math.sin(this.gamma0)) / tp;\n  var ts = Math.pow(this.el / Math.sqrt((1 + up) / (1 - up)), 1 / this.bl);\n  if (Math.abs(up - 1) < EPSLN) {\n    p.x = this.long0;\n    p.y = HALF_PI;\n  }\n  else if (Math.abs(up + 1) < EPSLN) {\n    p.x = this.long0;\n    p.y = -1 * HALF_PI;\n  }\n  else {\n    p.y = phi2z(this.e, ts);\n    p.x = adjust_lon(this.long0 - Math.atan2(sp * Math.cos(this.gamma0) - vp * Math.sin(this.gamma0), Math.cos(this.bl * us / this.al)) / this.bl);\n  }\n  return p;\n}\n\nexport var names = [\"Hotine_Oblique_Mercator\", \"Hotine Oblique Mercator\", \"Hotine_Oblique_Mercator_Azimuth_Natural_Origin\", \"Hotine_Oblique_Mercator_Azimuth_Center\", \"omerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/omerc.js\n// module id = null\n// module chunks = ","import msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport sign from '../common/sign';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport {HALF_PI, EPSLN} from '../constants/values';\nexport function init() {\n\n  // array of:  r_maj,r_min,lat1,lat2,c_lon,c_lat,false_east,false_north\n  //double c_lat;                   /* center latitude                      */\n  //double c_lon;                   /* center longitude                     */\n  //double lat1;                    /* first standard parallel              */\n  //double lat2;                    /* second standard parallel             */\n  //double r_maj;                   /* major axis                           */\n  //double r_min;                   /* minor axis                           */\n  //double false_east;              /* x offset in meters                   */\n  //double false_north;             /* y offset in meters                   */\n\n  if (!this.lat2) {\n    this.lat2 = this.lat1;\n  } //if lat2 is not defined\n  if (!this.k0) {\n    this.k0 = 1;\n  }\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n\n  var temp = this.b / this.a;\n  this.e = Math.sqrt(1 - temp * temp);\n\n  var sin1 = Math.sin(this.lat1);\n  var cos1 = Math.cos(this.lat1);\n  var ms1 = msfnz(this.e, sin1, cos1);\n  var ts1 = tsfnz(this.e, this.lat1, sin1);\n\n  var sin2 = Math.sin(this.lat2);\n  var cos2 = Math.cos(this.lat2);\n  var ms2 = msfnz(this.e, sin2, cos2);\n  var ts2 = tsfnz(this.e, this.lat2, sin2);\n\n  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);\n  }\n  else {\n    this.ns = sin1;\n  }\n  if (isNaN(this.ns)) {\n    this.ns = sin1;\n  }\n  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));\n  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);\n  if (!this.title) {\n    this.title = \"Lambert Conformal Conic\";\n  }\n}\n\n// Lambert Conformal conic forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  // singular cases :\n  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {\n    lat = sign(lat) * (HALF_PI - 2 * EPSLN);\n  }\n\n  var con = Math.abs(Math.abs(lat) - HALF_PI);\n  var ts, rh1;\n  if (con > EPSLN) {\n    ts = tsfnz(this.e, lat, Math.sin(lat));\n    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);\n  }\n  else {\n    con = lat * this.ns;\n    if (con <= 0) {\n      return null;\n    }\n    rh1 = 0;\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;\n  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;\n\n  return p;\n}\n\n// Lambert Conformal Conic inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var rh1, con, ts;\n  var lat, lon;\n  var x = (p.x - this.x0) / this.k0;\n  var y = (this.rh - (p.y - this.y0) / this.k0);\n  if (this.ns > 0) {\n    rh1 = Math.sqrt(x * x + y * y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(x * x + y * y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2((con * x), (con * y));\n  }\n  if ((rh1 !== 0) || (this.ns > 0)) {\n    con = 1 / this.ns;\n    ts = Math.pow((rh1 / (this.a * this.f0)), con);\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  else {\n    lat = -HALF_PI;\n  }\n  lon = adjust_lon(theta / this.ns + this.long0);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Lambert Tangential Conformal Conic Projection\", \"Lambert_Conformal_Conic\", \"Lambert_Conformal_Conic_2SP\", \"lcc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/lcc.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  this.a = 6377397.155;\n  this.es = 0.006674372230614;\n  this.e = Math.sqrt(this.es);\n  if (!this.lat0) {\n    this.lat0 = 0.863937979737193;\n  }\n  if (!this.long0) {\n    this.long0 = 0.7417649320975901 - 0.308341501185665;\n  }\n  /* if scale not set default to 0.9999 */\n  if (!this.k0) {\n    this.k0 = 0.9999;\n  }\n  this.s45 = 0.785398163397448; /* 45 */\n  this.s90 = 2 * this.s45;\n  this.fi0 = this.lat0;\n  this.e2 = this.es;\n  this.e = Math.sqrt(this.e2);\n  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));\n  this.uq = 1.04216856380474;\n  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);\n  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);\n  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;\n  this.k1 = this.k0;\n  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));\n  this.s0 = 1.37008346281555;\n  this.n = Math.sin(this.s0);\n  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);\n  this.ad = this.s90 - this.uq;\n}\n\n/* ellipsoid */\n/* calculate xy from lat/lon */\n/* Constants, identical to inverse transform function */\nexport function forward(p) {\n  var gfi, u, deltav, s, d, eps, ro;\n  var lon = p.x;\n  var lat = p.y;\n  var delta_lon = adjust_lon(lon - this.long0);\n  /* Transformation */\n  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));\n  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);\n  deltav = -delta_lon * this.alfa;\n  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));\n  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));\n  eps = this.n * d;\n  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);\n  p.y = ro * Math.cos(eps) / 1;\n  p.x = ro * Math.sin(eps) / 1;\n\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  return (p);\n}\n\n/* calculate lat/lon from xy */\nexport function inverse(p) {\n  var u, deltav, s, d, eps, ro, fi1;\n  var ok;\n\n  /* Transformation */\n  /* revert y, x*/\n  var tmp = p.x;\n  p.x = p.y;\n  p.y = tmp;\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  ro = Math.sqrt(p.x * p.x + p.y * p.y);\n  eps = Math.atan2(p.y, p.x);\n  d = eps / Math.sin(this.s0);\n  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);\n  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));\n  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));\n  p.x = this.long0 - deltav / this.alfa;\n  fi1 = u;\n  ok = 0;\n  var iter = 0;\n  do {\n    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);\n    if (Math.abs(fi1 - p.y) < 0.0000000001) {\n      ok = 1;\n    }\n    fi1 = p.y;\n    iter += 1;\n  } while (ok === 0 && iter < 15);\n  if (iter >= 15) {\n    return null;\n  }\n\n  return (p);\n}\n\nexport var names = [\"Krovak\", \"krovak\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/krovak.js\n// module id = null\n// module chunks = ","export default function(e0, e1, e2, e3, phi) {\n  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/mlfn.js\n// module id = null\n// module chunks = ","export default function(x) {\n  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/e0fn.js\n// module id = null\n// module chunks = ","export default function(x) {\n  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/e1fn.js\n// module id = null\n// module chunks = ","export default function(x) {\n  return (0.05859375 * x * x * (1 + 0.75 * x));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/e2fn.js\n// module id = null\n// module chunks = ","export default function(x) {\n  return (x * x * x * (35 / 3072));\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/e3fn.js\n// module id = null\n// module chunks = ","export default function(a, e, sinphi) {\n  var temp = e * sinphi;\n  return a / Math.sqrt(1 - temp * temp);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/gN.js\n// module id = null\n// module chunks = ","import {HALF_PI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/adjust_lat.js\n// module id = null\n// module chunks = ","export default function(ml, e0, e1, e2, e3) {\n  var phi;\n  var dphi;\n\n  phi = ml / e0;\n  for (var i = 0; i < 15; i++) {\n    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //..reportError(\"IMLFN-CONV:Latitude failed to converge after 15 iterations\");\n  return NaN;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/imlfn.js\n// module id = null\n// module chunks = ","import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0);\n\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  }\n  else {\n    //ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n\n\n  }\n\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  }\n  else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n\n  }\n\n  p.x = adjust_lon(lam + this.long0);\n  p.y = adjust_lat(phi);\n  return p;\n\n}\n\nexport var names = [\"Cassini\", \"Cassini_Soldner\", \"cass\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/cass.js\n// module id = null\n// module chunks = ","export default function(eccent, sinphi) {\n  var con;\n  if (eccent > 1.0e-7) {\n    con = eccent * sinphi;\n    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));\n  }\n  else {\n    return (2 * sinphi);\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/qsfnz.js\n// module id = null\n// module chunks = ","\nimport {HALF_PI, EPSLN, FORTPI} from '../constants/values';\n\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\nexport var S_POLE = 1;\n\nexport var N_POLE = 2;\nexport var EQUIT = 3;\nexport var OBLIQ = 4;\n\n/* Initialize the Lambert Azimuthal Equal Area projection\n  ------------------------------------------------------*/\nexport function init() {\n  var t = Math.abs(this.lat0);\n  if (Math.abs(t - HALF_PI) < EPSLN) {\n    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;\n  }\n  else if (Math.abs(t) < EPSLN) {\n    this.mode = this.EQUIT;\n  }\n  else {\n    this.mode = this.OBLIQ;\n  }\n  if (this.es > 0) {\n    var sinphi;\n\n    this.qp = qsfnz(this.e, 1);\n    this.mmf = 0.5 / (1 - this.es);\n    this.apa = authset(this.es);\n    switch (this.mode) {\n    case this.N_POLE:\n      this.dd = 1;\n      break;\n    case this.S_POLE:\n      this.dd = 1;\n      break;\n    case this.EQUIT:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      this.dd = 1 / this.rq;\n      this.xmf = 1;\n      this.ymf = 0.5 * this.qp;\n      break;\n    case this.OBLIQ:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      sinphi = Math.sin(this.lat0);\n      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;\n      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);\n      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);\n      this.ymf = (this.xmf = this.rq) / this.dd;\n      this.xmf *= this.dd;\n      break;\n    }\n  }\n  else {\n    if (this.mode === this.OBLIQ) {\n      this.sinph0 = Math.sin(this.lat0);\n      this.cosph0 = Math.cos(this.lat0);\n    }\n  }\n}\n\n/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;\n  var lam = p.x;\n  var phi = p.y;\n\n  lam = adjust_lon(lam - this.long0);\n  if (this.sphere) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    coslam = Math.cos(lam);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      if (y <= EPSLN) {\n        return null;\n      }\n      y = Math.sqrt(2 / y);\n      x = y * cosphi * Math.sin(lam);\n      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        coslam = -coslam;\n      }\n      if (Math.abs(phi + this.phi0) < EPSLN) {\n        return null;\n      }\n      y = FORTPI - phi * 0.5;\n      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));\n      x = y * Math.sin(lam);\n      y *= coslam;\n    }\n  }\n  else {\n    sinb = 0;\n    cosb = 0;\n    b = 0;\n    coslam = Math.cos(lam);\n    sinlam = Math.sin(lam);\n    sinphi = Math.sin(phi);\n    q = qsfnz(this.e, sinphi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinb = q / this.qp;\n      cosb = Math.sqrt(1 - sinb * sinb);\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;\n      break;\n    case this.EQUIT:\n      b = 1 + cosb * coslam;\n      break;\n    case this.N_POLE:\n      b = HALF_PI + phi;\n      q = this.qp - q;\n      break;\n    case this.S_POLE:\n      b = phi - HALF_PI;\n      q = this.qp + q;\n      break;\n    }\n    if (Math.abs(b) < EPSLN) {\n      return null;\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n    case this.EQUIT:\n      b = Math.sqrt(2 / b);\n      if (this.mode === this.OBLIQ) {\n        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);\n      }\n      else {\n        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;\n      }\n      x = this.xmf * b * cosb * sinlam;\n      break;\n    case this.N_POLE:\n    case this.S_POLE:\n      if (q >= 0) {\n        x = (b = Math.sqrt(q)) * sinlam;\n        y = coslam * ((this.mode === this.S_POLE) ? b : -b);\n      }\n      else {\n        x = y = 0;\n      }\n      break;\n    }\n  }\n\n  p.x = this.a * x + this.x0;\n  p.y = this.a * y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var lam, phi, cCe, sCe, q, rho, ab;\n  if (this.sphere) {\n    var cosz = 0,\n      rh, sinz = 0;\n\n    rh = Math.sqrt(x * x + y * y);\n    phi = rh * 0.5;\n    if (phi > 1) {\n      return null;\n    }\n    phi = 2 * Math.asin(phi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinz = Math.sin(phi);\n      cosz = Math.cos(phi);\n    }\n    switch (this.mode) {\n    case this.EQUIT:\n      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);\n      x *= sinz;\n      y = cosz * rh;\n      break;\n    case this.OBLIQ:\n      phi = (Math.abs(rh) <= EPSLN) ? this.phi0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);\n      x *= sinz * this.cosph0;\n      y = (cosz - Math.sin(phi) * this.sinph0) * rh;\n      break;\n    case this.N_POLE:\n      y = -y;\n      phi = HALF_PI - phi;\n      break;\n    case this.S_POLE:\n      phi -= HALF_PI;\n      break;\n    }\n    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);\n  }\n  else {\n    ab = 0;\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      x /= this.dd;\n      y *= this.dd;\n      rho = Math.sqrt(x * x + y * y);\n      if (rho < EPSLN) {\n        p.x = 0;\n        p.y = this.phi0;\n        return p;\n      }\n      sCe = 2 * Math.asin(0.5 * rho / this.rq);\n      cCe = Math.cos(sCe);\n      x *= (sCe = Math.sin(sCe));\n      if (this.mode === this.OBLIQ) {\n        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;\n        q = this.qp * ab;\n        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;\n      }\n      else {\n        ab = y * sCe / rho;\n        q = this.qp * ab;\n        y = rho * cCe;\n      }\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        y = -y;\n      }\n      q = (x * x + y * y);\n      if (!q) {\n        p.x = 0;\n        p.y = this.phi0;\n        return p;\n      }\n      ab = 1 - q / this.qp;\n      if (this.mode === this.S_POLE) {\n        ab = -ab;\n      }\n    }\n    lam = Math.atan2(x, y);\n    phi = authlat(Math.asin(ab), this.apa);\n  }\n\n  p.x = adjust_lon(this.long0 + lam);\n  p.y = phi;\n  return p;\n}\n\n/* determine latitude from authalic latitude */\nvar P00 = 0.33333333333333333333;\n\nvar P01 = 0.17222222222222222222;\nvar P02 = 0.10257936507936507936;\nvar P10 = 0.06388888888888888888;\nvar P11 = 0.06640211640211640211;\nvar P20 = 0.01641501294219154443;\n\nfunction authset(es) {\n  var t;\n  var APA = [];\n  APA[0] = es * P00;\n  t = es * es;\n  APA[0] += t * P01;\n  APA[1] = t * P10;\n  t *= es;\n  APA[0] += t * P02;\n  APA[1] += t * P11;\n  APA[2] = t * P20;\n  return APA;\n}\n\nfunction authlat(beta, APA) {\n  var t = beta + beta;\n  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));\n}\n\nexport var names = [\"Lambert Azimuthal Equal Area\", \"Lambert_Azimuthal_Equal_Area\", \"laea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  S_POLE: S_POLE,\n  N_POLE: N_POLE,\n  EQUIT: EQUIT,\n  OBLIQ: OBLIQ\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/laea.js\n// module id = null\n// module chunks = ","export default function(x) {\n  if (Math.abs(x) > 1) {\n    x = (x > 1) ? 1 : -1;\n  }\n  return Math.asin(x);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/asinz.js\n// module id = null\n// module chunks = ","import msfnz from '../common/msfnz';\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e3 = Math.sqrt(this.es);\n\n  this.sin_po = Math.sin(this.lat1);\n  this.cos_po = Math.cos(this.lat1);\n  this.t1 = this.sin_po;\n  this.con = this.sin_po;\n  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs1 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  this.sin_po = Math.sin(this.lat2);\n  this.cos_po = Math.cos(this.lat2);\n  this.t2 = this.sin_po;\n  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs2 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  this.sin_po = Math.sin(this.lat0);\n  this.cos_po = Math.cos(this.lat0);\n  this.t3 = this.sin_po;\n  this.qs0 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);\n  }\n  else {\n    this.ns0 = this.con;\n  }\n  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;\n  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;\n}\n\n/* Albers Conical Equal Area forward equations--mapping lat,long to x,y\n  -------------------------------------------------------------------*/\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  this.sin_phi = Math.sin(lat);\n  this.cos_phi = Math.cos(lat);\n\n  var qs = qsfnz(this.e3, this.sin_phi, this.cos_phi);\n  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;\n  var theta = this.ns0 * adjust_lon(lon - this.long0);\n  var x = rh1 * Math.sin(theta) + this.x0;\n  var y = this.rh - rh1 * Math.cos(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh1, qs, con, theta, lon, lat;\n\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  if (this.ns0 >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n  con = rh1 * this.ns0 / this.a;\n  if (this.sphere) {\n    lat = Math.asin((this.c - con * con) / (2 * this.ns0));\n  }\n  else {\n    qs = (this.c - con * con) / this.ns0;\n    lat = this.phi1z(this.e3, qs);\n  }\n\n  lon = adjust_lon(theta / this.ns0 + this.long0);\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\n/* Function to compute phi1, the latitude for the inverse of the\n   Albers Conical Equal-Area projection.\n-------------------------------------------*/\nexport function phi1z(eccent, qs) {\n  var sinphi, cosphi, con, com, dphi;\n  var phi = asinz(0.5 * qs);\n  if (eccent < EPSLN) {\n    return phi;\n  }\n\n  var eccnts = eccent * eccent;\n  for (var i = 1; i <= 25; i++) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    con = eccent * sinphi;\n    com = 1 - con * con;\n    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi = phi + dphi;\n    if (Math.abs(dphi) <= 1e-7) {\n      return phi;\n    }\n  }\n  return null;\n}\n\nexport var names = [\"Albers_Conic_Equal_Area\", \"Albers\", \"aea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  phi1z: phi1z\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/aea.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\n/*\n  reference:\n    Wolfram Mathworld \"Gnomonic Projection\"\n    http://mathworld.wolfram.com/GnomonicProjection.html\n    Accessed: 12th November 2009\n  */\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n  // Approximation for projecting points to the horizon (infinity)\n  this.infinity_dist = 1000 * this.a;\n  this.rc = 1;\n}\n\n/* Gnomonic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g;\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;\n  }\n  else {\n\n    // Point is in the opposing hemisphere and is unprojectable\n    // We still need to return a reasonable point, so we project\n    // to infinity, on a bearing\n    // equivalent to the northern hemisphere equivalent\n    // This is a reasonable approximation for short shapes and lines that\n    // straddle the horizon.\n\n    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);\n    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* Rho */\n  var sinc, cosc;\n  var c;\n  var lon, lat;\n\n  /* Inverse equations\n      -----------------*/\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n\n  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    c = Math.atan2(rh, this.rc);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n\n    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);\n    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);\n    lon = adjust_lon(this.long0 + lon);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gnom\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/gnom.js\n// module id = null\n// module chunks = ","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, q) {\n  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));\n  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {\n    if (q < 0) {\n      return (-1 * HALF_PI);\n    }\n    else {\n      return HALF_PI;\n    }\n  }\n  //var phi = 0.5* q/(1-eccent*eccent);\n  var phi = Math.asin(0.5 * q);\n  var dphi;\n  var sin_phi;\n  var cos_phi;\n  var con;\n  for (var i = 0; i < 30; i++) {\n    sin_phi = Math.sin(phi);\n    cos_phi = Math.cos(phi);\n    con = eccent * sin_phi;\n    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //console.log(\"IQSFN-CONV:Latitude failed to converge after 30 iterations\");\n  return NaN;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/common/iqsfnz.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nimport qsfnz from '../common/qsfnz';\nimport msfnz from '../common/msfnz';\nimport iqsfnz from '../common/iqsfnz';\n\n/*\n  reference:\n    \"Cartographic Projection Procedures for the UNIX Environment-\n    A User's Manual\" by Gerald I. Evenden,\n    USGS Open File Report 90-284and Release 4 Interim Reports (2003)\n*/\nexport function init() {\n  //no-op\n  if (!this.sphere) {\n    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n  }\n}\n\n/* Cylindrical Equal Area forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  if (this.sphere) {\n    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);\n    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);\n  }\n  else {\n    var qs = qsfnz(this.e, Math.sin(lat));\n    x = this.x0 + this.a * this.k0 * dlon;\n    y = this.y0 + this.a * qs * 0.5 / this.k0;\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));\n    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));\n  }\n  else {\n    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);\n    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"cea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/cea.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Equidistant Cylindrical (Plate Carre)\";\n\n  this.rc = Math.cos(this.lat_ts);\n}\n\n// forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  var dlon = adjust_lon(lon - this.long0);\n  var dlat = adjust_lat(lat - this.lat0);\n  p.x = this.x0 + (this.a * dlon * this.rc);\n  p.y = this.y0 + (this.a * dlat);\n  return p;\n}\n\n// inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var x = p.x;\n  var y = p.y;\n\n  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));\n  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));\n  return p;\n}\n\nexport var names = [\"Equirectangular\", \"Equidistant_Cylindrical\", \"eqc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/eqc.js\n// module id = null\n// module chunks = ","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport mlfn from '../common/mlfn';\nimport {EPSLN} from '../constants/values';\n\nimport gN from '../common/gN';\nvar MAX_ITER = 20;\n\nexport function init() {\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas\n}\n\n/* Polyconic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y, el;\n  var dlon = adjust_lon(lon - this.long0);\n  el = dlon * Math.sin(lat);\n  if (this.sphere) {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.a * this.lat0;\n    }\n    else {\n      x = this.a * Math.sin(el) / Math.tan(lat);\n      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));\n    }\n  }\n  else {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.ml0;\n    }\n    else {\n      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);\n      x = nl * Math.sin(el);\n      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));\n    }\n\n  }\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  var lon, lat, x, y, i;\n  var al, bl;\n  var phi, dphi;\n  x = p.x - this.x0;\n  y = p.y - this.y0;\n\n  if (this.sphere) {\n    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {\n      lon = adjust_lon(x / this.a + this.long0);\n      lat = 0;\n    }\n    else {\n      al = this.lat0 + y / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var tanphi;\n      for (i = MAX_ITER; i; --i) {\n        tanphi = Math.tan(phi);\n        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);\n        phi += dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));\n    }\n  }\n  else {\n    if (Math.abs(y + this.ml0) <= EPSLN) {\n      lat = 0;\n      lon = adjust_lon(this.long0 + x / this.a);\n    }\n    else {\n\n      al = (this.ml0 + y) / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var cl, mln, mlnp, ma;\n      var con;\n      for (i = MAX_ITER; i; --i) {\n        con = this.e * Math.sin(phi);\n        cl = Math.sqrt(1 - con * con) * Math.tan(phi);\n        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);\n        ma = mln / this.a;\n        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);\n        phi -= dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n\n      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);\n      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);\n      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Polyconic\", \"poly\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/poly.js\n// module id = null\n// module chunks = ","import {SEC_TO_RAD} from '../constants/values';\n\n/*\n  reference\n    Department of Land and Survey Technical Circular 1973/32\n      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf\n    OSG Technical Report 4.1\n      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf\n  */\n\n/**\n * iterations: Number of iterations to refine inverse transform.\n *     0 -> km accuracy\n *     1 -> m accuracy -- suitable for most mapping applications\n *     2 -> mm accuracy\n */\nexport var iterations = 1;\n\nexport function init() {\n  this.A = [];\n  this.A[1] = 0.6399175073;\n  this.A[2] = -0.1358797613;\n  this.A[3] = 0.063294409;\n  this.A[4] = -0.02526853;\n  this.A[5] = 0.0117879;\n  this.A[6] = -0.0055161;\n  this.A[7] = 0.0026906;\n  this.A[8] = -0.001333;\n  this.A[9] = 0.00067;\n  this.A[10] = -0.00034;\n\n  this.B_re = [];\n  this.B_im = [];\n  this.B_re[1] = 0.7557853228;\n  this.B_im[1] = 0;\n  this.B_re[2] = 0.249204646;\n  this.B_im[2] = 0.003371507;\n  this.B_re[3] = -0.001541739;\n  this.B_im[3] = 0.041058560;\n  this.B_re[4] = -0.10162907;\n  this.B_im[4] = 0.01727609;\n  this.B_re[5] = -0.26623489;\n  this.B_im[5] = -0.36249218;\n  this.B_re[6] = -0.6870983;\n  this.B_im[6] = -1.1651967;\n\n  this.C_re = [];\n  this.C_im = [];\n  this.C_re[1] = 1.3231270439;\n  this.C_im[1] = 0;\n  this.C_re[2] = -0.577245789;\n  this.C_im[2] = -0.007809598;\n  this.C_re[3] = 0.508307513;\n  this.C_im[3] = -0.112208952;\n  this.C_re[4] = -0.15094762;\n  this.C_im[4] = 0.18200602;\n  this.C_re[5] = 1.01418179;\n  this.C_im[5] = 1.64497696;\n  this.C_re[6] = 1.9660549;\n  this.C_im[6] = 2.5127645;\n\n  this.D = [];\n  this.D[1] = 1.5627014243;\n  this.D[2] = 0.5185406398;\n  this.D[3] = -0.03333098;\n  this.D[4] = -0.1052906;\n  this.D[5] = -0.0368594;\n  this.D[6] = 0.007317;\n  this.D[7] = 0.01220;\n  this.D[8] = 0.00394;\n  this.D[9] = -0.0013;\n}\n\n/**\n    New Zealand Map Grid Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var n;\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lat = lat - this.lat0;\n  var delta_lon = lon - this.long0;\n\n  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda\n  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.\n  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;\n  var d_lambda = delta_lon;\n  var d_phi_n = 1; // d_phi^0\n\n  var d_psi = 0;\n  for (n = 1; n <= 10; n++) {\n    d_phi_n = d_phi_n * d_phi;\n    d_psi = d_psi + this.A[n] * d_phi_n;\n  }\n\n  // 2. Calculate theta\n  var th_re = d_psi;\n  var th_im = d_lambda;\n\n  // 3. Calculate z\n  var th_n_re = 1;\n  var th_n_im = 0; // theta^0\n  var th_n_re1;\n  var th_n_im1;\n\n  var z_re = 0;\n  var z_im = 0;\n  for (n = 1; n <= 6; n++) {\n    th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n    th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n    th_n_re = th_n_re1;\n    th_n_im = th_n_im1;\n    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;\n    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;\n  }\n\n  // 4. Calculate easting and northing\n  p.x = (z_im * this.a) + this.x0;\n  p.y = (z_re * this.a) + this.y0;\n\n  return p;\n}\n\n/**\n    New Zealand Map Grid Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var n;\n  var x = p.x;\n  var y = p.y;\n\n  var delta_x = x - this.x0;\n  var delta_y = y - this.y0;\n\n  // 1. Calculate z\n  var z_re = delta_y / this.a;\n  var z_im = delta_x / this.a;\n\n  // 2a. Calculate theta - first approximation gives km accuracy\n  var z_n_re = 1;\n  var z_n_im = 0; // z^0\n  var z_n_re1;\n  var z_n_im1;\n\n  var th_re = 0;\n  var th_im = 0;\n  for (n = 1; n <= 6; n++) {\n    z_n_re1 = z_n_re * z_re - z_n_im * z_im;\n    z_n_im1 = z_n_im * z_re + z_n_re * z_im;\n    z_n_re = z_n_re1;\n    z_n_im = z_n_im1;\n    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;\n    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;\n  }\n\n  // 2b. Iterate to refine the accuracy of the calculation\n  //        0 iterations gives km accuracy\n  //        1 iteration gives m accuracy -- good enough for most mapping applications\n  //        2 iterations bives mm accuracy\n  for (var i = 0; i < this.iterations; i++) {\n    var th_n_re = th_re;\n    var th_n_im = th_im;\n    var th_n_re1;\n    var th_n_im1;\n\n    var num_re = z_re;\n    var num_im = z_im;\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    th_n_re = 1;\n    th_n_im = 0;\n    var den_re = this.B_re[1];\n    var den_im = this.B_im[1];\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    // Complex division\n    var den2 = den_re * den_re + den_im * den_im;\n    th_re = (num_re * den_re + num_im * den_im) / den2;\n    th_im = (num_im * den_re - num_re * den_im) / den2;\n  }\n\n  // 3. Calculate d_phi              ...                                    // and d_lambda\n  var d_psi = th_re;\n  var d_lambda = th_im;\n  var d_psi_n = 1; // d_psi^0\n\n  var d_phi = 0;\n  for (n = 1; n <= 9; n++) {\n    d_psi_n = d_psi_n * d_psi;\n    d_phi = d_phi + this.D[n] * d_psi_n;\n  }\n\n  // 4. Calculate latitude and longitude\n  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.\n  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);\n  var lon = this.long0 + d_lambda;\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"New_Zealand_Map_Grid\", \"nzmg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/nzmg.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\n\n/* Initialize the Miller Cylindrical projection\n  -------------------------------------------*/\nexport function init() {\n  //no-op\n}\n\n/* Miller Cylindrical forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x = this.x0 + this.a * dlon;\n  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Miller Cylindrical inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n\n  var lon = adjust_lon(this.long0 + p.x / this.a);\n  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Miller_Cylindrical\", \"mill\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/mill.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport pj_enfn from '../common/pj_enfn';\nvar MAX_ITER = 20;\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n\nexport function init() {\n  /* Place parameters in static storage for common use\n    -------------------------------------------------*/\n\n\n  if (!this.sphere) {\n    this.en = pj_enfn(this.es);\n  }\n  else {\n    this.n = 1;\n    this.m = 0;\n    this.es = 0;\n    this.C_y = Math.sqrt((this.m + 1) / this.n);\n    this.C_x = this.C_y / (this.m + 1);\n  }\n\n}\n\n/* Sinusoidal forward equations--mapping lat,long to x,y\n  -----------------------------------------------------*/\nexport function forward(p) {\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n    -----------------*/\n  lon = adjust_lon(lon - this.long0);\n\n  if (this.sphere) {\n    if (!this.m) {\n      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;\n    }\n    else {\n      var k = this.n * Math.sin(lat);\n      for (var i = MAX_ITER; i; --i) {\n        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));\n        lat -= V;\n        if (Math.abs(V) < EPSLN) {\n          break;\n        }\n      }\n    }\n    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));\n    y = this.a * this.C_y * lat;\n\n  }\n  else {\n\n    var s = Math.sin(lat);\n    var c = Math.cos(lat);\n    y = this.a * pj_mlfn(lat, s, c, this.en);\n    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var lat, temp, lon, s;\n\n  p.x -= this.x0;\n  lon = p.x / this.a;\n  p.y -= this.y0;\n  lat = p.y / this.a;\n\n  if (this.sphere) {\n    lat /= this.C_y;\n    lon = lon / (this.C_x * (this.m + Math.cos(lat)));\n    if (this.m) {\n      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);\n    }\n    else if (this.n !== 1) {\n      lat = asinz(Math.sin(lat) / this.n);\n    }\n    lon = adjust_lon(lon + this.long0);\n    lat = adjust_lat(lat);\n  }\n  else {\n    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);\n    s = Math.abs(lat);\n    if (s < HALF_PI) {\n      s = Math.sin(lat);\n      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));\n      //temp = this.long0 + p.x / (this.a * Math.cos(lat));\n      lon = adjust_lon(temp);\n    }\n    else if ((s - EPSLN) < HALF_PI) {\n      lon = this.long0;\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Sinusoidal\", \"sinu\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/sinu.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nexport function init() {}\nimport {EPSLN} from '../constants/values';\n/* Mollweide forward equations--mapping lat,long to x,y\n    ----------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var theta = lat;\n  var con = Math.PI * Math.sin(lat);\n\n  /* Iterate using the Newton-Raphson method to find theta\n      -----------------------------------------------------*/\n  while (true) {\n    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));\n    theta += delta_theta;\n    if (Math.abs(delta_theta) < EPSLN) {\n      break;\n    }\n  }\n  theta /= 2;\n\n  /* If the latitude is 90 deg, force the x coordinate to be \"0 + false easting\"\n       this is done here because of precision problems with \"cos(theta)\"\n       --------------------------------------------------------------------------*/\n  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {\n    delta_lon = 0;\n  }\n  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;\n  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var theta;\n  var arg;\n\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  arg = p.y / (1.4142135623731 * this.a);\n\n  /* Because of division by zero problems, 'arg' can not be 1.  Therefore\n       a number very close to one is used instead.\n       -------------------------------------------------------------------*/\n  if (Math.abs(arg) > 0.999999999999) {\n    arg = 0.999999999999;\n  }\n  theta = Math.asin(arg);\n  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));\n  if (lon < (-Math.PI)) {\n    lon = -Math.PI;\n  }\n  if (lon > Math.PI) {\n    lon = Math.PI;\n  }\n  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;\n  if (Math.abs(arg) > 1) {\n    arg = 1;\n  }\n  var lat = Math.asin(arg);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mollweide\", \"moll\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/moll.js\n// module id = null\n// module chunks = ","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport msfnz from '../common/msfnz';\nimport mlfn from '../common/mlfn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.lat2 = this.lat2 || this.lat1;\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n\n  this.sinphi = Math.sin(this.lat1);\n  this.cosphi = Math.cos(this.lat1);\n\n  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);\n  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);\n\n  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {\n    this.ns = this.sinphi;\n  }\n  else {\n    this.sinphi = Math.sin(this.lat2);\n    this.cosphi = Math.cos(this.lat2);\n    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);\n    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);\n    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);\n  }\n  this.g = this.ml1 + this.ms1 / this.ns;\n  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  this.rh = this.a * (this.g - this.ml0);\n}\n\n/* Equidistant Conic forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var rh1;\n\n  /* Forward equations\n      -----------------*/\n  if (this.sphere) {\n    rh1 = this.a * (this.g - lat);\n  }\n  else {\n    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);\n    rh1 = this.a * (this.g - ml);\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  var x = this.x0 + rh1 * Math.sin(theta);\n  var y = this.y0 + this.rh - rh1 * Math.cos(theta);\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  var con, rh1, lat, lon;\n  if (this.ns >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    lat = adjust_lat(this.g - rh1 / this.a);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    var ml = this.g - rh1 / this.a;\n    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n\n}\n\nexport var names = [\"Equidistant_Conic\", \"eqdc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/eqdc.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\n\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n/* Initialize the Van Der Grinten projection\n  ----------------------------------------*/\nexport function init() {\n  //this.R = 6370997; //Radius of earth\n  this.R = this.a;\n}\n\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  /* Forward equations\n    -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x, y;\n\n  if (Math.abs(lat) <= EPSLN) {\n    x = this.x0 + this.R * dlon;\n    y = this.y0;\n  }\n  var theta = asinz(2 * Math.abs(lat / Math.PI));\n  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {\n    x = this.x0;\n    if (lat >= 0) {\n      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);\n    }\n    else {\n      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);\n    }\n    //  return(OK);\n  }\n  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));\n  var asq = al * al;\n  var sinth = Math.sin(theta);\n  var costh = Math.cos(theta);\n\n  var g = costh / (sinth + costh - 1);\n  var gsq = g * g;\n  var m = g * (2 / sinth - 1);\n  var msq = m * m;\n  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);\n  if (dlon < 0) {\n    con = -con;\n  }\n  x = this.x0 + con;\n  //con = Math.abs(con / (Math.PI * this.R));\n  var q = asq + g;\n  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);\n  if (lat >= 0) {\n    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 + con;\n  }\n  else {\n    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 - con;\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Van Der Grinten inverse equations--mapping x,y to lat/long\n  ---------------------------------------------------------*/\nexport function inverse(p) {\n  var lon, lat;\n  var xx, yy, xys, c1, c2, c3;\n  var a1;\n  var m1;\n  var con;\n  var th1;\n  var d;\n\n  /* inverse equations\n    -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  con = Math.PI * this.R;\n  xx = p.x / con;\n  yy = p.y / con;\n  xys = xx * xx + yy * yy;\n  c1 = -Math.abs(yy) * (1 + xys);\n  c2 = c1 - 2 * yy * yy + xx * xx;\n  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;\n  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;\n  a1 = (c1 - c2 * c2 / 3 / c3) / c3;\n  m1 = 2 * Math.sqrt(-a1 / 3);\n  con = ((3 * d) / a1) / m1;\n  if (Math.abs(con) > 1) {\n    if (con >= 0) {\n      con = 1;\n    }\n    else {\n      con = -1;\n    }\n  }\n  th1 = Math.acos(con) / 3;\n  if (p.y >= 0) {\n    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n  else {\n    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n\n  if (Math.abs(xx) < EPSLN) {\n    lon = this.long0;\n  }\n  else {\n    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Van_der_Grinten_I\", \"VanDerGrinten\", \"vandg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/vandg.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport asinz from '../common/asinz';\nimport imlfn from '../common/imlfn';\n\n\n\nexport function init() {\n  this.sin_p12 = Math.sin(this.lat0);\n  this.cos_p12 = Math.cos(this.lat0);\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var dlon = adjust_lon(lon - this.long0);\n  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;\n  if (this.sphere) {\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);\n      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);\n      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //default case\n      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);\n      c = Math.acos(cos_c);\n      kp = c / Math.sin(c);\n      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);\n      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));\n      return p;\n    }\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);\n      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);\n      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //Default case\n      tanphi = sinphi / cosphi;\n      Nl1 = gN(this.a, this.e, this.sin_p12);\n      Nl = gN(this.a, this.e, sinphi);\n      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));\n      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));\n      if (Az === 0) {\n        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {\n        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else {\n        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));\n      }\n      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);\n      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);\n      GH = G * H;\n      Hs = H * H;\n      s2 = s * s;\n      s3 = s2 * s;\n      s4 = s3 * s;\n      s5 = s4 * s;\n      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);\n      p.x = this.x0 + c * Math.sin(Az);\n      p.y = this.y0 + c * Math.cos(Az);\n      return p;\n    }\n  }\n\n\n}\n\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F;\n  if (this.sphere) {\n    rh = Math.sqrt(p.x * p.x + p.y * p.y);\n    if (rh > (2 * HALF_PI * this.a)) {\n      return;\n    }\n    z = rh / this.a;\n\n    sinz = Math.sin(z);\n    cosz = Math.cos(z);\n\n    lon = this.long0;\n    if (Math.abs(rh) <= EPSLN) {\n      lat = this.lat0;\n    }\n    else {\n      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);\n      con = Math.abs(this.lat0) - HALF_PI;\n      if (Math.abs(con) <= EPSLN) {\n        if (this.lat0 >= 0) {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n        }\n        else {\n          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n        }\n      }\n      else {\n        /*con = cosz - this.sin_p12 * Math.sin(lat);\n        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {\n          //no-op, just keep the lon value as is\n        } else {\n          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));\n          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));\n        }*/\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));\n      }\n    }\n\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = Mlp - rh;\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = rh - Mlp;\n\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else {\n      //default case\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      Az = Math.atan2(p.x, p.y);\n      N1 = gN(this.a, this.e, this.sin_p12);\n      cosAz = Math.cos(Az);\n      tmp = this.e * this.cos_p12 * cosAz;\n      A = -tmp * tmp / (1 - this.es);\n      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);\n      D = rh / N1;\n      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;\n      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;\n      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);\n      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));\n      lat = Math.atan((1 - this.es * F * this.sin_p12 / Math.sin(psi)) * Math.tan(psi) / (1 - this.es));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n  }\n\n}\n\nexport var names = [\"Azimuthal_Equidistant\", \"aeqd\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/aeqd.js\n// module id = null\n// module chunks = ","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nexport function init() {\n  //double temp;      /* temporary variable    */\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n}\n\n/* Orthographic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g, x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.a * ksp * cosphi * Math.sin(dlon);\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* height above ellipsoid      */\n  var z; /* angle          */\n  var sinz, cosz; /* sin of z and cos of z      */\n  var con;\n  var lon, lat;\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  z = asinz(rh / this.a);\n\n  sinz = Math.sin(z);\n  cosz = Math.cos(z);\n\n  lon = this.long0;\n  if (Math.abs(rh) <= EPSLN) {\n    lat = this.lat0;\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lat = asinz(cosz * this.sin_p14 + (p.y * sinz * this.cos_p14) / rh);\n  con = Math.abs(this.lat0) - HALF_PI;\n  if (Math.abs(con) <= EPSLN) {\n    if (this.lat0 >= 0) {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n    }\n    else {\n      lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz), rh * this.cos_p14 * cosz - p.y * this.sin_p14 * sinz));\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"ortho\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/ortho.js\n// module id = null\n// module chunks = ","// QSC projection rewritten from the original PROJ4\n// https://github.com/OSGeo/proj.4/blob/master/src/PJ_qsc.c\n\nimport {EPSLN, TWO_PI, SPI, HALF_PI, FORTPI} from '../constants/values';\n\n/* constants */\nvar FACE_ENUM = {\n    FRONT: 1,\n    RIGHT: 2,\n    BACK: 3,\n    LEFT: 4,\n    TOP: 5,\n    BOTTOM: 6\n};\n\nvar AREA_ENUM = {\n    AREA_0: 1,\n    AREA_1: 2,\n    AREA_2: 3,\n    AREA_3: 4\n};\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Quadrilateralized Spherical Cube\";\n\n  /* Determine the cube face from the center of projection. */\n  if (this.lat0 >= HALF_PI - FORTPI / 2.0) {\n    this.face = FACE_ENUM.TOP;\n  } else if (this.lat0 <= -(HALF_PI - FORTPI / 2.0)) {\n    this.face = FACE_ENUM.BOTTOM;\n  } else if (Math.abs(this.long0) <= FORTPI) {\n    this.face = FACE_ENUM.FRONT;\n  } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {\n    this.face = this.long0 > 0.0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;\n  } else {\n    this.face = FACE_ENUM.BACK;\n  }\n\n  /* Fill in useful values for the ellipsoid <-> sphere shift\n   * described in [LK12]. */\n  if (this.es !== 0) {\n    this.one_minus_f = 1 - (this.a - this.b) / this.a;\n    this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;\n  }\n}\n\n// QSC forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n  var xy = {x: 0, y: 0};\n  var lat, lon;\n  var theta, phi;\n  var t, mu;\n  /* nu; */\n  var area = {value: 0};\n\n  // move lon according to projection's lon\n  p.x -= this.long0;\n\n  /* Convert the geodetic latitude to a geocentric latitude.\n   * This corresponds to the shift from the ellipsoid to the sphere\n   * described in [LK12]. */\n  if (this.es !== 0) {//if (P->es != 0) {\n    lat = Math.atan(this.one_minus_f_squared * Math.tan(p.y));\n  } else {\n    lat = p.y;\n  }\n\n  /* Convert the input lat, lon into theta, phi as used by QSC.\n   * This depends on the cube face and the area on it.\n   * For the top and bottom face, we can compute theta and phi\n   * directly from phi, lam. For the other faces, we must use\n   * unit sphere cartesian coordinates as an intermediate step. */\n  lon = p.x; //lon = lp.lam;\n  if (this.face === FACE_ENUM.TOP) {\n    phi = HALF_PI - lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = lon - HALF_PI;\n    } else if (lon > HALF_PI + FORTPI || lon <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = (lon > 0.0 ? lon - SPI : lon + SPI);\n    } else if (lon > -(HALF_PI + FORTPI) && lon <= -FORTPI) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = lon + HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = lon;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = HALF_PI + lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = -lon + HALF_PI;\n    } else if (lon < FORTPI && lon >= -FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = -lon;\n    } else if (lon < -FORTPI && lon >= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = -lon - HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = (lon > 0.0 ? -lon + SPI : -lon - SPI);\n    }\n  } else {\n    var q, r, s;\n    var sinlat, coslat;\n    var sinlon, coslon;\n\n    if (this.face === FACE_ENUM.RIGHT) {\n      lon = qsc_shift_lon_origin(lon, +HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lon = qsc_shift_lon_origin(lon, +SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lon = qsc_shift_lon_origin(lon, -HALF_PI);\n    }\n    sinlat = Math.sin(lat);\n    coslat = Math.cos(lat);\n    sinlon = Math.sin(lon);\n    coslon = Math.cos(lon);\n    q = coslat * coslon;\n    r = coslat * sinlon;\n    s = sinlat;\n\n    if (this.face === FACE_ENUM.FRONT) {\n      phi = Math.acos(q);\n      theta = qsc_fwd_equat_face_theta(phi, s, r, area);\n    } else if (this.face === FACE_ENUM.RIGHT) {\n      phi = Math.acos(r);\n      theta = qsc_fwd_equat_face_theta(phi, s, -q, area);\n    } else if (this.face === FACE_ENUM.BACK) {\n      phi = Math.acos(-q);\n      theta = qsc_fwd_equat_face_theta(phi, s, -r, area);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      phi = Math.acos(-r);\n      theta = qsc_fwd_equat_face_theta(phi, s, q, area);\n    } else {\n      /* Impossible */\n      phi = theta = 0;\n      area.value = AREA_ENUM.AREA_0;\n    }\n  }\n\n  /* Compute mu and nu for the area of definition.\n   * For mu, see Eq. (3-21) in [OL76], but note the typos:\n   * compare with Eq. (3-14). For nu, see Eq. (3-38). */\n  mu = Math.atan((12 / SPI) * (theta + Math.acos(Math.sin(theta) * Math.cos(FORTPI)) - HALF_PI));\n  t = Math.sqrt((1 - Math.cos(phi)) / (Math.cos(mu) * Math.cos(mu)) / (1 - Math.cos(Math.atan(1 / Math.cos(theta)))));\n\n  /* Apply the result to the real area. */\n  if (area.value === AREA_ENUM.AREA_1) {\n    mu += HALF_PI;\n  } else if (area.value === AREA_ENUM.AREA_2) {\n    mu += SPI;\n  } else if (area.value === AREA_ENUM.AREA_3) {\n    mu += 1.5 * SPI;\n  }\n\n  /* Now compute x, y from mu and nu */\n  xy.x = t * Math.cos(mu);\n  xy.y = t * Math.sin(mu);\n  xy.x = xy.x * this.a + this.x0;\n  xy.y = xy.y * this.a + this.y0;\n\n  p.x = xy.x;\n  p.y = xy.y;\n  return p;\n}\n\n// QSC inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n  var lp = {lam: 0, phi: 0};\n  var mu, nu, cosmu, tannu;\n  var tantheta, theta, cosphi, phi;\n  var t;\n  var area = {value: 0};\n\n  /* de-offset */\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  /* Convert the input x, y to the mu and nu angles as used by QSC.\n   * This depends on the area of the cube face. */\n  nu = Math.atan(Math.sqrt(p.x * p.x + p.y * p.y));\n  mu = Math.atan2(p.y, p.x);\n  if (p.x >= 0.0 && p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_0;\n  } else if (p.y >= 0.0 && p.y >= Math.abs(p.x)) {\n    area.value = AREA_ENUM.AREA_1;\n    mu -= HALF_PI;\n  } else if (p.x < 0.0 && -p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_2;\n    mu = (mu < 0.0 ? mu + SPI : mu - SPI);\n  } else {\n    area.value = AREA_ENUM.AREA_3;\n    mu += HALF_PI;\n  }\n\n  /* Compute phi and theta for the area of definition.\n   * The inverse projection is not described in the original paper, but some\n   * good hints can be found here (as of 2011-12-14):\n   * http://fits.gsfc.nasa.gov/fitsbits/saf.93/saf.9302\n   * (search for \"Message-Id: <9302181759.AA25477 at fits.cv.nrao.edu>\") */\n  t = (SPI / 12) * Math.tan(mu);\n  tantheta = Math.sin(t) / (Math.cos(t) - (1 / Math.sqrt(2)));\n  theta = Math.atan(tantheta);\n  cosmu = Math.cos(mu);\n  tannu = Math.tan(nu);\n  cosphi = 1 - cosmu * cosmu * tannu * tannu * (1 - Math.cos(Math.atan(1 / Math.cos(theta))));\n  if (cosphi < -1) {\n    cosphi = -1;\n  } else if (cosphi > +1) {\n    cosphi = +1;\n  }\n\n  /* Apply the result to the real area on the cube face.\n   * For the top and bottom face, we can compute phi and lam directly.\n   * For the other faces, we must use unit sphere cartesian coordinates\n   * as an intermediate step. */\n  if (this.face === FACE_ENUM.TOP) {\n    phi = Math.acos(cosphi);\n    lp.phi = HALF_PI - phi;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = (theta < 0.0 ? theta + SPI : theta - SPI);\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = theta;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = Math.acos(cosphi);\n    lp.phi = phi - HALF_PI;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = -theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = -theta;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = -theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = (theta < 0.0 ? -theta - SPI : -theta + SPI);\n    }\n  } else {\n    /* Compute phi and lam via cartesian unit sphere coordinates. */\n    var q, r, s;\n    q = cosphi;\n    t = q * q;\n    if (t >= 1) {\n      s = 0;\n    } else {\n      s = Math.sqrt(1 - t) * Math.sin(theta);\n    }\n    t += s * s;\n    if (t >= 1) {\n      r = 0;\n    } else {\n      r = Math.sqrt(1 - t);\n    }\n    /* Rotate q,r,s into the correct area. */\n    if (area.value === AREA_ENUM.AREA_1) {\n      t = r;\n      r = -s;\n      s = t;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      r = -r;\n      s = -s;\n    } else if (area.value === AREA_ENUM.AREA_3) {\n      t = r;\n      r = s;\n      s = -t;\n    }\n    /* Rotate q,r,s into the correct cube face. */\n    if (this.face === FACE_ENUM.RIGHT) {\n      t = q;\n      q = -r;\n      r = t;\n    } else if (this.face === FACE_ENUM.BACK) {\n      q = -q;\n      r = -r;\n    } else if (this.face === FACE_ENUM.LEFT) {\n      t = q;\n      q = r;\n      r = -t;\n    }\n    /* Now compute phi and lam from the unit sphere coordinates. */\n    lp.phi = Math.acos(-s) - HALF_PI;\n    lp.lam = Math.atan2(r, q);\n    if (this.face === FACE_ENUM.RIGHT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, +HALF_PI);\n    }\n  }\n\n  /* Apply the shift from the sphere to the ellipsoid as described\n   * in [LK12]. */\n  if (this.es !== 0) {\n    var invert_sign;\n    var tanphi, xa;\n    invert_sign = (lp.phi < 0 ? 1 : 0);\n    tanphi = Math.tan(lp.phi);\n    xa = this.b / Math.sqrt(tanphi * tanphi + this.one_minus_f_squared);\n    lp.phi = Math.atan(Math.sqrt(this.a * this.a - xa * xa) / (this.one_minus_f * xa));\n    if (invert_sign) {\n      lp.phi = -lp.phi;\n    }\n  }\n\n  lp.lam += this.long0;\n  p.x = lp.lam;\n  p.y = lp.phi;\n  return p;\n}\n\n/* Helper function for forward projection: compute the theta angle\n * and determine the area number. */\nfunction qsc_fwd_equat_face_theta(phi, y, x, area) {\n  var theta;\n  if (phi < EPSLN) {\n    area.value = AREA_ENUM.AREA_0;\n    theta = 0.0;\n  } else {\n    theta = Math.atan2(y, x);\n    if (Math.abs(theta) <= FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n    } else if (theta > FORTPI && theta <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta -= HALF_PI;\n    } else if (theta > HALF_PI + FORTPI || theta <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = (theta >= 0.0 ? theta - SPI : theta + SPI);\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta += HALF_PI;\n    }\n  }\n  return theta;\n}\n\n/* Helper function: shift the longitude. */\nfunction qsc_shift_lon_origin(lon, offset) {\n  var slon = lon + offset;\n  if (slon < -SPI) {\n    slon += TWO_PI;\n  } else if (slon > +SPI) {\n    slon -= TWO_PI;\n  }\n  return slon;\n}\n\nexport var names = [\"Quadrilateralized Spherical Cube\", \"Quadrilateralized_Spherical_Cube\", \"qsc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/qsc.js\n// module id = null\n// module chunks = ","import tmerc from './lib/projections/tmerc';\nimport etmerc from './lib/projections/etmerc';\nimport utm from './lib/projections/utm';\nimport sterea from './lib/projections/sterea';\nimport stere from './lib/projections/stere';\nimport somerc from './lib/projections/somerc';\nimport omerc from './lib/projections/omerc';\nimport lcc from './lib/projections/lcc';\nimport krovak from './lib/projections/krovak';\nimport cass from './lib/projections/cass';\nimport laea from './lib/projections/laea';\nimport aea from './lib/projections/aea';\nimport gnom from './lib/projections/gnom';\nimport cea from './lib/projections/cea';\nimport eqc from './lib/projections/eqc';\nimport poly from './lib/projections/poly';\nimport nzmg from './lib/projections/nzmg';\nimport mill from './lib/projections/mill';\nimport sinu from './lib/projections/sinu';\nimport moll from './lib/projections/moll';\nimport eqdc from './lib/projections/eqdc';\nimport vandg from './lib/projections/vandg';\nimport aeqd from './lib/projections/aeqd';\nimport ortho from './lib/projections/ortho';\nimport qsc from './lib/projections/qsc';\nexport default function(proj4){\n  proj4.Proj.projections.add(tmerc);\n  proj4.Proj.projections.add(etmerc);\n  proj4.Proj.projections.add(utm);\n  proj4.Proj.projections.add(sterea);\n  proj4.Proj.projections.add(stere);\n  proj4.Proj.projections.add(somerc);\n  proj4.Proj.projections.add(omerc);\n  proj4.Proj.projections.add(lcc);\n  proj4.Proj.projections.add(krovak);\n  proj4.Proj.projections.add(cass);\n  proj4.Proj.projections.add(laea);\n  proj4.Proj.projections.add(aea);\n  proj4.Proj.projections.add(gnom);\n  proj4.Proj.projections.add(cea);\n  proj4.Proj.projections.add(eqc);\n  proj4.Proj.projections.add(poly);\n  proj4.Proj.projections.add(nzmg);\n  proj4.Proj.projections.add(mill);\n  proj4.Proj.projections.add(sinu);\n  proj4.Proj.projections.add(moll);\n  proj4.Proj.projections.add(eqdc);\n  proj4.Proj.projections.add(vandg);\n  proj4.Proj.projections.add(aeqd);\n  proj4.Proj.projections.add(ortho);\n  proj4.Proj.projections.add(qsc);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/projs.js\n// module id = null\n// module chunks = ","import proj4 from './core';\nimport Proj from \"./Proj\";\nimport Point from \"./Point\";\nimport common from \"./common/toPoint\";\nimport defs from \"./defs\";\nimport transform from \"./transform\";\nimport mgrs from \"mgrs\";\nimport version from \"./version\";\nimport includedProjections from \"../projs\";\n\nproj4.defaultDatum = 'WGS84'; //default datum\nproj4.Proj = Proj;\nproj4.WGS84 = new proj4.Proj('WGS84');\nproj4.Point = Point;\nproj4.toPoint = common;\nproj4.defs = defs;\nproj4.transform = transform;\nproj4.mgrs = mgrs;\nproj4.version = version;\nincludedProjections(proj4);\nexport default proj4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/index.js\n// module id = null\n// module chunks = ","/**\n * @module ol/geom/GeometryCollection\n */\nimport {inherits} from '../index.js';\nimport _ol_events_ from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {createOrUpdateEmpty, closestSquaredDistanceXY, extend, getCenter} from '../extent.js';\nimport Geometry from '../geom/Geometry.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport {clear} from '../obj.js';\n\n/**\n * @classdesc\n * An array of {@link ol.geom.Geometry} objects.\n *\n * @constructor\n * @extends {ol.geom.Geometry}\n * @param {Array.<ol.geom.Geometry>=} opt_geometries Geometries.\n * @api\n */\nconst GeometryCollection = function(opt_geometries) {\n\n  Geometry.call(this);\n\n  /**\n   * @private\n   * @type {Array.<ol.geom.Geometry>}\n   */\n  this.geometries_ = opt_geometries ? opt_geometries : null;\n\n  this.listenGeometriesChange_();\n};\n\ninherits(GeometryCollection, Geometry);\n\n\n/**\n * @param {Array.<ol.geom.Geometry>} geometries Geometries.\n * @private\n * @return {Array.<ol.geom.Geometry>} Cloned geometries.\n */\nGeometryCollection.cloneGeometries_ = function(geometries) {\n  const clonedGeometries = [];\n  let i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    clonedGeometries.push(geometries[i].clone());\n  }\n  return clonedGeometries;\n};\n\n\n/**\n * @private\n */\nGeometryCollection.prototype.unlistenGeometriesChange_ = function() {\n  let i, ii;\n  if (!this.geometries_) {\n    return;\n  }\n  for (i = 0, ii = this.geometries_.length; i < ii; ++i) {\n    _ol_events_.unlisten(\n      this.geometries_[i], EventType.CHANGE,\n      this.changed, this);\n  }\n};\n\n\n/**\n * @private\n */\nGeometryCollection.prototype.listenGeometriesChange_ = function() {\n  let i, ii;\n  if (!this.geometries_) {\n    return;\n  }\n  for (i = 0, ii = this.geometries_.length; i < ii; ++i) {\n    _ol_events_.listen(\n      this.geometries_[i], EventType.CHANGE,\n      this.changed, this);\n  }\n};\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.GeometryCollection} Clone.\n * @override\n * @api\n */\nGeometryCollection.prototype.clone = function() {\n  const geometryCollection = new GeometryCollection(null);\n  geometryCollection.setGeometries(this.geometries_);\n  return geometryCollection;\n};\n\n\n/**\n * @inheritDoc\n */\nGeometryCollection.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n    return minSquaredDistance;\n  }\n  const geometries = this.geometries_;\n  let i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    minSquaredDistance = geometries[i].closestPointXY(\n      x, y, closestPoint, minSquaredDistance);\n  }\n  return minSquaredDistance;\n};\n\n\n/**\n * @inheritDoc\n */\nGeometryCollection.prototype.containsXY = function(x, y) {\n  const geometries = this.geometries_;\n  let i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    if (geometries[i].containsXY(x, y)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * @inheritDoc\n */\nGeometryCollection.prototype.computeExtent = function(extent) {\n  createOrUpdateEmpty(extent);\n  const geometries = this.geometries_;\n  for (let i = 0, ii = geometries.length; i < ii; ++i) {\n    extend(extent, geometries[i].getExtent());\n  }\n  return extent;\n};\n\n\n/**\n * Return the geometries that make up this geometry collection.\n * @return {Array.<ol.geom.Geometry>} Geometries.\n * @api\n */\nGeometryCollection.prototype.getGeometries = function() {\n  return GeometryCollection.cloneGeometries_(this.geometries_);\n};\n\n\n/**\n * @return {Array.<ol.geom.Geometry>} Geometries.\n */\nGeometryCollection.prototype.getGeometriesArray = function() {\n  return this.geometries_;\n};\n\n\n/**\n * @inheritDoc\n */\nGeometryCollection.prototype.getSimplifiedGeometry = function(squaredTolerance) {\n  if (this.simplifiedGeometryRevision != this.getRevision()) {\n    clear(this.simplifiedGeometryCache);\n    this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n    this.simplifiedGeometryRevision = this.getRevision();\n  }\n  if (squaredTolerance < 0 ||\n      (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n       squaredTolerance < this.simplifiedGeometryMaxMinSquaredTolerance)) {\n    return this;\n  }\n  const key = squaredTolerance.toString();\n  if (this.simplifiedGeometryCache.hasOwnProperty(key)) {\n    return this.simplifiedGeometryCache[key];\n  } else {\n    const simplifiedGeometries = [];\n    const geometries = this.geometries_;\n    let simplified = false;\n    let i, ii;\n    for (i = 0, ii = geometries.length; i < ii; ++i) {\n      const geometry = geometries[i];\n      const simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n      simplifiedGeometries.push(simplifiedGeometry);\n      if (simplifiedGeometry !== geometry) {\n        simplified = true;\n      }\n    }\n    if (simplified) {\n      const simplifiedGeometryCollection = new GeometryCollection(null);\n      simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries);\n      this.simplifiedGeometryCache[key] = simplifiedGeometryCollection;\n      return simplifiedGeometryCollection;\n    } else {\n      this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n      return this;\n    }\n  }\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nGeometryCollection.prototype.getType = function() {\n  return GeometryType.GEOMETRY_COLLECTION;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nGeometryCollection.prototype.intersectsExtent = function(extent) {\n  const geometries = this.geometries_;\n  let i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    if (geometries[i].intersectsExtent(extent)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * @return {boolean} Is empty.\n */\nGeometryCollection.prototype.isEmpty = function() {\n  return this.geometries_.length === 0;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nGeometryCollection.prototype.rotate = function(angle, anchor) {\n  const geometries = this.geometries_;\n  for (let i = 0, ii = geometries.length; i < ii; ++i) {\n    geometries[i].rotate(angle, anchor);\n  }\n  this.changed();\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nGeometryCollection.prototype.scale = function(sx, opt_sy, opt_anchor) {\n  let anchor = opt_anchor;\n  if (!anchor) {\n    anchor = getCenter(this.getExtent());\n  }\n  const geometries = this.geometries_;\n  for (let i = 0, ii = geometries.length; i < ii; ++i) {\n    geometries[i].scale(sx, opt_sy, anchor);\n  }\n  this.changed();\n};\n\n\n/**\n * Set the geometries that make up this geometry collection.\n * @param {Array.<ol.geom.Geometry>} geometries Geometries.\n * @api\n */\nGeometryCollection.prototype.setGeometries = function(geometries) {\n  this.setGeometriesArray(\n    GeometryCollection.cloneGeometries_(geometries));\n};\n\n\n/**\n * @param {Array.<ol.geom.Geometry>} geometries Geometries.\n */\nGeometryCollection.prototype.setGeometriesArray = function(geometries) {\n  this.unlistenGeometriesChange_();\n  this.geometries_ = geometries;\n  this.listenGeometriesChange_();\n  this.changed();\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nGeometryCollection.prototype.applyTransform = function(transformFn) {\n  const geometries = this.geometries_;\n  let i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    geometries[i].applyTransform(transformFn);\n  }\n  this.changed();\n};\n\n\n/**\n * Translate the geometry.\n * @param {number} deltaX Delta X.\n * @param {number} deltaY Delta Y.\n * @override\n * @api\n */\nGeometryCollection.prototype.translate = function(deltaX, deltaY) {\n  const geometries = this.geometries_;\n  let i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    geometries[i].translate(deltaX, deltaY);\n  }\n  this.changed();\n};\n\n\n/**\n * @inheritDoc\n */\nGeometryCollection.prototype.disposeInternal = function() {\n  this.unlistenGeometriesChange_();\n  Geometry.prototype.disposeInternal.call(this);\n};\nexport default GeometryCollection;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/geom/GeometryCollection.js\n// module id = 84\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 12 14 15 22","/*\n  references:\n    Formules et constantes pour le Calcul pour la\n    projection cylindrique conforme à axe oblique et pour la transformation entre\n    des systèmes de référence.\n    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf\n  */\n\nexport function init() {\n  var phy0 = this.lat0;\n  this.lambda0 = this.long0;\n  var sinPhy0 = Math.sin(phy0);\n  var semiMajorAxis = this.a;\n  var invF = this.rf;\n  var flattening = 1 / invF;\n  var e2 = 2 * flattening - Math.pow(flattening, 2);\n  var e = this.e = Math.sqrt(e2);\n  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));\n  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));\n  this.b0 = Math.asin(sinPhy0 / this.alpha);\n  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));\n  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));\n  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));\n  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;\n}\n\nexport function forward(p) {\n  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));\n  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));\n  var S = -this.alpha * (Sa1 + Sa2) + this.K;\n\n  // spheric latitude\n  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);\n\n  // spheric longitude\n  var I = this.alpha * (p.x - this.lambda0);\n\n  // psoeudo equatorial rotation\n  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));\n\n  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));\n\n  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;\n  p.x = this.R * rotI + this.x0;\n  return p;\n}\n\nexport function inverse(p) {\n  var Y = p.x - this.x0;\n  var X = p.y - this.y0;\n\n  var rotI = Y / this.R;\n  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);\n\n  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));\n  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));\n\n  var lambda = this.lambda0 + I / this.alpha;\n\n  var S = 0;\n  var phy = b;\n  var prevPhy = -1000;\n  var iteration = 0;\n  while (Math.abs(phy - prevPhy) > 0.0000001) {\n    if (++iteration > 20) {\n      //...reportError(\"omercFwdInfinity\");\n      return;\n    }\n    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));\n    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));\n    prevPhy = phy;\n    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;\n  }\n\n  p.x = lambda;\n  p.y = phy;\n  return p;\n}\n\nexport var names = [\"somerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/lib/projections/somerc.js\n// module id = 85\n// module chunks = 0 1 2 3 4 5 6 7 9 10 11 12 13 15 16 17 18 19 20","/**\n * @module ol/format/OWS\n */\nimport {inherits} from '../index.js';\nimport XLink from '../format/XLink.js';\nimport XML from '../format/XML.js';\nimport XSD from '../format/XSD.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @constructor\n * @extends {ol.format.XML}\n */\nconst OWS = function() {\n  XML.call(this);\n};\n\ninherits(OWS, XML);\n\n\n/**\n * @inheritDoc\n */\nOWS.prototype.readFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nOWS.prototype.readFromNode = function(node) {\n  const owsObject = _ol_xml_.pushParseAndPop({},\n    OWS.PARSERS_, node, []);\n  return owsObject ? owsObject : null;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The address.\n */\nOWS.readAddress_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    OWS.ADDRESS_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The values.\n */\nOWS.readAllowedValues_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    OWS.ALLOWED_VALUES_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The constraint.\n */\nOWS.readConstraint_ = function(node, objectStack) {\n  const name = node.getAttribute('name');\n  if (!name) {\n    return undefined;\n  }\n  return _ol_xml_.pushParseAndPop({'name': name},\n    OWS.CONSTRAINT_PARSERS_, node,\n    objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The contact info.\n */\nOWS.readContactInfo_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    OWS.CONTACT_INFO_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The DCP.\n */\nOWS.readDcp_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    OWS.DCP_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The GET object.\n */\nOWS.readGet_ = function(node, objectStack) {\n  const href = XLink.readHref(node);\n  if (!href) {\n    return undefined;\n  }\n  return _ol_xml_.pushParseAndPop({'href': href},\n    OWS.REQUEST_METHOD_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The HTTP object.\n */\nOWS.readHttp_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({}, OWS.HTTP_PARSERS_,\n    node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The operation.\n */\nOWS.readOperation_ = function(node, objectStack) {\n  const name = node.getAttribute('name');\n  const value = _ol_xml_.pushParseAndPop({},\n    OWS.OPERATION_PARSERS_, node, objectStack);\n  if (!value) {\n    return undefined;\n  }\n  const object = /** @type {Object} */\n      (objectStack[objectStack.length - 1]);\n  object[name] = value;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The operations metadata.\n */\nOWS.readOperationsMetadata_ = function(node,\n  objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    OWS.OPERATIONS_METADATA_PARSERS_, node,\n    objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The phone.\n */\nOWS.readPhone_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    OWS.PHONE_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The service identification.\n */\nOWS.readServiceIdentification_ = function(node,\n  objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, OWS.SERVICE_IDENTIFICATION_PARSERS_, node,\n    objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The service contact.\n */\nOWS.readServiceContact_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, OWS.SERVICE_CONTACT_PARSERS_, node,\n    objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} The service provider.\n */\nOWS.readServiceProvider_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, OWS.SERVICE_PROVIDER_PARSERS_, node,\n    objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {string|undefined} The value.\n */\nOWS.readValue_ = function(node, objectStack) {\n  return XSD.readString(node);\n};\n\n\n/**\n * @const\n * @type {Array.<string>}\n * @private\n */\nOWS.NAMESPACE_URIS_ = [\n  null,\n  'http://www.opengis.net/ows/1.1'\n];\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'ServiceIdentification': _ol_xml_.makeObjectPropertySetter(\n      OWS.readServiceIdentification_),\n    'ServiceProvider': _ol_xml_.makeObjectPropertySetter(\n      OWS.readServiceProvider_),\n    'OperationsMetadata': _ol_xml_.makeObjectPropertySetter(\n      OWS.readOperationsMetadata_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.ADDRESS_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'DeliveryPoint': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'City': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'AdministrativeArea': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'PostalCode': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Country': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'ElectronicMailAddress': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.ALLOWED_VALUES_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'Value': _ol_xml_.makeObjectPropertyPusher(OWS.readValue_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.CONSTRAINT_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'AllowedValues': _ol_xml_.makeObjectPropertySetter(\n      OWS.readAllowedValues_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.CONTACT_INFO_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'Phone': _ol_xml_.makeObjectPropertySetter(OWS.readPhone_),\n    'Address': _ol_xml_.makeObjectPropertySetter(OWS.readAddress_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.DCP_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'HTTP': _ol_xml_.makeObjectPropertySetter(OWS.readHttp_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.HTTP_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'Get': _ol_xml_.makeObjectPropertyPusher(OWS.readGet_),\n    'Post': undefined // TODO\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.OPERATION_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'DCP': _ol_xml_.makeObjectPropertySetter(OWS.readDcp_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.OPERATIONS_METADATA_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'Operation': OWS.readOperation_\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.PHONE_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'Voice': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Facsimile': _ol_xml_.makeObjectPropertySetter(XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.REQUEST_METHOD_PARSERS_ = _ol_xml_.makeStructureNS(\n  OWS.NAMESPACE_URIS_, {\n    'Constraint': _ol_xml_.makeObjectPropertyPusher(\n      OWS.readConstraint_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.SERVICE_CONTACT_PARSERS_ =\n    _ol_xml_.makeStructureNS(\n      OWS.NAMESPACE_URIS_, {\n        'IndividualName': _ol_xml_.makeObjectPropertySetter(\n          XSD.readString),\n        'PositionName': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n        'ContactInfo': _ol_xml_.makeObjectPropertySetter(\n          OWS.readContactInfo_)\n      });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.SERVICE_IDENTIFICATION_PARSERS_ =\n    _ol_xml_.makeStructureNS(\n      OWS.NAMESPACE_URIS_, {\n        'Abstract': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n        'AccessConstraints': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n        'Fees': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n        'Title': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n        'ServiceTypeVersion': _ol_xml_.makeObjectPropertySetter(\n          XSD.readString),\n        'ServiceType': _ol_xml_.makeObjectPropertySetter(XSD.readString)\n      });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nOWS.SERVICE_PROVIDER_PARSERS_ =\n    _ol_xml_.makeStructureNS(\n      OWS.NAMESPACE_URIS_, {\n        'ProviderName': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n        'ProviderSite': _ol_xml_.makeObjectPropertySetter(XLink.readHref),\n        'ServiceContact': _ol_xml_.makeObjectPropertySetter(\n          OWS.readServiceContact_)\n      });\nexport default OWS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/OWS.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/WMTSCapabilities\n */\nimport {inherits} from '../index.js';\nimport {boundingExtent} from '../extent.js';\nimport OWS from '../format/OWS.js';\nimport XLink from '../format/XLink.js';\nimport XML from '../format/XML.js';\nimport XSD from '../format/XSD.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Format for reading WMTS capabilities data.\n *\n * @constructor\n * @extends {ol.format.XML}\n * @api\n */\nconst WMTSCapabilities = function() {\n  XML.call(this);\n\n  /**\n   * @type {ol.format.OWS}\n   * @private\n   */\n  this.owsParser_ = new OWS();\n};\n\ninherits(WMTSCapabilities, XML);\n\n\n/**\n * Read a WMTS capabilities document.\n *\n * @function\n * @param {Document|Node|string} source The XML source.\n * @return {Object} An object representing the WMTS capabilities.\n * @api\n */\nWMTSCapabilities.prototype.read;\n\n\n/**\n * @inheritDoc\n */\nWMTSCapabilities.prototype.readFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nWMTSCapabilities.prototype.readFromNode = function(node) {\n  const version = node.getAttribute('version').trim();\n  let WMTSCapabilityObject = this.owsParser_.readFromNode(node);\n  if (!WMTSCapabilityObject) {\n    return null;\n  }\n  WMTSCapabilityObject['version'] = version;\n  WMTSCapabilityObject = _ol_xml_.pushParseAndPop(WMTSCapabilityObject,\n    WMTSCapabilities.PARSERS_, node, []);\n  return WMTSCapabilityObject ? WMTSCapabilityObject : null;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nWMTSCapabilities.readContents_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.CONTENTS_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layers object.\n */\nWMTSCapabilities.readLayer_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.LAYER_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set object.\n */\nWMTSCapabilities.readTileMatrixSet_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.TMS_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nWMTSCapabilities.readStyle_ = function(node, objectStack) {\n  const style = _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.STYLE_PARSERS_, node, objectStack);\n  if (!style) {\n    return undefined;\n  }\n  const isDefault = node.getAttribute('isDefault') === 'true';\n  style['isDefault'] = isDefault;\n  return style;\n\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set Link object.\n */\nWMTSCapabilities.readTileMatrixSetLink_ = function(node,\n  objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.TMS_LINKS_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Dimension object.\n */\nWMTSCapabilities.readDimensions_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.DIMENSION_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Resource URL object.\n */\nWMTSCapabilities.readResourceUrl_ = function(node, objectStack) {\n  const format = node.getAttribute('format');\n  const template = node.getAttribute('template');\n  const resourceType = node.getAttribute('resourceType');\n  const resource = {};\n  if (format) {\n    resource['format'] = format;\n  }\n  if (template) {\n    resource['template'] = template;\n  }\n  if (resourceType) {\n    resource['resourceType'] = resourceType;\n  }\n  return resource;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} WGS84 BBox object.\n */\nWMTSCapabilities.readWgs84BoundingBox_ = function(node, objectStack) {\n  const coordinates = _ol_xml_.pushParseAndPop([],\n    WMTSCapabilities.WGS84_BBOX_READERS_, node, objectStack);\n  if (coordinates.length != 2) {\n    return undefined;\n  }\n  return boundingExtent(coordinates);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Legend object.\n */\nWMTSCapabilities.readLegendUrl_ = function(node, objectStack) {\n  const legend = {};\n  legend['format'] = node.getAttribute('format');\n  legend['href'] = XLink.readHref(node);\n  return legend;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Coordinates object.\n */\nWMTSCapabilities.readCoordinates_ = function(node, objectStack) {\n  const coordinates = XSD.readString(node).split(' ');\n  if (!coordinates || coordinates.length != 2) {\n    return undefined;\n  }\n  const x = +coordinates[0];\n  const y = +coordinates[1];\n  if (isNaN(x) || isNaN(y)) {\n    return undefined;\n  }\n  return [x, y];\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrix object.\n */\nWMTSCapabilities.readTileMatrix_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.TM_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixSetLimits Object.\n */\nWMTSCapabilities.readTileMatrixLimitsList_ = function(node,\n  objectStack) {\n  return _ol_xml_.pushParseAndPop([],\n    WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_, node,\n    objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixLimits Array.\n */\nWMTSCapabilities.readTileMatrixLimits_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop({},\n    WMTSCapabilities.TMS_LIMITS_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @const\n * @private\n * @type {Array.<string>}\n */\nWMTSCapabilities.NAMESPACE_URIS_ = [\n  null,\n  'http://www.opengis.net/wmts/1.0'\n];\n\n\n/**\n * @const\n * @private\n * @type {Array.<string>}\n */\nWMTSCapabilities.OWS_NAMESPACE_URIS_ = [\n  null,\n  'http://www.opengis.net/ows/1.1'\n];\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'Contents': _ol_xml_.makeObjectPropertySetter(\n      WMTSCapabilities.readContents_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.CONTENTS_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'Layer': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readLayer_),\n    'TileMatrixSet': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readTileMatrixSet_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.LAYER_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'Style': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readStyle_),\n    'Format': _ol_xml_.makeObjectPropertyPusher(\n      XSD.readString),\n    'TileMatrixSetLink': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readTileMatrixSetLink_),\n    'Dimension': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readDimensions_),\n    'ResourceURL': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readResourceUrl_)\n  }, _ol_xml_.makeStructureNS(WMTSCapabilities.OWS_NAMESPACE_URIS_, {\n    'Title': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'Abstract': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'WGS84BoundingBox': _ol_xml_.makeObjectPropertySetter(\n      WMTSCapabilities.readWgs84BoundingBox_),\n    'Identifier': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  }));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'LegendURL': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readLegendUrl_)\n  }, _ol_xml_.makeStructureNS(WMTSCapabilities.OWS_NAMESPACE_URIS_, {\n    'Title': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'Identifier': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  }));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.TMS_LINKS_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'TileMatrixSet': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'TileMatrixSetLimits': _ol_xml_.makeObjectPropertySetter(\n      WMTSCapabilities.readTileMatrixLimitsList_)\n  });\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.TMS_LIMITS_LIST_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'TileMatrixLimits': _ol_xml_.makeArrayPusher(\n      WMTSCapabilities.readTileMatrixLimits_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.TMS_LIMITS_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'TileMatrix': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'MinTileRow': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MaxTileRow': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MinTileCol': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MaxTileCol': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.DIMENSION_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'Default': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'Value': _ol_xml_.makeObjectPropertyPusher(\n      XSD.readString)\n  }, _ol_xml_.makeStructureNS(WMTSCapabilities.OWS_NAMESPACE_URIS_, {\n    'Identifier': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  }));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.WGS84_BBOX_READERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.OWS_NAMESPACE_URIS_, {\n    'LowerCorner': _ol_xml_.makeArrayPusher(\n      WMTSCapabilities.readCoordinates_),\n    'UpperCorner': _ol_xml_.makeArrayPusher(\n      WMTSCapabilities.readCoordinates_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.TMS_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'WellKnownScaleSet': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'TileMatrix': _ol_xml_.makeObjectPropertyPusher(\n      WMTSCapabilities.readTileMatrix_)\n  }, _ol_xml_.makeStructureNS(WMTSCapabilities.OWS_NAMESPACE_URIS_, {\n    'SupportedCRS': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'Identifier': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  }));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMTSCapabilities.TM_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMTSCapabilities.NAMESPACE_URIS_, {\n    'TopLeftCorner': _ol_xml_.makeObjectPropertySetter(\n      WMTSCapabilities.readCoordinates_),\n    'ScaleDenominator': _ol_xml_.makeObjectPropertySetter(\n      XSD.readDecimal),\n    'TileWidth': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'TileHeight': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MatrixWidth': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MatrixHeight': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger)\n  }, _ol_xml_.makeStructureNS(WMTSCapabilities.OWS_NAMESPACE_URIS_, {\n    'Identifier': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  }));\nexport default WMTSCapabilities;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/WMTSCapabilities.js\n// module id = null\n// module chunks = ","/**\n * @module ngeo.misc.decorate\n */\nconst exports = {};\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport olInteractionInteraction from 'ol/interaction/Interaction.js';\nimport olLayerBase from 'ol/layer/Base.js';\nimport olLayerGroup from 'ol/layer/Group.js';\nimport olLayerLayer from 'ol/layer/Layer.js';\nimport olSourceImage from 'ol/source/Image.js';\nimport olSourceTile from 'ol/source/Tile.js';\n\n\n/**\n * Provides a function that adds an \"active\" property (using\n * `Object.defineProperty`) to an interaction, making it possible to use ngModel\n * to activate/deactivate interactions.\n *\n * Example:\n *\n *      <input type=\"checkbox\" ngModel=\"interaction.active\" />\n *\n * @param {ol.interaction.Interaction} interaction Interaction to decorate.\n */\nexports.interaction = function(interaction) {\n  googAsserts.assertInstanceof(interaction, olInteractionInteraction);\n\n  Object.defineProperty(interaction, 'active', {\n    get: () => interaction.getActive(),\n    set: (val) => {\n      interaction.setActive(val);\n    }\n  });\n};\n\n\n/**\n * Provides a function that adds properties (using\n * `Object.defineProperty`) to the layer, making it possible to control layer\n * properties with ngModel.\n *\n * Example:\n *\n *      <input type=\"checkbox\" ngModel=\"layer.visible\" />\n *\n * @param {ol.layer.Base} layer Layer to decorate.\n */\nexports.layer = function(layer) {\n  googAsserts.assertInstanceof(layer, olLayerBase);\n\n  Object.defineProperty(layer, 'visible', {\n    configurable: true,\n    /**\n     * @return {boolean} Visible.\n     */\n    get: () => layer.getVisible(),\n    /**\n     * @param {boolean} val Visible.\n     */\n    set: (val) => {\n      layer.setVisible(val);\n    }\n  });\n\n  Object.defineProperty(layer, 'opacity', {\n    configurable: true,\n    /**\n     * @return {number} Opacity.\n     */\n    get: () => layer.getOpacity(),\n    /**\n     * @param {number} val Opacity.\n     */\n    set: (val) => {\n      layer.setOpacity(val);\n    }\n  });\n};\n\n\n/**\n * Provides a function that adds a 'loading 'property (using\n * `Object.defineProperty`) to an ol.layer.Group or a layer with\n * an ol.source.Tile or an ol.source.Image source.\n * This property is true when the layer is loading and false otherwise.\n *\n * Example:\n *\n *      <span ng-if=\"layer.loading\">please wait</span>\n *\n * @param {ol.layer.Base} layer layer.\n * @param {angular.Scope} $scope Scope.\n */\nexports.layerLoading = function(layer, $scope) {\n\n  let source;\n\n  /**\n   * @type {Array<string>|null}\n   */\n  let incrementEvents = null;\n\n  /**\n   * @type {Array<string>|null}\n   */\n  let decrementEvents = null;\n\n  /**\n   * @function\n   * @private\n   */\n  const incrementLoadCount_ = increment_;\n\n  /**\n   * @function\n   * @private\n   */\n  const decrementLoadCount_ = decrement_;\n\n  layer.set('load_count', 0, true);\n\n  if (layer instanceof olLayerGroup) {\n    layer.getLayers().on('add', (olEvent) => {\n      const newLayer = olEvent.element;\n      newLayer.set('parent_group', layer);\n    });\n  }\n\n  if (layer instanceof olLayerLayer) {\n    source = layer.getSource();\n    if (source === null) {\n      return;\n    } else if (source instanceof olSourceTile) {\n      incrementEvents = ['tileloadstart'];\n      decrementEvents = ['tileloadend', 'tileloaderror'];\n    } else if (source instanceof olSourceImage) {\n      incrementEvents = ['imageloadstart'];\n      decrementEvents = ['imageloadend', 'imageloaderror'];\n    } else {\n      googAsserts.fail('unsupported source type');\n    }\n\n    source.on(incrementEvents, () => {\n      incrementLoadCount_(layer);\n      $scope.$applyAsync();\n    });\n\n    source.on(decrementEvents, () => {\n      decrementLoadCount_(layer);\n      $scope.$applyAsync();\n    });\n  }\n\n  Object.defineProperty(layer, 'loading', {\n    configurable: true,\n    get: () => /** @type {number} */ (layer.get('load_count')) > 0\n  });\n\n  /**\n   * @function\n   * @param {ol.layer.Base} layer Layer\n   * @private\n   */\n  function increment_(layer) {\n    let load_count = /** @type {number} */ (layer.get('load_count'));\n    const parent = /** @type {ol.layer.Base} */ (layer.get('parent_group'));\n    layer.set('load_count', ++load_count, true);\n    if (parent) {\n      increment_(parent);\n    }\n  }\n\n  /**\n   * @function\n   * @param {ol.layer.Base} layer Layer\n   * @private\n   */\n  function decrement_(layer) {\n    let load_count = /** @type {number} */ (layer.get('load_count'));\n    const parent = /** @type {ol.layer.Base} */ (layer.get('parent_group'));\n    layer.set('load_count', --load_count, true);\n    if (parent) {\n      decrement_(parent);\n    }\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/decorate.js","/**\n * @module gmf.permalink.Permalink\n */\nimport gmfBase from 'gmf/index.js';\n\n/** @suppress {extraRequire} */\nimport gmfThemeManager from 'gmf/theme/Manager.js';\n\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoPopover from 'ngeo/Popover.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDrawFeatures from 'ngeo/draw/features.js';\n\nimport ngeoDatasourceGroup from 'ngeo/datasource/Group.js';\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDatasourceWMSGroup from 'ngeo/datasource/WMSGroup.js';\n\nimport ngeoOlcsConstants from 'ngeo/olcs/constants.js';\nimport ngeoFormatFeatureHash from 'ngeo/format/FeatureHash.js';\nimport ngeoFormatFeatureProperties from 'ngeo/format/FeatureProperties.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMiscDebounce from 'ngeo/misc/debounce.js';\n\nimport ngeoMiscEventHelper from 'ngeo/misc/EventHelper.js';\nimport ngeoStatemanagerModule from 'ngeo/statemanager/module.js';\nimport ngeoStatemanagerService from 'ngeo/statemanager/Service.js';\nimport ngeoLayertreeController from 'ngeo/layertree/Controller.js';\nimport googAsserts from 'goog/asserts.js';\nimport * as olBase from 'ol/index.js';\nimport * as olArray from 'ol/array.js';\nimport olEvents from 'ol/events.js';\nimport olFeature from 'ol/Feature.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport * as olProj from 'ol/proj.js';\nimport olStyleStroke from 'ol/style/Stroke.js';\nimport olStyleRegularShape from 'ol/style/RegularShape.js';\nimport olStyleStyle from 'ol/style/Style.js';\nimport olLayerGroup from 'ol/layer/Group.js';\n\n/**\n * The Permalink service for GMF, which uses the `ngeo.statemanager.Service` to\n * manage the GMF application state. Here's the list of states are are managed:\n *\n * - the map center and zoom level\n * - the current background layer selected\n * - whether to add a crosshair feature in the map or not\n * - the dimensions value\n *\n * To have the whole possibilities offer by the permalink, these services\n * should be instantiated: ngeoBackgroundLayerMgr, ngeoFeatureOverlayMgr,\n * ngeoFeatureHelper, gmfPermalinkOptions, gmfThemes, gmfObjectEditingManager,\n * gmfThemeManager, defaultTheme, gmfTreeManager, ngeoWfsPermalink,\n * ngeoAutoProjection and ngeoFeatures.\n *\n * @constructor\n * @struct\n * @param {!angular.$q} $q The Angular $q service.\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @param {angular.Scope} $rootScope Angular rootScope.\n * @param {angular.$injector} $injector Main injector.\n * @param {ngeox.miscDebounce} ngeoDebounce ngeo Debounce factory.\n * @param {ngeo.misc.EventHelper} ngeoEventHelper Ngeo event helper service\n * @param {ngeo.statemanager.Service} ngeoStateManager The ngeo statemanager service.\n * @param {ngeo.statemanager.Location} ngeoLocation ngeo location service.\n * @ngInject\n * @ngdoc service\n * @ngname gmfPermalink\n */\nconst exports = function($q, $timeout, $rootScope, $injector, ngeoDebounce, ngeoEventHelper,\n  ngeoStateManager, ngeoLocation) {\n\n  /**\n   * @type {!angular.$q}\n   * @private\n   */\n  this.q_ = $q;\n\n  /**\n   * @type {angular.Scope}\n   * @private\n   */\n  this.rootScope_ = $rootScope;\n\n  /**\n   * @type {angular.$timeout}\n   * @private\n   */\n  this.$timeout_ = $timeout;\n\n  // == listener keys ==\n\n  /**\n   * The key for map view 'propertychange' event.\n   * @type {?ol.EventsKey}\n   * @private\n   */\n  this.mapViewPropertyChangeEventKey_ = null;\n\n  // == properties from params ==\n\n  /**\n   * @type {ngeox.miscDebounce}\n   * @private\n   */\n  this.ngeoDebounce_ = ngeoDebounce;\n\n  /**\n   * @type {ngeo.misc.EventHelper}\n   * @private\n   */\n  this.ngeoEventHelper_ = ngeoEventHelper;\n\n  /**\n   * @type {ngeo.statemanager.Service}\n   * @private\n   */\n  this.ngeoStateManager_ = ngeoStateManager;\n\n  /**\n   * @type {?ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.ngeoFeatures_ = $injector.has('ngeoFeatures') ?\n    $injector.get('ngeoFeatures') : null;\n\n  /**\n   * @type {?ngeo.map.BackgroundLayerMgr}\n   * @private\n   */\n  this.ngeoBackgroundLayerMgr_ = $injector.has('ngeoBackgroundLayerMgr') ?\n    $injector.get('ngeoBackgroundLayerMgr') : null;\n\n  /**\n   * @type {?ngeo.map.FeatureOverlayMgr}\n   */\n  const ngeoFeatureOverlayMgr = $injector.has('ngeoFeatureOverlayMgr') ?\n    $injector.get('ngeoFeatureOverlayMgr') : null;\n\n  /**\n   * @type {?ngeo.map.FeatureOverlay}\n   * @private\n   */\n  this.featureOverlay_ = ngeoFeatureOverlayMgr ?\n    ngeoFeatureOverlayMgr.getFeatureOverlay() : null;\n\n  /**\n   * @type {?ngeo.misc.FeatureHelper}\n   * @private\n   */\n  this.featureHelper_ = $injector.has('ngeoFeatureHelper') ?\n    $injector.get('ngeoFeatureHelper') : null;\n\n  /**\n   * @type {?ngeo.query.Querent}\n   * @private\n   */\n  this.ngeoQuerent_ = $injector.has('ngeoQuerent') ?\n    $injector.get('ngeoQuerent') : null;\n\n  /**\n   * The options to configure the gmf permalink service with.\n   * @type {!gmfx.PermalinkOptions}\n   */\n  const gmfPermalinkOptions = $injector.has('gmfPermalinkOptions') ?\n    $injector.get('gmfPermalinkOptions') : {};\n  if (gmfPermalinkOptions.useLocalStorage === true) {\n    // localStorage is deactivated by default\n    this.ngeoStateManager_.setUseLocalStorage(true);\n  }\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.crosshairEnabledByDefault_ = !!gmfPermalinkOptions.crosshairEnabledByDefault;\n\n  /**\n   * @type {?gmf.datasource.ExternalDataSourcesManager}\n   * @private\n   */\n  this.gmfExternalDataSourcesManager_ =\n    $injector.has('gmfExternalDataSourcesManager') ?\n      $injector.get('gmfExternalDataSourcesManager') : null;\n\n  /**\n   * @type {?gmf.theme.Themes}\n   * @private\n   */\n  this.gmfThemes_ = $injector.has('gmfThemes') ? $injector.get('gmfThemes') : null;\n\n  /**\n   * @type {?gmf.objectediting.Manager}\n   * @private\n   */\n  this.gmfObjectEditingManager_ = $injector.has('gmfObjectEditingManager') ?\n    $injector.get('gmfObjectEditingManager') : null;\n\n  /**\n   * @type {?gmf.theme.Manager}\n   * @private\n   */\n  this.gmfThemeManager_ = $injector.has('gmfThemeManager') ?\n    $injector.get('gmfThemeManager') : null;\n\n  /**\n   * @type {string|undefined}\n   * @private\n   */\n  this.defaultTheme_ = $injector.has('defaultTheme') ?\n    $injector.get('defaultTheme') : undefined;\n\n  /**\n   * @type {?gmf.layertree.TreeManager}\n   * @private\n   */\n  this.gmfTreeManager_ = $injector.has('gmfTreeManager') ?\n    $injector.get('gmfTreeManager') : null;\n\n  // == other properties ==\n\n  /**\n   * @type {ngeo.statemanager.Location}\n   * @private\n   */\n  this.ngeoLocation_ = ngeoLocation;\n\n  /**\n   * @type {?ngeo.statemanager.WfsPermalink}\n   * @private\n   */\n  this.ngeoWfsPermalink_ = $injector.has('ngeoWfsPermalink') ?\n    $injector.get('ngeoWfsPermalink') : null;\n\n  /**\n   * @type {?gmfx.User}\n   * @export\n   */\n  this.gmfUser_ = $injector.has('gmfUser') ?\n    $injector.get('gmfUser') : null;\n\n  /**\n   * @type {?ol.Map}\n   * @private\n   */\n  this.map_ = null;\n\n  /**\n   * @type {?ngeo.misc.AutoProjection}\n   * @private\n   */\n  this.ngeoAutoProjection_ = $injector.has('ngeoAutoProjection') ?\n    $injector.get('ngeoAutoProjection') : null;\n\n  /**\n   * A list of projections that the coordinates in the permalink can be in.\n   * @type {?Array.<ol.proj.Projection>}\n   * @private\n   */\n  this.sourceProjections_ = null;\n  if (gmfPermalinkOptions.projectionCodes !== undefined && this.ngeoAutoProjection_) {\n    const projections = this.ngeoAutoProjection_.getProjectionList(gmfPermalinkOptions.projectionCodes);\n    if (projections.length > 0) {\n      this.sourceProjections_ = projections;\n    }\n  }\n\n  /**\n   * @type {?ol.Feature}\n   * @private\n   */\n  this.crosshairFeature_ = null;\n\n  /**\n   * @type {Array<(null|ol.style.Style)>|null|ol.FeatureStyleFunction|ol.style.Style}\n   * @private\n   */\n  this.crosshairStyle_;\n\n  if (gmfPermalinkOptions.crosshairStyle !== undefined) {\n    this.crosshairStyle_ = gmfPermalinkOptions.crosshairStyle;\n  } else {\n    this.crosshairStyle_ = [new olStyleStyle({\n      image: new olStyleRegularShape({\n        stroke: new olStyleStroke({\n          color: 'rgba(255, 255, 255, 0.8)',\n          width: 5\n        }),\n        points: 4,\n        radius: 8,\n        radius2: 0,\n        angle: 0\n      })\n    }), new olStyleStyle({\n      image: new olStyleRegularShape({\n        stroke: new olStyleStroke({\n          color: 'rgba(255, 0, 0, 1)',\n          width: 2\n        }),\n        points: 4,\n        radius: 8,\n        radius2: 0,\n        angle: 0\n      })\n    })];\n  }\n\n  /**\n   * @type {?ngeo.Popover}\n   * @private\n   */\n  this.mapTooltip_ = null;\n\n  /**\n   * @type {ngeo.format.FeatureHash}\n   * @private\n   */\n  this.featureHashFormat_ = new ngeoFormatFeatureHash({\n    setStyle: false,\n    encodeStyles: false,\n    propertiesType: {\n      'fillColor': ngeoFormatFeatureProperties.COLOR,\n      'fillOpacity': ngeoFormatFeatureProperties.OPACITY,\n      'fontColor': ngeoFormatFeatureProperties.COLOR,\n      'fontSize': ngeoFormatFeatureProperties.SIZE,\n      'isBox': ngeoFormatFeatureProperties.IS_RECTANGLE,\n      'isCircle': ngeoFormatFeatureProperties.IS_CIRCLE,\n      'isLabel': ngeoFormatFeatureProperties.IS_TEXT,\n      'name': ngeoFormatFeatureProperties.NAME,\n      'pointRadius': ngeoFormatFeatureProperties.SIZE,\n      'showLabel': ngeoFormatFeatureProperties.SHOW_LABEL,\n      'showMeasure': ngeoFormatFeatureProperties.SHOW_MEASURE,\n      'strokeColor': ngeoFormatFeatureProperties.COLOR,\n      'strokeWidth': ngeoFormatFeatureProperties.STROKE\n    }\n  });\n\n  // == event listeners ==\n\n  if (this.ngeoBackgroundLayerMgr_) {\n    olEvents.listen(\n      this.ngeoBackgroundLayerMgr_,\n      'change',\n      this.handleBackgroundLayerManagerChange_,\n      this);\n  }\n\n  // visibility\n  this.rootScope_.$on('ngeo-layertree-state', (event, treeCtrl, firstParent) => {\n    const newState = {};\n    if (firstParent.node.mixed) {\n      const state = treeCtrl.getState();\n      googAsserts.assert(state === 'on' || state === 'off');\n      const visible = state === 'on';\n      treeCtrl.traverseDepthFirst((ctrl) => {\n        if (ctrl.node.children === undefined) {\n          const param = exports.ParamPrefix.TREE_ENABLE + ctrl.node.name;\n          newState[param] = visible;\n        }\n      });\n    } else {\n      const gmfLayerNames = [];\n      firstParent.traverseDepthFirst((ctrl) => {\n        if (ctrl.node.children === undefined && ctrl.getState() === 'on') {\n          gmfLayerNames.push(ctrl.node.name);\n        }\n      });\n      newState[exports.ParamPrefix.TREE_GROUP_LAYERS + firstParent.node.name] = gmfLayerNames.join(',');\n    }\n    this.ngeoStateManager_.updateState(newState);\n  });\n  this.rootScope_.$on('ngeo-layertree-opacity', (event, treeCtrl) => {\n    const newState = {};\n    const opacity = treeCtrl.layer.getOpacity();\n    const stateName = (treeCtrl.parent.node.mixed ?\n      exports.ParamPrefix.TREE_OPACITY : exports.ParamPrefix.TREE_GROUP_OPACITY\n    ) + treeCtrl.node.name;\n    newState[stateName] = opacity;\n    this.ngeoStateManager_.updateState(newState);\n  });\n\n  // ngeoFeatures\n  //   (1) read from features from the state manager first, add them\n  //   (2) listen for further features added/removed\n  const features = this.getFeatures();\n  if (this.ngeoFeatures_) {\n    features.forEach(function(feature) {\n      if (this.featureHelper_) {\n        this.featureHelper_.setStyle(feature);\n      }\n      this.addNgeoFeature_(feature);\n    }, this);\n\n    this.ngeoFeatures_.extend(features);\n    olEvents.listen(this.ngeoFeatures_, 'add', this.handleNgeoFeaturesAdd_, this);\n    olEvents.listen(this.ngeoFeatures_, 'remove', this.handleNgeoFeaturesRemove_, this);\n  }\n\n  if (this.featureHelper_) {\n    this.rootScope_.$on('$localeChangeSuccess', () => {\n      features.forEach(function(feature) {\n        this.featureHelper_.setStyle(feature);\n      }, this);\n    });\n  }\n\n  if (this.gmfThemeManager_) {\n    this.rootScope_.$on(gmfThemeManager.EventType.THEME_NAME_SET, (event, name) => {\n      this.setThemeInUrl_(name);\n    });\n  }\n\n  // External DataSources\n\n  /**\n   * @type {?angular.$q.Promise}\n   * @private\n   */\n  this.setExternalDataSourcesStatePromise_ = null;\n\n  if (this.ngeoQuerent_ && this.gmfExternalDataSourcesManager_) {\n    // First, load the external data sources that are defined in the url\n    this.initExternalDataSources_().then(() => {\n      // Then, listen to the changes made to the external data sources to\n      // update the url accordingly.\n      olEvents.listen(\n        this.gmfExternalDataSourcesManager_.wmsGroupsCollection,\n        'add',\n        this.handleExternalDSGroupCollectionAdd_,\n        this\n      );\n      olEvents.listen(\n        this.gmfExternalDataSourcesManager_.wmsGroupsCollection,\n        'remove',\n        this.handleExternalDSGroupCollectionRemove_,\n        this\n      );\n      olEvents.listen(\n        this.gmfExternalDataSourcesManager_.wmtsGroupsCollection,\n        'add',\n        this.handleExternalDSGroupCollectionAdd_,\n        this\n      );\n      olEvents.listen(\n        this.gmfExternalDataSourcesManager_.wmtsGroupsCollection,\n        'remove',\n        this.handleExternalDSGroupCollectionRemove_,\n        this\n      );\n\n      // We also need to 'register' the existing groups as well, i.e. those\n      // that were created by the Permalink\n      for (const wmsGroup of this.gmfExternalDataSourcesManager_.wmsGroups) {\n        this.registerExternalDSGroup_(wmsGroup);\n      }\n      for (const wmtsGroup of this.gmfExternalDataSourcesManager_.wmtsGroups) {\n        this.registerExternalDSGroup_(wmtsGroup);\n      }\n    });\n  }\n\n  this.initLayers_();\n};\n\n// === Map X, Y, Z ===\n\n/**\n * Get the coordinate to use to initialize the map view from the state manager.\n * @return {?ol.Coordinate} The coordinate for the map view center.\n * @export\n */\nexports.prototype.getMapCenter = function() {\n  const x = this.ngeoStateManager_.getInitialNumberValue(gmfBase.PermalinkParam.MAP_X);\n  const y = this.ngeoStateManager_.getInitialNumberValue(gmfBase.PermalinkParam.MAP_Y);\n\n  if (!isNaN(x) && !isNaN(y)) {\n    const center = [x, y];\n    if (this.sourceProjections_ !== null && this.ngeoAutoProjection_) {\n      const targetProjection = this.map_.getView().getProjection();\n      const reprojectedCenter = this.ngeoAutoProjection_.tryProjectionsWithInversion(\n        center, targetProjection.getExtent(), targetProjection,\n        this.sourceProjections_);\n      if (reprojectedCenter) {\n        return reprojectedCenter;\n      }\n    }\n    return center;\n  }\n  return null;\n};\n\n\n/**\n * Get the zoom level to use to initialize the map view from the state manager.\n * @return {number|undefined} The zoom for the map view.\n * @export\n */\nexports.prototype.getMapZoom = function() {\n  const zoom = this.ngeoStateManager_.getInitialNumberValue(gmfBase.PermalinkParam.MAP_Z);\n  return isNaN(zoom) ? undefined : zoom;\n};\n\n\n// === Map crosshair ===\n\n\n/**\n * Get the map crosshair property from the state manager, if defined.\n * @return {boolean} Whether map crosshair property is set or not.\n * @export\n */\nexports.prototype.getMapCrosshair = function() {\n  const crosshair = this.ngeoStateManager_.getInitialBooleanValue(gmfBase.PermalinkParam.MAP_CROSSHAIR);\n  return crosshair === undefined ? this.crosshairEnabledByDefault_ : crosshair;\n};\n\n\n/**\n * Sets the map crosshair to the center (or the map center if nothing provided).\n * Overwrites an existing map crosshair.\n * @param {?ol.Coordinate=} opt_center Optional center coordinate.\n */\nexports.prototype.setMapCrosshair = function(opt_center) {\n  let crosshairCoordinate;\n  if (opt_center) {\n    crosshairCoordinate = opt_center;\n  } else {\n    crosshairCoordinate = this.map_.getView().getCenter();\n  }\n  googAsserts.assertArray(crosshairCoordinate);\n\n  // remove existing crosshair first\n  if (this.crosshairFeature_) {\n    this.featureOverlay_.removeFeature(this.crosshairFeature_);\n  }\n  // set new crosshair\n  this.crosshairFeature_ = new olFeature(\n    new olGeomPoint(crosshairCoordinate));\n  this.crosshairFeature_.setStyle(this.crosshairStyle_);\n\n  // add to overlay\n  this.featureOverlay_.addFeature(this.crosshairFeature_);\n};\n\n\n// === Map tooltip ===\n\n\n/**\n * Get the tooltip text from the state manager.\n * @return {string|undefined} Tooltip text.\n * @export\n */\nexports.prototype.getMapTooltip = function() {\n  return this.ngeoStateManager_.getInitialStringValue(gmfBase.PermalinkParam.MAP_TOOLTIP);\n};\n\n/**\n * Sets the map tooltip to the center (or the map center if nothing provided).\n * Overwrites an existing map tooltip.\n * @param {string} tooltipText Text to display in tooltip.\n * @param {?ol.Coordinate=} opt_center Optional center coordinate.\n */\nexports.prototype.setMapTooltip = function(tooltipText, opt_center) {\n  let tooltipPosition;\n  if (opt_center) {\n    tooltipPosition = opt_center;\n  } else {\n    tooltipPosition = this.map_.getView().getCenter();\n  }\n  googAsserts.assertArray(tooltipPosition);\n\n  const div = $('<div/>', {\n    'class': 'gmf-permalink-tooltip',\n    'text': tooltipText\n  })[0];\n\n  if (this.mapTooltip_ !== null) {\n    this.map_.removeOverlay(this.mapTooltip_);\n  }\n\n  this.mapTooltip_ = new ngeoPopover({\n    element: div,\n    position: tooltipPosition\n  });\n\n  this.map_.addOverlay(this.mapTooltip_);\n};\n\n\n// === NgeoFeatures (A.K.A. DrawFeature, RedLining) ===\n\n\n/**\n * Get the ngeo features from the state manager for initialization purpose\n * @return {!Array.<!ol.Feature>} The features read from the state manager.\n * @export\n */\nexports.prototype.getFeatures = function() {\n  const f = this.ngeoStateManager_.getInitialStringValue(gmfBase.PermalinkParam.FEATURES);\n  if (f !== undefined && f !== '') {\n    return googAsserts.assert(this.featureHashFormat_.readFeatures(f));\n  }\n  return [];\n};\n\n\n/**\n * @param {!Object.<string, string>} dimensions The global dimensions object.\n * @export\n */\nexports.prototype.setDimensions = function(dimensions) {\n  // apply initial state\n  const keys = this.ngeoLocation_.getParamKeysWithPrefix(exports.ParamPrefix.DIMENSIONS);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const value = this.ngeoLocation_.getParam(key);\n    googAsserts.assert(value);\n    dimensions[key.slice(exports.ParamPrefix.DIMENSIONS.length)] = value;\n  }\n\n  this.rootScope_.$watchCollection(() => dimensions, (dimensions) => {\n    const params = {};\n    for (const key in dimensions) {\n      params[exports.ParamPrefix.DIMENSIONS + key] = dimensions[key];\n    }\n    this.ngeoLocation_.updateParams(params);\n  });\n};\n\n\n/**\n * Bind an ol3 map object to this service. The service will, from there on,\n * listen to the properties changed within the map view and update the following\n * state properties: map_x, map_y and map_zoom.\n *\n * If the service is already bound to a map, those events are unlistened first.\n *\n * @param {?ol.Map} map The ol3 map object.\n * @export\n */\nexports.prototype.setMap = function(map) {\n\n  if (map === this.map_) {\n    return;\n  }\n\n  if (this.map_) {\n    this.unregisterMap_();\n    this.map_ = null;\n  }\n\n  if (map) {\n    this.map_ = map;\n    if (this.gmfObjectEditingManager_) {\n      this.gmfObjectEditingManager_.getFeature().then((feature) => {\n        this.registerMap_(map, feature);\n      });\n    } else {\n      this.registerMap_(map, null);\n    }\n  }\n\n};\n\n\n/**\n * Listen to the map view property change and update the state accordingly.\n * @param {ol.Map} map The ol3 map object.\n * @param {?ol.Feature} oeFeature ObjectEditing feature\n * @private\n */\nexports.prototype.registerMap_ = function(map, oeFeature) {\n\n  const view = map.getView();\n  let center;\n\n  // (1) Initialize the map view with either:\n  //     a) the given ObjectEditing feature\n  //     b) the X, Y and Z available within the permalink service, if available\n  if (oeFeature && oeFeature.getGeometry()) {\n    const size = map.getSize();\n    googAsserts.assert(size);\n    view.fit(oeFeature.getGeometry().getExtent(), size);\n  } else {\n    const enabled3d = this.ngeoStateManager_.getInitialBooleanValue(ngeoOlcsConstants.Permalink3dParam.ENABLED);\n    if (!enabled3d) {\n      center = this.getMapCenter();\n      if (center) {\n        view.setCenter(center);\n      }\n      const zoom = this.getMapZoom();\n      if (zoom !== undefined) {\n        view.setZoom(zoom);\n      }\n    }\n  }\n\n\n  // (2) Listen to any property changes within the view and apply them to\n  //     the permalink service\n  this.mapViewPropertyChangeEventKey_ = olEvents.listen(\n    view,\n    'propertychange',\n    this.ngeoDebounce_(() => {\n      const center = view.getCenter();\n      const zoom = view.getZoom();\n      const object = {};\n      object[gmfBase.PermalinkParam.MAP_X] = Math.round(center[0]);\n      object[gmfBase.PermalinkParam.MAP_Y] = Math.round(center[1]);\n      object[gmfBase.PermalinkParam.MAP_Z] = zoom;\n      this.ngeoStateManager_.updateState(object);\n    }, 300, /* invokeApply */ true),\n    this);\n\n  // (3) Add map crosshair, if set\n  if (this.getMapCrosshair() && this.featureOverlay_) {\n    this.setMapCrosshair(center);\n  }\n\n  // (4) Add map tooltip, if set\n  const tooltipText = this.getMapTooltip();\n  if (tooltipText) {\n    this.setMapTooltip(tooltipText, center);\n  }\n\n  // (6) check for a wfs permalink\n  const wfsPermalinkData = this.getWfsPermalinkData_();\n  if (wfsPermalinkData !== null && this.ngeoWfsPermalink_) {\n    this.ngeoWfsPermalink_.issue(wfsPermalinkData, map);\n  }\n};\n\n\n/**\n * Remove any event listeners from the current map.\n * @private\n */\nexports.prototype.unregisterMap_ = function() {\n  googAsserts.assert(\n    this.mapViewPropertyChangeEventKey_, 'Key should be thruthy');\n  olEvents.unlistenByKey(this.mapViewPropertyChangeEventKey_);\n  this.mapViewPropertyChangeEventKey_ = null;\n};\n\n\n// === Background layer ===\n\n\n/**\n * Get the background layer object to use to initialize the map from the\n * state manager.\n * @param {!Array.<!ol.layer.Base>} layers Array of background layer objects.\n * @return {?ol.layer.Base} Background layer.\n * @export\n */\nexports.prototype.getBackgroundLayer = function(layers) {\n  const layerName = this.ngeoStateManager_.getInitialStringValue(gmfBase.PermalinkParam.BG_LAYER);\n  if (layerName !== undefined) {\n    for (const layer of layers) {\n      if (layer.get('label') === layerName) {\n        return layer;\n      }\n    }\n  }\n  return null;\n};\n\n\n/**\n * Called when the background layer changes. Update the state using the\n * background layer label, i.e. its name.\n * @private\n */\nexports.prototype.handleBackgroundLayerManagerChange_ = function() {\n  if (!this.map_ || !this.ngeoBackgroundLayerMgr_) {\n    return;\n  }\n\n  // get layer label, i.e its name\n  const layer = this.ngeoBackgroundLayerMgr_.get(this.map_);\n  const layerName = layer.get('label');\n  googAsserts.assertString(layerName);\n\n  // set it in state\n  const object = {};\n  object[gmfBase.PermalinkParam.BG_LAYER] = layerName;\n  this.ngeoStateManager_.updateState(object);\n};\n\n\n// === Layers (layer tree) ===\n\n\n/**\n * Get the current first level node names in the tree manager and update the\n * correspondent state of the permalink.\n * @export\n */\nexports.prototype.refreshFirstLevelGroups = function() {\n  if (!this.gmfTreeManager_) {\n    return;\n  }\n  // Get first-level-groups order\n  const groupNodes = this.gmfTreeManager_.rootCtrl.node.children;\n  const orderedNames = groupNodes.map(node => node.name);\n\n  // set it in state\n  const object = {};\n  object[gmfBase.PermalinkParam.TREE_GROUPS] = orderedNames.join(',');\n  this.ngeoStateManager_.updateState(object);\n};\n\n\n/**\n * Return true if there is a theme specified in the URL path.\n * @private\n * @param {Array.<string>} pathElements Array of path elements.\n * @return {boolean} theme in path.\n */\nexports.prototype.themeInUrl_ = function(pathElements) {\n  const indexOfTheme = pathElements.indexOf('theme');\n  return indexOfTheme != -1 && indexOfTheme == pathElements.length - 2;\n};\n\n\n/**\n * @param {string} themeName Theme name.\n * @private\n */\nexports.prototype.setThemeInUrl_ = function(themeName) {\n  if (themeName) {\n    const pathElements = this.ngeoLocation_.getPath().split('/');\n    googAsserts.assert(pathElements.length > 1);\n    if (pathElements[pathElements.length - 1] === '') {\n      // case where the path is just \"/\"\n      pathElements.splice(pathElements.length - 1);\n    }\n    if (this.themeInUrl_(pathElements)) {\n      pathElements[pathElements.length - 1] = themeName;\n    } else {\n      pathElements.push('theme', themeName);\n    }\n    this.ngeoLocation_.setPath(pathElements.join('/'));\n  }\n};\n\n\n/**\n * Get the default theme from url, local storage, user functionalities or\n * defaultTheme constant.\n * @return {?string} default theme name.\n * @export\n */\nexports.prototype.defaultThemeName = function() {\n\n  // check if we have a theme in url\n  const pathElements = this.ngeoLocation_.getPath().split('/');\n  if (this.themeInUrl_(pathElements)) {\n    return pathElements[pathElements.length - 1];\n  }\n\n  // check if we have a theme in the local storage\n  const tn = this.ngeoStateManager_.getInitialStringValue('theme');\n  if (tn) {\n    return tn;\n  }\n\n  const defaultTheme = this.defaultThemeNameFromFunctionalities();\n  if (defaultTheme !== null) {\n    return defaultTheme;\n  }\n\n  // fallback to the defaultTheme constant\n  if (this.defaultTheme_) {\n    return this.defaultTheme_;\n  }\n\n  return null;\n};\n\n\n/**\n * Get the default theme from user functionalities.\n * @return {?string} default theme name.\n * @export\n */\nexports.prototype.defaultThemeNameFromFunctionalities = function() {\n  //check if we have a theme in the user functionalities\n  if (!this.gmfUser_) {\n    return null;\n  }\n  const functionalities = this.gmfUser_.functionalities;\n  if (functionalities && 'default_theme' in functionalities) {\n    const defaultTheme = functionalities.default_theme;\n    if (defaultTheme.length > 0) {\n      return defaultTheme[0];\n    }\n  }\n  return null;\n};\n\n\n/**\n * @private\n */\nexports.prototype.initLayers_ = function() {\n  if (!this.gmfThemes_) {\n    return;\n  }\n  this.gmfThemes_.getThemesObject().then((themes) => {\n    const themeName = this.defaultThemeName();\n    googAsserts.assert(themeName !== null);\n\n    if (this.gmfThemeManager_) {\n      this.gmfThemeManager_.setThemeName(this.gmfThemeManager_.modeFlush ? themeName : '');\n    }\n\n    /**\n     * @type {Array<(gmfThemes.GmfGroup)>}\n     */\n    let firstLevelGroups = [];\n    let theme;\n    // Check if we have the groups in the permalink\n    const groupsNames = this.ngeoLocation_.getParam(gmfBase.PermalinkParam.TREE_GROUPS);\n    if (groupsNames === undefined) {\n      googAsserts.assertString(themeName);\n      theme = gmfThemeThemes.findThemeByName(themes, themeName);\n      if (theme) {\n        firstLevelGroups = theme.children;\n      }\n    } else {\n      groupsNames.split(',').forEach((groupName) => {\n        const group = gmfThemeThemes.findGroupByName(themes, groupName);\n        if (group) {\n          firstLevelGroups.push(group);\n        }\n      });\n    }\n\n    if (this.gmfTreeManager_) {\n      this.gmfTreeManager_.setFirstLevelGroups(firstLevelGroups);\n    }\n\n    this.$timeout_(() => {\n      if (!this.gmfTreeManager_ || !this.gmfTreeManager_.rootCtrl) {\n        // we don't have any layertree\n        return;\n      }\n      // Enable the layers and set the opacity\n      this.gmfTreeManager_.rootCtrl.traverseDepthFirst((treeCtrl) => {\n        if (treeCtrl.isRoot) {\n          return;\n        }\n\n        const opacity = this.ngeoStateManager_.getInitialNumberValue((\n          treeCtrl.parent.node.mixed ?\n            exports.ParamPrefix.TREE_OPACITY :\n            exports.ParamPrefix.TREE_GROUP_OPACITY\n        ) + treeCtrl.node.name);\n        if (opacity !== undefined && treeCtrl.layer) {\n          treeCtrl.layer.setOpacity(opacity);\n        }\n        if (treeCtrl.parent.node && treeCtrl.parent.node.mixed && treeCtrl.node.children == undefined) {\n          // Layer of a mixed group\n          const enable = this.ngeoStateManager_.getInitialBooleanValue(\n            exports.ParamPrefix.TREE_ENABLE + treeCtrl.node.name\n          );\n          if (enable !== undefined) {\n            treeCtrl.setState(enable ? 'on' : 'off', false);\n          }\n        } else if (!treeCtrl.node.mixed && treeCtrl.depth == 1) {\n          // First level non mixed group\n          const groupLayers = this.ngeoStateManager_.getInitialStringValue(\n            exports.ParamPrefix.TREE_GROUP_LAYERS + treeCtrl.node.name\n          );\n          if (groupLayers !== undefined) {\n            const groupLayersArray = groupLayers.split(',');\n            treeCtrl.traverseDepthFirst((treeCtrl) => {\n              if (treeCtrl.node.children === undefined) {\n                const enable = olArray.includes(groupLayersArray, treeCtrl.node.name);\n                treeCtrl.setState(enable ? 'on' : 'off', false);\n              }\n            });\n          }\n        }\n      });\n      const firstParents = this.gmfTreeManager_.rootCtrl.children;\n      firstParents.forEach((firstParent) => {\n        firstParent.traverseDepthFirst((treeCtrl) => {\n          if (treeCtrl.getState() !== 'indeterminate') {\n            this.rootScope_.$broadcast('ngeo-layertree-state', treeCtrl, firstParent);\n            return ngeoLayertreeController.VisitorDecision.STOP;\n          }\n        });\n      });\n    });\n  });\n};\n\n\n// === ngeoFeatures, A.K.A features from the DrawFeature, RedLining  ===\n\n\n/**\n * @param {ol.Collection.Event} event Collection event.\n * @private\n */\nexports.prototype.handleNgeoFeaturesAdd_ = function(event) {\n  const feature = event.element;\n  googAsserts.assertInstanceof(feature, olFeature);\n  this.addNgeoFeature_(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} event Collection event.\n * @private\n */\nexports.prototype.handleNgeoFeaturesRemove_ = function(event) {\n  const feature = event.element;\n  googAsserts.assertInstanceof(feature, olFeature);\n  this.removeNgeoFeature_(feature);\n};\n\n\n/**\n * Listen to any changes that may occur within the feature in order to\n * update the state of the permalink accordingly.\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.addNgeoFeature_ = function(feature) {\n  const uid = olBase.getUid(feature);\n  this.ngeoEventHelper_.addListenerKey(\n    uid,\n    olEvents.listen(feature, 'change',\n      this.ngeoDebounce_(this.handleNgeoFeaturesChange_, 250, true), this)\n  );\n};\n\n\n/**\n * Unregister any event listener from the feature.\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeNgeoFeature_ = function(feature) {\n  const uid = olBase.getUid(feature);\n  this.ngeoEventHelper_.clearListenerKey(uid);\n  this.handleNgeoFeaturesChange_();\n};\n\n\n/**\n * Called once upon initialization of the permalink service if there's at\n * least one feature in the ngeoFeatures collection, then called every time\n * the collection changes or any of the features within the collection changes.\n * @private\n */\nexports.prototype.handleNgeoFeaturesChange_ = function() {\n  if (!this.ngeoFeatures_) {\n    return;\n  }\n  const features = this.ngeoFeatures_.getArray();\n  const data = this.featureHashFormat_.writeFeatures(features);\n\n  const object = {};\n  object[gmfBase.PermalinkParam.FEATURES] = data;\n  this.ngeoStateManager_.updateState(object);\n};\n\n\n/**\n * Get the query data for a WFS permalink.\n * @return {?ngeox.WfsPermalinkData} The query data.\n * @private\n */\nexports.prototype.getWfsPermalinkData_ = function() {\n  const wfsLayer = this.ngeoLocation_.getParam(gmfBase.PermalinkParam.WFS_LAYER);\n  if (!wfsLayer) {\n    return null;\n  }\n\n  const numGroups = this.ngeoLocation_.getParamAsInt(gmfBase.PermalinkParam.WFS_NGROUPS);\n  const paramKeys = this.ngeoLocation_.getParamKeysWithPrefix(exports.ParamPrefix.WFS);\n\n  const filterGroups = [];\n  let filterGroup;\n  if (numGroups === undefined) {\n    // no groups are used, e.g. '?wfs_layer=fuel&wfs_osm_id=123\n    filterGroup = this.createFilterGroup_(exports.ParamPrefix.WFS, paramKeys);\n    if (filterGroup !== null) {\n      filterGroups.push(filterGroup);\n    }\n  } else {\n    // filter groups are used, e.g. '?wfs_layer=osm_scale&wfs_ngroups=2&wfs_0_ele=380&\n    // wfs_0_highway=bus_stop&&wfs_1_name=Grand-Pont'\n    for (let i = 0; i < numGroups; i++) {\n      filterGroup = this.createFilterGroup_(`${exports.ParamPrefix.WFS + i}_`, paramKeys);\n      if (filterGroup !== null) {\n        filterGroups.push(filterGroup);\n      }\n    }\n  }\n\n  if (filterGroups.length == 0) {\n    return null;\n  }\n\n  const showFeaturesParam = this.ngeoLocation_.getParam(gmfBase.PermalinkParam.WFS_SHOW_FEATURES);\n  const showFeatures = !(showFeaturesParam === '0' || showFeaturesParam === 'false');\n\n  return {\n    wfsType: wfsLayer,\n    showFeatures: showFeatures,\n    filterGroups: filterGroups\n  };\n};\n\n\n/**\n * Create a filter group for a given prefix from the query params.\n * @param {string} prefix E.g. `wfs_` or `wfs_0_`.\n * @param {Array.<string>} paramKeys All param keys starting with `wfs_`.\n * @return {ngeox.WfsPermalinkFilterGroup|null} A filter group.\n * @private\n */\nexports.prototype.createFilterGroup_ = function(prefix, paramKeys) {\n  /**\n   * @type {Array.<ngeox.WfsPermalinkFilter>}\n   */\n  const filters = [];\n\n  paramKeys.forEach((paramKey) => {\n    if (paramKey == gmfBase.PermalinkParam.WFS_LAYER || paramKey == gmfBase.PermalinkParam.WFS_SHOW_FEATURES ||\n        paramKey == gmfBase.PermalinkParam.WFS_NGROUPS || paramKey.indexOf(prefix) != 0) {\n      return;\n    }\n    const value = this.ngeoLocation_.getParam(paramKey);\n    if (!value) {\n      return;\n    }\n\n    let condition = value;\n    if (value.indexOf(',') > -1) {\n      condition = value.split(',');\n    }\n\n    const filter = {\n      property: paramKey.replace(prefix, ''),\n      condition: condition\n    };\n    filters.push(filter);\n  });\n\n  return (filters.length > 0) ? {filters} : null;\n};\n\n\n// === External Data Sources management ===\n\n\n/**\n * @return {!angular.$q.Promise} Promise\n * @private\n */\n\nexports.prototype.initExternalDataSources_ = function() {\n\n  const ngeoQuerent = googAsserts.assert(this.ngeoQuerent_);\n  const gmfExtDSManager = googAsserts.assert(\n    this.gmfExternalDataSourcesManager_);\n\n  const promises = [];\n\n  const layerNamesString = this.ngeoStateManager_.getInitialValue(\n    gmfBase.PermalinkParam.EXTERNAL_DATASOURCES_NAMES);\n  const urlsString = this.ngeoStateManager_.getInitialValue(\n    gmfBase.PermalinkParam.EXTERNAL_DATASOURCES_URLS);\n\n  if (layerNamesString && urlsString) {\n\n    const layerNames = layerNamesString.split(exports.ExtDSSeparator.LIST);\n    const urls = urlsString.split(exports.ExtDSSeparator.LIST);\n\n    for (let i = 0, ii = urls.length; i < ii; i++) {\n      // Stop iterating if we do not have the same number of urls and layer\n      // names\n      const groupLayerNamesString = layerNames[i];\n\n      if (!groupLayerNamesString) {\n        break;\n      }\n\n      const groupLayerNames = groupLayerNamesString.split(\n        exports.ExtDSSeparator.NAMES);\n      const url = urls[i];\n\n      const serviceType = ngeoDatasourceOGC.guessServiceTypeByUrl(url);\n\n      const getCapabilitiesDefer = this.q_.defer();\n      promises.push(getCapabilitiesDefer.promise);\n\n      if (serviceType === ngeoDatasourceOGC.Type.WMS) {\n        ngeoQuerent.wmsGetCapabilities(url).then(\n          (capabilities) => {\n            getCapabilitiesDefer.resolve({\n              capabilities,\n              groupLayerNames,\n              serviceType,\n              url\n            });\n          },\n          () => {\n            // Query to the WMS service didn't work\n            getCapabilitiesDefer.reject({\n              groupLayerNames,\n              serviceType,\n              url\n            });\n          }\n        );\n      } else if (serviceType === ngeoDatasourceOGC.Type.WMTS) {\n        ngeoQuerent.wmtsGetCapabilities(url).then(\n          (capabilities) => {\n            getCapabilitiesDefer.resolve({\n              capabilities,\n              groupLayerNames,\n              serviceType,\n              url\n            });\n          },\n          () => {\n            // Query to the WMTS service didn't work\n            getCapabilitiesDefer.reject({\n              groupLayerNames,\n              serviceType,\n              url\n            });\n          }\n        );\n      } else {\n        // Wrong service type\n        getCapabilitiesDefer.reject({\n          groupLayerNames,\n          serviceType,\n          url\n        });\n      }\n    }\n  }\n\n  return this.q_.all(promises).then(\n    (responses) => {\n      for (const response of responses) {\n\n        // WMS - For each layer name, find its layer capability object, then\n        //       create the data source\n        if (response.serviceType === ngeoDatasourceOGC.Type.WMS) {\n          for (const layerName of response.groupLayerNames) {\n            const layerCap = ngeoQuerent.wmsFindLayerCapability(\n              response.capabilities['Capability']['Layer']['Layer'],\n              layerName\n            );\n            if (layerCap) {\n              gmfExtDSManager.createAndAddDataSourceFromWMSCapability(\n                layerCap,\n                response.capabilities,\n                response.url\n              );\n            } else {\n              // TODO - handle 'not found' layer in capabilities\n            }\n          }\n\n        } else if (response.serviceType === ngeoDatasourceOGC.Type.WMTS) {\n\n          // WMTS - For each layer name, find its layer capability object, then\n          //        create the data source\n          for (const layerName of response.groupLayerNames) {\n            const layerCap = ngeoQuerent.wmtsFindLayerCapability(\n              response.capabilities['Contents']['Layer'],\n              layerName\n            );\n            if (layerCap) {\n              gmfExtDSManager.createAndAddDataSourceFromWMTSCapability(\n                layerCap,\n                response.capabilities,\n                response.url\n              );\n            } else {\n              // TODO - handle 'not found' layer in capabilities\n            }\n          }\n        }\n      }\n    },\n    (rejections) => {\n      // TODO - handle rejections\n    }\n  );\n};\n\n\n/**\n * @param {!ol.Collection.Event} evt Collection event.\n * @private\n */\nexports.prototype.handleExternalDSGroupCollectionAdd_ = function(evt) {\n  const group = evt.element;\n  googAsserts.assertInstanceof(group, ngeoDatasourceGroup);\n  this.registerExternalDSGroup_(group);\n  this.setExternalDataSourcesState_();\n};\n\n\n/**\n * @param {!ngeo.datasource.Group} group Data source group.\n * @private\n */\nexports.prototype.registerExternalDSGroup_ = function(group) {\n  olEvents.listen(\n    group.dataSourcesCollection,\n    'add',\n    this.setExternalDataSourcesState_,\n    this\n  );\n  olEvents.listen(\n    group.dataSourcesCollection,\n    'remove',\n    this.setExternalDataSourcesState_,\n    this\n  );\n};\n\n\n/**\n * Contains the layer name\n * @param {!ol.layer.Base} layer The layer to inspect\n * @param {string} name The layer name to find\n * @return {boolean} The containing status\n */\nexports.prototype.containsLayerName = function(layer, name) {\n  if (layer instanceof olLayerGroup) {\n    for (const l of layer.getLayers().getArray()) {\n      googAsserts.assert(l);\n      if (this.containsLayerName(l, name)) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    return layer.get('layerNodeName') == name;\n  }\n};\n\n\n/**\n * @param {!ol.Collection.Event} evt Collection event.\n * @private\n */\nexports.prototype.handleExternalDSGroupCollectionRemove_ = function(evt) {\n  const group = evt.element;\n  googAsserts.assertInstanceof(group, ngeoDatasourceGroup);\n  this.unregisterExternalDSGroup_(group);\n  this.setExternalDataSourcesState_();\n};\n\n\n/**\n * @param {!ngeo.datasource.Group} group Data source group.\n * @private\n */\nexports.prototype.unregisterExternalDSGroup_ = function(group) {\n  olEvents.unlisten(\n    group.dataSourcesCollection,\n    'add',\n    this.setExternalDataSourcesState_,\n    this\n  );\n  olEvents.unlisten(\n    group.dataSourcesCollection,\n    'remove',\n    this.setExternalDataSourcesState_,\n    this\n  );\n};\n\n\n/**\n * Set the External Data Sources parameters in the url.\n * @private\n */\nexports.prototype.setExternalDataSourcesState_ = function() {\n\n  if (this.setExternalDataSourcesStatePromise_) {\n    this.$timeout_.cancel(this.setExternalDataSourcesStatePromise_);\n  }\n\n  this.setExternalDataSourcesStatePromise_ = this.$timeout_(() => {\n    const names = [];\n    const urls = [];\n\n    // (1) Collect WMS Groups and their layer names\n    for (const wmsGroup of this.gmfExternalDataSourcesManager_.wmsGroups) {\n\n      // (1a) url\n      urls.push(wmsGroup.url);\n\n      // (1b) layer names\n      const wmsGroupLayerNames = [];\n      for (const wmsDataSource of wmsGroup.dataSources) {\n        googAsserts.assertInstanceof(wmsDataSource, ngeoDatasourceOGC);\n\n        // External WMS data sources always have only one OGC layer name,\n        // as they are created using a single Capability Layer object that\n        // has only 1 layer name\n        const layerName = wmsDataSource.getOGCLayerNames()[0];\n        wmsGroupLayerNames.push(layerName);\n      }\n      names.push(wmsGroupLayerNames.join(exports.ExtDSSeparator.NAMES));\n    }\n\n    // (2) Collect WMTS Groups and their layer names\n    for (const wmtsGroup of this.gmfExternalDataSourcesManager_.wmtsGroups) {\n\n      // (2a) url\n      urls.push(wmtsGroup.url);\n\n      // (2b) layer names\n      const wmtsGroupLayerNames = [];\n      for (const wmtsDataSource of wmtsGroup.dataSources) {\n        googAsserts.assert(wmtsDataSource.wmtsLayer);\n        wmtsGroupLayerNames.push(wmtsDataSource.wmtsLayer);\n      }\n      names.push(wmtsGroupLayerNames.join(exports.ExtDSSeparator.NAMES));\n    }\n\n    // (3) Update state\n    this.ngeoStateManager_.updateState({\n      [gmfBase.PermalinkParam.EXTERNAL_DATASOURCES_NAMES]: names.join(\n        exports.ExtDSSeparator.LIST\n      ),\n      [gmfBase.PermalinkParam.EXTERNAL_DATASOURCES_URLS]: urls.join(\n        exports.ExtDSSeparator.LIST\n      )\n    });\n\n    // (4) Reset promise\n    this.setExternalDataSourcesStatePromise_ = null;\n  });\n};\n\n\n/**\n * Clean the permalink parameters\n * @param {!Array.<gmfThemes.GmfGroup>} groups firstlevel groups of the tree\n */\nexports.prototype.cleanParams = function(groups) {\n  const keys = googAsserts.assert(this.ngeoLocation_.getParamKeys());\n  for (const key of keys) {\n    if (key.startsWith(exports.ParamPrefix.TREE_GROUP_LAYERS)) {\n      const value = key.substring(exports.ParamPrefix.TREE_GROUP_LAYERS.length);\n      for (const group of groups) {\n        if (group.name == value) {\n          this.ngeoStateManager_.deleteParam(key);\n          break;\n        }\n      }\n    }\n    if (key.startsWith(exports.ParamPrefix.TREE_GROUP_OPACITY)) {\n      const value = key.substring(exports.ParamPrefix.TREE_GROUP_OPACITY.length);\n      for (const group of groups) {\n        if (group.name == value) {\n          this.ngeoStateManager_.deleteParam(key);\n          break;\n        }\n      }\n    }\n  }\n  this.$timeout_(() => {\n    if (!this.map_) {\n      return;\n    }\n    const layer = this.map_.getLayerGroup();\n    googAsserts.assert(layer);\n    for (const key of keys) {\n      if (key.startsWith(exports.ParamPrefix.TREE_ENABLE)) {\n        const value = key.substring(exports.ParamPrefix.TREE_ENABLE.length);\n        if (!this.containsLayerName(layer, value)) {\n          this.ngeoStateManager_.deleteParam(key);\n        }\n      }\n      if (key.startsWith(exports.ParamPrefix.TREE_OPACITY)) {\n        const value = key.substring(exports.ParamPrefix.TREE_OPACITY.length);\n        if (!this.containsLayerName(layer, value)) {\n          this.ngeoStateManager_.deleteParam(key);\n        }\n      }\n    }\n  });\n};\n\n\nexports.module = angular.module('gmfPermalink', [\n  ngeoStatemanagerModule.name,\n  gmfThemeThemes.module.name,\n  gmfThemeManager.module.name,\n  ngeoDrawFeatures.name,\n  ngeoMiscEventHelper.module.name,\n  ngeoLayertreeController.module.name,\n]);\n\nexports.module.service('gmfPermalink', exports);\n\n\n/**\n * @enum {string}\n */\nexports.OpenLayersLayerProperties = {\n  OPACITY: 'opacity'\n};\n\n/**\n * @enum {string}\n */\nexports.ParamPrefix = {\n  DIMENSIONS: 'dim_',\n  TREE_ENABLE: 'tree_enable_',\n  TREE_GROUP_LAYERS: 'tree_group_layers_',\n  TREE_GROUP_OPACITY: 'tree_group_opacity_',\n  TREE_OPACITY: 'tree_opacity_',\n  WFS: 'wfs_'\n};\n\n\n/**\n * External data source separators\n * @enum {string}\n */\nexports.ExtDSSeparator = {\n  LIST: ',',\n  NAMES: ';'\n};\n\n\nexports.module.value('gmfPermalinkOptions',\n  /** @type {gmfx.PermalinkOptions} */ ({}));\n\n\n/** Configure the ngeo state manager */\n(function() {\n  const regexp = [];\n  for (const key1 in exports.ParamPrefix) {\n    regexp.push(new RegExp(`${exports.ParamPrefix[key1]}.*`));\n  }\n  for (const key2 in gmfBase.PermalinkParam) {\n    regexp.push(new RegExp(exports.ParamPrefix[key2]));\n  }\n  ngeoStatemanagerService.module.value('ngeoUsedKeyRegexp', regexp);\n})();\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/permalink/Permalink.js","import extend from './extend';\nimport { hooks } from './hooks';\nimport isUndefined from './is-undefined';\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nexport function deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nexport function deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/deprecate.js\n// module id = 90\n// module chunks = 0 1 2 3 4 5","export default function isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-function.js\n// module id = 91\n// module chunks = 0 1 2 3 4 5","import { get } from '../moment/get-set';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2, matchWord, regexEscape } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { hooks } from '../utils/hooks';\nimport { MONTH } from './constants';\nimport toInt from '../utils/to-int';\nimport isArray from '../utils/is-array';\nimport isNumber from '../utils/is-number';\nimport mod from '../utils/mod';\nimport indexOf from '../utils/index-of';\nimport { createUTC } from '../create/utc';\nimport getParsingFlags from '../create/parsing-flags';\nimport { isLeapYear } from '../units/year';\n\nexport function daysInMonth(year, month) {\n    if (isNaN(year) || isNaN(month)) {\n        return NaN;\n    }\n    var modMonth = mod(month, 12);\n    year += (month - modMonth) / 12;\n    return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nexport var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nexport function localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nexport var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nexport function localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nexport function localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nexport function setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nexport function getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nexport function getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nexport function monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nexport function monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/month.js\n// module id = null\n// module chunks = ","export default function mod(n, x) {\n    return ((n % x) + x) % x;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/mod.js\n// module id = null\n// module chunks = ","/**\n * @module ngeo.message.Notification\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMessageMessage from 'ngeo/message/Message.js';\nimport * as olBase from 'ol/index.js';\n\n/**\n * Provides methods to display any sort of messages, notifications, errors,\n * etc. Requires Bootstrap library (both CSS and JS) to display the alerts\n * properly.\n *\n * @constructor\n * @struct\n * @extends {ngeo.message.Message}\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @ngdoc service\n * @ngname ngeoNotification\n * @abstract\n * @ngInject\n */\nconst exports = function($timeout) {\n\n  ngeoMessageMessage.call(this);\n\n  /**\n   * @type {angular.$timeout}\n   * @private\n   */\n  this.timeout_ = $timeout;\n\n  const container = angular.element('<div class=\"ngeo-notification\"></div>');\n  angular.element(document.body).append(container);\n\n  /**\n   * @type {angular.JQLite}\n   * @private\n   */\n  this.container_ = container;\n\n  /**\n   * @type {Object.<number, ngeo.message.Notification.CacheItem>}\n   * @private\n   */\n  this.cache_ = {};\n\n};\n\nolBase.inherits(exports, ngeoMessageMessage);\n\n\n/**\n * Default delay (in milliseconds) a message should be displayed.\n * @type {number}\n * @private\n */\nexports.DEFAULT_DELAY_ = 7000;\n\n\n// MAIN API METHODS\n\n\n/**\n * Display the given message string or object or list of message strings or\n * objects.\n * @param {string|Array.<string>|ngeox.Message|Array.<ngeox.Message>}\n *     object A message or list of messages as text or configuration objects.\n * @export\n */\nexports.prototype.notify = function(object) {\n  this.show(object);\n};\n\n\n/**\n * Clears all messages that are currently being shown.\n * @export\n */\nexports.prototype.clear = function() {\n  for (const uid in this.cache_) {\n    this.clearMessageByCacheItem_(this.cache_[parseInt(uid, 10)]);\n  }\n};\n\n\n/**\n * @override\n */\nexports.prototype.showMessage = function(message) {\n  const type = message.type;\n  googAsserts.assertString(type, 'Type should be set.');\n\n  const classNames = ['alert', 'fade'];\n  switch (type) {\n    case ngeoMessageMessage.Type.ERROR:\n      classNames.push('alert-danger');\n      break;\n    case ngeoMessageMessage.Type.INFORMATION:\n      classNames.push('alert-info');\n      break;\n    case ngeoMessageMessage.Type.SUCCESS:\n      classNames.push('alert-success');\n      break;\n    case ngeoMessageMessage.Type.WARNING:\n      classNames.push('alert-warning');\n      break;\n    default:\n      break;\n  }\n\n  const el = angular.element(`<div class=\"${classNames.join(' ')}\"></div>`);\n  let container;\n\n  if (message.target) {\n    container = angular.element(message.target);\n  } else {\n    container = this.container_;\n  }\n\n  container.append(el);\n  el.html(message.msg).addClass('in');\n\n  const delay = message.delay !== undefined ? message.delay :\n    exports.DEFAULT_DELAY_;\n\n  const item = /** @type {ngeo.message.Notification.CacheItem} */ ({\n    el\n  });\n\n  // Keep a reference to the promise, in case we want to manually cancel it\n  // before the delay\n  const uid = olBase.getUid(el);\n  item.promise = this.timeout_(() => {\n    el.alert('close');\n    delete this.cache_[uid];\n  }, delay);\n\n  this.cache_[uid] = item;\n};\n\n\n/**\n * Clear a message using its cache item.\n * @param {ngeo.message.Notification.CacheItem} item Cache item.\n * @private\n */\nexports.prototype.clearMessageByCacheItem_ = function(item) {\n  const el = item.el;\n  const promise = item.promise;\n  const uid = olBase.getUid(el);\n\n  // Close the message\n  el.alert('close');\n\n  // Cancel timeout in case we want to stop before delay. If called by the\n  // timeout itself, then this has no consequence.\n  this.timeout_.cancel(promise);\n\n  // Delete the cache item\n  delete this.cache_[uid];\n};\n\n\n/**\n * @typedef {{\n *     el: angular.JQLite,\n *     promise: angular.$q.Promise\n * }}\n */\nexports.CacheItem;\n\n\n/**\n * @type {angular.Module}\n */\nexports.module = angular.module('ngeoNotification', [\n]);\n\nexports.module.service('ngeoNotification', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/Notification.js","/**\n * @module ngeo.datasource.WMSGroup\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMapLayerHelper from 'ngeo/map/LayerHelper.js';\nimport ngeoDatasourceOGCGroup from 'ngeo/datasource/OGCGroup.js';\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\nimport * as olArray from 'ol/array.js';\n\nconst exports = class extends ngeoDatasourceOGCGroup {\n\n  /**\n   * A WMSGroup data source combines multiple `ngeo.datasource.OGC` objects\n   * that have the 'WMS' type. Its main goal is to create a single\n   * `ol.layer.Image` object in which the data source visible properties\n   * determine the WMS LAYERS parameter.\n   *\n   * Note: the layer is not added to the map here.\n   *\n   * @struct\n   * @param {ngeox.datasource.WMSGroupOptions} options Options.\n   */\n  constructor(options) {\n\n    super(options);\n\n    const injector = options.injector;\n\n\n    // === PRIVATE properties ===\n\n    /**\n     * @type {ol.layer.Image}\n     * @private\n     */\n    this.layer_;\n\n    /**\n     * @type {!ngeo.map.LayerHelper}\n     * @private\n     */\n    this.ngeoLayerHelper_ = injector.get('ngeoLayerHelper');\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.rootScope_ = injector.get('$rootScope');\n\n    /**\n     * The functions to call to unregister the `watch` event on data sources\n     * that are registered. Key is the id of the data source.\n     * @type {!Object.<number, Function>}\n     * @private\n     */\n    this.wmsDataSourceUnregister_ = {};\n\n\n    this.init_();\n  }\n\n  /**\n   * @private\n   */\n  init_() {\n    googAsserts.assert(\n      this.dataSources.length, 'At least one data source is required.');\n\n    for (const dataSource of this.dataSources) {\n      googAsserts.assertInstanceof(dataSource, ngeoDatasourceOGC);\n      this.registerDataSource_(dataSource);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  destroy() {\n    for (const dataSource of this.dataSources) {\n      googAsserts.assertInstanceof(dataSource, ngeoDatasourceOGC);\n      this.unregisterDataSource_(dataSource);\n    }\n    super.destroy();\n  }\n\n\n  // =======================================\n  // === Static property getters/setters ===\n  // =======================================\n\n  /**\n   * @return {ol.layer.Image} layer\n   * @export\n   */\n  get layer() {\n    return this.layer_;\n  }\n\n\n  // =======================\n  // === Utility Methods ===\n  // =======================\n\n  /**\n   * @inheritDoc\n   */\n  addDataSource(dataSource) {\n    super.addDataSource(dataSource);\n    googAsserts.assertInstanceof(dataSource, ngeoDatasourceOGC);\n    this.registerDataSource_(dataSource);\n  }\n\n  /**\n   * @param {!ngeo.datasource.OGC} dataSource OGC data source to register.\n   * @private\n   */\n  registerDataSource_(dataSource) {\n\n    const id = dataSource.id;\n\n    this.wmsDataSourceUnregister_[id] = this.rootScope_.$watch(\n      () => dataSource.visible,\n      this.handleDataSourceVisibleChange_.bind(this)\n    );\n\n    if (!this.layer_) {\n      this.layer_ = this.ngeoLayerHelper_.createBasicWMSLayerFromDataSource(\n        dataSource\n      );\n    } else {\n      this.layer_.get('querySourceIds').push(id);\n      this.updateLayer_();\n    }\n  }\n\n  /**\n   * @param {boolean|undefined} value Current visible property of the DS\n   * @param {boolean|undefined} oldValue Old visible property of the DS\n   * @private\n   */\n  handleDataSourceVisibleChange_(value, oldValue) {\n    if (value !== undefined && value !== oldValue) {\n      this.updateLayer_();\n    }\n  }\n\n  /**\n   * @private\n   */\n  updateLayer_() {\n    const layer = this.layer;\n    let layerNames = [];\n\n    // (1) Collect layer names from data sources in the group\n    for (const dataSource of this.dataSources) {\n      googAsserts.assertInstanceof(dataSource, ngeoDatasourceOGC);\n      if (dataSource.visible) {\n        layerNames = layerNames.concat(dataSource.getOGCLayerNames());\n      }\n    }\n\n    // (2) Update layer object\n    this.ngeoLayerHelper_.updateWMSLayerState(layer, layerNames.join(','));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  removeDataSource(dataSource) {\n    super.removeDataSource(dataSource);\n    googAsserts.assertInstanceof(dataSource, ngeoDatasourceOGC);\n    this.unregisterDataSource_(dataSource);\n  }\n\n  /**\n   * @param {!ngeo.datasource.OGC} dataSource OGC data source to unregister.\n   * @private\n   */\n  unregisterDataSource_(dataSource) {\n\n    const id = dataSource.id;\n    const layer = this.layer;\n\n    // Unregister watcher\n    const unregister = this.wmsDataSourceUnregister_[id];\n    unregister();\n    delete this.wmsDataSourceUnregister_[id];\n\n    // Remove DS from the group\n    olArray.remove(this.dataSources, dataSource);\n\n    // Remove query source id\n    const ids = this.ngeoLayerHelper_.getQuerySourceIds(layer);\n    if (ids) {\n      olArray.remove(ids, id);\n    }\n\n    if (this.dataSources.length) {\n      this.updateLayer_();\n    }\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/WMSGroup.js","/**\n * @module ngeo.datasource.OGCGroup\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceGroup from 'ngeo/datasource/Group.js';\n\nconst exports = class extends ngeoDatasourceGroup {\n\n  /**\n   * A OGCGroup data source combines multiple `ngeo.datasource.OGC` objects.\n   *\n   * @struct\n   * @param {ngeox.datasource.OGCGroupOptions} options Options.\n   */\n  constructor(options) {\n\n    super(options);\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.url_ = options.url;\n  }\n\n  /**\n   * @return {string} Url\n   * @export\n   */\n  get url() {\n    return this.url_;\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/OGCGroup.js","/**\n * @module ol/format/filter/Filter\n */\n\n\n/**\n * @classdesc\n * Abstract class; normally only used for creating subclasses and not instantiated in apps.\n * Base class for WFS GetFeature filters.\n *\n * @constructor\n * @abstract\n * @param {!string} tagName The XML tag name for this filter.\n * @struct\n */\nconst Filter = function(tagName) {\n\n  /**\n   * @private\n   * @type {!string}\n   */\n  this.tagName_ = tagName;\n};\n\n/**\n * The XML tag name for a filter.\n * @returns {!string} Name.\n */\nFilter.prototype.getTagName = function() {\n  return this.tagName_;\n};\n\nexport default Filter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Filter.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/LogicalNary\n */\nimport {inherits} from '../../index.js';\nimport {assert} from '../../asserts.js';\nimport Filter from '../filter/Filter.js';\n\n/**\n * @classdesc\n * Abstract class; normally only used for creating subclasses and not instantiated in apps.\n * Base class for WFS GetFeature n-ary logical filters.\n *\n * @constructor\n * @abstract\n * @param {!string} tagName The XML tag name for this filter.\n * @param {...ol.format.filter.Filter} conditions Conditions.\n * @extends {ol.format.filter.Filter}\n */\nconst LogicalNary = function(tagName, conditions) {\n\n  Filter.call(this, tagName);\n\n  /**\n   * @public\n   * @type {Array.<ol.format.filter.Filter>}\n   */\n  this.conditions = Array.prototype.slice.call(arguments, 1);\n  assert(this.conditions.length >= 2, 57); // At least 2 conditions are required.\n};\n\ninherits(LogicalNary, Filter);\nexport default LogicalNary;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/LogicalNary.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/And\n */\nimport {inherits} from '../../index.js';\nimport LogicalNary from '../filter/LogicalNary.js';\n\n/**\n * @classdesc\n * Represents a logical `<And>` operator between two or more filter conditions.\n *\n * @constructor\n * @abstract\n * @param {...ol.format.filter.Filter} conditions Conditions.\n * @extends {ol.format.filter.LogicalNary}\n */\nconst And = function(conditions) {\n  const params = ['And'].concat(Array.prototype.slice.call(arguments));\n  LogicalNary.apply(this, params);\n};\n\ninherits(And, LogicalNary);\n\nexport default And;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/And.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Bbox\n */\nimport {inherits} from '../../index.js';\nimport Filter from '../filter/Filter.js';\n\n/**\n * @classdesc\n * Represents a `<BBOX>` operator to test whether a geometry-valued property\n * intersects a fixed bounding box\n *\n * @constructor\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.Extent} extent Extent.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @extends {ol.format.filter.Filter}\n * @api\n */\nconst Bbox = function(geometryName, extent, opt_srsName) {\n\n  Filter.call(this, 'BBOX');\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.geometryName = geometryName;\n\n  /**\n   * @public\n   * @type {ol.Extent}\n   */\n  this.extent = extent;\n\n  /**\n   * @public\n   * @type {string|undefined}\n   */\n  this.srsName = opt_srsName;\n};\n\ninherits(Bbox, Filter);\n\nexport default Bbox;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Bbox.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Spatial\n */\nimport {inherits} from '../../index.js';\nimport Filter from '../filter/Filter.js';\n\n/**\n * @classdesc\n * Abstract class; normally only used for creating subclasses and not instantiated in apps.\n * Represents a spatial operator to test whether a geometry-valued property\n * relates to a given geometry.\n *\n * @constructor\n * @abstract\n * @param {!string} tagName The XML tag name for this filter.\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @extends {ol.format.filter.Filter}\n */\nconst Spatial = function(tagName, geometryName, geometry, opt_srsName) {\n\n  Filter.call(this, tagName);\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.geometryName = geometryName || 'the_geom';\n\n  /**\n   * @public\n   * @type {ol.geom.Geometry}\n   */\n  this.geometry = geometry;\n\n  /**\n   * @public\n   * @type {string|undefined}\n   */\n  this.srsName = opt_srsName;\n};\n\ninherits(Spatial, Filter);\n\nexport default Spatial;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Spatial.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Contains\n */\nimport {inherits} from '../../index.js';\nimport Spatial from '../filter/Spatial.js';\n\n/**\n * @classdesc\n * Represents a `<Contains>` operator to test whether a geometry-valued property\n * contains a given geometry.\n *\n * @constructor\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @extends {ol.format.filter.Spatial}\n * @api\n */\nconst Contains = function(geometryName, geometry, opt_srsName) {\n\n  Spatial.call(this, 'Contains', geometryName, geometry, opt_srsName);\n\n};\n\ninherits(Contains, Spatial);\nexport default Contains;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Contains.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Comparison\n */\nimport {inherits} from '../../index.js';\nimport Filter from '../filter/Filter.js';\n\n/**\n * @classdesc\n * Abstract class; normally only used for creating subclasses and not instantiated in apps.\n * Base class for WFS GetFeature property comparison filters.\n *\n * @constructor\n * @abstract\n * @param {!string} tagName The XML tag name for this filter.\n * @param {!string} propertyName Name of the context property to compare.\n * @extends {ol.format.filter.Filter}\n */\nconst Comparison = function(tagName, propertyName) {\n\n  Filter.call(this, tagName);\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.propertyName = propertyName;\n};\n\ninherits(Comparison, Filter);\n\nexport default Comparison;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Comparison.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/During\n */\nimport {inherits} from '../../index.js';\nimport Comparison from '../filter/Comparison.js';\n\n/**\n * @classdesc\n * Represents a `<During>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!string} begin The begin date in ISO-8601 format.\n * @param {!string} end The end date in ISO-8601 format.\n * @extends {ol.format.filter.Comparison}\n * @api\n */\nconst During = function(propertyName, begin, end) {\n  Comparison.call(this, 'During', propertyName);\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.begin = begin;\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.end = end;\n};\n\ninherits(During, Comparison);\nexport default During;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/During.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/ComparisonBinary\n */\nimport {inherits} from '../../index.js';\nimport Comparison from '../filter/Comparison.js';\n\n/**\n * @classdesc\n * Abstract class; normally only used for creating subclasses and not instantiated in apps.\n * Base class for WFS GetFeature property binary comparison filters.\n *\n * @constructor\n * @abstract\n * @param {!string} tagName The XML tag name for this filter.\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!(string|number)} expression The value to compare.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @extends {ol.format.filter.Comparison}\n */\nconst ComparisonBinary = function(tagName, propertyName, expression, opt_matchCase) {\n\n  Comparison.call(this, tagName, propertyName);\n\n  /**\n   * @public\n   * @type {!(string|number)}\n   */\n  this.expression = expression;\n\n  /**\n   * @public\n   * @type {boolean|undefined}\n   */\n  this.matchCase = opt_matchCase;\n};\n\ninherits(ComparisonBinary, Comparison);\nexport default ComparisonBinary;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/ComparisonBinary.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/EqualTo\n */\nimport {inherits} from '../../index.js';\nimport ComparisonBinary from '../filter/ComparisonBinary.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsEqualTo>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!(string|number)} expression The value to compare.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @extends {ol.format.filter.ComparisonBinary}\n * @api\n */\nconst EqualTo = function(propertyName, expression, opt_matchCase) {\n  ComparisonBinary.call(this, 'PropertyIsEqualTo', propertyName, expression, opt_matchCase);\n};\n\ninherits(EqualTo, ComparisonBinary);\nexport default EqualTo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/EqualTo.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/GreaterThan\n */\nimport {inherits} from '../../index.js';\nimport ComparisonBinary from '../filter/ComparisonBinary.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsGreaterThan>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @extends {ol.format.filter.ComparisonBinary}\n * @api\n */\nconst GreaterThan = function(propertyName, expression) {\n  ComparisonBinary.call(this, 'PropertyIsGreaterThan', propertyName, expression);\n};\n\ninherits(GreaterThan, ComparisonBinary);\nexport default GreaterThan;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/GreaterThan.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/GreaterThanOrEqualTo\n */\nimport {inherits} from '../../index.js';\nimport ComparisonBinary from '../filter/ComparisonBinary.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsGreaterThanOrEqualTo>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @extends {ol.format.filter.ComparisonBinary}\n * @api\n */\nconst GreaterThanOrEqualTo = function(propertyName, expression) {\n  ComparisonBinary.call(this, 'PropertyIsGreaterThanOrEqualTo', propertyName, expression);\n};\n\ninherits(GreaterThanOrEqualTo, ComparisonBinary);\nexport default GreaterThanOrEqualTo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/GreaterThanOrEqualTo.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Intersects\n */\nimport {inherits} from '../../index.js';\nimport Spatial from '../filter/Spatial.js';\n\n/**\n * @classdesc\n * Represents a `<Intersects>` operator to test whether a geometry-valued property\n * intersects a given geometry.\n *\n * @constructor\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @extends {ol.format.filter.Spatial}\n * @api\n */\nconst Intersects = function(geometryName, geometry, opt_srsName) {\n\n  Spatial.call(this, 'Intersects', geometryName, geometry, opt_srsName);\n\n};\n\ninherits(Intersects, Spatial);\nexport default Intersects;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Intersects.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/IsBetween\n */\nimport {inherits} from '../../index.js';\nimport Comparison from '../filter/Comparison.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsBetween>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} lowerBoundary The lower bound of the range.\n * @param {!number} upperBoundary The upper bound of the range.\n * @extends {ol.format.filter.Comparison}\n * @api\n */\nconst IsBetween = function(propertyName, lowerBoundary, upperBoundary) {\n  Comparison.call(this, 'PropertyIsBetween', propertyName);\n\n  /**\n   * @public\n   * @type {!number}\n   */\n  this.lowerBoundary = lowerBoundary;\n\n  /**\n   * @public\n   * @type {!number}\n   */\n  this.upperBoundary = upperBoundary;\n};\n\ninherits(IsBetween, Comparison);\nexport default IsBetween;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/IsBetween.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/IsLike\n */\nimport {inherits} from '../../index.js';\nimport Comparison from '../filter/Comparison.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsLike>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!string} pattern Text pattern.\n * @param {string=} opt_wildCard Pattern character which matches any sequence of\n *    zero or more string characters. Default is '*'.\n * @param {string=} opt_singleChar pattern character which matches any single\n *    string character. Default is '.'.\n * @param {string=} opt_escapeChar Escape character which can be used to escape\n *    the pattern characters. Default is '!'.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @extends {ol.format.filter.Comparison}\n * @api\n */\nconst IsLike = function(propertyName, pattern, opt_wildCard, opt_singleChar, opt_escapeChar, opt_matchCase) {\n  Comparison.call(this, 'PropertyIsLike', propertyName);\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.pattern = pattern;\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.wildCard = (opt_wildCard !== undefined) ? opt_wildCard : '*';\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.singleChar = (opt_singleChar !== undefined) ? opt_singleChar : '.';\n\n  /**\n   * @public\n   * @type {!string}\n   */\n  this.escapeChar = (opt_escapeChar !== undefined) ? opt_escapeChar : '!';\n\n  /**\n   * @public\n   * @type {boolean|undefined}\n   */\n  this.matchCase = opt_matchCase;\n};\n\ninherits(IsLike, Comparison);\nexport default IsLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/IsLike.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/IsNull\n */\nimport {inherits} from '../../index.js';\nimport Comparison from '../filter/Comparison.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsNull>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @extends {ol.format.filter.Comparison}\n * @api\n */\nconst IsNull = function(propertyName) {\n  Comparison.call(this, 'PropertyIsNull', propertyName);\n};\n\ninherits(IsNull, Comparison);\nexport default IsNull;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/IsNull.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/LessThan\n */\nimport {inherits} from '../../index.js';\nimport ComparisonBinary from '../filter/ComparisonBinary.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsLessThan>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @extends {ol.format.filter.ComparisonBinary}\n * @api\n */\nconst LessThan = function(propertyName, expression) {\n  ComparisonBinary.call(this, 'PropertyIsLessThan', propertyName, expression);\n};\n\ninherits(LessThan, ComparisonBinary);\nexport default LessThan;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/LessThan.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/LessThanOrEqualTo\n */\nimport {inherits} from '../../index.js';\nimport ComparisonBinary from '../filter/ComparisonBinary.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsLessThanOrEqualTo>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @extends {ol.format.filter.ComparisonBinary}\n * @api\n */\nconst LessThanOrEqualTo = function(propertyName, expression) {\n  ComparisonBinary.call(this, 'PropertyIsLessThanOrEqualTo', propertyName, expression);\n};\n\ninherits(LessThanOrEqualTo, ComparisonBinary);\nexport default LessThanOrEqualTo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/LessThanOrEqualTo.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Not\n */\nimport {inherits} from '../../index.js';\nimport Filter from '../filter/Filter.js';\n\n/**\n * @classdesc\n * Represents a logical `<Not>` operator for a filter condition.\n *\n * @constructor\n * @param {!ol.format.filter.Filter} condition Filter condition.\n * @extends {ol.format.filter.Filter}\n * @api\n */\nconst Not = function(condition) {\n\n  Filter.call(this, 'Not');\n\n  /**\n   * @public\n   * @type {!ol.format.filter.Filter}\n   */\n  this.condition = condition;\n};\n\ninherits(Not, Filter);\nexport default Not;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Not.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/NotEqualTo\n */\nimport {inherits} from '../../index.js';\nimport ComparisonBinary from '../filter/ComparisonBinary.js';\n\n/**\n * @classdesc\n * Represents a `<PropertyIsNotEqualTo>` comparison operator.\n *\n * @constructor\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!(string|number)} expression The value to compare.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @extends {ol.format.filter.ComparisonBinary}\n * @api\n */\nconst NotEqualTo = function(propertyName, expression, opt_matchCase) {\n  ComparisonBinary.call(this, 'PropertyIsNotEqualTo', propertyName, expression, opt_matchCase);\n};\n\ninherits(NotEqualTo, ComparisonBinary);\nexport default NotEqualTo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/NotEqualTo.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Or\n */\nimport {inherits} from '../../index.js';\nimport LogicalNary from '../filter/LogicalNary.js';\n\n/**\n * @classdesc\n * Represents a logical `<Or>` operator between two ore more filter conditions.\n *\n * @constructor\n * @param {...ol.format.filter.Filter} conditions Conditions.\n * @extends {ol.format.filter.LogicalNary}\n * @api\n */\nconst Or = function(conditions) {\n  const params = ['Or'].concat(Array.prototype.slice.call(arguments));\n  LogicalNary.apply(this, params);\n};\n\ninherits(Or, LogicalNary);\nexport default Or;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Or.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter/Within\n */\nimport {inherits} from '../../index.js';\nimport Spatial from '../filter/Spatial.js';\n\n/**\n * @classdesc\n * Represents a `<Within>` operator to test whether a geometry-valued property\n * is within a given geometry.\n *\n * @constructor\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @extends {ol.format.filter.Spatial}\n * @api\n */\nconst Within = function(geometryName, geometry, opt_srsName) {\n\n  Spatial.call(this, 'Within', geometryName, geometry, opt_srsName);\n\n};\n\ninherits(Within, Spatial);\nexport default Within;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter/Within.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/filter\n */\nimport _ol_format_filter_And_ from '../format/filter/And.js';\nimport _ol_format_filter_Bbox_ from '../format/filter/Bbox.js';\nimport _ol_format_filter_Contains_ from '../format/filter/Contains.js';\nimport _ol_format_filter_During_ from '../format/filter/During.js';\nimport _ol_format_filter_EqualTo_ from '../format/filter/EqualTo.js';\nimport _ol_format_filter_GreaterThan_ from '../format/filter/GreaterThan.js';\nimport _ol_format_filter_GreaterThanOrEqualTo_ from '../format/filter/GreaterThanOrEqualTo.js';\nimport _ol_format_filter_Intersects_ from '../format/filter/Intersects.js';\nimport _ol_format_filter_IsBetween_ from '../format/filter/IsBetween.js';\nimport _ol_format_filter_IsLike_ from '../format/filter/IsLike.js';\nimport _ol_format_filter_IsNull_ from '../format/filter/IsNull.js';\nimport _ol_format_filter_LessThan_ from '../format/filter/LessThan.js';\nimport _ol_format_filter_LessThanOrEqualTo_ from '../format/filter/LessThanOrEqualTo.js';\nimport _ol_format_filter_Not_ from '../format/filter/Not.js';\nimport _ol_format_filter_NotEqualTo_ from '../format/filter/NotEqualTo.js';\nimport _ol_format_filter_Or_ from '../format/filter/Or.js';\nimport _ol_format_filter_Within_ from '../format/filter/Within.js';\nconst _ol_format_filter_ = {};\n\n\n/**\n * Create a logical `<And>` operator between two or more filter conditions.\n *\n * @param {...ol.format.filter.Filter} conditions Filter conditions.\n * @returns {!ol.format.filter.And} `<And>` operator.\n * @api\n */\n_ol_format_filter_.and = function(conditions) {\n  const params = [null].concat(Array.prototype.slice.call(arguments));\n  return new (Function.prototype.bind.apply(_ol_format_filter_And_, params));\n};\n\n\n/**\n * Create a logical `<Or>` operator between two or more filter conditions.\n *\n * @param {...ol.format.filter.Filter} conditions Filter conditions.\n * @returns {!ol.format.filter.Or} `<Or>` operator.\n * @api\n */\n_ol_format_filter_.or = function(conditions) {\n  const params = [null].concat(Array.prototype.slice.call(arguments));\n  return new (Function.prototype.bind.apply(_ol_format_filter_Or_, params));\n};\n\n\n/**\n * Represents a logical `<Not>` operator for a filter condition.\n *\n * @param {!ol.format.filter.Filter} condition Filter condition.\n * @returns {!ol.format.filter.Not} `<Not>` operator.\n * @api\n */\n_ol_format_filter_.not = function(condition) {\n  return new _ol_format_filter_Not_(condition);\n};\n\n\n/**\n * Create a `<BBOX>` operator to test whether a geometry-valued property\n * intersects a fixed bounding box\n *\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.Extent} extent Extent.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @returns {!ol.format.filter.Bbox} `<BBOX>` operator.\n * @api\n */\n_ol_format_filter_.bbox = function(geometryName, extent, opt_srsName) {\n  return new _ol_format_filter_Bbox_(geometryName, extent, opt_srsName);\n};\n\n/**\n * Create a `<Contains>` operator to test whether a geometry-valued property\n * contains a given geometry.\n *\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @returns {!ol.format.filter.Contains} `<Contains>` operator.\n * @api\n */\n_ol_format_filter_.contains = function(geometryName, geometry, opt_srsName) {\n  return new _ol_format_filter_Contains_(geometryName, geometry, opt_srsName);\n};\n\n/**\n * Create a `<Intersects>` operator to test whether a geometry-valued property\n * intersects a given geometry.\n *\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @returns {!ol.format.filter.Intersects} `<Intersects>` operator.\n * @api\n */\n_ol_format_filter_.intersects = function(geometryName, geometry, opt_srsName) {\n  return new _ol_format_filter_Intersects_(geometryName, geometry, opt_srsName);\n};\n\n/**\n * Create a `<Within>` operator to test whether a geometry-valued property\n * is within a given geometry.\n *\n * @param {!string} geometryName Geometry name to use.\n * @param {!ol.geom.Geometry} geometry Geometry.\n * @param {string=} opt_srsName SRS name. No srsName attribute will be\n *    set on geometries when this is not provided.\n * @returns {!ol.format.filter.Within} `<Within>` operator.\n * @api\n */\n_ol_format_filter_.within = function(geometryName, geometry, opt_srsName) {\n  return new _ol_format_filter_Within_(geometryName, geometry, opt_srsName);\n};\n\n\n/**\n * Creates a `<PropertyIsEqualTo>` comparison operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!(string|number)} expression The value to compare.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @returns {!ol.format.filter.EqualTo} `<PropertyIsEqualTo>` operator.\n * @api\n */\n_ol_format_filter_.equalTo = function(propertyName, expression, opt_matchCase) {\n  return new _ol_format_filter_EqualTo_(propertyName, expression, opt_matchCase);\n};\n\n\n/**\n * Creates a `<PropertyIsNotEqualTo>` comparison operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!(string|number)} expression The value to compare.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @returns {!ol.format.filter.NotEqualTo} `<PropertyIsNotEqualTo>` operator.\n * @api\n */\n_ol_format_filter_.notEqualTo = function(propertyName, expression, opt_matchCase) {\n  return new _ol_format_filter_NotEqualTo_(propertyName, expression, opt_matchCase);\n};\n\n\n/**\n * Creates a `<PropertyIsLessThan>` comparison operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @returns {!ol.format.filter.LessThan} `<PropertyIsLessThan>` operator.\n * @api\n */\n_ol_format_filter_.lessThan = function(propertyName, expression) {\n  return new _ol_format_filter_LessThan_(propertyName, expression);\n};\n\n\n/**\n * Creates a `<PropertyIsLessThanOrEqualTo>` comparison operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @returns {!ol.format.filter.LessThanOrEqualTo} `<PropertyIsLessThanOrEqualTo>` operator.\n * @api\n */\n_ol_format_filter_.lessThanOrEqualTo = function(propertyName, expression) {\n  return new _ol_format_filter_LessThanOrEqualTo_(propertyName, expression);\n};\n\n\n/**\n * Creates a `<PropertyIsGreaterThan>` comparison operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @returns {!ol.format.filter.GreaterThan} `<PropertyIsGreaterThan>` operator.\n * @api\n */\n_ol_format_filter_.greaterThan = function(propertyName, expression) {\n  return new _ol_format_filter_GreaterThan_(propertyName, expression);\n};\n\n\n/**\n * Creates a `<PropertyIsGreaterThanOrEqualTo>` comparison operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} expression The value to compare.\n * @returns {!ol.format.filter.GreaterThanOrEqualTo} `<PropertyIsGreaterThanOrEqualTo>` operator.\n * @api\n */\n_ol_format_filter_.greaterThanOrEqualTo = function(propertyName, expression) {\n  return new _ol_format_filter_GreaterThanOrEqualTo_(propertyName, expression);\n};\n\n\n/**\n * Creates a `<PropertyIsNull>` comparison operator to test whether a property value\n * is null.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @returns {!ol.format.filter.IsNull} `<PropertyIsNull>` operator.\n * @api\n */\n_ol_format_filter_.isNull = function(propertyName) {\n  return new _ol_format_filter_IsNull_(propertyName);\n};\n\n\n/**\n * Creates a `<PropertyIsBetween>` comparison operator to test whether an expression\n * value lies within a range given by a lower and upper bound (inclusive).\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!number} lowerBoundary The lower bound of the range.\n * @param {!number} upperBoundary The upper bound of the range.\n * @returns {!ol.format.filter.IsBetween} `<PropertyIsBetween>` operator.\n * @api\n */\n_ol_format_filter_.between = function(propertyName, lowerBoundary, upperBoundary) {\n  return new _ol_format_filter_IsBetween_(propertyName, lowerBoundary, upperBoundary);\n};\n\n\n/**\n * Represents a `<PropertyIsLike>` comparison operator that matches a string property\n * value against a text pattern.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!string} pattern Text pattern.\n * @param {string=} opt_wildCard Pattern character which matches any sequence of\n *    zero or more string characters. Default is '*'.\n * @param {string=} opt_singleChar pattern character which matches any single\n *    string character. Default is '.'.\n * @param {string=} opt_escapeChar Escape character which can be used to escape\n *    the pattern characters. Default is '!'.\n * @param {boolean=} opt_matchCase Case-sensitive?\n * @returns {!ol.format.filter.IsLike} `<PropertyIsLike>` operator.\n * @api\n */\n_ol_format_filter_.like = function(propertyName, pattern,\n  opt_wildCard, opt_singleChar, opt_escapeChar, opt_matchCase) {\n  return new _ol_format_filter_IsLike_(propertyName, pattern,\n    opt_wildCard, opt_singleChar, opt_escapeChar, opt_matchCase);\n};\n\n\n/**\n * Create a `<During>` temporal operator.\n *\n * @param {!string} propertyName Name of the context property to compare.\n * @param {!string} begin The begin date in ISO-8601 format.\n * @param {!string} end The end date in ISO-8601 format.\n * @returns {!ol.format.filter.During} `<During>` operator.\n * @api\n */\n_ol_format_filter_.during = function(propertyName, begin, end) {\n  return new _ol_format_filter_During_(propertyName, begin, end);\n};\nexport default _ol_format_filter_;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/filter.js\n// module id = null\n// module chunks = ","/**\n * @module ngeo.misc.EventHelper\n */\nimport ngeoBase from 'ngeo/index.js';\nimport olEvents from 'ol/events.js';\n\n/**\n * Provides methods to manage the listening/unlistening of OpenLayers events\n *\n * @constructor\n * @struct\n * @ngdoc service\n * @ngname ngeoEventHelper\n * @ngInject\n */\nconst exports = function() {\n\n  /**\n   * @type {Object.<number|string, Array.<ol.EventsKey>>}\n   * @private\n   */\n  this.listenerKeys_ = {};\n\n};\n\n\n/**\n * Utility method to add a listener key bound to a unique id. The key has\n * to come from `ol.events`.\n * @param {number|string} uid Unique id.\n * @param {ol.EventsKey} key Key.\n * @export\n */\nexports.prototype.addListenerKey = function(uid, key) {\n  if (!this.listenerKeys_[uid]) {\n    this.initListenerKey_(uid);\n  }\n  this.listenerKeys_[uid].push(/** @type {ol.EventsKey} */ (key));\n};\n\n\n/**\n * Clear all listener keys from the given unique id.\n * @param {number|string} uid Unique id.\n * @export\n */\nexports.prototype.clearListenerKey = function(uid) {\n  this.initListenerKey_(uid);\n};\n\n\n/**\n * Utility method that does 2 things:\n * - initialize the listener keys of a given uid with an array (if that key\n *   has not array set yet)\n * - unlisten any events if the array already exists for the given uid and\n *   empty the array.\n * @param {number|string} uid Unique id.\n * @private\n */\nexports.prototype.initListenerKey_ = function(uid) {\n  if (!this.listenerKeys_[uid]) {\n    this.listenerKeys_[uid] = [];\n  } else {\n    if (this.listenerKeys_[uid].length) {\n      this.listenerKeys_[uid].forEach(olEvents.unlistenByKey);\n      this.listenerKeys_[uid].length = 0;\n    }\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoEventHelper', []);\nexports.module.service('ngeoEventHelper', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/EventHelper.js","/**\n * @module ngeo.filter.Condition\n */\n/**\n * @enum {string}\n * @export\n */\nconst exports = {\n  /**\n   * @type {string}\n   * @export\n   */\n  AND: '&&',\n  /**\n   * @type {string}\n   * @export\n   */\n  NOT: '!',\n  /**\n   * @type {string}\n   * @export\n   */\n  OR: '||'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/filter/Condition.js","/**\n * @module ngeo.map.component\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport olEvents from 'ol/events.js';\nimport olMap from 'ol/Map.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoMap', []);\n\n\n/**\n * Provides a directive used to insert a user-defined OpenLayers\n * map in the DOM. The directive does not create an isolate scope.\n *\n * Examples:\n *\n *   Simple:\n *\n *      <div ngeo-map=\"ctrl.map\"></div>\n *\n *   Manage window resizing:\n *\n *      <div\n *        ngeo-map=\"ctrl.map\"\n *        ngeo-map-manage-resize=\"ctrl.manageResize\"\n *        ngeo-map-resize-transition=\"ctrl.resizeTransition\">\n *      </div>\n *\n * See our live examples:\n * [../examples/permalink.html](../examples/permalink.html)\n * [../examples/simple.html](../examples/simple.html)\n *\n * @htmlAttribute {ol.Map} ngeo-map The map.\n * @param {angular.$window} $window The Angular $window service.\n * @return {angular.Directive} Directive Definition Object.\n * @ngdoc directive\n * @ngname ngeoMap\n * @ngInject\n */\nexports.directive_ = function($window) {\n  return {\n    restrict: 'A',\n    /**\n     * @param {angular.Scope} scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Atttributes.\n     */\n    link: (scope, element, attrs) => {\n      // Get the 'ol.Map' object from attributes and manage it accordingly\n      const attr = 'ngeoMap';\n      const prop = attrs[attr];\n\n      const map = scope.$eval(prop);\n      googAsserts.assertInstanceof(map, olMap);\n\n      map.setTarget(element[0]);\n\n      // Get the 'window resize' attributes, which are optionnal. If defined,\n      // the browser window 'resize' event is listened to update the size of\n      // the map when fired. A transition option is also available to let any\n      // animation that may occur on the div of the map to smootly resize the\n      // map while in progress.\n      const manageResizeAttr = 'ngeoMapManageResize';\n      const manageResizeProp = attrs[manageResizeAttr];\n      const manageResize = scope.$eval(manageResizeProp);\n\n      if (manageResize) {\n        const resizeTransitionAttr = 'ngeoMapResizeTransition';\n        const resizeTransitionProp = attrs[resizeTransitionAttr];\n\n        const resizeTransition = /** @type {number|undefined} */ (\n          scope.$eval(resizeTransitionProp));\n\n        olEvents.listen(\n          $window,\n          'resize',\n          () => {\n            if (resizeTransition) {\n              // Resize with transition\n              const start = Date.now();\n              let loop = true;\n              const adjustSize = function() {\n                map.updateSize();\n                map.renderSync();\n                if (loop) {\n                  $window.requestAnimationFrame(adjustSize);\n                }\n                if (Date.now() - start > resizeTransition) {\n                  loop = false;\n                }\n              };\n              adjustSize();\n            } else {\n              // A single plain resize\n              map.updateSize();\n            }\n          }\n        );\n      }\n    }\n  };\n};\n\n// Register the directive in the module\nexports.directive('ngeoMap', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/map/component.js","/**\n * @module gmf.theme.Manager\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfLayertreeTreeManager from 'gmf/layertree/TreeManager.js';\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport ngeoStatemanagerService from 'ngeo/statemanager/Service.js';\n\n/**\n * Manage a tree with children. This service can be used in mode 'flush'\n * (default) or not (mode 'add'). In mode 'flush', each theme, group or group\n * by layer that you add will replace the previous children's array. In mode\n * 'add', children will be just pushed in this array. The default state can be\n * changed by setting the value `gmfTreeManagerModeFlush`, e.g.:\n *\n *    let module = angular.module('app');\n *    module.value('gmfTreeManagerModeFlush', false);\n *\n * This service's theme is a GmfTheme with only children and a name.\n * Thought to be the tree source of the gmf layertree directive.\n * @constructor\n * @param {angular.Scope} $rootScope Angular rootScope.\n * @param {gmf.theme.Themes} gmfThemes gmf Themes service.\n * @param {boolean} gmfTreeManagerModeFlush Flush mode active?\n * @param {gmf.layertree.TreeManager} gmfTreeManager the tree manager.\n * @param {ngeo.statemanager.Service} ngeoStateManager The ngeo statemanager service.\n * @ngInject\n * @struct\n * @ngdoc service\n * @ngname gmfTreeManager\n */\nconst exports = function($rootScope, gmfThemes, gmfTreeManagerModeFlush,\n  gmfTreeManager, ngeoStateManager) {\n\n  /**\n   * @type {angular.Scope}\n   * @private\n   */\n  this.$rootScope_ = $rootScope;\n\n  /**\n   * @type {gmf.theme.Themes}\n   * @private\n   */\n  this.gmfThemes_ = gmfThemes;\n\n  /**\n   * @type {boolean}\n   * @export\n   */\n  this.modeFlush = gmfTreeManagerModeFlush;\n\n  /**\n   * @type {gmf.layertree.TreeManager}\n   * @private\n   */\n  this.gmfTreeManager_ = gmfTreeManager;\n\n  /**\n   * @type {ngeo.statemanager.Service}\n   * @private\n   */\n  this.ngeoStateManager_ = ngeoStateManager;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  this.themeName_ = '';\n};\n\n\n/**\n * Set the current theme name (mode 'flush' only) and add its children. Add\n * only groups that are not already in the tree.\n * @param {!gmfThemes.GmfTheme} theme A theme object.\n * @param {boolean=} opt_silent if true it will be no user message if\n *     the theme should be added but it's already added.\n * @export\n */\nexports.prototype.addTheme = function(theme, opt_silent) {\n  if (this.modeFlush) {\n    this.ngeoStateManager_.updateState({\n      'theme': theme.name\n    });\n    this.setThemeName(theme.name);\n    this.gmfTreeManager_.setFirstLevelGroups(theme.children);\n  } else {\n    this.gmfTreeManager_.addFirstLevelGroups(theme.children, false, opt_silent);\n  }\n};\n\n\n/**\n * @return {string} The theme name. Will be empty on 'not flush' mode.\n * @export\n */\nexports.prototype.getThemeName = function() {\n  return this.themeName_;\n};\n\n\n/**\n * @return {boolean} true if the theme is loading.\n * @export\n */\nexports.prototype.isLoading = function() {\n  return !this.gmfThemes_.loaded;\n};\n\n/**\n * @param {string} name The new theme name.\n * @param {boolean=} opt_silent Don't emit a theme change event, default is false.\n */\nexports.prototype.setThemeName = function(name, opt_silent) {\n  this.themeName_ = name;\n  if (!opt_silent) {\n    this.$rootScope_.$emit(exports.EventType.THEME_NAME_SET, name);\n  }\n};\n\n\n/**\n * Remove all groups.\n * @export\n */\nexports.prototype.removeAll = function() {\n  this.gmfTreeManager_.removeAll();\n};\n\n\n/**\n * @enum {string}\n */\nexports.EventType = {\n  /**\n   * Triggered when the theme name change.\n   */\n  THEME_NAME_SET: 'gmf-thememanager-theme_name_set'\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfThemeManager', [\n  gmfLayertreeTreeManager.module.name,\n  ngeoStatemanagerService.module.name,\n]);\n\n/**\n * The default value for `modeFlush` that `gmf.layertree.TreeManager` is initialized with.\n */\nexports.module.value('gmfTreeManagerModeFlush', true);\n\nexports.module.service('gmfThemeManager', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/theme/Manager.js","/**\n * @module ngeo.misc.WMSTime\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscTime from 'ngeo/misc/Time.js';\nimport * as olBase from 'ol/index.js';\n\n/**\n * ngeo - WMS time service\n * @extends {ngeo.misc.Time}\n * @param {angular.$filter} $filter angular filter service.\n * @param {!angularGettext.Catalog} gettextCatalog service.\n * @constructor\n * @struct\n * @ngInject\n * @ngdoc service\n * @ngname ngeoWMSTime\n */\nconst exports = function($filter, gettextCatalog) {\n\n  /**\n   * @private\n   * @type {angular.$filter}\n   */\n  this.$filter_ = $filter;\n\n  /**\n   * @type {!angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog_ = gettextCatalog;\n\n  ngeoMiscTime.call(this);\n};\n\nolBase.inherits(exports, ngeoMiscTime);\n\n\n/**\n * Format time regarding a resolution\n * @param  {number} time (in ms format) timestamp to format\n * @param  {(ngeox.TimePropertyResolutionEnum|undefined)} resolution resolution to use\n * @param  {boolean=} opt_useISOFormat True to a ISO-8601 date string that can be used\n *     as a WMS-T Parameter. Otherwise, use a localized date format.\n * @param  {boolean=} opt_toUTC to get the UTC date\n * @return {string} Date string regarding the resolution.\n */\nexports.prototype.formatTimeValue = function(time, resolution, opt_useISOFormat, opt_toUTC) {\n  const date = new Date(time);\n  const utc = opt_toUTC ? 'UTC' : undefined;\n\n  // ISO-8601 format to use date as a WMS-T Parameter.\n  let yearResolution = 'yyyy';\n  let monthResolution = 'yyyy-MM';\n  let dayResolution = 'yyyy-MM-dd';\n\n  // Localized format.\n  if (!opt_useISOFormat) {\n    const gettextCatalog = this.gettextCatalog_;\n    yearResolution = gettextCatalog.getString('yyyy');\n    monthResolution = gettextCatalog.getString('M/yyyy');\n    dayResolution = gettextCatalog.getString('M/d/yyyy');\n  }\n\n  switch (resolution) {\n    case 'year':\n      return this.$filter_('date')(date, yearResolution, utc);\n    case 'month':\n      return this.$filter_('date')(date, monthResolution, utc);\n    case 'day':\n      return this.$filter_('date')(date, dayResolution, utc);\n    default:\n      //case \"second\":\n      return date.toISOString().replace(/\\.\\d{3}/, '');\n  }\n};\n\n\n/**\n * Format time to be used as a WMS Time query parameter\n * @param  {ngeox.TimeProperty} wmsTimeProperty a wmstime property from a node\n * @param  {{start : number, end : (number|undefined)}} times start & end time selected (in ms format)\n * @param  {boolean=} opt_toUTC to get the UTC date\n * @return {string} ISO-8601 date string ready to be used as a query parameter for a\n * WMS request\n * @export\n */\nexports.prototype.formatWMSTimeParam = function(wmsTimeProperty, times, opt_toUTC) {\n  googAsserts.assert(wmsTimeProperty.resolution !== undefined);\n  if (wmsTimeProperty.mode === 'range') {\n    googAsserts.assert(times.end !== undefined);\n    return (\n      `${this.formatTimeValue(times.start, wmsTimeProperty.resolution, true, opt_toUTC)}/${\n        this.formatTimeValue(times.end, wmsTimeProperty.resolution, true, opt_toUTC)}`\n    );\n  } else {\n    return this.formatTimeValue(times.start, wmsTimeProperty.resolution, true, opt_toUTC);\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoWMSTime', [\n  ngeoMiscTime.module.name,\n]);\nexports.module.service('ngeoWMSTime', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/WMSTime.js","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { hooks } from '../utils/hooks';\nimport { YEAR } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nexport function daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nexport function isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nexport var getSetYear = makeGetSet('FullYear', true);\n\nexport function getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/year.js\n// module id = 110\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.CustomEvent\n */\nimport * as olBase from 'ol/index.js';\nimport olEventsEvent from 'ol/events/Event.js';\n\n/**\n * @constructor\n * @extends {ol.events.Event}\n * @param {string} type Event type.\n * @param {T} detail Event Detail.\n * @template T\n */\nconst exports = function(type, detail = {}) {\n\n  olEventsEvent.call(this, type);\n\n  /**\n   * @type {T}\n   */\n  this.detail = detail;\n\n};\n\nolBase.inherits(exports, olEventsEvent);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/CustomEvent.js","/**\n * @module ngeo.misc.debounce\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDebounce', []);\n\n\n/**\n * Provides a debounce service. That service is a function\n * used to debounce calls to a user-provided function.\n *\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @return {ngeox.miscDebounce} The debounce function.\n *\n * @ngdoc service\n * @ngname ngeoDebounce\n * @ngInject\n */\nexports.factory_ = function($timeout) {\n  return (\n    // FIXME: eslint can't detect that the function returns a function\n    /**\n     * @param {function(?)} func The function to debounce.\n     * @param {number} wait The wait time in ms.\n     * @param {boolean} invokeApply Whether the call to `func` is wrapped\n     *    into an `$apply` call.\n     * return {function()} The wrapper function.\n     */\n    function(func, wait, invokeApply) {\n      /**\n       * @type {?angular.$q.Promise}\n       */\n      let timeout = null;\n      return (\n        function(...args) {\n          const context = this;\n          const later = function() {\n            timeout = null;\n            func.apply(context, args);\n          };\n          if (timeout !== null) {\n            $timeout.cancel(timeout);\n          }\n          timeout = $timeout(later, wait, invokeApply);\n        });\n    });\n};\n\nexports.factory('ngeoDebounce', exports.factory_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/debounce.js","/**\n * @module ngeo.draw.features\n */\nimport ngeoBase from 'ngeo/index.js';\nimport olCollection from 'ol/Collection.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoFeatures', []);\n\nexports.value('ngeoFeatures', new olCollection());\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/features.js","/**\n * @module ngeo.map.FeatureOverlay\n */\nimport ngeoBase from 'ngeo/index.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\n\n/**\n * @constructor\n * @param {ngeo.map.FeatureOverlayMgr} manager The feature overlay manager.\n * @param {number} index This feature overlay's index.\n */\nconst exports = function(manager, index) {\n\n  /**\n   * @type {ngeo.map.FeatureOverlayMgr}\n   * @private\n   */\n  this.manager_ = manager;\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.index_ = index;\n};\n\n\n/**\n * Add a feature to the feature overlay.\n * @param {ol.Feature} feature The feature to add.\n * @export\n */\nexports.prototype.addFeature = function(feature) {\n  this.manager_.addFeature(feature, this.index_);\n};\n\n\n/**\n * Remove a feature from the feature overlay.\n * @param {ol.Feature} feature The feature to remove.\n * @export\n */\nexports.prototype.removeFeature = function(feature) {\n  this.manager_.removeFeature(feature, this.index_);\n};\n\n\n/**\n * Remove all the features from the feature overlay.\n * @export\n */\nexports.prototype.clear = function() {\n  this.manager_.clear(this.index_);\n};\n\n\n/**\n * Configure this feature overlay with a feature collection. Features added\n * to the collection are also added to the overlay. Same for removal. If you\n * configure the feature overlay with a feature collection you will use the\n * collection to add and remove features instead of using the overlay's\n * `addFeature`, `removeFeature` and `clear` functions.\n * @param {ol.Collection.<ol.Feature>} features Feature collection.\n * @export\n */\nexports.prototype.setFeatures = function(features) {\n  if (this.features_ !== null) {\n    this.features_.clear();\n    olEvents.unlisten(this.features_, 'add', this.handleFeatureAdd_, this);\n    olEvents.unlisten(this.features_, 'remove', this.handleFeatureRemove_, this);\n  }\n  if (features !== null) {\n    features.forEach(function(feature) {\n      this.addFeature(feature);\n    }, this);\n    olEvents.listen(features, 'add', this.handleFeatureAdd_, this);\n    olEvents.listen(features, 'remove', this.handleFeatureRemove_, this);\n  }\n  this.features_ = features;\n};\n\n\n/**\n * Set a style for the feature overlay.\n * @param {ol.style.Style|Array.<ol.style.Style>|ol.StyleFunction} style\n * Style.\n * @export\n */\nexports.prototype.setStyle = function(style) {\n  this.manager_.setStyle(style, this.index_);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Feature collection event.\n * @private\n */\nexports.prototype.handleFeatureAdd_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.addFeature(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Feature collection event.\n * @private\n */\nexports.prototype.handleFeatureRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature(feature);\n};\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoFeatureOverlay', []);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/map/FeatureOverlay.js","/**\n * @module ngeo.datasource.DataSources\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceDataSource from 'ngeo/datasource/DataSource.js';\nimport olCollection from 'ol/Collection.js';\nimport olEvents from 'ol/events.js';\nimport olObservable from 'ol/Observable.js';\nimport olView from 'ol/View.js';\n\nconst exports = class {\n\n  /**\n   * This service is responsible of the synchronization between the ngeo\n   * collection of data sources and a specific map. It listens to events\n   * that come directly or indirectly from the map and update the inner\n   * properties of the data sources.\n   *\n   * The following data sources properties are synchronized here:\n   *\n   * - inRange: The map view 'change:resolution' event is listened and the\n   *   property is updated depending on the current resolution.\n   *\n   * @struct\n   * @ngdoc service\n   * @ngname ngeoDataSources\n   * @ngInject\n   */\n  constructor() {\n\n    /**\n     * @type {ngeox.datasource.DataSources}\n     * @private\n     */\n    this.collection_ = new olCollection();\n\n    /**\n     * @type {ol.Map}\n     * @private\n     */\n    this.map_ = null;\n\n    /**\n     * @type {!Array.<!ol.EventsKey>}\n     * @private\n     */\n    this.listenerKeys_ = [];\n\n    olEvents.listen(this.collection_, 'add', this.handleDataSourcesAdd_, this);\n  }\n\n  /**\n   * Set a map to this service. Null can be given to unset the map.\n   * @param {?ol.Map} map Map.\n   */\n  set map(map) {\n    if (this.map_ === map) {\n      return;\n    }\n\n    if (this.map_) {\n      this.unbindMap_(this.map_);\n    }\n\n    this.map_ = map;\n\n    if (map) {\n      this.bindMap_(map);\n    }\n  }\n\n  get collection() {\n    return this.collection_;\n  }\n\n  /**\n   * Bind a map to this service.\n   * @param {ol.Map} map Map.\n   * @private\n   */\n  bindMap_(map) {\n\n    // (1) Event listeners\n    const view = map.getView();\n    this.listenerKeys_.push(\n      olEvents.listen(view, 'change:resolution', this.handleViewResolutionChange_, this)\n    );\n\n    // (2) Sync resolution with existing data sources\n    const resolution = view.getResolution();\n    googAsserts.assertNumber(resolution);\n    this.syncDataSourcesToResolution_(resolution);\n  }\n\n  /**\n   * Unbind a map to this service.\n   * @param {ol.Map} map Map.\n   * @private\n   */\n  unbindMap_(map) {\n    olObservable.unByKey(this.listenerKeys_);\n    this.listenerKeys_ = [];\n  }\n\n  /**\n   * Called when the resolution of the map view changes. Synchronize the\n   * datasources to current resolution of the view.\n   * @param {Event} evt Event.\n   * @private\n   */\n  handleViewResolutionChange_(evt) {\n    const view = evt.target;\n    googAsserts.assertInstanceof(view, olView);\n    const resolution = view.getResolution();\n    googAsserts.assertNumber(resolution);\n    this.syncDataSourcesToResolution_(resolution);\n  }\n\n  /**\n   * Synchronize all datasources in the ngeo collection with a given resolution.\n   * @param {number} resolution Resolution\n   * @private\n   */\n  syncDataSourcesToResolution_(resolution) {\n    this.collection_.forEach((dataSource) => {\n      this.syncDataSourceToResolution_(dataSource, resolution);\n    });\n  }\n\n  /**\n   * Synchronize a data source `inRange` property with a given resolution.\n   * @param {ngeo.datasource.DataSource} dataSource Data source\n   * @param {number} resolution Resolution\n   * @private\n   */\n  syncDataSourceToResolution_(dataSource, resolution) {\n    // No need to do anything if the data source doesn't support dynamic\n    // setting of inRange\n    if (!dataSource.supportsDynamicInRange) {\n      return;\n    }\n\n    const maxResolution = dataSource.maxResolution;\n    const minResolution = dataSource.minResolution;\n\n    const inMinRange = minResolution === null ||\n        minResolution === undefined ||\n        resolution >= minResolution;\n    const inMaxRange = maxResolution === null ||\n        maxResolution === undefined ||\n        resolution <= maxResolution;\n    const inRange = inMinRange && inMaxRange;\n\n    dataSource.inRange = inRange;\n  }\n\n  /**\n   * Called when a new data source is added to the ngeo collection. If there's\n   * map bound, update its `inRange` right away.\n   * @param {!ol.Collection.Event} event Event\n   * @private\n   */\n  handleDataSourcesAdd_(event) {\n    const dataSource = googAsserts.assertInstanceof(\n      event.element, ngeoDatasourceDataSource);\n    if (this.map_) {\n      const resolution = this.map_.getView().getResolution();\n      googAsserts.assertNumber(resolution);\n      this.syncDataSourceToResolution_(dataSource, resolution);\n    }\n  }\n\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoDataSources', []);\n// DataSources with the ngeox.datasource.DataSources type.\nexports.module.service('ngeoDataSources', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/DataSources.js","/**\n * @module ol/format/WMSGetFeatureInfo\n */\nimport {inherits} from '../index.js';\nimport {extend, includes} from '../array.js';\nimport GML2 from '../format/GML2.js';\nimport XMLFeature from '../format/XMLFeature.js';\nimport {assign} from '../obj.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Format for reading WMSGetFeatureInfo format. It uses\n * {@link ol.format.GML2} to read features.\n *\n * @constructor\n * @extends {ol.format.XMLFeature}\n * @param {olx.format.WMSGetFeatureInfoOptions=} opt_options Options.\n * @api\n */\nconst WMSGetFeatureInfo = function(opt_options) {\n\n  const options = opt_options ? opt_options : {};\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.featureNS_ = 'http://mapserver.gis.umn.edu/mapserver';\n\n\n  /**\n   * @private\n   * @type {ol.format.GML2}\n   */\n  this.gmlFormat_ = new GML2();\n\n\n  /**\n   * @private\n   * @type {Array.<string>}\n   */\n  this.layers_ = options.layers ? options.layers : null;\n\n  XMLFeature.call(this);\n};\n\ninherits(WMSGetFeatureInfo, XMLFeature);\n\n\n/**\n * @const\n * @type {string}\n * @private\n */\nWMSGetFeatureInfo.featureIdentifier_ = '_feature';\n\n\n/**\n * @const\n * @type {string}\n * @private\n */\nWMSGetFeatureInfo.layerIdentifier_ = '_layer';\n\n\n/**\n * @return {Array.<string>} layers\n */\nWMSGetFeatureInfo.prototype.getLayers = function() {\n  return this.layers_;\n};\n\n\n/**\n * @param {Array.<string>} layers Layers to parse.\n */\nWMSGetFeatureInfo.prototype.setLayers = function(layers) {\n  this.layers_ = layers;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<ol.Feature>} Features.\n * @private\n */\nWMSGetFeatureInfo.prototype.readFeatures_ = function(node, objectStack) {\n  node.setAttribute('namespaceURI', this.featureNS_);\n  const localName = node.localName;\n  /** @type {Array.<ol.Feature>} */\n  let features = [];\n  if (node.childNodes.length === 0) {\n    return features;\n  }\n  if (localName == 'msGMLOutput') {\n    for (let i = 0, ii = node.childNodes.length; i < ii; i++) {\n      const layer = node.childNodes[i];\n      if (layer.nodeType !== Node.ELEMENT_NODE) {\n        continue;\n      }\n      const context = objectStack[0];\n\n      const toRemove = WMSGetFeatureInfo.layerIdentifier_;\n      const layerName = layer.localName.replace(toRemove, '');\n\n      if (this.layers_ && !includes(this.layers_, layerName)) {\n        continue;\n      }\n\n      const featureType = layerName +\n          WMSGetFeatureInfo.featureIdentifier_;\n\n      context['featureType'] = featureType;\n      context['featureNS'] = this.featureNS_;\n\n      const parsers = {};\n      parsers[featureType] = _ol_xml_.makeArrayPusher(\n        this.gmlFormat_.readFeatureElement, this.gmlFormat_);\n      const parsersNS = _ol_xml_.makeStructureNS(\n        [context['featureNS'], null], parsers);\n      layer.setAttribute('namespaceURI', this.featureNS_);\n      const layerFeatures = _ol_xml_.pushParseAndPop(\n        [], parsersNS, layer, objectStack, this.gmlFormat_);\n      if (layerFeatures) {\n        extend(features, layerFeatures);\n      }\n    }\n  }\n  if (localName == 'FeatureCollection') {\n    const gmlFeatures = _ol_xml_.pushParseAndPop([],\n      this.gmlFormat_.FEATURE_COLLECTION_PARSERS, node,\n      [{}], this.gmlFormat_);\n    if (gmlFeatures) {\n      features = gmlFeatures;\n    }\n  }\n  return features;\n};\n\n\n/**\n * Read all features from a WMSGetFeatureInfo response.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\nWMSGetFeatureInfo.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nWMSGetFeatureInfo.prototype.readFeaturesFromNode = function(node, opt_options) {\n  const options = {};\n  if (opt_options) {\n    assign(options, this.getReadOptions(node, opt_options));\n  }\n  return this.readFeatures_(node, [options]);\n};\n\n\n/**\n * Not implemented.\n * @inheritDoc\n */\nWMSGetFeatureInfo.prototype.writeFeatureNode = function(feature, opt_options) {};\n\n\n/**\n * Not implemented.\n * @inheritDoc\n */\nWMSGetFeatureInfo.prototype.writeFeaturesNode = function(features, opt_options) {};\n\n\n/**\n * Not implemented.\n * @inheritDoc\n */\nWMSGetFeatureInfo.prototype.writeGeometryNode = function(geometry, opt_options) {};\nexport default WMSGetFeatureInfo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/WMSGetFeatureInfo.js\n// module id = 120\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21","/**\n * @module gmf.editing.Snapping\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfLayertreeTreeManager from 'gmf/layertree/TreeManager.js';\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport googAsserts from 'goog/asserts.js';\nimport ngeoLayertreeController from 'ngeo/layertree/Controller.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\nimport olCollection from 'ol/Collection.js';\nimport olFormatWFS from 'ol/format/WFS.js';\nimport olInteractionSnap from 'ol/interaction/Snap.js';\n\n/**\n * The snapping service of GMF. Responsible of collecting the treeCtrls that\n * support snapping and store them here. As soon as a treeCtrl state becomes\n * 'on', a WFS GetFeature request is issued to collect the features at the\n * map view location. A new request is sent every time the map is panned or\n * zoomed for each treeCtrl that are still 'on'.\n *\n * Features returned by these requests get bound to a `ol.interaction.Snap`,\n * which allows the snapping to occur on other places where vector\n * features are drawn or modified.\n *\n * @constructor\n * @param {angular.$http} $http Angular $http service.\n * @param {angular.$q} $q The Angular $q service.\n * @param {!angular.Scope} $rootScope Angular rootScope.\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @param {gmf.theme.Themes} gmfThemes The gmf Themes service.\n * @param {gmf.layertree.TreeManager} gmfTreeManager The gmf TreeManager service.\n * @ngInject\n * @ngdoc service\n * @ngname gmfSnapping\n */\nconst exports = function($http, $q, $rootScope, $timeout, gmfThemes,\n  gmfTreeManager) {\n\n  // === Injected services ===\n\n  /**\n   * @type {angular.$http}\n   * @private\n   */\n  this.http_ = $http;\n\n  /**\n   * @type {angular.$q}\n   * @private\n   */\n  this.q_ = $q;\n\n  /**\n   * @type {!angular.Scope}\n   * @private\n   */\n  this.rootScope_ = $rootScope;\n\n  /**\n   * @type {angular.$timeout}\n   * @private\n   */\n  this.timeout_ = $timeout;\n\n  /**\n   * @type {gmf.theme.Themes}\n   * @private\n   */\n  this.gmfThemes_ = gmfThemes;\n\n  /**\n   * @type {gmf.layertree.TreeManager}\n   * @private\n   */\n  this.gmfTreeManager_ = gmfTreeManager;\n\n\n  // === Properties ===\n\n  /**\n   * A cache containing all available snappable items, in which the listening\n   * of the state of the `treeCtrl` is registered and unregistered.\n   * @type {gmf.editing.Snapping.Cache}\n   * @private\n   */\n  this.cache_ = {};\n\n  /**\n   * @type {!Array.<ol.EventsKey>}\n   * @private\n   */\n  this.listenerKeys_ = [];\n\n  /**\n   * @type {?ol.Map}\n   * @private\n   */\n  this.map_ = null;\n\n  /**\n   * Reference to the promise taking care of calling all GetFeature requests\n   * of the currently active cache items after the map view changed. Used\n   * to cancel if the map view changes often within a short period of time.\n   * @type {?angular.$q.Promise}\n   * @private\n   */\n  this.mapViewChangePromise_ = null;\n\n  /**\n   * A reference to the OGC servers loaded by the theme service.\n   * @type {gmfThemes.GmfOgcServers|null}\n   * @private\n   */\n  this.ogcServers_ = null;\n\n};\n\n\n/**\n * In order for a `ol.interaction.Snap` to work properly, it has to be added\n * to the map after any draw interactions or other kinds of interactions that\n * ineracts with features on the map.\n *\n * This method can be called to make sure the Snap interactions are on top.\n *\n * @export\n */\nexports.prototype.ensureSnapInteractionsOnTop = function() {\n  const map = this.map_;\n  googAsserts.assert(map);\n\n  let item;\n  for (const uid in this.cache_) {\n    item = this.cache_[+uid];\n    if (item.active) {\n      googAsserts.assert(item.interaction);\n      map.removeInteraction(item.interaction);\n      map.addInteraction(item.interaction);\n    }\n  }\n};\n\n\n/**\n * Bind the snapping service to a map\n * @param {?ol.Map} map Map\n * @export\n */\nexports.prototype.setMap = function(map) {\n\n  const keys = this.listenerKeys_;\n\n  if (this.map_) {\n    this.treeCtrlsUnregister_();\n    this.unregisterAllTreeCtrl_();\n    keys.forEach(olEvents.unlistenByKey);\n    keys.length = 0;\n  }\n\n  this.map_ = map;\n\n  if (map) {\n    this.treeCtrlsUnregister_ = this.rootScope_.$watchCollection(() => {\n      if (this.gmfTreeManager_.rootCtrl) {\n        return this.gmfTreeManager_.rootCtrl.children;\n      }\n    }, (value) => {\n      // Timeout required, because the collection event is fired before the\n      // leaf nodes are created and they are the ones we're looking for here.\n      this.timeout_(() => {\n        if (value) {\n          this.unregisterAllTreeCtrl_();\n          this.gmfTreeManager_.rootCtrl.traverseDepthFirst(this.registerTreeCtrl_.bind(this));\n        }\n      }, 0);\n    });\n\n    keys.push(\n      olEvents.listen(this.gmfThemes_, 'change', this.handleThemesChange_, this),\n      olEvents.listen(map, 'moveend', this.handleMapMoveEnd_, this)\n    );\n  }\n};\n\n\n/**\n * Called when the themes change. Get the OGC servers, then listen to the\n * tree manager Layertree controllers array changes.\n * @private\n */\nexports.prototype.handleThemesChange_ = function() {\n  this.ogcServers_ = null;\n  this.gmfThemes_.getOgcServersObject().then((ogcServers) => {\n    this.ogcServers_ = ogcServers;\n  });\n};\n\n\n/**\n * Registers a newly added Layertree controller 'leaf'. If it's snappable,\n * create and add a cache item with every configuration required to do the\n * snapping. It becomes active when its state is set to 'on'.\n *\n * @param {ngeo.layertree.Controller} treeCtrl Layertree controller to register\n * @private\n */\nexports.prototype.registerTreeCtrl_ = function(treeCtrl) {\n\n  // Skip any Layertree controller that has a node that is not a leaf\n  let node = /** @type {gmfThemes.GmfGroup|gmfThemes.GmfLayer} */ (treeCtrl.node);\n  if (node.children) {\n    return;\n  }\n\n  // If treeCtrl is snappable and supports WFS, listen to its state change.\n  // When it becomes visible, it's added to the list of snappable tree ctrls.\n  node = /** @type {gmfThemes.GmfLayer} */ (treeCtrl.node);\n  const snappingConfig = gmfThemeThemes.getSnappingConfig(node);\n  if (snappingConfig) {\n    const wfsConfig = this.getWFSConfig_(treeCtrl);\n    if (wfsConfig) {\n      const uid = olBase.getUid(treeCtrl);\n\n      const stateWatcherUnregister = this.rootScope_.$watch(\n        () => treeCtrl.getState(),\n        this.handleTreeCtrlStateChange_.bind(this, treeCtrl)\n      );\n\n      // Todo: some of the properties here are hardcoded, but could come from\n      //       the node metadata at some point.\n      this.cache_[uid] = {\n        active: false,\n        featureNS: 'http://mapserver.gis.umn.edu/mapserver',\n        featurePrefix: 'feature',\n        features: new olCollection(),\n        geometryName: 'geom',\n        interaction: null,\n        maxFeatures: 50,\n        requestDeferred: null,\n        snappingConfig: snappingConfig,\n        treeCtrl: treeCtrl,\n        wfsConfig: wfsConfig,\n        stateWatcherUnregister: stateWatcherUnregister\n      };\n\n      // This extra call is to initialize the treeCtrl with its current state\n      this.handleTreeCtrlStateChange_(treeCtrl, treeCtrl.getState());\n    }\n  }\n};\n\n\n/**\n * Unregisters all removed layertree controllers 'leaf'. Remove the according\n * cache item and deactivate it as well. Unregister events.\n *\n * @private\n */\nexports.prototype.unregisterAllTreeCtrl_ = function() {\n  for (const uid in this.cache_) {\n    const item = this.cache_[+uid];\n    if (item) {\n      item.stateWatcherUnregister();\n      this.deactivateItem_(item);\n      delete this.cache_[+uid];\n    }\n  }\n};\n\n\n/**\n * Get the configuration required to do WFS requests (for snapping purpose)\n * from a Layertree controller that has a leaf node.\n *\n * The following requirements must be met in order for a treeCtrl to be\n * considered supporting WFS:\n *\n * 1) ogcServers objects are loaded\n * 2) its node `type` property is equal to `WMS`\n * 3) in its node `childLayers` property, the `queryable` property is set\n *    to `true`\n * 4) if its node `mixed` property is:\n *   a) true: then the node must have an `ogcServer` property set\n *   b) false: then the first parent node must have an `ogcServer` property set\n * 5) the ogcServer defined in 3) has the `wfsSupport` property set to `true`.\n *\n * @param {ngeo.layertree.Controller} treeCtrl The layer tree controller\n * @return {?gmf.editing.Snapping.WFSConfig} The configuration object.\n * @private\n */\nexports.prototype.getWFSConfig_ = function(treeCtrl) {\n\n  // (1)\n  if (this.ogcServers_ === null) {\n    return null;\n  }\n\n  const gmfLayer = /** @type {gmfThemes.GmfLayer} */ (treeCtrl.node);\n\n  // (2)\n  if (gmfLayer.type !== gmfThemeThemes.NodeType.WMS) {\n    return null;\n  }\n\n  const gmfLayerWMS = /** @type {gmfThemes.GmfLayerWMS} */ (gmfLayer);\n\n  // (3)\n  const featureTypes = [];\n  for (let i = 0, ii = gmfLayerWMS.childLayers.length; i < ii; i++) {\n    if (gmfLayerWMS.childLayers[i].queryable) {\n      featureTypes.push(gmfLayerWMS.childLayers[i].name);\n    }\n  }\n  if (!featureTypes.length) {\n    return null;\n  }\n\n  // (4)\n  let ogcServerName;\n  const gmfGroup = /** @type {gmfThemes.GmfGroup} */ (treeCtrl.parent.node);\n  if (gmfGroup.mixed) {\n    ogcServerName = gmfLayerWMS.ogcServer;\n  } else {\n    const firstTreeCtrl = ngeoLayertreeController.getFirstParentTree(treeCtrl);\n    const firstNode = /** @type {gmfThemes.GmfGroup} */ (firstTreeCtrl.node);\n    ogcServerName = firstNode.ogcServer;\n  }\n  if (!ogcServerName) {\n    return null;\n  }\n\n  // (5)\n  const ogcServer = this.ogcServers_[ogcServerName];\n  if (!ogcServer.wfsSupport) {\n    return null;\n  }\n\n  // At this point, every requirements have been met.\n  // Create and return the configuration.\n  const urlWfs = ogcServer.urlWfs;\n  googAsserts.assert(urlWfs, 'urlWfs should be defined.');\n\n  return {\n    featureTypes: featureTypes.join(','),\n    url: urlWfs\n  };\n};\n\n\n/**\n * @param {ngeo.layertree.Controller} treeCtrl The layer tree controller\n * @param {string|undefined} newVal New state value\n * @private\n */\nexports.prototype.handleTreeCtrlStateChange_ = function(treeCtrl, newVal) {\n\n  const uid = olBase.getUid(treeCtrl);\n  const item = this.cache_[uid];\n\n  // Note: a snappable treeCtrl can only be a leaf, therefore the only possible\n  //       states are: 'on' and 'off'.\n  if (newVal === 'on') {\n    this.activateItem_(item);\n  } else {\n    this.deactivateItem_(item);\n  }\n};\n\n\n/**\n * Activate a cache item by adding a Snap interaction to the map and launch\n * the initial request to get the features.\n *\n * @param {gmf.editing.Snapping.CacheItem} item Cache item.\n * @private\n */\nexports.prototype.activateItem_ = function(item) {\n\n  // No need to do anything if item is already active\n  if (item.active) {\n    return;\n  }\n\n  const map = this.map_;\n  googAsserts.assert(map);\n\n  const interaction = new olInteractionSnap({\n    edge: item.snappingConfig.edge,\n    features: item.features,\n    pixelTolerance: item.snappingConfig.tolerance,\n    vertex: item.snappingConfig.vertex\n  });\n\n  map.addInteraction(interaction);\n\n  item.interaction = interaction;\n  item.active = true;\n\n  // Init features\n  this.loadItemFeatures_(item);\n};\n\n\n/**\n * Deactivate a cache item by removing the snap interaction and clearing any\n * existing features.\n *\n * @param {gmf.editing.Snapping.CacheItem} item Cache item.\n * @private\n */\nexports.prototype.deactivateItem_ = function(item) {\n\n  // No need to do anything if item is already inactive\n  if (!item.active) {\n    return;\n  }\n\n  const map = this.map_;\n  googAsserts.assert(map);\n\n  const interaction = item.interaction;\n  map.removeInteraction(interaction);\n\n  item.interaction = null;\n  item.features.clear();\n\n  // If a previous request is still running, cancel it.\n  if (item.requestDeferred) {\n    item.requestDeferred.resolve();\n    item.requestDeferred = null;\n  }\n\n  item.active = false;\n};\n\n\n/**\n * @private\n */\nexports.prototype.loadAllItems_ = function() {\n  this.mapViewChangePromise_ = null;\n  let item;\n  for (const uid in this.cache_) {\n    item = this.cache_[+uid];\n    if (item.active) {\n      this.loadItemFeatures_(item);\n    }\n  }\n};\n\n\n/**\n * For a specific cache item, issue a new WFS GetFeatures request. The returned\n * features set in the item collection of features (they replace any existing\n * ones first).\n *\n * @param {gmf.editing.Snapping.CacheItem} item Cache item.\n * @private\n */\nexports.prototype.loadItemFeatures_ = function(item) {\n\n  // If a previous request is still running, cancel it.\n  if (item.requestDeferred) {\n    item.requestDeferred.resolve();\n  }\n\n  const map = this.map_;\n  googAsserts.assert(map);\n\n  const view = map.getView();\n  const size = map.getSize();\n  googAsserts.assert(size);\n\n  const extent = view.calculateExtent(size);\n  const projCode = view.getProjection().getCode();\n  const featureTypes = item.wfsConfig.featureTypes.split(',');\n\n  const getFeatureOptions = {\n    srsName: projCode,\n    featureNS: item.featureNS,\n    featurePrefix: item.featurePrefix,\n    featureTypes: featureTypes,\n    outputFormat: 'GML3',\n    bbox: extent,\n    geometryName: item.geometryName,\n    maxFeatures: item.maxFeatures\n  };\n\n  const wfsFormat = new olFormatWFS();\n  const xmlSerializer = new XMLSerializer();\n  const featureRequestXml = wfsFormat.writeGetFeature(getFeatureOptions);\n  const featureRequest = xmlSerializer.serializeToString(featureRequestXml);\n  const url = item.wfsConfig.url;\n\n  item.requestDeferred = this.q_.defer();\n\n  this.http_.post(url, featureRequest, {timeout: item.requestDeferred.promise})\n    .then((response) => {\n      // (1) Unset requestDeferred\n      item.requestDeferred = null;\n\n      // (2) Clear any previous features in the item\n      item.features.clear();\n\n      // (3) Read features from request response and add them to the item\n      const readFeatures = new olFormatWFS().readFeatures(response.data);\n      if (readFeatures) {\n        item.features.extend(readFeatures);\n      }\n    });\n\n};\n\n\n/**\n * Called when the map view changes. Load all active cache items after a small\n * delay. Cancel any currently delayed call, if required.\n * @private\n */\nexports.prototype.handleMapMoveEnd_ = function() {\n  if (this.mapViewChangePromise_) {\n    this.timeout_.cancel(this.mapViewChangePromise_);\n  }\n  this.mapViewChangePromise_ = this.timeout_(\n    this.loadAllItems_.bind(this),\n    400\n  );\n};\n\n\n/**\n * @typedef {Object<number, gmf.editing.Snapping.CacheItem>}\n */\nexports.Cache;\n\n\n/**\n * @typedef {{\n *     active: (boolean),\n *     featureNS: (string),\n *     featurePrefix: (string),\n *     features: (ol.Collection.<ol.Feature>),\n *     geometryName: (string),\n *     interaction: (?ol.interaction.Snap),\n *     maxFeatures: (number),\n *     requestDeferred: (?angular.$q.Deferred),\n *     snappingConfig: (gmfThemes.GmfSnappingConfig),\n *     stateWatcherUnregister: (Function),\n *     treeCtrl: (ngeo.layertree.Controller),\n *     wfsConfig: (gmf.editing.Snapping.WFSConfig)\n * }}\n */\nexports.CacheItem;\n\n\n/**\n * @typedef {{\n *     featureTypes: (string),\n *     url: (string)\n * }}\n */\nexports.WFSConfig;\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfSnapping', [\n  gmfThemeThemes.module.name,\n  ngeoLayertreeController.module.name,\n]);\nexports.module.service('gmfSnapping', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/editing/Snapping.js","/**\n * @module gmf.map.component\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfPermalinkPermalink from 'gmf/permalink/Permalink.js';\nimport gmfEditingSnapping from 'gmf/editing/Snapping.js';\nimport ngeoMapComponent from 'ngeo/map/component.js';\nimport ngeoMapFeatureOverlayMgr from 'ngeo/map/FeatureOverlayMgr.js';\nimport olMap from 'ol/Map.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('gmfMapComponent', [\n  gmfPermalinkPermalink.module.name,\n  gmfEditingSnapping.module.name,\n  ngeoMapComponent.name,\n  ngeoMapFeatureOverlayMgr.module.name,\n]);\n\n\n/**\n * A \"map\" directive for a GeoMapFish application.\n *\n * Example:\n *\n *      <gmf-map gmf-map-map=\"mainCtrl.map\"></gmf-map>\n *\n * @htmlAttribute {ol.Map} gmf-map-map The map.\n * @htmlAttribute {boolean|undefined} gmf-map-manage-resize Whether to update\n *     the size of the map on browser window resize.\n * @htmlAttribute {boolean|undefined} gmf-map-resize-transition The duration\n *     (milliseconds) of the animation that may occur on the div containing\n *     the map. Used to smoothly resize the map while the animation is in\n *     progress.\n * @return {angular.Directive} The Directive Definition Object.\n * @ngInject\n * @ngdoc directive\n * @ngname gmfMap\n */\nexports.directive_ = function() {\n  return {\n    scope: {\n      'map': '<gmfMapMap',\n      'manageResize': '<gmfMapManageResize',\n      'resizeTransition': '<gmfMapResizeTransition'\n    },\n    controller: 'GmfMapController as ctrl',\n    bindToController: true,\n    templateUrl: `${gmfBase.baseModuleTemplateUrl}/map/component.html`\n  };\n};\n\nexports.directive('gmfMap', exports.directive_);\n\n\n/**\n * @param {!ngeo.map.FeatureOverlayMgr} ngeoFeatureOverlayMgr The ngeo feature\n * @param {!gmf.permalink.Permalink} gmfPermalink The gmf permalink service.\n * @param {!gmf.editing.Snapping} gmfSnapping The gmf snapping service.\n * @constructor\n * @private\n * @ngInject\n * @ngdoc controller\n * @ngname GmfMapController\n */\nexports.Controller_ = function(ngeoFeatureOverlayMgr, gmfPermalink, gmfSnapping) {\n\n  // Scope properties\n\n  /**\n   * @type {!ol.Map}\n   * @export\n   */\n  this.map;\n\n  /**\n   * @type {boolean|undefined}\n   * @export\n   */\n  this.manageResize;\n\n  /**\n   * @type {boolean|undefined}\n   * @export\n   */\n  this.resizeTransition;\n\n\n  // Injected properties\n\n  /**\n   * @type {!ngeo.map.FeatureOverlayMgr}\n   * @private\n   */\n  this.ngeoFeatureOverlayMgr_ = ngeoFeatureOverlayMgr;\n\n  /**\n   * @type {!gmf.permalink.Permalink}\n   * @private\n   */\n  this.gmfPermalink_ = gmfPermalink;\n\n  /**\n   * @type {!gmf.editing.Snapping}\n   * @private\n   */\n  this.gmfSnapping_ = gmfSnapping;\n};\n\n\n/**\n * Called on initialization of the controller.\n */\nexports.Controller_.prototype.$onInit = function() {\n  this.ngeoFeatureOverlayMgr_.init(this.map);\n  this.gmfPermalink_.setMap(this.map);\n  this.gmfSnapping_.setMap(this.map);\n};\n\n\nexports.controller('GmfMapController', exports.Controller_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/map/component.js","/**\n * @module ngeo.Popover\n */\nimport * as olBase from 'ol/index.js';\nimport olOverlay from 'ol/Overlay.js';\n\n/**\n * @classdesc\n * An openlayers overlay that uses bootstrap popover to produce a popup\n * for maps.\n *\n * @constructor\n * @extends {ol.Overlay}\n * @param {olx.OverlayOptions=} opt_options Overlay options.\n */\nconst exports = function(opt_options) {\n\n  const options = opt_options !== undefined ? opt_options : {};\n\n  let originalEl;\n  if (options.element) {\n    originalEl = options.element;\n    delete options.element;\n  } else {\n    originalEl = $('<div />')[0];\n  }\n\n  /**\n   * @type {jQuery}\n   * @private\n   */\n  this.closeEl_ = $('<button>', {\n    'class': 'close',\n    'html': '&times;'\n  });\n\n  /**\n   * @type {jQuery}\n   * @private\n   */\n  this.contentEl_ = $('<div/>')\n    .append(this.closeEl_)\n    .append(originalEl);\n\n  options.element = $('<div />')[0];\n\n  olOverlay.call(this, options);\n\n};\n\nolBase.inherits(exports, olOverlay);\n\n\n/**\n * @override\n */\nexports.prototype.setMap = function(map) {\n\n  const element = this.getElement();\n\n  const currentMap = this.getMap();\n  if (currentMap) {\n    $(element).popover('destroy');\n  }\n\n  olOverlay.prototype.setMap.call(this, map);\n\n  if (map) {\n    const contentEl = this.contentEl_;\n    // wait for the overlay to be rendered in the map before poping over\n    window.setTimeout(() => {\n      $(element)\n        .popover({\n          'content': contentEl,\n          'html': true,\n          'placement': 'top',\n          'template': [\n            '<div class=\"popover ngeo-popover\" role=\"tooltip\">',\n            '  <div class=\"arrow\"></div>',\n            '  <h3 class=\"popover-title\"></h3>',\n            '  <div class=\"popover-content\"></div>',\n            '</div>'\n          ].join('')\n        })\n        .popover('show');\n    }, 0);\n\n    this.closeEl_.one('click', () => {\n      const map = this.getMap();\n      if (map) {\n        map.removeOverlay(this);\n      }\n    });\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Popover.js","/**\n * @module ngeo.olcs.constants\n */\nconst exports = {};\n\n/**\n * @enum {string}\n * @export\n */\nexports.Permalink3dParam = {\n  /**\n   * @type {string}\n   * @export\n   */\n  ENABLED: '3d_enabled',\n  /**\n   * @type {string}\n   * @export\n   */\n  LON: '3d_lon',\n  /**\n   * @type {string}\n   * @export\n   */\n  LAT: '3d_lat',\n  /**\n   * @type {string}\n   * @export\n   */\n  ELEVATION: '3d_elevation',\n  /**\n   * @type {string}\n   * @export\n   */\n  HEADING: '3d_heading',\n  /**\n   * @type {string}\n   * @export\n   */\n  PITCH: '3d_pitch',\n  /**\n   * @type {string}\n   * @export\n   */\n  PREFIX: '3d_'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/olcs/constants.js","/**\n * @module ngeo.format.FeatureHash\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoFormatFeatureProperties from 'ngeo/format/FeatureProperties.js';\nimport ngeoFormatFeatureHashStyleType from 'ngeo/format/FeatureHashStyleType.js';\nimport ngeoUtils from 'ngeo/utils.js';\nimport * as olBase from 'ol/index.js';\nimport olFeature from 'ol/Feature.js';\nimport * as olColor from 'ol/color.js';\nimport * as olArray from 'ol/array.js';\nimport olFormatFeature from 'ol/format/Feature.js';\nimport olFormatTextFeature from 'ol/format/TextFeature.js';\nimport olGeomGeometryLayout from 'ol/geom/GeometryLayout.js';\nimport olGeomGeometryType from 'ol/geom/GeometryType.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomMultiLineString from 'ol/geom/MultiLineString.js';\nimport olGeomMultiPoint from 'ol/geom/MultiPoint.js';\nimport olGeomMultiPolygon from 'ol/geom/MultiPolygon.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olStyleCircle from 'ol/style/Circle.js';\nimport olStyleFill from 'ol/style/Fill.js';\nimport olStyleStroke from 'ol/style/Stroke.js';\nimport olStyleStyle from 'ol/style/Style.js';\nimport olStyleText from 'ol/style/Text.js';\n\n/**\n * @classdesc\n * Provide an OpenLayers format for encoding and decoding features for use\n * in permalinks.\n *\n * The code is based on Stéphane Brunner's URLCompressed format.\n *\n * TODOs:\n *\n * - The OpenLayers-URLCompressed format has options where the user\n *   can define attribute and style transformers. This is currently\n *   not supported by this format.\n * - The OpenLayers-URLCompressed format has a \"simplify\" option.\n *   This format does not have it.\n * - ol.style.Icon styles are not supported.\n * - Transformation of coordinates during encoding and decoding is\n *   not supported.\n *\n * @see https://github.com/sbrunner/OpenLayers-URLCompressed\n * @constructor\n * @struct\n * @extends {ol.format.TextFeature}\n * @param {ngeox.format.FeatureHashOptions=} opt_options Options.\n */\nconst exports = function(opt_options) {\n\n  olFormatTextFeature.call(this);\n\n  const options = opt_options !== undefined ? opt_options : {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.accuracy_ = options.accuracy !== undefined ?\n    options.accuracy : exports.ACCURACY_;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.encodeStyles_ = options.encodeStyles !== undefined ?\n    options.encodeStyles : true;\n\n  /**\n   * @type {function(ol.Feature):Object.<string, (string|number)>}\n   * @private\n   */\n  this.propertiesFunction_ = options.properties !== undefined ?\n    options.properties : exports.defaultPropertiesFunction_;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.setStyle_ = options.setStyle !== undefined ? options.setStyle : true;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.prevX_ = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.prevY_ = 0;\n\n  /**\n   * @type {Object.<string, string>}\n   * @private\n   */\n  exports.LegacyProperties_ = (options.propertiesType !== undefined) &&  options.propertiesType;\n\n};\n\nolBase.inherits(exports, olFormatTextFeature);\n\n\n/**\n * @type {Object.<ol.geom.GeometryType, ngeo.format.FeatureHashStyleType>}\n * @private\n */\nexports.StyleTypes_ = {\n  'LineString': ngeoFormatFeatureHashStyleType.LINE_STRING,\n  'Point': ngeoFormatFeatureHashStyleType.POINT,\n  'Polygon': ngeoFormatFeatureHashStyleType.POLYGON,\n  'MultiLineString': ngeoFormatFeatureHashStyleType.LINE_STRING,\n  'MultiPoint': ngeoFormatFeatureHashStyleType.POINT,\n  'MultiPolygon': ngeoFormatFeatureHashStyleType.POLYGON\n};\n\n/**\n * @type {Object.<string, string>}\n * @private\n */\nexports.LegacyProperties_ = {};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.readFeature;\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.readGeometry;\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.writeFeature;\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.writeFeatures;\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.writeGeometry;\n\n\n/**\n * Characters used to encode the coordinates. The characters \"~\", \"'\", \"(\"\n * and \")\" are not part of this character set, and used as separators (for\n * example to separate the coordinates from the feature properties).\n * @const\n * @private\n */\nexports.CHAR64_ =\n    '.-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz';\n\n\n/**\n * @const\n * @private\n */\nexports.ACCURACY_ = 0.1;\n\n\n/**\n * Get features's properties.\n * @param {ol.Feature} feature Feature.\n * @return {Object.<string, (string|number)>} The feature properties to\n * serialize.\n * @private\n */\nexports.defaultPropertiesFunction_ = function(feature) {\n  return feature.getProperties();\n};\n\n\n/**\n * Sign then encode a number.\n * @param {number} num Number.\n * @return {string} String.\n * @private\n */\nexports.encodeSignedNumber_ = function(num) {\n  let signedNum = num << 1;\n  if (num < 0) {\n    signedNum = ~(signedNum);\n  }\n  return exports.encodeNumber_(signedNum);\n};\n\n\n/**\n * Transform a number into a logical sequence of characters.\n * @param {number} num Number.\n * @return {string} String.\n * @private\n */\nexports.encodeNumber_ = function(num) {\n  let encodedNumber = '';\n  while (num >= 0x20) {\n    encodedNumber += exports.CHAR64_.charAt(\n      0x20 | (num & 0x1f));\n    num >>= 5;\n  }\n  encodedNumber += exports.CHAR64_.charAt(num);\n  return encodedNumber;\n};\n\n\n/**\n * For a type of geometry, transforms an array of {@link ol.style.Style} into\n * a logical sequence of characters and put the result into the given encoded\n * styles's array.\n * @param {Array.<ol.style.Style>} styles Styles.\n * @param {ol.geom.GeometryType} geometryType Geometry type.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @private\n */\nexports.encodeStyles_ = function(styles, geometryType, encodedStyles) {\n  const styleType = exports.StyleTypes_[geometryType];\n  googAsserts.assert(styleType !== undefined);\n  for (let i = 0; i < styles.length; ++i) {\n    const style = styles[i];\n    const fillStyle = style.getFill();\n    const imageStyle = style.getImage();\n    const strokeStyle = style.getStroke();\n    const textStyle = style.getText();\n    if (styleType == ngeoFormatFeatureHashStyleType.POLYGON) {\n      if (fillStyle !== null) {\n        exports.encodeStylePolygon_(\n          fillStyle, strokeStyle, encodedStyles);\n      }\n    } else if (styleType == ngeoFormatFeatureHashStyleType.LINE_STRING) {\n      if (strokeStyle !== null) {\n        exports.encodeStyleLine_(strokeStyle, encodedStyles);\n      }\n    } else if (styleType == ngeoFormatFeatureHashStyleType.POINT) {\n      if (imageStyle !== null) {\n        exports.encodeStylePoint_(imageStyle, encodedStyles);\n      }\n    }\n    if (textStyle !== null) {\n      exports.encodeStyleText_(textStyle, encodedStyles);\n    }\n  }\n};\n\n\n/**\n * Transform an {@link ol.style.Stroke} into a logical sequence of\n * characters and put the result into the given encoded styles's array.\n * @param {ol.style.Stroke} strokeStyle Stroke style.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @private\n */\nexports.encodeStyleLine_ = function(strokeStyle, encodedStyles) {\n  exports.encodeStyleStroke_(strokeStyle, encodedStyles);\n};\n\n\n/**\n * Transform an {@link ol.style.Circle} into a logical sequence of\n * characters and put the result into the given encoded styles's array.\n * @param {ol.style.Image} imageStyle Image style.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @private\n */\nexports.encodeStylePoint_ = function(imageStyle, encodedStyles) {\n  if (imageStyle instanceof olStyleCircle) {\n    const radius = imageStyle.getRadius();\n    if (encodedStyles.length > 0) {\n      encodedStyles.push('\\'');\n    }\n    encodedStyles.push(encodeURIComponent(`pointRadius*${radius}`));\n    const fillStyle = imageStyle.getFill();\n    if (fillStyle !== null) {\n      exports.encodeStyleFill_(fillStyle, encodedStyles);\n    }\n    const strokeStyle = imageStyle.getStroke();\n    if (strokeStyle !== null) {\n      exports.encodeStyleStroke_(strokeStyle, encodedStyles);\n    }\n  }\n};\n\n\n/**\n * Transform an {@link ol.style.Fill} and an {@link ol.style.Stroke} into\n * a logical sequence of characters and put the result into the given\n * encoded styles's array.\n * @param {ol.style.Fill} fillStyle Fill style.\n * @param {ol.style.Stroke} strokeStyle Stroke style.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @private\n */\nexports.encodeStylePolygon_ = function(fillStyle, strokeStyle, encodedStyles) {\n  exports.encodeStyleFill_(fillStyle, encodedStyles);\n  if (strokeStyle !== null) {\n    exports.encodeStyleStroke_(strokeStyle, encodedStyles);\n  }\n};\n\n\n/**\n * Transform an {@link ol.style.Fill} and optionally its properties into\n * a logical sequence of characters and put the result into the given encoded\n * styles's array.\n * @param {ol.style.Fill} fillStyle Fill style.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @param {string=} opt_propertyName Property name.\n * @private\n */\nexports.encodeStyleFill_ = function(fillStyle, encodedStyles, opt_propertyName) {\n  const propertyName = opt_propertyName !== undefined ?\n    opt_propertyName : 'fillColor';\n  const fillColor = fillStyle.getColor();\n  if (fillColor !== null) {\n    googAsserts.assert(Array.isArray(fillColor), 'only supporting fill colors');\n    const fillColorRgba = olColor.asArray(fillColor);\n    googAsserts.assert(Array.isArray(fillColorRgba), 'fill color must be an array');\n    const fillColorHex = ngeoUtils.rgbArrayToHex(fillColorRgba);\n    if (encodedStyles.length > 0) {\n      encodedStyles.push('\\'');\n    }\n    encodedStyles.push(\n      encodeURIComponent(`${propertyName}*${fillColorHex}`));\n  }\n};\n\n\n/**\n * Transform an {@link ol.style.Stroke} into a logical sequence of\n * characters and put the result into the given encoded styles's array.\n * @param {ol.style.Stroke} strokeStyle Stroke style.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @private\n */\nexports.encodeStyleStroke_ = function(strokeStyle, encodedStyles) {\n  const strokeColor = strokeStyle.getColor();\n  if (strokeColor !== null) {\n    googAsserts.assert(Array.isArray(strokeColor));\n    const strokeColorRgba = olColor.asArray(strokeColor);\n    googAsserts.assert(Array.isArray(strokeColorRgba), 'only supporting stroke colors');\n    const strokeColorHex = ngeoUtils.rgbArrayToHex(strokeColorRgba);\n    if (encodedStyles.length > 0) {\n      encodedStyles.push('\\'');\n    }\n    encodedStyles.push(encodeURIComponent(`strokeColor*${strokeColorHex}`));\n  }\n  const strokeWidth = strokeStyle.getWidth();\n  if (strokeWidth !== undefined) {\n    if (encodedStyles.length > 0) {\n      encodedStyles.push('\\'');\n    }\n    encodedStyles.push(encodeURIComponent(`strokeWidth*${strokeWidth}`));\n  }\n};\n\n\n/**\n * Transform an {@link ol.style.Text} into a logical sequence of characters and\n * put the result into the given encoded styles's array.\n * @param {ol.style.Text} textStyle Text style.\n * @param {Array.<string>} encodedStyles Encoded styles array.\n * @private\n */\nexports.encodeStyleText_ = function(textStyle, encodedStyles) {\n  const fontStyle = textStyle.getFont();\n  if (fontStyle !== undefined) {\n    const font = fontStyle.split(' ');\n    if (font.length >= 3) {\n      if (encodedStyles.length > 0) {\n        encodedStyles.push('\\'');\n      }\n      encodedStyles.push(encodeURIComponent(`fontSize*${font[1]}`));\n    }\n  }\n  const fillStyle = textStyle.getFill();\n  if (fillStyle !== null) {\n    exports.encodeStyleFill_(\n      fillStyle, encodedStyles, 'fontColor');\n  }\n};\n\n\n/**\n * Read a logical sequence of characters and return a corresponding\n * {@link ol.geom.LineString}.\n * @param {string} text Text.\n * @return {ol.geom.LineString} Line string.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.readLineStringGeometry_ = function(text) {\n  googAsserts.assert(text.substring(0, 2) === 'l(');\n  googAsserts.assert(text[text.length - 1] == ')');\n  text = text.substring(2, text.length - 1);\n  const flatCoordinates = this.decodeCoordinates_(text);\n  const lineString = new olGeomLineString(null);\n  lineString.setFlatCoordinates(olGeomGeometryLayout.XY, flatCoordinates);\n  return lineString;\n};\n\n\n/**\n * Read a logical sequence of characters and return a corresponding\n * {@link ol.geom.MultiLineString}.\n * @param {string} text Text.\n * @return {ol.geom.MultiLineString} Line string.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.readMultiLineStringGeometry_ = function(text) {\n  googAsserts.assert(text.substring(0, 2) === 'L(');\n  googAsserts.assert(text[text.length - 1] == ')');\n  text = text.substring(2, text.length - 1);\n  let flatCoordinates = [];\n  const ends = [];\n  const lineStrings = text.split('\\'');\n  for (let i = 0, ii = lineStrings.length; i < ii; ++i) {\n    flatCoordinates = this.decodeCoordinates_(lineStrings[i], flatCoordinates);\n    ends[i] = flatCoordinates.length;\n  }\n  const multiLineString = new olGeomMultiLineString(null);\n  multiLineString.setFlatCoordinates(\n    olGeomGeometryLayout.XY, flatCoordinates, ends);\n  return multiLineString;\n};\n\n\n/**\n * Read a logical sequence of characters and return a corresponding\n * {@link ol.geom.Point}.\n * @param {string} text Text.\n * @return {ol.geom.Point} Point.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.readPointGeometry_ = function(text) {\n  googAsserts.assert(text.substring(0, 2) === 'p(');\n  googAsserts.assert(text[text.length - 1] == ')');\n  text = text.substring(2, text.length - 1);\n  const flatCoordinates = this.decodeCoordinates_(text);\n  googAsserts.assert(flatCoordinates.length === 2);\n  const point = new olGeomPoint(null);\n  point.setFlatCoordinates(olGeomGeometryLayout.XY, flatCoordinates);\n  return point;\n};\n\n\n/**\n * Read a logical sequence of characters and return a corresponding\n * {@link ol.geom.MultiPoint}.\n * @param {string} text Text.\n * @return {ol.geom.MultiPoint} MultiPoint.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.readMultiPointGeometry_ = function(text) {\n  googAsserts.assert(text.substring(0, 2) === 'P(');\n  googAsserts.assert(text[text.length - 1] == ')');\n  text = text.substring(2, text.length - 1);\n  const flatCoordinates = this.decodeCoordinates_(text);\n  const multiPoint = new olGeomMultiPoint(null);\n  multiPoint.setFlatCoordinates(olGeomGeometryLayout.XY, flatCoordinates);\n  return multiPoint;\n};\n\n\n/**\n * Read a logical sequence of characters and return a corresponding\n * {@link ol.geom.Polygon}.\n * @param {string} text Text.\n * @return {ol.geom.Polygon} Polygon.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.readPolygonGeometry_ = function(text) {\n  googAsserts.assert(text.substring(0, 2) === 'a(');\n  googAsserts.assert(text[text.length - 1] == ')');\n  text = text.substring(2, text.length - 1);\n  let flatCoordinates = [];\n  const ends = [];\n  const rings = text.split('\\'');\n  for (let i = 0, ii = rings.length; i < ii; ++i) {\n    flatCoordinates = this.decodeCoordinates_(rings[i], flatCoordinates);\n    let end = flatCoordinates.length;\n    if (i === 0) {\n      flatCoordinates[end++] = flatCoordinates[0];\n      flatCoordinates[end++] = flatCoordinates[1];\n    } else {\n      flatCoordinates[end++] = flatCoordinates[ends[i - 1]];\n      flatCoordinates[end++] = flatCoordinates[ends[i - 1] + 1];\n    }\n    ends[i] = end;\n  }\n  const polygon = new olGeomPolygon(null);\n  polygon.setFlatCoordinates(olGeomGeometryLayout.XY, flatCoordinates, ends);\n  return polygon;\n};\n\n\n/**\n * Read a logical sequence of characters and return a corresponding\n * {@link ol.geom.MultiPolygon}.\n * @param {string} text Text.\n * @return {ol.geom.MultiPolygon} MultiPolygon.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.readMultiPolygonGeometry_ = function(text) {\n  googAsserts.assert(text.substring(0, 2) === 'A(');\n  googAsserts.assert(text[text.length - 1] == ')');\n  text = text.substring(2, text.length - 1);\n  let flatCoordinates = [];\n  const endss = [];\n  const polygons = text.split(')(');\n  for (let i = 0, ii = polygons.length; i < ii; ++i) {\n    const rings = polygons[i].split('\\'');\n    const ends = endss[i] = [];\n    for (let j = 0, jj = rings.length; j < jj; ++j) {\n      flatCoordinates = this.decodeCoordinates_(rings[j], flatCoordinates);\n      let end = flatCoordinates.length;\n      if (j === 0) {\n        flatCoordinates[end++] = flatCoordinates[0];\n        flatCoordinates[end++] = flatCoordinates[1];\n      } else {\n        flatCoordinates[end++] = flatCoordinates[ends[j - 1]];\n        flatCoordinates[end++] = flatCoordinates[ends[j - 1] + 1];\n      }\n      ends[j] = end;\n    }\n  }\n  const multipolygon = new olGeomMultiPolygon(null);\n  multipolygon.setFlatCoordinates(\n    olGeomGeometryLayout.XY, flatCoordinates, endss);\n  return multipolygon;\n};\n\n\n/**\n * DEPRECATED - Use the `ngeo.misc.FeatureHelper` instead in combination with the\n * `setStyle: false` option.\n *\n * Read a logical sequence of characters and apply the decoded style on the\n * given feature.\n * @param {string} text Text.\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.setStyleInFeature_ = function(text, feature) {\n  if (text == '') {\n    return;\n  }\n  const properties = exports.getStyleProperties_(text, feature);\n  const fillColor = properties['fillColor'];\n  const fontSize = properties['fontSize'];\n  const fontColor = properties['fontColor'];\n  const pointRadius = properties['pointRadius'];\n  const strokeColor = properties['strokeColor'];\n  const strokeWidth = properties['strokeWidth'];\n\n  let fillStyle = null;\n  if (fillColor !== undefined) {\n    fillStyle = new olStyleFill({\n      color: /** @type {Array<number>|string} */ (fillColor)\n    });\n  }\n  let strokeStyle = null;\n  if (strokeColor !== undefined && strokeWidth !== undefined) {\n    strokeStyle = new olStyleStroke({\n      color: /** @type {Array<number>|string} */ (strokeColor),\n      width: /** @type {number} */ (strokeWidth)\n    });\n  }\n  let imageStyle = null;\n  if (pointRadius !== undefined) {\n    imageStyle = new olStyleCircle({\n      radius: /** @type {number} */ (pointRadius),\n      fill: fillStyle,\n      stroke: strokeStyle\n    });\n    fillStyle = strokeStyle = null;\n  }\n  let textStyle = null;\n  if (fontSize !== undefined && fontColor !== undefined) {\n    textStyle = new olStyleText({\n      font: `${fontSize} sans-serif`,\n      fill: new olStyleFill({\n        color: /** @type {Array<number>|string} */ (fontColor)\n      })\n    });\n  }\n  const style = new olStyleStyle({\n    fill: fillStyle,\n    image: imageStyle,\n    stroke: strokeStyle,\n    text: textStyle\n  });\n  feature.setStyle(style);\n};\n\n\n/**\n * Read a logical sequence of characters and apply the decoded result as\n * style properties for the feature. Legacy keys are converted to the new ones\n * for compatibility.\n * @param {string} text Text.\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.setStyleProperties_ = function(text, feature) {\n\n  const properties = exports.getStyleProperties_(text, feature);\n  const geometry = feature.getGeometry();\n\n  // Deal with legacy properties\n  if (geometry instanceof olGeomPoint) {\n    if (properties['isLabel'] ||\n        properties[ngeoFormatFeatureProperties.IS_TEXT]) {\n      delete properties['strokeColor'];\n      delete properties['fillColor'];\n    } else {\n      delete properties['fontColor'];\n      delete properties['fontSize'];\n    }\n  } else {\n    delete properties['fontColor'];\n\n    if (geometry instanceof olGeomLineString) {\n      delete properties['fillColor'];\n      delete properties['fillOpacity'];\n    }\n  }\n\n  // Convert font size from px to pt\n  if (properties['fontSize']) {\n    let fontSize = parseFloat(properties['fontSize']);\n    if (properties['fontSize'].indexOf('px') !== -1) {\n      fontSize = Math.round(fontSize / 1.333333);\n    }\n    properties['fontSize'] = fontSize;\n  }\n\n  // Convert legacy properties\n  const clone = {};\n  for (const key in properties) {\n    const value = properties[key];\n    if (exports.LegacyProperties_[key]) {\n      clone[exports.LegacyProperties_[key]] = value;\n    } else {\n      clone[key] = value;\n    }\n  }\n\n  feature.setProperties(clone);\n};\n\n\n/**\n * Cast values in the correct type depending on the property.\n * @param {string} key Key.\n * @param {string} value Value.\n * @return {number|boolean|string} The casted value corresponding to the key.\n * @private\n */\nexports.castValue_ = function(key, value) {\n  const numProperties = [\n    ngeoFormatFeatureProperties.ANGLE,\n    ngeoFormatFeatureProperties.OPACITY,\n    ngeoFormatFeatureProperties.SIZE,\n    ngeoFormatFeatureProperties.STROKE,\n    'pointRadius',\n    'strokeWidth'\n  ];\n  const boolProperties = [\n    ngeoFormatFeatureProperties.IS_CIRCLE,\n    ngeoFormatFeatureProperties.IS_RECTANGLE,\n    ngeoFormatFeatureProperties.IS_TEXT,\n    ngeoFormatFeatureProperties.SHOW_MEASURE,\n    ngeoFormatFeatureProperties.SHOW_LABEL,\n    'isCircle',\n    'isRectangle',\n    'isLabel',\n    'showMeasure',\n    'showLabel'\n  ];\n\n  if (olArray.includes(numProperties, key)) {\n    return +value;\n  } else if (olArray.includes(boolProperties, key)) {\n    return (value === 'true') ? true : false;\n  } else {\n    return value;\n  }\n};\n\n\n/**\n * From a logical sequence of characters, create and return an object of\n * style properties for a feature. The values are cast in the correct type\n * depending on the property. Some properties are also deleted when they don't\n * match the geometry of the feature.\n * @param {string} text Text.\n * @param {ol.Feature} feature Feature.\n * @return {Object.<string, boolean|number|string>} The style properties for\n *     the feature.\n * @private\n */\nexports.getStyleProperties_ = function(text, feature) {\n  const parts = text.split('\\'');\n  const properties = {};\n\n  for (let i = 0; i < parts.length; ++i) {\n    const part = decodeURIComponent(parts[i]);\n    const keyVal = part.split('*');\n    googAsserts.assert(keyVal.length === 2);\n    const key = keyVal[0];\n    const val = keyVal[1];\n\n    properties[key] = exports.castValue_(key, val);\n  }\n\n  return properties;\n};\n\n\n/**\n * Encode a {@link ol.geom.LineString} geometry into a logical sequence of\n * characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {string} Encoded geometry.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.writeLineStringGeometry_ = function(geometry) {\n  googAsserts.assertInstanceof(geometry, olGeomLineString);\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const stride = geometry.getStride();\n  const end = flatCoordinates.length;\n  return `l(${this.encodeCoordinates_(flatCoordinates, stride, 0, end)})`;\n};\n\n\n/**\n * Encode a {@link ol.geom.MultiLineString} geometry into a logical sequence\n * of characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {string} Encoded geometry.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.writeMultiLineStringGeometry_ = function(geometry) {\n  googAsserts.assertInstanceof(geometry, olGeomMultiLineString);\n  const ends = geometry.getEnds();\n  const lineStringCount = ends.length;\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const stride = geometry.getStride();\n  let offset = 0;\n  const textArray = ['L('];\n  for (let i = 0; i < lineStringCount; ++i) {\n    const end = ends[i];\n    const text = this.encodeCoordinates_(flatCoordinates, stride, offset, end);\n    if (i !== 0) {\n      textArray.push('\\'');\n    }\n    textArray.push(text);\n    offset = end;\n  }\n  textArray.push(')');\n  return textArray.join('');\n};\n\n\n/**\n * Encode a {@link ol.geom.Point} geometry into a logical sequence of\n * characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {string} Encoded geometry.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.writePointGeometry_ = function(geometry) {\n  googAsserts.assertInstanceof(geometry, olGeomPoint);\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const stride = geometry.getStride();\n  const end = flatCoordinates.length;\n  return `p(${this.encodeCoordinates_(flatCoordinates, stride, 0, end)})`;\n};\n\n\n/**\n * Encode an {@link ol.geom.MultiPoint} geometry into a logical sequence\n * of characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {string} Encoded geometry.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.writeMultiPointGeometry_ = function(geometry) {\n  googAsserts.assertInstanceof(geometry, olGeomMultiPoint);\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const stride = geometry.getStride();\n  const end = flatCoordinates.length;\n  return `P(${this.encodeCoordinates_(flatCoordinates, stride, 0, end)})`;\n};\n\n\n/**\n * Helper to encode an {@link ol.geom.Polygon} geometry.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n * @param {number} stride Stride.\n * @param {number} offset Offset.\n * @param {Array.<number>} ends Ends.\n * @param {Array.<string>} textArray Text array.\n * @return {number} The new offset.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.encodeRings_ = function(flatCoordinates, stride, offset, ends, textArray) {\n  const linearRingCount = ends.length;\n  for (let i = 0; i < linearRingCount; ++i) {\n    // skip the \"closing\" point\n    const end = ends[i] - stride;\n    const text = this.encodeCoordinates_(flatCoordinates, stride, offset, end);\n    if (i !== 0) {\n      textArray.push('\\'');\n    }\n    textArray.push(text);\n    offset = ends[i];\n  }\n  return offset;\n};\n\n\n/**\n * Encode an {@link ol.geom.Polygon} geometry into a logical sequence\n * of characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {string} Encoded geometry.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.writePolygonGeometry_ = function(geometry) {\n  googAsserts.assertInstanceof(geometry, olGeomPolygon);\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const stride = geometry.getStride();\n  const ends = geometry.getEnds();\n  const offset = 0;\n  const textArray = ['a('];\n  exports.encodeRings_.call(this,\n    flatCoordinates, stride, offset, ends, textArray);\n  textArray.push(')');\n  return textArray.join('');\n};\n\n\n/**\n * Encode an {@link ol.geom.MultiPoligon} geometry into a logical sequence of\n * characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {string} Encoded geometry.\n * @this {ngeo.format.FeatureHash}\n * @private\n */\nexports.writeMultiPolygonGeometry_ = function(geometry) {\n  googAsserts.assertInstanceof(geometry, olGeomMultiPolygon);\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const stride = geometry.getStride();\n  const endss = geometry.getEndss();\n  const polygonCount = endss.length;\n  let offset = 0;\n  const textArray = ['A'];\n  for (let i = 0; i < polygonCount; ++i) {\n    const ends = endss[i];\n    textArray.push('(');\n    offset = exports.encodeRings_.call(this,\n      flatCoordinates, stride, offset, ends, textArray);\n    textArray.push(')');\n  }\n  return textArray.join('');\n};\n\n\n/**\n * @const\n * @private\n * @type {Object.<string, function(string):ol.geom.Geometry>}\n */\nexports.GEOMETRY_READERS_ = {\n  'P': exports.readMultiPointGeometry_,\n  'L': exports.readMultiLineStringGeometry_,\n  'A': exports.readMultiPolygonGeometry_,\n  'l': exports.readLineStringGeometry_,\n  'p': exports.readPointGeometry_,\n  'a': exports.readPolygonGeometry_\n};\n\n\n/**\n * @const\n * @private\n * @type {Object.<string, function(ol.geom.Geometry):string>}\n */\nexports.GEOMETRY_WRITERS_ = {\n  'MultiLineString': exports.writeMultiLineStringGeometry_,\n  'MultiPoint': exports.writeMultiPointGeometry_,\n  'MultiPolygon': exports.writeMultiPolygonGeometry_,\n  'LineString': exports.writeLineStringGeometry_,\n  'Point': exports.writePointGeometry_,\n  'Polygon': exports.writePolygonGeometry_\n};\n\n\n/**\n * Read a logical sequence of characters and return (or complet then return)\n * an array of numbers. The coordinates are assumed to be in\n * two dimensions and in latitude, longitude order.\n * corresponding to a geometry's coordinates.\n * @param {string} text Text.\n * @param {Array.<number>=} opt_flatCoordinates Flat coordinates array.\n * @return {Array.<number>} Flat coordinates.\n * @private\n */\nexports.prototype.decodeCoordinates_ = function(text, opt_flatCoordinates) {\n  const len = text.length;\n  let index = 0;\n  const flatCoordinates = opt_flatCoordinates !== undefined ?\n    opt_flatCoordinates : [];\n  let i = flatCoordinates.length;\n  while (index < len) {\n    let b;\n    let shift = 0;\n    let result = 0;\n    do {\n      b = exports.CHAR64_.indexOf(text.charAt(index++));\n      result |= (b & 0x1f) << shift;\n      shift += 5;\n    } while (b >= 32);\n    const dx = ((result & 1) ? ~(result >> 1) : (result >> 1));\n    this.prevX_ += dx;\n    shift = 0;\n    result = 0;\n    do {\n      b = exports.CHAR64_.indexOf(text.charAt(index++));\n      result |= (b & 0x1f) << shift;\n      shift += 5;\n    } while (b >= 32);\n    const dy = ((result & 1) ? ~(result >> 1) : (result >> 1));\n    this.prevY_ += dy;\n    flatCoordinates[i++] = this.prevX_ * this.accuracy_;\n    flatCoordinates[i++] = this.prevY_ * this.accuracy_;\n  }\n  return flatCoordinates;\n};\n\n\n/**\n * Encode an array of number (corresponding to some coordinates) into a\n * logical sequence of characters. The coordinates are assumed to be in\n * two dimensions and in latitude, longitude order.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n * @param {number} stride Stride.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @return {string} String.\n * @private\n */\nexports.prototype.encodeCoordinates_ = function(flatCoordinates, stride, offset, end) {\n  let encodedCoordinates = '';\n  for (let i = offset; i < end; i += stride) {\n    let x = flatCoordinates[i];\n    let y = flatCoordinates[i + 1];\n    x = Math.floor(x / this.accuracy_);\n    y = Math.floor(y / this.accuracy_);\n    const dx = x - this.prevX_;\n    const dy = y - this.prevY_;\n    this.prevX_ = x;\n    this.prevY_ = y;\n    encodedCoordinates += exports.encodeSignedNumber_(dx) +\n        exports.encodeSignedNumber_(dy);\n  }\n  return encodedCoordinates;\n};\n\n\n/**\n * Read a feature from a logical sequence of characters.\n * @param {string} text Text.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.Feature} Feature.\n * @protected\n * @override\n */\nexports.prototype.readFeatureFromText = function(text, opt_options) {\n  googAsserts.assert(text.length > 2);\n  googAsserts.assert(text[1] === '(');\n  googAsserts.assert(text[text.length - 1] === ')');\n  let splitIndex = text.indexOf('~');\n  const geometryText = splitIndex >= 0 ?\n    `${text.substring(0, splitIndex)})` : text;\n  const geometry = this.readGeometryFromText(geometryText, opt_options);\n  const feature = new olFeature(geometry);\n  if (splitIndex >= 0) {\n    const attributesAndStylesText = text.substring(\n      splitIndex + 1, text.length - 1);\n    splitIndex = attributesAndStylesText.indexOf('~');\n    const attributesText = splitIndex >= 0 ?\n      attributesAndStylesText.substring(0, splitIndex) :\n      attributesAndStylesText;\n    if (attributesText != '') {\n      const parts = attributesText.split('\\'');\n      for (let i = 0; i < parts.length; ++i) {\n        const part = decodeURIComponent(parts[i]);\n        const keyVal = part.split('*');\n        googAsserts.assert(keyVal.length === 2);\n        let key = keyVal[0];\n        const value = keyVal[1];\n        if (!this.setStyle_ && exports.LegacyProperties_[key]) {\n          key = exports.LegacyProperties_[key];\n        }\n        feature.set(key, exports.castValue_(key, value));\n      }\n    }\n    if (splitIndex >= 0) {\n      const stylesText = attributesAndStylesText.substring(splitIndex + 1);\n      if (this.setStyle_) {\n        exports.setStyleInFeature_(stylesText, feature);\n      } else {\n        exports.setStyleProperties_(stylesText, feature);\n      }\n    }\n  }\n  return feature;\n};\n\n\n/**\n * Read multiple features from a logical sequence of characters.\n * @param {string} text Text.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {Array.<ol.Feature>} Features.\n * @protected\n * @override\n */\nexports.prototype.readFeaturesFromText = function(text, opt_options) {\n  googAsserts.assert(text[0] === 'F');\n  /** @type {Array.<ol.Feature>} */\n  const features = [];\n  text = text.substring(1);\n  while (text.length > 0) {\n    const index = text.indexOf(')');\n    googAsserts.assert(index >= 0);\n    const feature = this.readFeatureFromText(\n      text.substring(0, index + 1), opt_options);\n    features.push(feature);\n    text = text.substring(index + 1);\n  }\n  return features;\n};\n\n\n/**\n * Read a geometry from a logical sequence of characters.\n * @param {string} text Text.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.geom.Geometry} Geometry.\n * @protected\n * @override\n */\nexports.prototype.readGeometryFromText = function(text, opt_options) {\n  const geometryReader = exports.GEOMETRY_READERS_[text[0]];\n  googAsserts.assert(geometryReader !== undefined);\n  this.prevX_ = 0;\n  this.prevY_ = 0;\n  return geometryReader.call(this, text);\n};\n\n\n/**\n * Encode a feature into a logical sequence of characters.\n * @param {ol.Feature} feature Feature.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {string} Encoded feature.\n * @protected\n * @override\n */\nexports.prototype.writeFeatureText = function(feature, opt_options) {\n  const /** @type {Array.<string>} */ encodedParts = [];\n\n  // encode geometry\n\n  let encodedGeometry = '';\n  const geometry = feature.getGeometry();\n  if (geometry) {\n    encodedGeometry = this.writeGeometryText(geometry, opt_options);\n  }\n\n  if (encodedGeometry.length > 0) {\n    // remove the final bracket\n    googAsserts.assert(encodedGeometry[encodedGeometry.length - 1] === ')');\n    encodedGeometry = encodedGeometry.substring(0, encodedGeometry.length - 1);\n    encodedParts.push(encodedGeometry);\n  }\n\n  // encode properties\n\n  const /** @type {Array.<string>} */ encodedProperties = [];\n  const propFunction = this.propertiesFunction_(feature);\n  for (const key in propFunction) {\n    const value = propFunction[key];\n    if (value !== undefined && value !== null && key !== feature.getGeometryName()) {\n      if (encodedProperties.length !== 0) {\n        encodedProperties.push('\\'');\n      }\n      const encoded = encodeURIComponent(\n        `${key.replace(/[()'*]/g, '_')}*${\n          value.toString().replace(/[()'*]/g, '_')}`);\n      encodedProperties.push(encoded);\n    }\n  }\n\n  if (encodedProperties.length > 0) {\n    encodedParts.push('~');\n    Array.prototype.push.apply(encodedParts, encodedProperties);\n  }\n\n  // encode styles\n\n  if (this.encodeStyles_) {\n    const styleFunction = feature.getStyleFunction();\n    if (styleFunction !== undefined) {\n      let styles = styleFunction.call(feature, 0);\n      if (styles !== null) {\n        const encodedStyles = [];\n        styles = Array.isArray(styles) ? styles : [styles];\n        exports.encodeStyles_(\n          styles, geometry.getType(), encodedStyles);\n        if (encodedStyles.length > 0) {\n          encodedParts.push('~');\n          Array.prototype.push.apply(encodedParts, encodedStyles);\n        }\n      }\n    }\n  }\n\n  // append the closing bracket and return the encoded feature\n\n  encodedParts.push(')');\n  return encodedParts.join('');\n};\n\n\n/**\n * Encode an array of features into a logical sequence of characters.\n * @param {Array.<ol.Feature>} features Feature.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {string} Encoded features.\n * @protected\n * @override\n */\nexports.prototype.writeFeaturesText = function(features, opt_options) {\n  const textArray = [];\n  if (features.length > 0) {\n    textArray.push('F');\n    for (let i = 0, ii = features.length; i < ii; ++i) {\n      textArray.push(this.writeFeatureText(features[i], opt_options));\n    }\n  }\n  return textArray.join('');\n};\n\n\n/**\n * Encode a geometry into a logical sequence of characters.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {string} Encoded geometry.\n * @protected\n * @override\n */\nexports.prototype.writeGeometryText = function(geometry, opt_options) {\n  const geometryWriter = exports.GEOMETRY_WRITERS_[\n    geometry.getType()];\n  googAsserts.assert(geometryWriter !== undefined);\n  const transformedGeometry = /** @type {ol.geom.Geometry} */\n      (olFormatFeature.transformWithOptions(geometry, true, opt_options));\n  this.prevX_ = 0;\n  this.prevY_ = 0;\n  return geometryWriter.call(this, transformedGeometry);\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/FeatureHash.js","/**\n * @module ngeo.format.FeatureHashStyleType\n */\n/**\n * @enum {string}\n * @export\n */\nconst exports = {\n  LINE_STRING: 'LineString',\n  POINT: 'Point',\n  POLYGON: 'Polygon'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/FeatureHashStyleType.js","/**\n * @module ngeo.statemanager.module\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoStatemanagerLocation from 'ngeo/statemanager/Location.js';\nimport ngeoStatemanagerService from 'ngeo/statemanager/Service.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoStatemanagerModule', [\n  ngeoStatemanagerLocation.module.name,\n  ngeoStatemanagerService.module.name\n]);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/statemanager/module.js","/**\n * @module ol/interaction/Snap\n */\nimport {getUid, inherits} from '../index.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {boundingExtent, createEmpty} from '../extent.js';\nimport {TRUE, FALSE} from '../functions.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport {fromCircle} from '../geom/Polygon.js';\nimport PointerInteraction from '../interaction/Pointer.js';\nimport {getValues} from '../obj.js';\nimport VectorSource from '../source/Vector.js';\nimport VectorEventType from '../source/VectorEventType.js';\nimport RBush from '../structs/RBush.js';\n\n/**\n * @classdesc\n * Handles snapping of vector features while modifying or drawing them.  The\n * features can come from a {@link ol.source.Vector} or {@link ol.Collection}\n * Any interaction object that allows the user to interact\n * with the features using the mouse can benefit from the snapping, as long\n * as it is added before.\n *\n * The snap interaction modifies map browser event `coordinate` and `pixel`\n * properties to force the snap to occur to any interaction that them.\n *\n * Example:\n *\n *     var snap = new ol.interaction.Snap({\n *       source: source\n *     });\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.SnapOptions=} opt_options Options.\n * @api\n */\nconst Snap = function(opt_options) {\n\n  PointerInteraction.call(this, {\n    handleEvent: Snap.handleEvent_,\n    handleDownEvent: TRUE,\n    handleUpEvent: Snap.handleUpEvent_\n  });\n\n  const options = opt_options ? opt_options : {};\n\n  /**\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = options.source ? options.source : null;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.vertex_ = options.vertex !== undefined ? options.vertex : true;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.edge_ = options.edge !== undefined ? options.edge : true;\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features ? options.features : null;\n\n  /**\n   * @type {Array.<ol.EventsKey>}\n   * @private\n   */\n  this.featuresListenerKeys_ = [];\n\n  /**\n   * @type {Object.<number, ol.EventsKey>}\n   * @private\n   */\n  this.featureChangeListenerKeys_ = {};\n\n  /**\n   * Extents are preserved so indexed segment can be quickly removed\n   * when its feature geometry changes\n   * @type {Object.<number, ol.Extent>}\n   * @private\n   */\n  this.indexedFeaturesExtents_ = {};\n\n  /**\n   * If a feature geometry changes while a pointer drag|move event occurs, the\n   * feature doesn't get updated right away.  It will be at the next 'pointerup'\n   * event fired.\n   * @type {Object.<number, ol.Feature>}\n   * @private\n   */\n  this.pendingFeatures_ = {};\n\n  /**\n   * Used for distance sorting in sortByDistance_\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.pixelCoordinate_ = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n    options.pixelTolerance : 10;\n\n  /**\n   * @type {function(ol.SnapSegmentDataType, ol.SnapSegmentDataType): number}\n   * @private\n   */\n  this.sortByDistance_ = Snap.sortByDistance.bind(this);\n\n\n  /**\n  * Segment RTree for each layer\n  * @type {ol.structs.RBush.<ol.SnapSegmentDataType>}\n  * @private\n  */\n  this.rBush_ = new RBush();\n\n\n  /**\n  * @const\n  * @private\n  * @type {Object.<string, function(ol.Feature, ol.geom.Geometry)>}\n  */\n  this.SEGMENT_WRITERS_ = {\n    'Point': this.writePointGeometry_,\n    'LineString': this.writeLineStringGeometry_,\n    'LinearRing': this.writeLineStringGeometry_,\n    'Polygon': this.writePolygonGeometry_,\n    'MultiPoint': this.writeMultiPointGeometry_,\n    'MultiLineString': this.writeMultiLineStringGeometry_,\n    'MultiPolygon': this.writeMultiPolygonGeometry_,\n    'GeometryCollection': this.writeGeometryCollectionGeometry_,\n    'Circle': this.writeCircleGeometry_\n  };\n};\n\ninherits(Snap, PointerInteraction);\n\n\n/**\n * Add a feature to the collection of features that we may snap to.\n * @param {ol.Feature} feature Feature.\n * @param {boolean=} opt_listen Whether to listen to the feature change or not\n *     Defaults to `true`.\n * @api\n */\nSnap.prototype.addFeature = function(feature, opt_listen) {\n  const listen = opt_listen !== undefined ? opt_listen : true;\n  const feature_uid = getUid(feature);\n  const geometry = feature.getGeometry();\n  if (geometry) {\n    const segmentWriter = this.SEGMENT_WRITERS_[geometry.getType()];\n    if (segmentWriter) {\n      this.indexedFeaturesExtents_[feature_uid] = geometry.getExtent(createEmpty());\n      segmentWriter.call(this, feature, geometry);\n    }\n  }\n\n  if (listen) {\n    this.featureChangeListenerKeys_[feature_uid] = _ol_events_.listen(\n      feature,\n      EventType.CHANGE,\n      this.handleFeatureChange_, this);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nSnap.prototype.forEachFeatureAdd_ = function(feature) {\n  this.addFeature(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nSnap.prototype.forEachFeatureRemove_ = function(feature) {\n  this.removeFeature(feature);\n};\n\n\n/**\n * @return {ol.Collection.<ol.Feature>|Array.<ol.Feature>} Features.\n * @private\n */\nSnap.prototype.getFeatures_ = function() {\n  let features;\n  if (this.features_) {\n    features = this.features_;\n  } else if (this.source_) {\n    features = this.source_.getFeatures();\n  }\n  return /** @type {!Array.<ol.Feature>|!ol.Collection.<ol.Feature>} */ (features);\n};\n\n\n/**\n * @param {ol.source.Vector.Event|ol.Collection.Event} evt Event.\n * @private\n */\nSnap.prototype.handleFeatureAdd_ = function(evt) {\n  let feature;\n  if (evt instanceof VectorSource.Event) {\n    feature = evt.feature;\n  } else if (evt instanceof Collection.Event) {\n    feature = evt.element;\n  }\n  this.addFeature(/** @type {ol.Feature} */ (feature));\n};\n\n\n/**\n * @param {ol.source.Vector.Event|ol.Collection.Event} evt Event.\n * @private\n */\nSnap.prototype.handleFeatureRemove_ = function(evt) {\n  let feature;\n  if (evt instanceof VectorSource.Event) {\n    feature = evt.feature;\n  } else if (evt instanceof Collection.Event) {\n    feature = evt.element;\n  }\n  this.removeFeature(/** @type {ol.Feature} */ (feature));\n};\n\n\n/**\n * @param {ol.events.Event} evt Event.\n * @private\n */\nSnap.prototype.handleFeatureChange_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.target);\n  if (this.handlingDownUpSequence) {\n    const uid = getUid(feature);\n    if (!(uid in this.pendingFeatures_)) {\n      this.pendingFeatures_[uid] = feature;\n    }\n  } else {\n    this.updateFeature_(feature);\n  }\n};\n\n\n/**\n * Remove a feature from the collection of features that we may snap to.\n * @param {ol.Feature} feature Feature\n * @param {boolean=} opt_unlisten Whether to unlisten to the feature change\n *     or not. Defaults to `true`.\n * @api\n */\nSnap.prototype.removeFeature = function(feature, opt_unlisten) {\n  const unlisten = opt_unlisten !== undefined ? opt_unlisten : true;\n  const feature_uid = getUid(feature);\n  const extent = this.indexedFeaturesExtents_[feature_uid];\n  if (extent) {\n    const rBush = this.rBush_;\n    const nodesToRemove = [];\n    rBush.forEachInExtent(extent, function(node) {\n      if (feature === node.feature) {\n        nodesToRemove.push(node);\n      }\n    });\n    for (let i = nodesToRemove.length - 1; i >= 0; --i) {\n      rBush.remove(nodesToRemove[i]);\n    }\n  }\n\n  if (unlisten) {\n    _ol_events_.unlistenByKey(this.featureChangeListenerKeys_[feature_uid]);\n    delete this.featureChangeListenerKeys_[feature_uid];\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nSnap.prototype.setMap = function(map) {\n  const currentMap = this.getMap();\n  const keys = this.featuresListenerKeys_;\n  const features = this.getFeatures_();\n\n  if (currentMap) {\n    keys.forEach(_ol_events_.unlistenByKey);\n    keys.length = 0;\n    features.forEach(this.forEachFeatureRemove_.bind(this));\n  }\n  PointerInteraction.prototype.setMap.call(this, map);\n\n  if (map) {\n    if (this.features_) {\n      keys.push(\n        _ol_events_.listen(this.features_, CollectionEventType.ADD,\n          this.handleFeatureAdd_, this),\n        _ol_events_.listen(this.features_, CollectionEventType.REMOVE,\n          this.handleFeatureRemove_, this)\n      );\n    } else if (this.source_) {\n      keys.push(\n        _ol_events_.listen(this.source_, VectorEventType.ADDFEATURE,\n          this.handleFeatureAdd_, this),\n        _ol_events_.listen(this.source_, VectorEventType.REMOVEFEATURE,\n          this.handleFeatureRemove_, this)\n      );\n    }\n    features.forEach(this.forEachFeatureAdd_.bind(this));\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nSnap.prototype.shouldStopEvent = FALSE;\n\n\n/**\n * @param {ol.Pixel} pixel Pixel\n * @param {ol.Coordinate} pixelCoordinate Coordinate\n * @param {ol.PluggableMap} map Map.\n * @return {ol.SnapResultType} Snap result\n */\nSnap.prototype.snapTo = function(pixel, pixelCoordinate, map) {\n\n  const lowerLeft = map.getCoordinateFromPixel(\n    [pixel[0] - this.pixelTolerance_, pixel[1] + this.pixelTolerance_]);\n  const upperRight = map.getCoordinateFromPixel(\n    [pixel[0] + this.pixelTolerance_, pixel[1] - this.pixelTolerance_]);\n  const box = boundingExtent([lowerLeft, upperRight]);\n\n  let segments = this.rBush_.getInExtent(box);\n\n  // If snapping on vertices only, don't consider circles\n  if (this.vertex_ && !this.edge_) {\n    segments = segments.filter(function(segment) {\n      return segment.feature.getGeometry().getType() !==\n          GeometryType.CIRCLE;\n    });\n  }\n\n  let snappedToVertex = false;\n  let snapped = false;\n  let vertex = null;\n  let vertexPixel = null;\n  let dist, pixel1, pixel2, squaredDist1, squaredDist2;\n  if (segments.length > 0) {\n    this.pixelCoordinate_ = pixelCoordinate;\n    segments.sort(this.sortByDistance_);\n    const closestSegment = segments[0].segment;\n    const isCircle = segments[0].feature.getGeometry().getType() ===\n        GeometryType.CIRCLE;\n    if (this.vertex_ && !this.edge_) {\n      pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n      pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n      squaredDist1 = _ol_coordinate_.squaredDistance(pixel, pixel1);\n      squaredDist2 = _ol_coordinate_.squaredDistance(pixel, pixel2);\n      dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n      snappedToVertex = dist <= this.pixelTolerance_;\n      if (snappedToVertex) {\n        snapped = true;\n        vertex = squaredDist1 > squaredDist2 ?\n          closestSegment[1] : closestSegment[0];\n        vertexPixel = map.getPixelFromCoordinate(vertex);\n      }\n    } else if (this.edge_) {\n      if (isCircle) {\n        vertex = _ol_coordinate_.closestOnCircle(pixelCoordinate,\n          /** @type {ol.geom.Circle} */ (segments[0].feature.getGeometry()));\n      } else {\n        vertex = (_ol_coordinate_.closestOnSegment(pixelCoordinate,\n          closestSegment));\n      }\n      vertexPixel = map.getPixelFromCoordinate(vertex);\n      if (_ol_coordinate_.distance(pixel, vertexPixel) <= this.pixelTolerance_) {\n        snapped = true;\n        if (this.vertex_ && !isCircle) {\n          pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n          pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n          squaredDist1 = _ol_coordinate_.squaredDistance(vertexPixel, pixel1);\n          squaredDist2 = _ol_coordinate_.squaredDistance(vertexPixel, pixel2);\n          dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n          snappedToVertex = dist <= this.pixelTolerance_;\n          if (snappedToVertex) {\n            vertex = squaredDist1 > squaredDist2 ?\n              closestSegment[1] : closestSegment[0];\n            vertexPixel = map.getPixelFromCoordinate(vertex);\n          }\n        }\n      }\n    }\n    if (snapped) {\n      vertexPixel = [Math.round(vertexPixel[0]), Math.round(vertexPixel[1])];\n    }\n  }\n  return /** @type {ol.SnapResultType} */ ({\n    snapped: snapped,\n    vertex: vertex,\n    vertexPixel: vertexPixel\n  });\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @private\n */\nSnap.prototype.updateFeature_ = function(feature) {\n  this.removeFeature(feature, false);\n  this.addFeature(feature, false);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Circle} geometry Geometry.\n * @private\n */\nSnap.prototype.writeCircleGeometry_ = function(feature, geometry) {\n  const polygon = fromCircle(geometry);\n  const coordinates = polygon.getCoordinates()[0];\n  for (let i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n    const segment = coordinates.slice(i, i + 2);\n    const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n      feature: feature,\n      segment: segment\n    });\n    this.rBush_.insert(boundingExtent(segment), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.GeometryCollection} geometry Geometry.\n * @private\n */\nSnap.prototype.writeGeometryCollectionGeometry_ = function(feature, geometry) {\n  const geometries = geometry.getGeometriesArray();\n  for (let i = 0; i < geometries.length; ++i) {\n    const segmentWriter = this.SEGMENT_WRITERS_[geometries[i].getType()];\n    if (segmentWriter) {\n      segmentWriter.call(this, feature, geometries[i]);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.LineString} geometry Geometry.\n * @private\n */\nSnap.prototype.writeLineStringGeometry_ = function(feature, geometry) {\n  const coordinates = geometry.getCoordinates();\n  for (let i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n    const segment = coordinates.slice(i, i + 2);\n    const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n      feature: feature,\n      segment: segment\n    });\n    this.rBush_.insert(boundingExtent(segment), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiLineString} geometry Geometry.\n * @private\n */\nSnap.prototype.writeMultiLineStringGeometry_ = function(feature, geometry) {\n  const lines = geometry.getCoordinates();\n  for (let j = 0, jj = lines.length; j < jj; ++j) {\n    const coordinates = lines[j];\n    for (let i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      const segment = coordinates.slice(i, i + 2);\n      const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n        feature: feature,\n        segment: segment\n      });\n      this.rBush_.insert(boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPoint} geometry Geometry.\n * @private\n */\nSnap.prototype.writeMultiPointGeometry_ = function(feature, geometry) {\n  const points = geometry.getCoordinates();\n  for (let i = 0, ii = points.length; i < ii; ++i) {\n    const coordinates = points[i];\n    const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n      feature: feature,\n      segment: [coordinates, coordinates]\n    });\n    this.rBush_.insert(geometry.getExtent(), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPolygon} geometry Geometry.\n * @private\n */\nSnap.prototype.writeMultiPolygonGeometry_ = function(feature, geometry) {\n  const polygons = geometry.getCoordinates();\n  for (let k = 0, kk = polygons.length; k < kk; ++k) {\n    const rings = polygons[k];\n    for (let j = 0, jj = rings.length; j < jj; ++j) {\n      const coordinates = rings[j];\n      for (let i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        const segment = coordinates.slice(i, i + 2);\n        const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Point} geometry Geometry.\n * @private\n */\nSnap.prototype.writePointGeometry_ = function(feature, geometry) {\n  const coordinates = geometry.getCoordinates();\n  const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n    feature: feature,\n    segment: [coordinates, coordinates]\n  });\n  this.rBush_.insert(geometry.getExtent(), segmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Polygon} geometry Geometry.\n * @private\n */\nSnap.prototype.writePolygonGeometry_ = function(feature, geometry) {\n  const rings = geometry.getCoordinates();\n  for (let j = 0, jj = rings.length; j < jj; ++j) {\n    const coordinates = rings[j];\n    for (let i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      const segment = coordinates.slice(i, i + 2);\n      const segmentData = /** @type {ol.SnapSegmentDataType} */ ({\n        feature: feature,\n        segment: segment\n      });\n      this.rBush_.insert(boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * Handle all pointer events events.\n * @param {ol.MapBrowserEvent} evt A move event.\n * @return {boolean} Pass the event to other interactions.\n * @this {ol.interaction.Snap}\n * @private\n */\nSnap.handleEvent_ = function(evt) {\n  const result = this.snapTo(evt.pixel, evt.coordinate, evt.map);\n  if (result.snapped) {\n    evt.coordinate = result.vertex.slice(0, 2);\n    evt.pixel = result.vertexPixel;\n  }\n  return PointerInteraction.handleEvent.call(this, evt);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Snap}\n * @private\n */\nSnap.handleUpEvent_ = function(evt) {\n  const featuresToUpdate = getValues(this.pendingFeatures_);\n  if (featuresToUpdate.length) {\n    featuresToUpdate.forEach(this.updateFeature_.bind(this));\n    this.pendingFeatures_ = {};\n  }\n  return false;\n};\n\n\n/**\n * Sort segments by distance, helper function\n * @param {ol.SnapSegmentDataType} a The first segment data.\n * @param {ol.SnapSegmentDataType} b The second segment data.\n * @return {number} The difference in distance.\n * @this {ol.interaction.Snap}\n */\nSnap.sortByDistance = function(a, b) {\n  return _ol_coordinate_.squaredDistanceToSegment(\n    this.pixelCoordinate_, a.segment) -\n      _ol_coordinate_.squaredDistanceToSegment(\n        this.pixelCoordinate_, b.segment);\n};\nexport default Snap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/Snap.js\n// module id = 129\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21","/**\n * @module ol/interaction/DrawEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered upon feature draw start\n   * @event ol.interaction.Draw.Event#drawstart\n   * @api\n   */\n  DRAWSTART: 'drawstart',\n  /**\n   * Triggered upon feature draw end\n   * @event ol.interaction.Draw.Event#drawend\n   * @api\n   */\n  DRAWEND: 'drawend'\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/DrawEventType.js\n// module id = null\n// module chunks = ","/**\n * @module ol/interaction/Draw\n */\nimport {inherits} from '../index.js';\nimport EventType from '../events/EventType.js';\nimport Feature from '../Feature.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport MapBrowserPointerEvent from '../MapBrowserPointerEvent.js';\nimport BaseObject from '../Object.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport Event from '../events/Event.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport {boundingExtent, getBottomLeft, getBottomRight, getTopLeft, getTopRight} from '../extent.js';\nimport {TRUE, FALSE} from '../functions.js';\nimport Circle from '../geom/Circle.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport MouseSource from '../pointer/MouseSource.js';\nimport Point from '../geom/Point.js';\nimport Polygon, {fromCircle, makeRegular} from '../geom/Polygon.js';\nimport DrawEventType from '../interaction/DrawEventType.js';\nimport PointerInteraction from '../interaction/Pointer.js';\nimport InteractionProperty from '../interaction/Property.js';\nimport VectorLayer from '../layer/Vector.js';\nimport VectorSource from '../source/Vector.js';\nimport Style from '../style/Style.js';\n\n/**\n * @classdesc\n * Interaction for drawing feature geometries.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @fires ol.interaction.Draw.Event\n * @param {olx.interaction.DrawOptions} options Options.\n * @api\n */\nconst Draw = function(options) {\n\n  PointerInteraction.call(this, {\n    handleDownEvent: Draw.handleDownEvent_,\n    handleEvent: Draw.handleEvent,\n    handleUpEvent: Draw.handleUpEvent_\n  });\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.shouldHandle_ = false;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.downPx_ = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.downTimeout_;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.lastDragTime_;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.freehand_ = false;\n\n  /**\n   * Target source for drawn features.\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = options.source ? options.source : null;\n\n  /**\n   * Target collection for drawn features.\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features ? options.features : null;\n\n  /**\n   * Pixel distance for snapping.\n   * @type {number}\n   * @private\n   */\n  this.snapTolerance_ = options.snapTolerance ? options.snapTolerance : 12;\n\n  /**\n   * Geometry type.\n   * @type {ol.geom.GeometryType}\n   * @private\n   */\n  this.type_ = /** @type {ol.geom.GeometryType} */ (options.type);\n\n  /**\n   * Drawing mode (derived from geometry type.\n   * @type {ol.interaction.Draw.Mode_}\n   * @private\n   */\n  this.mode_ = Draw.getMode_(this.type_);\n\n  /**\n   * Stop click, singleclick, and doubleclick events from firing during drawing.\n   * Default is `false`.\n   * @type {boolean}\n   * @private\n   */\n  this.stopClick_ = !!options.stopClick;\n\n  /**\n   * The number of points that must be drawn before a polygon ring or line\n   * string can be finished.  The default is 3 for polygon rings and 2 for\n   * line strings.\n   * @type {number}\n   * @private\n   */\n  this.minPoints_ = options.minPoints ?\n    options.minPoints :\n    (this.mode_ === Draw.Mode_.POLYGON ? 3 : 2);\n\n  /**\n   * The number of points that can be drawn before a polygon ring or line string\n   * is finished. The default is no restriction.\n   * @type {number}\n   * @private\n   */\n  this.maxPoints_ = options.maxPoints ? options.maxPoints : Infinity;\n\n  /**\n   * A function to decide if a potential finish coordinate is permissible\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.finishCondition_ = options.finishCondition ? options.finishCondition : TRUE;\n\n  let geometryFunction = options.geometryFunction;\n  if (!geometryFunction) {\n    if (this.type_ === GeometryType.CIRCLE) {\n      /**\n       * @param {!Array.<ol.Coordinate>} coordinates\n       *     The coordinates.\n       * @param {ol.geom.SimpleGeometry=} opt_geometry Optional geometry.\n       * @return {ol.geom.SimpleGeometry} A geometry.\n       */\n      geometryFunction = function(coordinates, opt_geometry) {\n        const circle = opt_geometry ? /** @type {ol.geom.Circle} */ (opt_geometry) :\n          new Circle([NaN, NaN]);\n        const squaredLength = _ol_coordinate_.squaredDistance(\n          coordinates[0], coordinates[1]);\n        circle.setCenterAndRadius(coordinates[0], Math.sqrt(squaredLength));\n        return circle;\n      };\n    } else {\n      let Constructor;\n      const mode = this.mode_;\n      if (mode === Draw.Mode_.POINT) {\n        Constructor = Point;\n      } else if (mode === Draw.Mode_.LINE_STRING) {\n        Constructor = LineString;\n      } else if (mode === Draw.Mode_.POLYGON) {\n        Constructor = Polygon;\n      }\n      /**\n       * @param {!Array.<ol.Coordinate>} coordinates\n       *     The coordinates.\n       * @param {ol.geom.SimpleGeometry=} opt_geometry Optional geometry.\n       * @return {ol.geom.SimpleGeometry} A geometry.\n       */\n      geometryFunction = function(coordinates, opt_geometry) {\n        let geometry = opt_geometry;\n        if (geometry) {\n          if (mode === Draw.Mode_.POLYGON) {\n            if (coordinates[0].length) {\n              // Add a closing coordinate to match the first\n              geometry.setCoordinates([coordinates[0].concat([coordinates[0][0]])]);\n            } else {\n              geometry.setCoordinates([]);\n            }\n          } else {\n            geometry.setCoordinates(coordinates);\n          }\n        } else {\n          geometry = new Constructor(coordinates);\n        }\n        return geometry;\n      };\n    }\n  }\n\n  /**\n   * @type {ol.DrawGeometryFunctionType}\n   * @private\n   */\n  this.geometryFunction_ = geometryFunction;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.dragVertexDelay_ = options.dragVertexDelay !== undefined ? options.dragVertexDelay : 500;\n\n  /**\n   * Finish coordinate for the feature (first point for polygons, last point for\n   * linestrings).\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.finishCoordinate_ = null;\n\n  /**\n   * Sketch feature.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchFeature_ = null;\n\n  /**\n   * Sketch point.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchPoint_ = null;\n\n  /**\n   * Sketch coordinates. Used when drawing a line or polygon.\n   * @type {ol.Coordinate|Array.<ol.Coordinate>|Array.<Array.<ol.Coordinate>>}\n   * @private\n   */\n  this.sketchCoords_ = null;\n\n  /**\n   * Sketch line. Used when drawing polygon.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchLine_ = null;\n\n  /**\n   * Sketch line coordinates. Used when drawing a polygon or circle.\n   * @type {Array.<ol.Coordinate>}\n   * @private\n   */\n  this.sketchLineCoords_ = null;\n\n  /**\n   * Squared tolerance for handling up events.  If the squared distance\n   * between a down and up event is greater than this tolerance, up events\n   * will not be handled.\n   * @type {number}\n   * @private\n   */\n  this.squaredClickTolerance_ = options.clickTolerance ?\n    options.clickTolerance * options.clickTolerance : 36;\n\n  /**\n   * Draw overlay where our sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new VectorLayer({\n    source: new VectorSource({\n      useSpatialIndex: false,\n      wrapX: options.wrapX ? options.wrapX : false\n    }),\n    style: options.style ? options.style :\n      Draw.getDefaultStyleFunction(),\n    updateWhileInteracting: true\n  });\n\n  /**\n   * Name of the geometry attribute for newly created features.\n   * @type {string|undefined}\n   * @private\n   */\n  this.geometryName_ = options.geometryName;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.noModifierKeys;\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.freehandCondition_;\n  if (options.freehand) {\n    this.freehandCondition_ = _ol_events_condition_.always;\n  } else {\n    this.freehandCondition_ = options.freehandCondition ?\n      options.freehandCondition : _ol_events_condition_.shiftKeyOnly;\n  }\n\n  _ol_events_.listen(this,\n    BaseObject.getChangeEventType(InteractionProperty.ACTIVE),\n    this.updateState_, this);\n\n};\n\ninherits(Draw, PointerInteraction);\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\nDraw.getDefaultStyleFunction = function() {\n  const styles = Style.createDefaultEditing();\n  return function(feature, resolution) {\n    return styles[feature.getGeometry().getType()];\n  };\n};\n\n\n/**\n * @inheritDoc\n */\nDraw.prototype.setMap = function(map) {\n  PointerInteraction.prototype.setMap.call(this, map);\n  this.updateState_();\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may actually\n * draw or finish the drawing.\n * @param {ol.MapBrowserEvent} event Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Draw}\n * @api\n */\nDraw.handleEvent = function(event) {\n  if (event.originalEvent.type === EventType.CONTEXTMENU) {\n    // Avoid context menu for long taps when drawing on mobile\n    event.preventDefault();\n  }\n  this.freehand_ = this.mode_ !== Draw.Mode_.POINT && this.freehandCondition_(event);\n  let move = event.type === MapBrowserEventType.POINTERMOVE;\n  let pass = true;\n  if (this.lastDragTime_ && event.type === MapBrowserEventType.POINTERDRAG) {\n    const now = Date.now();\n    if (now - this.lastDragTime_ >= this.dragVertexDelay_) {\n      this.downPx_ = event.pixel;\n      this.shouldHandle_ = !this.freehand_;\n      move = true;\n    } else {\n      this.lastDragTime_ = undefined;\n    }\n    if (this.shouldHandle_ && this.downTimeout_) {\n      clearTimeout(this.downTimeout_);\n      this.downTimeout_ = undefined;\n    }\n  }\n  if (this.freehand_ &&\n      event.type === MapBrowserEventType.POINTERDRAG &&\n      this.sketchFeature_ !== null) {\n    this.addToDrawing_(event);\n    pass = false;\n  } else if (this.freehand_ &&\n      event.type === MapBrowserEventType.POINTERDOWN) {\n    pass = false;\n  } else if (move) {\n    pass = event.type === MapBrowserEventType.POINTERMOVE;\n    if (pass && this.freehand_) {\n      pass = this.handlePointerMove_(event);\n    } else if (event.pointerEvent.pointerType == MouseSource.POINTER_TYPE ||\n        (event.type === MapBrowserEventType.POINTERDRAG && !this.downTimeout_)) {\n      this.handlePointerMove_(event);\n    }\n  } else if (event.type === MapBrowserEventType.DBLCLICK) {\n    pass = false;\n  }\n\n  return PointerInteraction.handleEvent.call(this, event) && pass;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Draw}\n * @private\n */\nDraw.handleDownEvent_ = function(event) {\n  this.shouldHandle_ = !this.freehand_;\n\n  if (this.freehand_) {\n    this.downPx_ = event.pixel;\n    if (!this.finishCoordinate_) {\n      this.startDrawing_(event);\n    }\n    return true;\n  } else if (this.condition_(event)) {\n    this.lastDragTime_ = Date.now();\n    this.downTimeout_ = setTimeout(function() {\n      this.handlePointerMove_(new MapBrowserPointerEvent(\n        MapBrowserEventType.POINTERMOVE, event.map, event.pointerEvent, event.frameState));\n    }.bind(this), this.dragVertexDelay_);\n    this.downPx_ = event.pixel;\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Draw}\n * @private\n */\nDraw.handleUpEvent_ = function(event) {\n  let pass = true;\n\n  if (this.downTimeout_) {\n    clearTimeout(this.downTimeout_);\n    this.downTimeout_ = undefined;\n  }\n\n  this.handlePointerMove_(event);\n\n  const circleMode = this.mode_ === Draw.Mode_.CIRCLE;\n\n  if (this.shouldHandle_) {\n    if (!this.finishCoordinate_) {\n      this.startDrawing_(event);\n      if (this.mode_ === Draw.Mode_.POINT) {\n        this.finishDrawing();\n      }\n    } else if (this.freehand_ || circleMode) {\n      this.finishDrawing();\n    } else if (this.atFinish_(event)) {\n      if (this.finishCondition_(event)) {\n        this.finishDrawing();\n      }\n    } else {\n      this.addToDrawing_(event);\n    }\n    pass = false;\n  } else if (this.freehand_) {\n    this.finishCoordinate_ = null;\n    this.abortDrawing_();\n  }\n  if (!pass && this.stopClick_) {\n    event.stopPropagation();\n  }\n  return pass;\n};\n\n\n/**\n * Handle move events.\n * @param {ol.MapBrowserEvent} event A move event.\n * @return {boolean} Pass the event to other interactions.\n * @private\n */\nDraw.prototype.handlePointerMove_ = function(event) {\n  if (this.downPx_ &&\n      ((!this.freehand_ && this.shouldHandle_) ||\n      (this.freehand_ && !this.shouldHandle_))) {\n    const downPx = this.downPx_;\n    const clickPx = event.pixel;\n    const dx = downPx[0] - clickPx[0];\n    const dy = downPx[1] - clickPx[1];\n    const squaredDistance = dx * dx + dy * dy;\n    this.shouldHandle_ = this.freehand_ ?\n      squaredDistance > this.squaredClickTolerance_ :\n      squaredDistance <= this.squaredClickTolerance_;\n    if (!this.shouldHandle_) {\n      return true;\n    }\n  }\n\n  if (this.finishCoordinate_) {\n    this.modifyDrawing_(event);\n  } else {\n    this.createOrUpdateSketchPoint_(event);\n  }\n  return true;\n};\n\n\n/**\n * Determine if an event is within the snapping tolerance of the start coord.\n * @param {ol.MapBrowserEvent} event Event.\n * @return {boolean} The event is within the snapping tolerance of the start.\n * @private\n */\nDraw.prototype.atFinish_ = function(event) {\n  let at = false;\n  if (this.sketchFeature_) {\n    let potentiallyDone = false;\n    let potentiallyFinishCoordinates = [this.finishCoordinate_];\n    if (this.mode_ === Draw.Mode_.LINE_STRING) {\n      potentiallyDone = this.sketchCoords_.length > this.minPoints_;\n    } else if (this.mode_ === Draw.Mode_.POLYGON) {\n      potentiallyDone = this.sketchCoords_[0].length >\n          this.minPoints_;\n      potentiallyFinishCoordinates = [this.sketchCoords_[0][0],\n        this.sketchCoords_[0][this.sketchCoords_[0].length - 2]];\n    }\n    if (potentiallyDone) {\n      const map = event.map;\n      for (let i = 0, ii = potentiallyFinishCoordinates.length; i < ii; i++) {\n        const finishCoordinate = potentiallyFinishCoordinates[i];\n        const finishPixel = map.getPixelFromCoordinate(finishCoordinate);\n        const pixel = event.pixel;\n        const dx = pixel[0] - finishPixel[0];\n        const dy = pixel[1] - finishPixel[1];\n        const snapTolerance = this.freehand_ ? 1 : this.snapTolerance_;\n        at = Math.sqrt(dx * dx + dy * dy) <= snapTolerance;\n        if (at) {\n          this.finishCoordinate_ = finishCoordinate;\n          break;\n        }\n      }\n    }\n  }\n  return at;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nDraw.prototype.createOrUpdateSketchPoint_ = function(event) {\n  const coordinates = event.coordinate.slice();\n  if (!this.sketchPoint_) {\n    this.sketchPoint_ = new Feature(new Point(coordinates));\n    this.updateSketchFeatures_();\n  } else {\n    const sketchPointGeom = /** @type {ol.geom.Point} */ (this.sketchPoint_.getGeometry());\n    sketchPointGeom.setCoordinates(coordinates);\n  }\n};\n\n\n/**\n * Start the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nDraw.prototype.startDrawing_ = function(event) {\n  const start = event.coordinate;\n  this.finishCoordinate_ = start;\n  if (this.mode_ === Draw.Mode_.POINT) {\n    this.sketchCoords_ = start.slice();\n  } else if (this.mode_ === Draw.Mode_.POLYGON) {\n    this.sketchCoords_ = [[start.slice(), start.slice()]];\n    this.sketchLineCoords_ = this.sketchCoords_[0];\n  } else {\n    this.sketchCoords_ = [start.slice(), start.slice()];\n  }\n  if (this.sketchLineCoords_) {\n    this.sketchLine_ = new Feature(\n      new LineString(this.sketchLineCoords_));\n  }\n  const geometry = this.geometryFunction_(this.sketchCoords_);\n  this.sketchFeature_ = new Feature();\n  if (this.geometryName_) {\n    this.sketchFeature_.setGeometryName(this.geometryName_);\n  }\n  this.sketchFeature_.setGeometry(geometry);\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new Draw.Event(DrawEventType.DRAWSTART, this.sketchFeature_));\n};\n\n\n/**\n * Modify the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nDraw.prototype.modifyDrawing_ = function(event) {\n  let coordinate = event.coordinate;\n  const geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  let coordinates, last;\n  if (this.mode_ === Draw.Mode_.POINT) {\n    last = this.sketchCoords_;\n  } else if (this.mode_ === Draw.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    last = coordinates[coordinates.length - 1];\n    if (this.atFinish_(event)) {\n      // snap to finish\n      coordinate = this.finishCoordinate_.slice();\n    }\n  } else {\n    coordinates = this.sketchCoords_;\n    last = coordinates[coordinates.length - 1];\n  }\n  last[0] = coordinate[0];\n  last[1] = coordinate[1];\n  this.geometryFunction_(/** @type {!Array.<ol.Coordinate>} */ (this.sketchCoords_), geometry);\n  if (this.sketchPoint_) {\n    const sketchPointGeom = /** @type {ol.geom.Point} */ (this.sketchPoint_.getGeometry());\n    sketchPointGeom.setCoordinates(coordinate);\n  }\n  let sketchLineGeom;\n  if (geometry instanceof Polygon &&\n      this.mode_ !== Draw.Mode_.POLYGON) {\n    if (!this.sketchLine_) {\n      this.sketchLine_ = new Feature(new LineString(null));\n    }\n    const ring = geometry.getLinearRing(0);\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setFlatCoordinates(\n      ring.getLayout(), ring.getFlatCoordinates());\n  } else if (this.sketchLineCoords_) {\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setCoordinates(this.sketchLineCoords_);\n  }\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Add a new coordinate to the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nDraw.prototype.addToDrawing_ = function(event) {\n  const coordinate = event.coordinate;\n  const geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  let done;\n  let coordinates;\n  if (this.mode_ === Draw.Mode_.LINE_STRING) {\n    this.finishCoordinate_ = coordinate.slice();\n    coordinates = this.sketchCoords_;\n    if (coordinates.length >= this.maxPoints_) {\n      if (this.freehand_) {\n        coordinates.pop();\n      } else {\n        done = true;\n      }\n    }\n    coordinates.push(coordinate.slice());\n    this.geometryFunction_(coordinates, geometry);\n  } else if (this.mode_ === Draw.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    if (coordinates.length >= this.maxPoints_) {\n      if (this.freehand_) {\n        coordinates.pop();\n      } else {\n        done = true;\n      }\n    }\n    coordinates.push(coordinate.slice());\n    if (done) {\n      this.finishCoordinate_ = coordinates[0];\n    }\n    this.geometryFunction_(this.sketchCoords_, geometry);\n  }\n  this.updateSketchFeatures_();\n  if (done) {\n    this.finishDrawing();\n  }\n};\n\n\n/**\n * Remove last point of the feature currently being drawn.\n * @api\n */\nDraw.prototype.removeLastPoint = function() {\n  if (!this.sketchFeature_) {\n    return;\n  }\n  const geometry = /** @type {ol.geom.SimpleGeometry} */ (this.sketchFeature_.getGeometry());\n  let coordinates, sketchLineGeom;\n  if (this.mode_ === Draw.Mode_.LINE_STRING) {\n    coordinates = this.sketchCoords_;\n    coordinates.splice(-2, 1);\n    this.geometryFunction_(coordinates, geometry);\n    if (coordinates.length >= 2) {\n      this.finishCoordinate_ = coordinates[coordinates.length - 2].slice();\n    }\n  } else if (this.mode_ === Draw.Mode_.POLYGON) {\n    coordinates = this.sketchCoords_[0];\n    coordinates.splice(-2, 1);\n    sketchLineGeom = /** @type {ol.geom.LineString} */ (this.sketchLine_.getGeometry());\n    sketchLineGeom.setCoordinates(coordinates);\n    this.geometryFunction_(this.sketchCoords_, geometry);\n  }\n\n  if (coordinates.length === 0) {\n    this.finishCoordinate_ = null;\n  }\n\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Stop drawing and add the sketch feature to the target layer.\n * The {@link ol.interaction.DrawEventType.DRAWEND} event is dispatched before\n * inserting the feature.\n * @api\n */\nDraw.prototype.finishDrawing = function() {\n  const sketchFeature = this.abortDrawing_();\n  let coordinates = this.sketchCoords_;\n  const geometry = /** @type {ol.geom.SimpleGeometry} */ (sketchFeature.getGeometry());\n  if (this.mode_ === Draw.Mode_.LINE_STRING) {\n    // remove the redundant last point\n    coordinates.pop();\n    this.geometryFunction_(coordinates, geometry);\n  } else if (this.mode_ === Draw.Mode_.POLYGON) {\n    // remove the redundant last point in ring\n    coordinates[0].pop();\n    this.geometryFunction_(coordinates, geometry);\n    coordinates = geometry.getCoordinates();\n  }\n\n  // cast multi-part geometries\n  if (this.type_ === GeometryType.MULTI_POINT) {\n    sketchFeature.setGeometry(new MultiPoint([coordinates]));\n  } else if (this.type_ === GeometryType.MULTI_LINE_STRING) {\n    sketchFeature.setGeometry(new MultiLineString([coordinates]));\n  } else if (this.type_ === GeometryType.MULTI_POLYGON) {\n    sketchFeature.setGeometry(new MultiPolygon([coordinates]));\n  }\n\n  // First dispatch event to allow full set up of feature\n  this.dispatchEvent(new Draw.Event(DrawEventType.DRAWEND, sketchFeature));\n\n  // Then insert feature\n  if (this.features_) {\n    this.features_.push(sketchFeature);\n  }\n  if (this.source_) {\n    this.source_.addFeature(sketchFeature);\n  }\n};\n\n\n/**\n * Stop drawing without adding the sketch feature to the target layer.\n * @return {ol.Feature} The sketch feature (or null if none).\n * @private\n */\nDraw.prototype.abortDrawing_ = function() {\n  this.finishCoordinate_ = null;\n  const sketchFeature = this.sketchFeature_;\n  if (sketchFeature) {\n    this.sketchFeature_ = null;\n    this.sketchPoint_ = null;\n    this.sketchLine_ = null;\n    this.overlay_.getSource().clear(true);\n  }\n  return sketchFeature;\n};\n\n\n/**\n * Extend an existing geometry by adding additional points. This only works\n * on features with `LineString` geometries, where the interaction will\n * extend lines by adding points to the end of the coordinates array.\n * @param {!ol.Feature} feature Feature to be extended.\n * @api\n */\nDraw.prototype.extend = function(feature) {\n  const geometry = feature.getGeometry();\n  const lineString = /** @type {ol.geom.LineString} */ (geometry);\n  this.sketchFeature_ = feature;\n  this.sketchCoords_ = lineString.getCoordinates();\n  const last = this.sketchCoords_[this.sketchCoords_.length - 1];\n  this.finishCoordinate_ = last.slice();\n  this.sketchCoords_.push(last.slice());\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new Draw.Event(DrawEventType.DRAWSTART, this.sketchFeature_));\n};\n\n\n/**\n * @inheritDoc\n */\nDraw.prototype.shouldStopEvent = FALSE;\n\n\n/**\n * Redraw the sketch features.\n * @private\n */\nDraw.prototype.updateSketchFeatures_ = function() {\n  const sketchFeatures = [];\n  if (this.sketchFeature_) {\n    sketchFeatures.push(this.sketchFeature_);\n  }\n  if (this.sketchLine_) {\n    sketchFeatures.push(this.sketchLine_);\n  }\n  if (this.sketchPoint_) {\n    sketchFeatures.push(this.sketchPoint_);\n  }\n  const overlaySource = this.overlay_.getSource();\n  overlaySource.clear(true);\n  overlaySource.addFeatures(sketchFeatures);\n};\n\n\n/**\n * @private\n */\nDraw.prototype.updateState_ = function() {\n  const map = this.getMap();\n  const active = this.getActive();\n  if (!map || !active) {\n    this.abortDrawing_();\n  }\n  this.overlay_.setMap(active ? map : null);\n};\n\n\n/**\n * Create a `geometryFunction` for `type: 'Circle'` that will create a regular\n * polygon with a user specified number of sides and start angle instead of an\n * `ol.geom.Circle` geometry.\n * @param {number=} opt_sides Number of sides of the regular polygon. Default is\n *     32.\n * @param {number=} opt_angle Angle of the first point in radians. 0 means East.\n *     Default is the angle defined by the heading from the center of the\n *     regular polygon to the current pointer position.\n * @return {ol.DrawGeometryFunctionType} Function that draws a\n *     polygon.\n * @api\n */\nDraw.createRegularPolygon = function(opt_sides, opt_angle) {\n  return (\n    /**\n         * @param {ol.Coordinate|Array.<ol.Coordinate>|Array.<Array.<ol.Coordinate>>} coordinates\n         * @param {ol.geom.SimpleGeometry=} opt_geometry\n         * @return {ol.geom.SimpleGeometry}\n         */\n    function(coordinates, opt_geometry) {\n      const center = coordinates[0];\n      const end = coordinates[1];\n      const radius = Math.sqrt(\n        _ol_coordinate_.squaredDistance(center, end));\n      const geometry = opt_geometry ? /** @type {ol.geom.Polygon} */ (opt_geometry) :\n        fromCircle(new Circle(center), opt_sides);\n      const angle = opt_angle ? opt_angle :\n        Math.atan((end[1] - center[1]) / (end[0] - center[0]));\n      makeRegular(geometry, center, radius, angle);\n      return geometry;\n    }\n  );\n};\n\n\n/**\n * Create a `geometryFunction` that will create a box-shaped polygon (aligned\n * with the coordinate system axes).  Use this with the draw interaction and\n * `type: 'Circle'` to return a box instead of a circle geometry.\n * @return {ol.DrawGeometryFunctionType} Function that draws a box-shaped polygon.\n * @api\n */\nDraw.createBox = function() {\n  return (\n    /**\n     * @param {Array.<ol.Coordinate>} coordinates\n     * @param {ol.geom.SimpleGeometry=} opt_geometry\n     * @return {ol.geom.SimpleGeometry}\n     */\n    function(coordinates, opt_geometry) {\n      const extent = boundingExtent(coordinates);\n      const geometry = opt_geometry || new Polygon(null);\n      geometry.setCoordinates([[\n        getBottomLeft(extent),\n        getBottomRight(extent),\n        getTopRight(extent),\n        getTopLeft(extent),\n        getBottomLeft(extent)\n      ]]);\n      return geometry;\n    }\n  );\n};\n\n\n/**\n * Get the drawing mode.  The mode for mult-part geometries is the same as for\n * their single-part cousins.\n * @param {ol.geom.GeometryType} type Geometry type.\n * @return {ol.interaction.Draw.Mode_} Drawing mode.\n * @private\n */\nDraw.getMode_ = function(type) {\n  let mode;\n  if (type === GeometryType.POINT ||\n      type === GeometryType.MULTI_POINT) {\n    mode = Draw.Mode_.POINT;\n  } else if (type === GeometryType.LINE_STRING ||\n      type === GeometryType.MULTI_LINE_STRING) {\n    mode = Draw.Mode_.LINE_STRING;\n  } else if (type === GeometryType.POLYGON ||\n      type === GeometryType.MULTI_POLYGON) {\n    mode = Draw.Mode_.POLYGON;\n  } else if (type === GeometryType.CIRCLE) {\n    mode = Draw.Mode_.CIRCLE;\n  }\n  return /** @type {!ol.interaction.Draw.Mode_} */ (mode);\n};\n\n\n/**\n * Draw mode.  This collapses multi-part geometry types with their single-part\n * cousins.\n * @enum {string}\n * @private\n */\nDraw.Mode_ = {\n  POINT: 'Point',\n  LINE_STRING: 'LineString',\n  POLYGON: 'Polygon',\n  CIRCLE: 'Circle'\n};\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Draw} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.DrawEvent}\n * @param {ol.interaction.DrawEventType} type Type.\n * @param {ol.Feature} feature The feature drawn.\n */\nDraw.Event = function(type, feature) {\n\n  Event.call(this, type);\n\n  /**\n   * The feature being drawn.\n   * @type {ol.Feature}\n   * @api\n   */\n  this.feature = feature;\n\n};\ninherits(Draw.Event, Event);\n\nexport default Draw;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/Draw.js\n// module id = null\n// module chunks = ","/**\n * @module ol/source/XYZ\n */\nimport {inherits} from '../index.js';\nimport TileImage from '../source/TileImage.js';\nimport _ol_tilegrid_ from '../tilegrid.js';\n\n/**\n * @classdesc\n * Layer source for tile data with URLs in a set XYZ format that are\n * defined in a URL template. By default, this follows the widely-used\n * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n * using the `{-y}` placeholder in the URL template, so long as the\n * source does not have a custom tile grid. In this case,\n * {@link ol.source.TileImage} can be used with a `tileUrlFunction`\n * such as:\n *\n *  tileUrlFunction: function(coordinate) {\n *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n *        coordinate[1] + '/' + coordinate[2] + '.png';\n *    }\n *\n *\n * @constructor\n * @extends {ol.source.TileImage}\n * @param {olx.source.XYZOptions=} opt_options XYZ options.\n * @api\n */\nconst XYZ = function(opt_options) {\n  const options = opt_options || {};\n  const projection = options.projection !== undefined ?\n    options.projection : 'EPSG:3857';\n\n  const tileGrid = options.tileGrid !== undefined ? options.tileGrid :\n    _ol_tilegrid_.createXYZ({\n      extent: _ol_tilegrid_.extentFromProjection(projection),\n      maxZoom: options.maxZoom,\n      minZoom: options.minZoom,\n      tileSize: options.tileSize\n    });\n\n  TileImage.call(this, {\n    attributions: options.attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: options.crossOrigin,\n    opaque: options.opaque,\n    projection: projection,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileGrid: tileGrid,\n    tileLoadFunction: options.tileLoadFunction,\n    tilePixelRatio: options.tilePixelRatio,\n    tileUrlFunction: options.tileUrlFunction,\n    url: options.url,\n    urls: options.urls,\n    wrapX: options.wrapX !== undefined ? options.wrapX : true,\n    transition: options.transition\n  });\n\n};\n\ninherits(XYZ, TileImage);\nexport default XYZ;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/XYZ.js\n// module id = null\n// module chunks = ","/**\n * @module ol/source/OSM\n */\nimport {inherits} from '../index.js';\nimport XYZ from '../source/XYZ.js';\n\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n *\n * @constructor\n * @extends {ol.source.XYZ}\n * @param {olx.source.OSMOptions=} opt_options Open Street Map options.\n * @api\n */\nconst OSM = function(opt_options) {\n\n  const options = opt_options || {};\n\n  let attributions;\n  if (options.attributions !== undefined) {\n    attributions = options.attributions;\n  } else {\n    attributions = [OSM.ATTRIBUTION];\n  }\n\n  const crossOrigin = options.crossOrigin !== undefined ?\n    options.crossOrigin : 'anonymous';\n\n  const url = options.url !== undefined ?\n    options.url : 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\n  XYZ.call(this, {\n    attributions: attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: crossOrigin,\n    opaque: options.opaque !== undefined ? options.opaque : true,\n    maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileLoadFunction: options.tileLoadFunction,\n    url: url,\n    wrapX: options.wrapX\n  });\n\n};\n\ninherits(OSM, XYZ);\n\n\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\nOSM.ATTRIBUTION = '&copy; ' +\n      '<a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> ' +\n      'contributors.';\nexport default OSM;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/OSM.js\n// module id = null\n// module chunks = ","export default function isUndefined(input) {\n    return input === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-undefined.js\n// module id = 132\n// module chunks = 0 1 2 3 4 5","var some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nexport { some as default };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/some.js\n// module id = null\n// module chunks = ","import extend from '../utils/extend';\nimport { createUTC } from './utc';\nimport getParsingFlags from '../create/parsing-flags';\nimport some from '../utils/some';\n\nexport function isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.weekdayMismatch &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nexport function createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/valid.js\n// module id = null\n// module chunks = ","import { createLocalOrUTC } from './from-anything';\n\nexport function createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/utc.js\n// module id = 134\n// module chunks = 0 1 2 3 4 5","import isArray from '../utils/is-array';\nimport hasOwnProp from '../utils/has-own-prop';\nimport isUndefined from '../utils/is-undefined';\nimport compareArrays from '../utils/compare-arrays';\nimport { deprecateSimple } from '../utils/deprecate';\nimport { mergeConfigs } from './set';\nimport { Locale } from './constructor';\nimport keys from '../utils/keys';\n\nimport { baseConfig } from './base-config';\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            var aliasedRequire = require;\n            aliasedRequire('./locale/' + name);\n            getSetGlobalLocale(oldLocale);\n        } catch (e) {}\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nexport function getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nexport function defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nexport function updateLocale(name, config) {\n    if (config != null) {\n        var locale, tmpLocale, parentConfig = baseConfig;\n        // MERGE\n        tmpLocale = loadLocale(name);\n        if (tmpLocale != null) {\n            parentConfig = tmpLocale._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nexport function getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nexport function listLocales() {\n    return keys(locales);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/locales.js\n// module id = 135\n// module chunks = 0 1 2 3 4 5","export function createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nexport function createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/date-from-array.js\n// module id = 136\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.interaction.Measure\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoCustomEvent from 'ngeo/CustomEvent.js';\nimport ngeoInteractionMeasureBaseOptions from 'ngeo/interaction/MeasureBaseOptions.js';\nimport * as olBase from 'ol/index.js';\nimport * as olDom from 'ol/dom.js';\nimport * as olProj from 'ol/proj.js';\nimport olFeature from 'ol/Feature.js';\nimport olMapBrowserEvent from 'ol/MapBrowserEvent.js';\nimport olOverlay from 'ol/Overlay.js';\nimport * as olSphere from 'ol/sphere.js';\nimport olEvents from 'ol/events.js';\nimport olInteractionInteraction from 'ol/interaction/Interaction.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olProjEPSG4326 from 'ol/proj/EPSG4326.js';\nimport olSourceVector from 'ol/source/Vector.js';\nimport olStyleFill from 'ol/style/Fill.js';\nimport olStyleStroke from 'ol/style/Stroke.js';\nimport olStyleStyle from 'ol/style/Style.js';\n\n/**\n * Interaction that allows measuring (length, area, ...).\n *\n * @constructor\n * @struct\n * @abstract\n * @extends {ol.interaction.Interaction}\n * @param {ngeo.interaction.MeasureBaseOptions=} opt_options Options\n */\nconst exports = function(opt_options) {\n\n  const options = opt_options !== undefined ? opt_options : {};\n\n  olInteractionInteraction.call(this, {\n    handleEvent: exports.handleEvent_\n  });\n\n  /**\n   * The help tooltip element.\n   * @type {Element}\n   * @private\n   */\n  this.helpTooltipElement_ = null;\n\n\n  /**\n   * Overlay to show the help messages.\n   * @type {ol.Overlay}\n   * @private\n   */\n  this.helpTooltipOverlay_ = null;\n\n\n  /**\n   * The measure tooltip element.\n   * @type {Element}\n   * @private\n   */\n  this.measureTooltipElement_ = null;\n\n\n  /**\n   * Overlay to show the measurement.\n   * @type {ol.Overlay}\n   * @private\n   */\n  this.measureTooltipOverlay_ = null;\n\n\n  /**\n   * The measurement overlay coordinate.\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.measureTooltipOverlayCoord_ = null;\n\n\n  /**\n   * The sketch feature.\n   * @type {ol.Feature}\n   * @protected\n   */\n  this.sketchFeature = null;\n\n  /**\n   * Message to show after the first point is clicked.\n   * @type {?Element}\n   */\n  this.continueMsg = null;\n\n  /**\n   * Defines the number of decimals to keep in the measurement. If not defined,\n   * then the default behaviour occurs depending on the measure type.\n   * @type {number|undefined}\n   * @protected\n   */\n  this.decimals = options.decimals;\n\n  /**\n   * Defines the number of precision to keep in the measurement. If not defined,\n   * then the default behaviour occurs depending on the measure type.\n   * @type {number|undefined}\n   * @protected\n   */\n  this.precision = options.precision;\n\n  /**\n   * Whether or not to display any tooltip\n   * @type {boolean}\n   * @private\n   */\n  this.displayHelpTooltip_ = options.displayHelpTooltip !== undefined ? options.displayHelpTooltip : true;\n\n  /**\n   * The message to show when user is about to start drawing.\n   * @type {Element}\n   */\n  this.startMsg;\n  if (options.startMsg !== undefined) {\n    this.startMsg = options.startMsg;\n  } else {\n    this.startMsg = document.createElement('span');\n    this.startMsg.textContent =  'Click to start drawing.';\n  }\n\n  /**\n   * The key for geometry change event.\n   * @type {?ol.EventsKey}\n   * @private\n   */\n  this.changeEventKey_ = null;\n\n  /**\n   * The key for map postcompose event.\n   * @type {?ol.EventsKey}\n   * @private\n   */\n  this.postcomposeEventKey_ = null;\n\n  const style = options.style !== undefined ? options.style : [\n    new olStyleStyle({\n      fill: new olStyleFill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    }),\n    new olStyleStyle({\n      stroke: new olStyleStroke({\n        color: 'white',\n        width: 5\n      })\n    }),\n    new olStyleStyle({\n      stroke: new olStyleStroke({\n        color: '#ffcc33',\n        width: 3\n      })\n    })\n  ];\n\n  /**\n   * The vector layer used to show final measure features.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.vectorLayer_ = new olLayerVector({\n    source: new olSourceVector(),\n    style: style\n  });\n\n  /**\n   * The draw interaction to be used.\n   * @type {ol.interaction.Draw|ngeo.interaction.DrawAzimut|ngeo.interaction.MobileDraw}\n   * @private\n   */\n  this.drawInteraction_ = this.createDrawInteraction(options.sketchStyle,\n    this.vectorLayer_.getSource());\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.shouldHandleDrawInteractionActiveChange_ = true;\n\n  olEvents.listen(this.drawInteraction_, 'change:active', this.handleDrawInteractionActiveChange_, this);\n  olEvents.listen(this.drawInteraction_, 'drawstart', this.onDrawStart_, this);\n  olEvents.listen(this.drawInteraction_, 'drawend', this.onDrawEnd_, this);\n\n  olEvents.listen(this, 'change:active', this.updateState_, this);\n};\n\nolBase.inherits(exports, olInteractionInteraction);\n\n\n/**\n * @const\n * @type {ol.Sphere}\n */\n\n\n/**\n * Calculate the area of the passed polygon and return a formatted string\n * of the area.\n * @param {!ol.geom.Polygon} polygon Polygon.\n * @param {!ol.proj.Projection} projection Projection of the polygon coords.\n * @param {number|undefined} precision Precision.\n * @param {!ngeox.unitPrefix} format The format function.\n * @return {string} Formatted string of the area.\n * @this {ngeo.interaction.Measure}\n */\nexports.getFormattedArea = function(polygon, projection, precision, format) {\n  const geom = /** @type {ol.geom.Polygon} */ (polygon.clone().transform(projection, 'EPSG:4326'));\n  const area = Math.abs(olSphere.getArea(geom));\n  return format(area, 'm²', 'square', precision);\n};\n\n\n/**\n * Calculate the area of the passed circle and return a formatted string\n * of the area.\n * @param {!ol.geom.Circle} circle Circle\n * @param {number|undefined} precision Precision.\n * @param {!ngeox.unitPrefix} format The format function.\n * @return {string} Formatted string of the area.\n */\nexports.getFormattedCircleArea = function(circle, precision, format) {\n  const area = Math.PI * Math.pow(circle.getRadius(), 2);\n  return format(area, 'm²', 'square', precision);\n};\n\n\n/**\n * Calculate the length of the passed line string and return a formatted\n * string of the length.\n * @param {!ol.geom.LineString} lineString Line string.\n * @param {!ol.proj.Projection} projection Projection of the line string coords.\n * @param {number|undefined} precision Precision.\n * @param {!ngeox.unitPrefix} format The format function.\n * @return {string} Formatted string of length.\n */\nexports.getFormattedLength = function(lineString, projection, precision, format) {\n  const length = 0;\n  const coordinates = lineString.getCoordinates();\n  for (let i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n    const c1 = olProj.transform(coordinates[i], projection, 'EPSG:4326');\n    const c2 = olProj.transform(coordinates[i + 1], projection, 'EPSG:4326');\n  }\n  return format(length, 'm', 'unit', precision);\n};\n\n\n/**\n * Return a formatted string of the point.\n * @param {!ol.geom.Point} point Point.\n * @param {number|undefined} decimals Decimals.\n * @param {!ngeox.numberCoordinates} format A function to format coordinate into text\n * @param {string=} opt_template The template.\n * @return {string} Formatted string of coordinate.\n */\nexports.getFormattedPoint = function(point, decimals, format, opt_template) {\n  return format(point.getCoordinates(), decimals, opt_template);\n};\n\n\n/**\n * Handle map browser event.\n * @param {ol.MapBrowserEvent} evt Map browser event.\n * @return {boolean} `false` if event propagation should be stopped.\n * @this {ngeo.interaction.Measure}\n * @private\n */\nexports.handleEvent_ = function(evt) {\n  if (evt.type != 'pointermove' || evt.dragging) {\n    return true;\n  }\n\n  let helpMsg = this.startMsg;\n  if (this.sketchFeature !== null) {\n    helpMsg = this.continueMsg;\n  }\n\n  if (this.displayHelpTooltip_) {\n    olDom.removeChildren(this.helpTooltipElement_);\n    this.helpTooltipElement_.appendChild(helpMsg);\n    this.helpTooltipOverlay_.setPosition(evt.coordinate);\n  }\n\n  return true;\n};\n\n\n/**\n * @return {ol.interaction.Draw|ngeo.interaction.DrawAzimut|ngeo.interaction.MobileDraw} The draw interaction.\n */\nexports.prototype.getDrawInteraction = function() {\n  return this.drawInteraction_;\n};\n\n\n/**\n * Creates the draw interaction.\n *\n * @abstract\n * @param {ol.style.Style|Array.<ol.style.Style>|ol.StyleFunction|undefined}\n *     style The sketchStyle used for the drawing interaction.\n * @param {ol.source.Vector} source Vector source.\n * @return {ol.interaction.Draw|ngeo.interaction.DrawAzimut|ngeo.interaction.MobileDraw} The interaction\n * @protected\n */\nexports.prototype.createDrawInteraction = function(style, source) {};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.setMap = function(map) {\n\n  olInteractionInteraction.prototype.setMap.call(this, map);\n\n  this.vectorLayer_.setMap(map);\n\n  const prevMap = this.drawInteraction_.getMap();\n  if (prevMap !== null) {\n    prevMap.removeInteraction(this.drawInteraction_);\n  }\n\n  if (map !== null) {\n    map.addInteraction(this.drawInteraction_);\n  }\n};\n\n\n/**\n * Handle draw interaction `drawstart` event.\n * @param {ol.interaction.Draw.Event} evt Event.\n * @private\n */\nexports.prototype.onDrawStart_ = function(evt) {\n  this.sketchFeature = evt.feature;\n  this.vectorLayer_.getSource().clear(true);\n  this.createMeasureTooltip_();\n\n  const geometry = this.sketchFeature.getGeometry();\n\n  googAsserts.assert(geometry !== undefined);\n  this.changeEventKey_ = olEvents.listen(geometry, 'change', () => {\n    this.handleMeasure((measure, coord) => {\n      if (coord !== null) {\n        this.measureTooltipElement_.innerHTML = measure;\n        this.measureTooltipOverlayCoord_ = coord;\n      }\n    });\n  });\n\n  this.postcomposeEventKey_ = olEvents.listen(this.getMap(), 'postcompose', () => {\n    this.measureTooltipOverlay_.setPosition(this.measureTooltipOverlayCoord_);\n  });\n};\n\n\n/**\n * Handle draw interaction `drawend` event.\n * @param {ol.interaction.Draw.Event} evt Event.\n * @private\n */\nexports.prototype.onDrawEnd_ = function(evt) {\n  this.measureTooltipElement_.classList.add('ngeo-tooltip-static');\n  this.measureTooltipOverlay_.setOffset([0, -7]);\n  /** @type {ngeox.MeasureEvent} */\n  const event = new ngeoCustomEvent('measureend', {feature: this.sketchFeature});\n  this.dispatchEvent(event);\n  this.sketchFeature = null;\n  this.unlistenerEvent_();\n};\n\n/**\n * Handle unlistener events for 'end of drawing' interaction\n * @private\n */\nexports.prototype.unlistenerEvent_ = function() {\n  if (this.changeEventKey_ !== null && this.postcomposeEventKey_ !== null) {\n    olEvents.unlistenByKey(this.changeEventKey_);\n    olEvents.unlistenByKey(this.postcomposeEventKey_);\n    this.changeEventKey_ = null;\n    this.postcomposeEventKey_ = null;\n  }\n};\n\n/**\n * Creates a new help tooltip\n * @private\n */\nexports.prototype.createHelpTooltip_ = function() {\n  this.removeHelpTooltip_();\n  if (this.displayHelpTooltip_) {\n    this.helpTooltipElement_ = document.createElement('div');\n    this.helpTooltipElement_.classList.add('tooltip');\n    this.helpTooltipOverlay_ = new olOverlay({\n      element: this.helpTooltipElement_,\n      offset: [15, 0],\n      positioning: 'center-left'\n    });\n    this.getMap().addOverlay(this.helpTooltipOverlay_);\n  }\n};\n\n\n/**\n * Destroy the help tooltip\n * @private\n */\nexports.prototype.removeHelpTooltip_ = function() {\n  if (this.displayHelpTooltip_) {\n    this.getMap().removeOverlay(this.helpTooltipOverlay_);\n    if (this.helpTooltipElement_ !== null) {\n      this.helpTooltipElement_.parentNode.removeChild(this.helpTooltipElement_);\n    }\n    this.helpTooltipElement_ = null;\n    this.helpTooltipOverlay_ = null;\n  }\n};\n\n\n/**\n * Creates a new measure tooltip\n * @private\n */\nexports.prototype.createMeasureTooltip_ = function() {\n  this.removeMeasureTooltip_();\n  this.measureTooltipElement_ = document.createElement('div');\n  this.measureTooltipElement_.classList.add('tooltip');\n  this.measureTooltipElement_.classList.add('ngeo-tooltip-measure');\n  this.measureTooltipOverlay_ = new olOverlay({\n    element: this.measureTooltipElement_,\n    offset: [0, -15],\n    positioning: 'bottom-center',\n    stopEvent: false\n  });\n  this.getMap().addOverlay(this.measureTooltipOverlay_);\n};\n\n\n/**\n * Destroy the help tooltip\n * @private\n */\nexports.prototype.removeMeasureTooltip_ = function() {\n  if (this.measureTooltipElement_ !== null) {\n    this.measureTooltipElement_.parentNode.removeChild(this.measureTooltipElement_);\n    this.measureTooltipElement_ = null;\n    this.measureTooltipOverlay_ = null;\n    this.measureTooltipOverlayCoord_ = null;\n  }\n};\n\n\n/**\n * @private\n */\nexports.prototype.updateState_ = function() {\n  const active = this.getActive();\n  this.shouldHandleDrawInteractionActiveChange_ = false;\n  this.drawInteraction_.setActive(active);\n  this.shouldHandleDrawInteractionActiveChange_ = true;\n  if (!this.getMap()) {\n    return;\n  }\n  if (active) {\n    if (!this.measureTooltipOverlay_) {\n      this.createMeasureTooltip_();\n      this.createHelpTooltip_();\n    }\n  } else {\n    this.vectorLayer_.getSource().clear(true);\n    this.getMap().removeOverlay(this.measureTooltipOverlay_);\n    this.removeMeasureTooltip_();\n    this.removeHelpTooltip_();\n    this.unlistenerEvent_();\n  }\n};\n\n\n/**\n * Function implemented in inherited classes to compute measurement, determine\n * where to place the tooltip and determine which help message to display.\n *\n * @abstract\n * @param {function(string, ?ol.Coordinate)} callback The function\n *     to be called.\n * @protected\n */\nexports.prototype.handleMeasure = function(callback) {};\n\n\n/**\n * Get a reference to the tooltip element.\n * @return {Element} Tooltip Element.\n */\nexports.prototype.getTooltipElement = function() {\n  return this.measureTooltipElement_;\n};\n\n\n/**\n * Called when the draw interaction `active` property changes. If the\n * change is due to something else than this measure interactino, then\n * update follow the its active state accordingly.\n *\n * @private\n */\nexports.prototype.handleDrawInteractionActiveChange_ = function() {\n  if (this.shouldHandleDrawInteractionActiveChange_) {\n    this.setActive(this.drawInteraction_.getActive());\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/Measure.js","/**\n * @module ngeo.GeometryType\n */\n/**\n * @enum {string}\n * @export\n */\nconst exports = {\n  /**\n   * @type {string}\n   * @export\n   */\n  CIRCLE: 'Circle',\n  /**\n   * @type {string}\n   * @export\n   */\n  LINE_STRING: 'LineString',\n  /**\n   * @type {string}\n   * @export\n   */\n  MULTI_LINE_STRING: 'MultiLineString',\n  /**\n   * @type {string}\n   * @export\n   */\n  MULTI_POINT: 'MultiPoint',\n  /**\n   * @type {string}\n   * @export\n   */\n  MULTI_POLYGON: 'MultiPolygon',\n  /**\n   * @type {string}\n   * @export\n   */\n  POINT: 'Point',\n  /**\n   * @type {string}\n   * @export\n   */\n  POLYGON: 'Polygon',\n  /**\n   * @type {string}\n   * @export\n   */\n  RECTANGLE: 'Rectangle',\n  /**\n   * @type {string}\n   * @export\n   */\n  TEXT: 'Text'\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/GeometryType.js","/**\n * @module ngeo.proj.EPSG21781\n */\nimport * as olProj from 'ol/proj.js';\n\n/** @suppress {extraRequire} */\nimport * as olProjProj4 from 'ol/proj/proj4.js';\n\n/** @suppress {extraRequire} */\nimport ngeoProjSomerc from 'ngeo/proj/somerc.js';\n\nimport proj4 from 'proj4';\n\nconst epsg21781def = [\n  '+proj=somerc',\n  '+lat_0=46.95240555555556',\n  '+lon_0=7.439583333333333',\n  '+k_0=1',\n  '+x_0=600000',\n  '+y_0=200000',\n  '+ellps=bessel',\n  '+towgs84=674.374,15.056,405.346,0,0,0,0',\n  '+units=m',\n  '+no_defs'\n].join(' ');\nconst epsg21781extent = [420000, 30000, 900000, 350000];\n\nproj4.defs('EPSG:21781', epsg21781def);\nolProjProj4.register(proj4);\nolProj.get('EPSG:21781').setExtent(epsg21781extent);\n\nconst exports = 'EPSG:21781';\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/proj/EPSG21781.js","/**\n * @module ngeo.proj.somerc\n */\nconst exports = {};\nimport * as olProj from 'ol/proj.js';\nimport * as olProjProj4 from 'ol/proj/proj4.js';\nimport proj4 from 'proj4';\nimport somerc from 'proj4/projections/somerc.js';\n\nproj4.Proj.projections.add(somerc);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/proj/somerc.js","module.exports = {\"_from\":\"proj4@2.4.4\",\"_id\":\"proj4@2.4.4\",\"_inBundle\":false,\"_integrity\":\"sha512-yo6qTpBQXnxhcPopKJeVwwOBRzUpEa3vzSFlr38f5mF4Jnfb6NOL/ePIomefWiZmPgkUblHpcwnWVMB8FS3GKw==\",\"_location\":\"/proj4\",\"_phantomChildren\":{},\"_requested\":{\"type\":\"version\",\"registry\":true,\"raw\":\"proj4@2.4.4\",\"name\":\"proj4\",\"escapedName\":\"proj4\",\"rawSpec\":\"2.4.4\",\"saveSpec\":null,\"fetchSpec\":\"2.4.4\"},\"_requiredBy\":[\"#DEV:/\"],\"_resolved\":\"https://registry.npmjs.org/proj4/-/proj4-2.4.4.tgz\",\"_shasum\":\"c03d825e380f6850a4a7af5d20d365f6b72c4042\",\"_spec\":\"proj4@2.4.4\",\"_where\":\"/home/travis/build/camptocamp/ngeo\",\"author\":\"\",\"bugs\":{\"url\":\"https://github.com/proj4js/proj4js/issues\"},\"bundleDependencies\":false,\"contributors\":[{\"name\":\"Mike Adair\",\"email\":\"madair@dmsolutions.ca\"},{\"name\":\"Richard Greenwood\",\"email\":\"rich@greenwoodmap.com\"},{\"name\":\"Calvin Metcalf\",\"email\":\"calvin.metcalf@gmail.com\"},{\"name\":\"Richard Marsden\",\"url\":\"http://www.winwaed.com\"},{\"name\":\"T. Mittan\"},{\"name\":\"D. Steinwand\"},{\"name\":\"S. Nelson\"}],\"dependencies\":{\"mgrs\":\"1.0.0\",\"wkt-parser\":\"^1.2.0\"},\"deprecated\":false,\"description\":\"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.\",\"devDependencies\":{\"chai\":\"~1.8.1\",\"curl\":\"git://github.com/cujojs/curl.git\",\"grunt\":\"^1.0.1\",\"grunt-cli\":\"~0.1.13\",\"grunt-contrib-connect\":\"~0.6.0\",\"grunt-contrib-jshint\":\"~1.1.0\",\"grunt-contrib-uglify\":\"~0.11.1\",\"grunt-mocha-phantomjs\":\"~0.4.0\",\"grunt-rollup\":\"^1.0.1\",\"istanbul\":\"~0.2.4\",\"mocha\":\"~1.17.1\",\"rollup\":\"^0.41.4\",\"rollup-plugin-json\":\"^2.0.1\",\"rollup-plugin-node-resolve\":\"^2.0.0\",\"tin\":\"~0.4.0\"},\"directories\":{\"test\":\"test\",\"doc\":\"docs\"},\"homepage\":\"https://github.com/proj4js/proj4js#readme\",\"license\":\"MIT\",\"main\":\"dist/proj4-src.js\",\"module\":\"lib/index.js\",\"name\":\"proj4\",\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/proj4js/proj4js.git\"},\"scripts\":{\"build\":\"grunt\",\"build:tmerc\":\"grunt build:tmerc\",\"test\":\"npm run build && istanbul test _mocha test/test.js\"},\"version\":\"2.4.4\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/proj4/package.json\n// module id = 146\n// module chunks = 0 1 2 3 4 5 6 7 9 10 11 12 13 15 16 17 18 19 20","/**\n * @module ol/geom/Circle\n */\nimport {inherits} from '../index.js';\nimport {createOrUpdate, forEachCorner, intersects} from '../extent.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport SimpleGeometry from '../geom/SimpleGeometry.js';\nimport _ol_geom_flat_deflate_ from '../geom/flat/deflate.js';\n\n/**\n * @classdesc\n * Circle geometry.\n *\n * @constructor\n * @extends {ol.geom.SimpleGeometry}\n * @param {ol.Coordinate} center Center.\n * @param {number=} opt_radius Radius.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nconst Circle = function(center, opt_radius, opt_layout) {\n  SimpleGeometry.call(this);\n  const radius = opt_radius ? opt_radius : 0;\n  this.setCenterAndRadius(center, radius, opt_layout);\n};\n\ninherits(Circle, SimpleGeometry);\n\n\n/**\n * Make a complete copy of the geometry.\n * @return {!ol.geom.Circle} Clone.\n * @override\n * @api\n */\nCircle.prototype.clone = function() {\n  const circle = new Circle(null);\n  circle.setFlatCoordinates(this.layout, this.flatCoordinates.slice());\n  return circle;\n};\n\n\n/**\n * @inheritDoc\n */\nCircle.prototype.closestPointXY = function(x, y, closestPoint, minSquaredDistance) {\n  const flatCoordinates = this.flatCoordinates;\n  const dx = x - flatCoordinates[0];\n  const dy = y - flatCoordinates[1];\n  const squaredDistance = dx * dx + dy * dy;\n  if (squaredDistance < minSquaredDistance) {\n    if (squaredDistance === 0) {\n      for (let i = 0; i < this.stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n    } else {\n      const delta = this.getRadius() / Math.sqrt(squaredDistance);\n      closestPoint[0] = flatCoordinates[0] + delta * dx;\n      closestPoint[1] = flatCoordinates[1] + delta * dy;\n      for (let i = 2; i < this.stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n    }\n    closestPoint.length = this.stride;\n    return squaredDistance;\n  } else {\n    return minSquaredDistance;\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nCircle.prototype.containsXY = function(x, y) {\n  const flatCoordinates = this.flatCoordinates;\n  const dx = x - flatCoordinates[0];\n  const dy = y - flatCoordinates[1];\n  return dx * dx + dy * dy <= this.getRadiusSquared_();\n};\n\n\n/**\n * Return the center of the circle as {@link ol.Coordinate coordinate}.\n * @return {ol.Coordinate} Center.\n * @api\n */\nCircle.prototype.getCenter = function() {\n  return this.flatCoordinates.slice(0, this.stride);\n};\n\n\n/**\n * @inheritDoc\n */\nCircle.prototype.computeExtent = function(extent) {\n  const flatCoordinates = this.flatCoordinates;\n  const radius = flatCoordinates[this.stride] - flatCoordinates[0];\n  return createOrUpdate(\n    flatCoordinates[0] - radius, flatCoordinates[1] - radius,\n    flatCoordinates[0] + radius, flatCoordinates[1] + radius,\n    extent);\n};\n\n\n/**\n * Return the radius of the circle.\n * @return {number} Radius.\n * @api\n */\nCircle.prototype.getRadius = function() {\n  return Math.sqrt(this.getRadiusSquared_());\n};\n\n\n/**\n * @private\n * @return {number} Radius squared.\n */\nCircle.prototype.getRadiusSquared_ = function() {\n  const dx = this.flatCoordinates[this.stride] - this.flatCoordinates[0];\n  const dy = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];\n  return dx * dx + dy * dy;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nCircle.prototype.getType = function() {\n  return GeometryType.CIRCLE;\n};\n\n\n/**\n * @inheritDoc\n * @api\n */\nCircle.prototype.intersectsExtent = function(extent) {\n  const circleExtent = this.getExtent();\n  if (intersects(extent, circleExtent)) {\n    const center = this.getCenter();\n\n    if (extent[0] <= center[0] && extent[2] >= center[0]) {\n      return true;\n    }\n    if (extent[1] <= center[1] && extent[3] >= center[1]) {\n      return true;\n    }\n\n    return forEachCorner(extent, this.intersectsCoordinate, this);\n  }\n  return false;\n\n};\n\n\n/**\n * Set the center of the circle as {@link ol.Coordinate coordinate}.\n * @param {ol.Coordinate} center Center.\n * @api\n */\nCircle.prototype.setCenter = function(center) {\n  const stride = this.stride;\n  const radius = this.flatCoordinates[stride] - this.flatCoordinates[0];\n  const flatCoordinates = center.slice();\n  flatCoordinates[stride] = flatCoordinates[0] + radius;\n  for (let i = 1; i < stride; ++i) {\n    flatCoordinates[stride + i] = center[i];\n  }\n  this.setFlatCoordinates(this.layout, flatCoordinates);\n};\n\n\n/**\n * Set the center (as {@link ol.Coordinate coordinate}) and the radius (as\n * number) of the circle.\n * @param {ol.Coordinate} center Center.\n * @param {number} radius Radius.\n * @param {ol.geom.GeometryLayout=} opt_layout Layout.\n * @api\n */\nCircle.prototype.setCenterAndRadius = function(center, radius, opt_layout) {\n  if (!center) {\n    this.setFlatCoordinates(GeometryLayout.XY, null);\n  } else {\n    this.setLayout(opt_layout, center, 0);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    /** @type {Array.<number>} */\n    const flatCoordinates = this.flatCoordinates;\n    let offset = _ol_geom_flat_deflate_.coordinate(\n      flatCoordinates, 0, center, this.stride);\n    flatCoordinates[offset++] = flatCoordinates[0] + radius;\n    for (let i = 1, ii = this.stride; i < ii; ++i) {\n      flatCoordinates[offset++] = flatCoordinates[i];\n    }\n    flatCoordinates.length = offset;\n    this.changed();\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nCircle.prototype.getCoordinates = function() {};\n\n\n/**\n * @inheritDoc\n */\nCircle.prototype.setCoordinates = function(coordinates, opt_layout) {};\n\n\n/**\n * @param {ol.geom.GeometryLayout} layout Layout.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n */\nCircle.prototype.setFlatCoordinates = function(layout, flatCoordinates) {\n  this.setFlatCoordinatesInternal(layout, flatCoordinates);\n  this.changed();\n};\n\n\n/**\n * Set the radius of the circle. The radius is in the units of the projection.\n * @param {number} radius Radius.\n * @api\n */\nCircle.prototype.setRadius = function(radius) {\n  this.flatCoordinates[this.stride] = this.flatCoordinates[0] + radius;\n  this.changed();\n};\n\n\n/**\n * Transform each coordinate of the circle from one coordinate reference system\n * to another. The geometry is modified in place.\n * If you do not want the geometry modified in place, first clone() it and\n * then use this function on the clone.\n *\n * Internally a circle is currently represented by two points: the center of\n * the circle `[cx, cy]`, and the point to the right of the circle\n * `[cx + r, cy]`. This `transform` function just transforms these two points.\n * So the resulting geometry is also a circle, and that circle does not\n * correspond to the shape that would be obtained by transforming every point\n * of the original circle.\n *\n * @param {ol.ProjectionLike} source The current projection.  Can be a\n *     string identifier or a {@link ol.proj.Projection} object.\n * @param {ol.ProjectionLike} destination The desired projection.  Can be a\n *     string identifier or a {@link ol.proj.Projection} object.\n * @return {ol.geom.Circle} This geometry.  Note that original geometry is\n *     modified in place.\n * @function\n * @api\n */\nCircle.prototype.transform;\nexport default Circle;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/geom/Circle.js\n// module id = 147\n// module chunks = 0 1 2 3 4 5 6 7 8 11 13 14","/**\n * @module ngeo.rule.Rule\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport olObservable from 'ol/Observable.js';\n\n/**\n * @implements {ngeox.rule.Rule}\n */\nconst exports = class {\n\n  /**\n   * The abstract class for all filter rules.\n   *\n   * Rules are used to define filters that can be applied on data sources.\n   * A rule is usually a combination of 3 things:\n   *\n   * - a property name, for example 'city_name'\n   * - an operator, for example 'is equal to'\n   * - and an expression, for example 'Chicoutimi'.\n   *\n   * A rule is useful to hold those properties and change them on the fly.\n   * For example, chaning an operator from 'is equal to' to 'like'.\n   *\n   * Also, a rule is especially useful for its `value` getter, which returns\n   * the combination of properties described above or `null` if there are some\n   * missing.  The `value` getter can be watched and used when the value is\n   * not null.\n   *\n   * When the operator is `between`, the `lowerBoundary` and `upperBoundary`\n   * properties are used instead of `expression`.\n   *\n   * @struct\n   * @param {!ngeox.rule.RuleOptions} options Options.\n   */\n  constructor(options) {\n\n    // === DYNAMIC properties (i.e. that can change / be watched ===\n\n    /**\n     * Whether the rule is active or not. Used by the `ngeo-rule` component.\n     * Defaults to `false`.\n     * @type {boolean}\n     * @private\n     */\n    this.active_ = options.active === true;\n\n    /**\n     * The expression of the rule. The expression and boundaries are mutually\n     * exclusives.\n     *\n     * Note: exported (instead of private) due to the problem with the\n     * compiler. See the getter/setter methods below...  As a setter, the\n     * `expression` property would support being bond to an `ng-model`. Without\n     * it, it can't unless we expose the property directly.\n     *\n     * @type {?number|string}\n     * @export\n     */\n    this.expression = options.expression !== undefined ?\n      options.expression : null;\n\n    /**\n     * The lower boundary of the rule. The expression and boundaries are\n     * mutually exclusives.\n     * @type {?number}\n     * @private\n     */\n    this.lowerBoundary_ = options. lowerBoundary !== undefined ?\n      options.lowerBoundary : null;\n\n    /**\n     * The rule operator.\n     * @type {?string}\n     * @private\n     */\n    this.operator_ = options.operator || null;\n\n    /**\n     * The upper boundary of the rule. The expression and boundaries are\n     * mutually exclusives.\n     * @type {?number}\n     * @private\n     */\n    this.upperBoundary_ = options. upperBoundary !== undefined ?\n      options.upperBoundary : null;\n\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * Whether the rule is a custom one or not.\n     * @type {boolean}\n     * @private\n     */\n    this.isCustom_ = options.isCustom !== false;\n\n    /**\n     * The human-readable name of the rule.\n     * @type {string}\n     * @private\n     */\n    this.name_ = options.name;\n\n    /**\n     * A list of rule operators.\n     * @type {?Array.<string>}\n     * @private\n     */\n    this.operators_ = options.operators || null;\n\n    /**\n     * The property name (a.k.a. the attribute name).\n     * @type {string}\n     * @private\n     */\n    this.propertyName_ = options.propertyName;\n\n    /**\n     * The type of rule.\n     * @type {string}\n     * @private\n     */\n    this.type_ = googAsserts.assert(options.type);\n\n\n    // === Other properties ===\n\n    /**\n     * @type {Array.<!ol.EventsKey>}\n     * @protected\n     */\n    this.listenerKeys = [];\n\n  }\n\n  // === Dynamic property getters/setters ===\n\n  /**\n   * @return {boolean} Active\n   * @export\n   */\n  get active() {\n    return this.active_;\n  }\n\n  /**\n   * @param {boolean} active Active\n   * @export\n   */\n  set active(active) {\n    this.active_ = active;\n  }\n\n  /**\n   * The `expression` property does not have conventionnal getter/setters\n   * method because of a limitation of the compiler. It doesn't support\n   * yet having such methods being extended in child classes.\n   *\n   * See: https://github.com/google/closure-compiler/issues/1089\n   *\n   * @return {?number|string} Expression\n   * @export\n   */\n  getExpression() {\n    return this.expression;\n  }\n\n  /**\n   * @param {?number|string} expression Expression\n   * @export\n   */\n  setExpression(expression) {\n    this.expression = expression;\n  }\n\n  /**\n   * @return {?number} Lower boundary\n   * @export\n   */\n  get lowerBoundary() {\n    return this.lowerBoundary_;\n  }\n\n  /**\n   * @param {?number} lowerBoundary Lower boundary\n   * @export\n   */\n  set lowerBoundary(lowerBoundary) {\n    this.lowerBoundary_ = lowerBoundary;\n  }\n\n  /**\n   * @return {?string} Operator\n   * @export\n   */\n  get operator() {\n    return this.operator_;\n  }\n\n  /**\n   * @param {?string} operator Operator\n   * @export\n   */\n  set operator(operator) {\n    this.operator_ = operator;\n  }\n\n  /**\n   * @return {?number} Upper boundary\n   * @export\n   */\n  get upperBoundary() {\n    return this.upperBoundary_;\n  }\n\n  /**\n   * @param {?number} upperBoundary Upper boundary\n   * @export\n   */\n  set upperBoundary(upperBoundary) {\n    this.upperBoundary_ = upperBoundary;\n  }\n\n  // === Static property getters/setters ===\n\n  /**\n   * @return {boolean} Is custom.\n   * @export\n   */\n  get isCustom() {\n    return this.isCustom_;\n  }\n\n  /**\n   * @return {string} name\n   * @export\n   */\n  get name() {\n    return this.name_;\n  }\n\n  /**\n   * @return {?Array.<string>} Operators\n   * @export\n   */\n  get operators() {\n    return this.operators_;\n  }\n\n  /**\n   * @return {string} Property name\n   * @export\n   */\n  get propertyName() {\n    return this.propertyName_;\n  }\n\n  /**\n   * @return {string} Type\n   * @export\n   */\n  get type() {\n    return this.type_;\n  }\n\n  // === Calculated property getters ===\n\n  /**\n   * @return {?ngeox.rule.RuleSimpleValue|ngeox.rule.RuleRangeValue} Value.\n   * @export\n   */\n  get value() {\n    let value = null;\n\n    const expression = this.getExpression();\n    const lowerBoundary = this.lowerBoundary;\n    const operator = this.operator;\n    const propertyName = this.propertyName;\n    const upperBoundary = this.upperBoundary;\n\n    if (operator) {\n      if (operator === exports.OperatorType.BETWEEN ||\n          operator === exports.TemporalOperatorType.DURING) {\n        if (lowerBoundary !== null && upperBoundary !== null) {\n          value = {\n            operator,\n            lowerBoundary,\n            propertyName,\n            upperBoundary\n          };\n        }\n      } else {\n        if (expression !== null) {\n          value = {\n            expression,\n            operator,\n            propertyName\n          };\n        }\n      }\n    }\n\n    return value;\n  }\n\n  // === Other utility methods ===\n\n  /**\n   * Reset the following properties to `null`: expression, lowerBoundary,\n   * upperBoundary.\n   * @export\n   */\n  reset() {\n    if (this.getExpression() !== null) {\n      this.setExpression(null);\n    }\n    if (this.lowerBoundary !== null) {\n      this.lowerBoundary = null;\n    }\n    if (this.upperBoundary !== null) {\n      this.upperBoundary = null;\n    }\n  }\n\n  /**\n   * @export\n   */\n  destroy() {\n    olObservable.unByKey(this.listenerKeys);\n    this.listenerKeys.length = 0;\n  }\n\n};\n\n\n/**\n * @enum {string}\n */\nexports.OperatorType = {\n  BETWEEN: '..',\n  EQUAL_TO: '=',\n  GREATER_THAN: '>',\n  GREATER_THAN_OR_EQUAL_TO: '>=',\n  LESSER_THAN: '<',\n  LESSER_THAN_OR_EQUAL_TO: '<=',\n  LIKE: '~',\n  NOT_EQUAL_TO: '!='\n};\n\n\n/**\n * @enum {string}\n */\nexports.SpatialOperatorType = {\n  CONTAINS: 'contains',\n  INTERSECTS: 'intersects',\n  WITHIN: 'within'\n};\n\n\n/**\n * @enum {string}\n */\nexports.TemporalOperatorType = {\n  BEGINS: '>=',\n  DURING: '..',\n  ENDS: '<=',\n  EQUALS: '='\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rule/Rule.js","export default function isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-array.js\n// module id = 150\n// module chunks = 0 1 2 3 4 5","export default function isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-number.js\n// module id = 151\n// module chunks = 0 1 2 3 4 5","import hasOwnProp from './has-own-prop';\n\nexport default function extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/extend.js\n// module id = 152\n// module chunks = 0 1 2 3 4 5","export default function absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/abs-floor.js\n// module id = 153\n// module chunks = 0 1 2 3 4 5","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, matchWord, regexEscape } from '../parse/regex';\nimport { addWeekParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\nimport isArray from '../utils/is-array';\nimport indexOf from '../utils/index-of';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { createUTC } from '../create/utc';\nimport getParsingFlags from '../create/parsing-flags';\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nexport var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nexport function localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nexport var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nexport function localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nexport var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nexport function localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nexport function localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nexport function getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nexport function getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nexport function getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nexport function weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nexport function weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nexport function weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/day-of-week.js\n// module id = 154\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.misc.filters\n */\nimport ngeoBase from 'ngeo/index.js';\nimport * as olMath from 'ol/math.js';\nimport olString from 'ol/string.js';\nconst exports = angular.module('ngeoAngularFilters', []);\n\n/**\n * Format a number as a localized scale.\n * For instance:\n *  - For 'fr-CH' the value 25000 will become '1 : 25 000'.\n *  - For 'en-US' the value 25000 will become '1 : 25,000'.\n *\n * Example:\n *\n *      <p>{{25000 | ngeoScalify}}</p>\n *\n *\n * @param {angular.$filter} $filter Angular filter\n * @return {function(number): string} A function to format number into a 'scale'\n *     string.\n * @ngInject\n * @ngdoc filter\n * @ngname ngeoScalify\n */\nexports.Scalify = function($filter) {\n  const numberFilter = $filter('number');\n  const filterFn = function(scale) {\n    const text = numberFilter(scale, 0);\n    return text ? `1\\u00a0:\\u00a0${text}` : '';\n  };\n  filterFn['$stateful'] = true;\n  return filterFn;\n};\n\nexports.filter('ngeoScalify', exports.Scalify);\n\n/**\n * A filter used to format a number with a precision, using the locale.\n *\n * Arguments:\n * - opt_precision: The used precision, default is 3.\n *\n * Examples:\n *\n *      {{0.1234 | ngeoNumber}} => 0.123\n *      {{1.234 | ngeoNumber}} => 1.23\n *      {{12.34 | ngeoNumber}} => 12.3\n *      {{123.4 | ngeoNumber}} => 123\n *      {{1234 | ngeoNumber}} => 1230\n *\n * @param {angular.$locale} $locale Angular locale\n * @return {ngeox.number} Function used to format number into a string.\n * @ngInject\n * @ngdoc filter\n * @ngname ngeoNumber\n */\nexports.Number = function($locale) {\n  const formats = $locale.NUMBER_FORMATS;\n\n  /**\n   * @param {number} number The number to format.\n   * @param {number=} opt_precision The used precision, default is 3.\n   * @return {string} The formatted string.\n   */\n  const result = function(number, opt_precision) {\n    const groupSep = formats.GROUP_SEP;\n    const decimalSep = formats.DECIMAL_SEP;\n    if (opt_precision === undefined) {\n      opt_precision = 3;\n    }\n\n    if (number === Infinity) {\n      return '\\u221e';\n    } else if (number === -Infinity) {\n      return '-\\u221e';\n    } else if (number === 0) {\n      // 0 will creates infinity values\n      return '0';\n    }\n    const sign = number < 0;\n    number = Math.abs(number);\n\n    const nb_decimal = opt_precision - Math.floor(Math.log(number) / Math.log(10)) - 1;\n    const factor = Math.pow(10, nb_decimal);\n    number = Math.round(number * factor);\n    let decimal = '';\n    const unit = Math.floor(number / factor);\n\n    if (nb_decimal > 0) {\n      let str_number = `${number}`;\n      // 0 padding\n      while (str_number.length < nb_decimal) {\n        str_number = `0${str_number}`;\n      }\n      decimal = str_number.substring(str_number.length - nb_decimal);\n      while (decimal[decimal.length - 1] === '0') {\n        decimal = decimal.substring(0, decimal.length - 1);\n      }\n    }\n\n    const groups = [];\n    let str_unit = `${unit}`;\n    while (str_unit.length > 3) {\n      const index = str_unit.length - 3;\n      groups.unshift(str_unit.substring(index));\n      str_unit = str_unit.substring(0, index);\n    }\n    groups.unshift(str_unit);\n\n    return (sign ? '-' : '') + groups.join(groupSep) + (\n      decimal.length === 0 ? '' : decimalSep + decimal\n    );\n  };\n  return result;\n};\n\nexports.filter('ngeoNumber', exports.Number);\n\n/**\n * A filter used to format a number with the prefix and unit\n *\n * Arguments:\n * - opt_unit: The unit to used, default is ''.\n * - opt_type: (unit|square|binary) the type of units, default is 'unit'.\n * - opt_precision: The used precision, default is 3.\n *\n * Examples:\n *\n *      {{25000 | ngeoUnitPrefix}} => 25 k\n *      {{25000 | ngeoUnitPrefix:'m'}} => 25 km\n *      {{25000000 | ngeoUnitPrefix:'m²':'square'}} => 25 km²\n *      {{2048 | ngeoUnitPrefix:'o':'binary'}} => 2 Kio\n *\n *\n * @param {angular.$filter} $filter Angular filter\n * @return {ngeox.unitPrefix} Function used to format number into a string.\n * @ngInject\n * @ngdoc filter\n * @ngname ngeoUnitPrefix\n */\nexports.UnitPrefix = function($filter) {\n  const numberFilter = $filter('ngeoNumber');\n  const standardPrefix = ['', 'k', 'M', 'G', 'T', 'P'];\n  const binaryPrefix = ['', 'Ki', 'Mi', 'Gi', 'Ti', 'Pi'];\n  /**\n   * @param {number} number The number to format.\n   * @param {string=} opt_unit The unit to used, default is ''.\n   * @param {string=} opt_type (unit|square|binary) the type of units, default is 'unit'.\n   * @param {number=} opt_precision The used precision, default is 3.\n   * @return {string} The formatted string.\n   */\n  const result = function(number, opt_unit, opt_type, opt_precision) {\n    if (opt_unit === undefined) {\n      opt_unit = '';\n    }\n    let divisor = 1000;\n    let prefix = standardPrefix;\n    if (opt_type === 'square') {\n      divisor = 1000000;\n    } else if (opt_type === 'binary') {\n      divisor = 1024;\n      prefix = binaryPrefix;\n    }\n\n    let index = 0;\n    const index_max = prefix.length - 1;\n    while (number >= divisor && index < index_max) {\n      number = number / divisor;\n      index++;\n    }\n\n    const postfix = prefix[index] + opt_unit;\n    const space = postfix.length == 0 ? '' : '\\u00a0';\n    return numberFilter(number, opt_precision) + space + postfix;\n  };\n  return result;\n};\n\nexports.filter('ngeoUnitPrefix', exports.UnitPrefix);\n\n/**\n * Format a couple of numbers as number coordinates.\n *\n * Example without parameters (en-US localization):\n *\n *      <p>{{[7.1234, 46.9876] | ngeoNumberCoordinates}}</p>\n *      <!-- will Become 7 47 -->\n *\n * Example with defined fractionDigits and template (en-US localization):\n *\n *      <p>{{[7.1234, 46.9876] | ngeoNumberCoordinates:2:'co {x} E; {y} N'}}</p>\n *      <!-- will Become co 7.12 E; 46.99 N -->\n *\n * Example without fractionDigits but with defined template and localize:\n *\n *      <!-- With en-US localization (opt_localize can be true or undefined) -->\n *      <p>{{[2600000, 1600000] | ngeoNumberCoordinates:0:'{x}, {y}'}}</p>\n *      <!-- will Become 2,600,000, 1,600,000 -->\n *      <br/>\n *      <!-- With fr-CH localization (opt_localize can be true or undefined) -->\n *      <p>{{[2600000, 1600000] | ngeoNumberCoordinates:0:'{x}, {y}'}}</p>\n *      <!-- will Become 2'600'000, 1'600'000 -->\n *      <br/>\n *      <!-- With en-US localization but with localization to false -->\n *      <p>{{[2600000, 1600000] | ngeoNumberCoordinates:0:'{x}, {y}'}}</p>\n *      <!-- will Become 2'600'000, 1'600'000 -->\n *\n * @param {angular.$filter} $filter Angular filter\n * @return {ngeox.numberCoordinates} A function to format numbers into coordinates string.\n * @ngInject\n * @ngdoc filter\n * @ngname ngeoNumberCoordinates\n */\nexports.NumberCoordinates = function($filter) {\n  /**\n   * @param {ol.Coordinate} coordinates Array of two numbers.\n   * @param {(number|string)=} opt_fractionDigits Optional number of digit.\n   *     Default to 0.\n   * @param {string=} opt_template Optional template. Default to '{x} {y}'.\n   *     Where \"{x}\" will be replaced by the easting coordinate and \"{y}\" by the\n   *     northing one. Note: Use a html entity to use the semicolon symbol\n   *     into a template.\n   * @return {string} Number formatted coordinates.\n   */\n  const filterFn = function(coordinates, opt_fractionDigits, opt_template) {\n    const template = opt_template ? opt_template : '{x} {y}';\n    let x = coordinates[0];\n    let y = coordinates[1];\n    const fractionDigits = parseInt(opt_fractionDigits, 10) | 0;\n    x = $filter('number')(x, fractionDigits);\n    y = $filter('number')(y, fractionDigits);\n    return template.replace('{x}', x).replace('{y}', y);\n  };\n  return filterFn;\n};\n\nexports.filter('ngeoNumberCoordinates', exports.NumberCoordinates);\n\n\n/**\n * Format coordinates as DMS coordinates.\n *\n * Example without parameters:\n *\n *      <p>{{[7.1234, 46.9876] | ngeoDMSCoordinates}}</p>\n *      <!-- will Become  7° 07' 24'' E 46° 59' 15'' N-->\n *\n * Example with defined fractionDigits and a template.\n *\n *      <p>{{[7.1234, 46.9876] | ngeoDMSCoordinates:2:'[{y}; {x]'}}</p>\n *      <!-- will Become [46° 59' 15.36'' N; 7° 07' 24.24'' E] -->\n *\n * @return {ngeox.dmsCoordinates} A function to format numbers into a DMS coordinates string.\n * @ngInject\n * @ngdoc filter\n * @ngname ngeoDMSCoordinates\n */\nexports.DMSCoordinates = function() {\n  const degreesToStringHDMS = function(degrees, hemispheres, fractionDigits) {\n    const normalizedDegrees = olMath.modulo(degrees + 180, 360) - 180;\n    const dms = Math.abs(3600 * normalizedDegrees);\n    const d = Math.floor(dms / 3600);\n    const m = Math.floor((dms / 60) % 60);\n    const s = (dms % 60);\n    return `${d}\\u00b0 ${\n      olString.padNumber(m, 2)}\\u2032 ${\n      olString.padNumber(s, 2, fractionDigits)}\\u2033 ${\n      hemispheres.charAt(normalizedDegrees < 0 ? 1 : 0)}`;\n  };\n\n  /**\n   * @param {ol.Coordinate} coordinates Array of two numbers.\n   * @param {(number|string)=} opt_fractionDigits Optional number of digit.\n   *     Default to 0.\n   * @param {string=} opt_template Optional template. Default to\n   *     '{x} {y}'. Where \"{x}\" will be replaced by the easting\n   *     coordinate, {y} by the northing one. Note: Use a html entity to use the\n   *     semicolon symbol into a template.\n   * @return {string} DMS formatted coordinates.\n   */\n  const filterFn = function(coordinates, opt_fractionDigits, opt_template) {\n    const fractionDigits = parseInt(opt_fractionDigits, 10) | 0;\n\n    const template = opt_template ? opt_template : '{x} {y}';\n\n    const xdms = degreesToStringHDMS(coordinates[0], 'EW', fractionDigits);\n    const ydms = degreesToStringHDMS(coordinates[1], 'NS', fractionDigits);\n\n    return template.replace('{x}', xdms).replace('{y}', ydms);\n  };\n\n  return filterFn;\n};\n\nexports.filter('ngeoDMSCoordinates', exports.DMSCoordinates);\n\n\n/**\n * A filter to mark a value as trusted HTML.\n *\n * Usage:\n *\n *    <p ng-bind-html=\"ctrl.someValue | ngeoTrustHtml\"></p>\n *\n * If you use it, you don't require the \"ngSanitize\".\n * @return {function(?):string} The filter function.\n * @ngInject\n * @ngdoc filter\n * @param {angular.$sce} $sce Angular sce service.\n * @ngname ngeoTrustHtml\n */\nexports.trustHtmlFilter = function($sce) {\n  return function(input) {\n    if (input !== undefined && input !== null) {\n      return $sce.trustAsHtml(`${input}`);\n    } else {\n      return $sce.trustAsHtml('&nbsp;');\n    }\n  };\n};\n\nexports.filter('ngeoTrustHtml', exports.trustHtmlFilter);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/filters.js","/**\n * @module ngeo.misc.FeatureHelper\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscFilters from 'ngeo/misc/filters.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDownloadService from 'ngeo/download/service.js';\n\nimport ngeoFormatFeatureProperties from 'ngeo/format/FeatureProperties.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport ngeoInteractionMeasure from 'ngeo/interaction/Measure.js';\nimport ngeoInteractionMeasureAzimut from 'ngeo/interaction/MeasureAzimut.js';\nimport * as olArray from 'ol/array.js';\nimport * as olColor from 'ol/color.js';\nimport * as olExtent from 'ol/extent.js';\nimport olFeature from 'ol/Feature.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomMultiLineString from 'ol/geom/MultiLineString.js';\nimport olGeomMultiPoint from 'ol/geom/MultiPoint.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olGeomMultiPolygon from 'ol/geom/MultiPolygon.js';\nimport olFormatGPX from 'ol/format/GPX.js';\nimport olFormatKML from 'ol/format/KML.js';\nimport olStyleCircle from 'ol/style/Circle.js';\nimport olStyleFill from 'ol/style/Fill.js';\nimport olStyleRegularShape from 'ol/style/RegularShape.js';\nimport olStyleStroke from 'ol/style/Stroke.js';\nimport olStyleStyle from 'ol/style/Style.js';\nimport olStyleText from 'ol/style/Text.js';\n\n/**\n * Provides methods for features, such as:\n *  - style setting / getting\n *  - measurement\n *  - export\n *\n * @constructor\n * @struct\n * @param {!angular.$injector} $injector Main injector.\n * @param {!angular.$filter} $filter Angular filter.\n * @ngdoc service\n * @ngname ngeoFeatureHelper\n * @ngInject\n */\nconst exports = function($injector, $filter) {\n\n  /**\n   * @type {!angular.$filter}\n   * @private\n   */\n  this.$filter_ = $filter;\n\n  /**\n   * @type {number|undefined}\n   * @private\n   */\n  this.decimals_ = undefined;\n  if ($injector.has('ngeoMeasureDecimals')) {\n    this.decimals_ = $injector.get('ngeoMeasureDecimals');\n  }\n\n\n  /**\n   * @type {number|undefined}\n   * @private\n   */\n  this.precision_ = undefined;\n  if ($injector.has('ngeoMeasurePrecision')) {\n    this.precision_ = $injector.get('ngeoMeasurePrecision');\n  }\n\n  /**\n   * @type {!ngeox.number}\n   */\n  this.numberFormat_ = /** @type {ngeox.number} */ ($filter('number'));\n\n  /**\n   * @type {!ngeox.unitPrefix}\n   */\n  this.unitPrefixFormat_ = /** @type {ngeox.unitPrefix} */ ($filter('ngeoUnitPrefix'));\n\n  /**\n   * @type {!ngeox.numberCoordinates}\n   */\n  this.ngeoNumberCoordinates_ = /** @type {ngeox.numberCoordinates} */ ($filter('ngeoNumberCoordinates'));\n\n  /**\n   * Filter function to display point coordinates or null to don't use any filter.\n   * @type {function(*):string|null}\n   * @private\n   */\n  this.pointFilterFn_ = null;\n\n  /**\n   * Arguments to apply to the point filter function.\n   * @type {Array.<*>}\n   * @private\n   */\n  this.pointFilterArgs_ = [];\n\n  if ($injector.has('ngeoPointfilter')) {\n    const filterElements = $injector.get('ngeoPointfilter').split(':');\n    const filterName = filterElements.shift();\n    const filter = this.$filter_(filterName);\n    googAsserts.assertFunction(filter);\n    this.pointFilterFn_ = filter;\n    this.pointFilterArgs_ = filterElements;\n  } else {\n    this.pointFilterFn_ = null;\n  }\n\n  /**\n   * @type {!ol.proj.Projection}\n   * @private\n   */\n  this.projection_;\n\n  /**\n   * Download service.\n   * @type {ngeox.Download}\n   * @private\n   */\n  this.download_ = $injector.get('ngeoDownload');\n\n};\n\n\n/**\n * @param {!ol.proj.Projection} projection Projection.\n * @export\n */\nexports.prototype.setProjection = function(projection) {\n  this.projection_ = projection;\n};\n\n\n// === STYLE METHODS ===\n\n\n/**\n * Set the style of a feature using its inner properties and depending on\n * its geometry type.\n * @param {!ol.Feature} feature Feature.\n * @param {boolean=} opt_select Whether the feature should be rendered as\n *     selected, which includes additional vertex and halo styles.\n * @export\n */\nexports.prototype.setStyle = function(feature, opt_select) {\n  const styles = this.getStyle(feature);\n  if (opt_select) {\n    if (this.supportsVertex_(feature)) {\n      styles.push(this.getVertexStyle());\n    }\n    styles.unshift(this.getHaloStyle_(feature));\n  }\n  feature.setStyle(styles);\n};\n\n\n/**\n * Create and return a style object from a given feature using its inner\n * properties and depending on its geometry type.\n * @param {!ol.Feature} feature Feature.\n * @return {!Array.<!ol.style.Style>} The style object.\n * @export\n */\nexports.prototype.getStyle = function(feature) {\n  const type = this.getType(feature);\n  let style;\n\n  switch (type) {\n    case ngeoGeometryType.LINE_STRING:\n      style = this.getLineStringStyle_(feature);\n      break;\n    case ngeoGeometryType.POINT:\n      style = this.getPointStyle_(feature);\n      break;\n    case ngeoGeometryType.CIRCLE:\n    case ngeoGeometryType.POLYGON:\n    case ngeoGeometryType.RECTANGLE:\n      style = this.getPolygonStyle_(feature);\n      break;\n    case ngeoGeometryType.TEXT:\n      style = this.getTextStyle_(feature);\n      break;\n    default:\n      break;\n  }\n\n  googAsserts.assert(style, 'Style should be thruthy');\n\n  let styles;\n  if (style.constructor === Array) {\n    styles = /** @type {!Array.<!ol.style.Style>}*/ (style);\n  } else {\n    styles = [style];\n  }\n\n  return styles;\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature with linestring geometry.\n * @return {!Array.<!ol.style.Style>} Style.\n * @private\n */\nexports.prototype.getLineStringStyle_ = function(feature) {\n  const strokeWidth = this.getStrokeProperty(feature);\n  const showLabel = this.getShowLabelProperty(feature);\n  const showMeasure = this.getShowMeasureProperty(feature);\n  const color = this.getRGBAColorProperty(feature);\n\n  const styles = [new olStyleStyle({\n    stroke: new olStyleStroke({\n      color: color,\n      width: strokeWidth\n    })\n  })];\n  //Label Style\n  const textLabelValues = [];\n  if (showMeasure) {\n    textLabelValues.push(this.getMeasure(feature));\n  }\n  if (showLabel) {\n    textLabelValues.push(this.getNameProperty(feature));\n  }\n  if (showLabel ||  showMeasure) {\n    // display both label using  \\n\n    const textLabelValue = textLabelValues.join('\\n');\n    styles.push(new olStyleStyle({\n      text: this.createTextStyle_({\n        text: textLabelValue\n      })\n    }));\n  }\n  return styles;\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature with point geometry.\n * @return {!Array.<!ol.style.Style>} Style.\n * @private\n */\nexports.prototype.getPointStyle_ = function(feature) {\n  const size = this.getSizeProperty(feature);\n  const color = this.getRGBAColorProperty(feature);\n  const showLabel = this.getShowLabelProperty(feature);\n  const showMeasure = this.getShowMeasureProperty(feature);\n  const styles = [new olStyleStyle({\n    image: new olStyleCircle({\n      radius: size,\n      fill: new olStyleFill({\n        color: color\n      })\n    })\n  })];\n  // Label Style\n  const textLabelValues = [];\n  if (showMeasure) {\n    textLabelValues.push(this.getMeasure(feature));\n  }\n  if (showLabel) {\n    textLabelValues.push(this.getNameProperty(feature));\n  }\n  if (showLabel ||  showMeasure) {\n    // display both label using  \\n\n    const textLabelValue = textLabelValues.join('\\n');\n    const font_size = 10;\n    // https://reeddesign.co.uk/test/points-pixels.html\n    const point_to_px = 1.3;\n    styles.push(new olStyleStyle({\n      text: this.createTextStyle_({\n        text: textLabelValue,\n        size: font_size,\n        offsetY: -(size + (font_size / 2) * textLabelValues.length * point_to_px + 4)\n      })\n    }));\n  }\n  return styles;\n};\n\n\n/**\n * Get an optional number feature attribute.\n *\n * @param {!ol.Feature} feature Feature.\n * @param {string} attrib The attribute name.\n * @return {number|undefined}, The attribute value\n */\nexports.prototype.optNumber = function(feature, attrib) {\n  const value = feature.get(attrib);\n  if (value !== undefined) {\n    if (typeof value == 'string') {\n      return +value;\n    } else {\n      return googAsserts.assertNumber(value);\n    }\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * Get a number feature attribute.\n *\n * @param {!ol.Feature} feature Feature.\n * @param {string} attrib The attribute name.\n * @return {number}, The attribute value\n */\nexports.prototype.getNumber = function(feature, attrib) {\n  const value = feature.get(attrib);\n  if (typeof value == 'string') {\n    return +value;\n  } else {\n    return googAsserts.assertNumber(value);\n  }\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature with polygon geometry.\n * @return {!Array.<!ol.style.Style>} Style.\n * @private\n */\nexports.prototype.getPolygonStyle_ = function(feature) {\n  const strokeWidth = this.getStrokeProperty(feature);\n  const opacity = this.getOpacityProperty(feature);\n  const color = this.getRGBAColorProperty(feature);\n  const showLabel = this.getShowLabelProperty(feature);\n  const showMeasure = this.getShowMeasureProperty(feature);\n\n  // fill color with opacity\n  const fillColor = color.slice();\n  fillColor[3] = opacity;\n\n  const azimut = this.optNumber(feature, ngeoFormatFeatureProperties.AZIMUT);\n\n  const styles = [new olStyleStyle({\n    fill: new olStyleFill({\n      color: fillColor\n    }),\n    stroke: new olStyleStroke({\n      color: color,\n      width: strokeWidth\n    })\n  })];\n  if (showMeasure || showLabel) {\n    if (azimut !== undefined) {\n      // Radius style:\n      const line = this.getRadiusLine(feature, azimut);\n      const length = ngeoInteractionMeasure.getFormattedLength(\n        line, this.projection_, this.precision_, this.unitPrefixFormat_);\n\n      styles.push(new olStyleStyle({\n        geometry: line,\n        fill: new olStyleFill({\n          color: fillColor\n        }),\n        stroke: new olStyleStroke({\n          color: color,\n          width: strokeWidth\n        }),\n        text: this.createTextStyle_({\n          text: length,\n          angle: ((azimut % 180) + 180) % 180 - 90\n        })\n      }));\n\n      // Azimut style\n      styles.push(new olStyleStyle({\n        geometry: new olGeomPoint(line.getLastCoordinate()),\n        text: this.createTextStyle_({\n          text: `${this.numberFormat_(azimut, this.decimals_)}°`,\n          size: 10,\n          offsetX: Math.cos((azimut - 90) * Math.PI / 180) * 20,\n          offsetY: Math.sin((azimut - 90) * Math.PI / 180) * 20\n        })\n      }));\n    } else {\n      //Label Style\n      const textLabelValues = [];\n      if (showMeasure) {\n        textLabelValues.push(this.getMeasure(feature));\n      }\n      if (showLabel) {\n        textLabelValues.push(this.getNameProperty(feature));\n      }\n      if (showLabel ||  showMeasure) {\n        // display both label using  \\n\n        const textLabelValue = textLabelValues.join('\\n');\n        styles.push(new olStyleStyle({\n          text: this.createTextStyle_({\n            text: textLabelValue,\n            offsetY: -(8 / 2 + 4),\n            exceedLength: true\n          })\n        }));\n      }\n    }\n  }\n  return styles;\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature with point geometry, rendered as text.\n * @return {!ol.style.Style} Style.\n * @private\n */\nexports.prototype.getTextStyle_ = function(feature) {\n\n  return new olStyleStyle({\n    text: this.createTextStyle_({\n      text: this.getNameProperty(feature),\n      size: this.getSizeProperty(feature),\n      angle: this.getAngleProperty(feature),\n      color: this.getRGBAColorProperty(feature),\n      width: this.getStrokeProperty(feature)\n    })\n  });\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature to create the editing styles with.\n * @return {!Array.<!ol.style.Style>} List of style.\n * @export\n */\nexports.prototype.createEditingStyles = function(feature) {\n  // (1) Style definition depends on geometry type\n  const white = [255, 255, 255, 1];\n  const blue = [0, 153, 255, 1];\n  const width = 3;\n  const styles = [];\n\n  const geom = feature.getGeometry();\n  console.assert(geom);\n  const type = geom.getType();\n\n  if (type === 'Point') {\n    styles.push(\n      new olStyleStyle({\n        image: new olStyleCircle({\n          radius: width * 2,\n          fill: new olStyleFill({\n            color: blue\n          }),\n          stroke: new olStyleStroke({\n            color: white,\n            width: width / 2\n          })\n        }),\n        zIndex: Infinity\n      })\n    );\n  } else {\n    if (type === 'LineString') {\n      styles.push(\n        new olStyleStyle({\n          stroke: new olStyleStroke({\n            color: white,\n            width: width + 2\n          })\n        })\n      );\n      styles.push(\n        new olStyleStyle({\n          stroke: new olStyleStroke({\n            color: blue,\n            width: width\n          })\n        })\n      );\n    } else {\n      styles.push(\n        new olStyleStyle({\n          stroke: new olStyleStroke({\n            color: blue,\n            width: width / 2\n          }),\n          fill: new olStyleFill({\n            color: [255, 255, 255, 0.5]\n          })\n        })\n      );\n    }\n\n    // (2) Anything else than 'Point' requires the vertex style as well\n    styles.push(this.getVertexStyle(true));\n  }\n\n  return styles;\n};\n\n\n/**\n * Create and return a style object to be used for vertex.\n * @param {boolean=} opt_incGeomFunc Whether to include the geometry function\n *     or not. One wants to use the geometry function when you want to draw\n *     the vertex of features that don't have point geometries. One doesn't\n *     want to include the geometry function if you just want to have the\n *     style object itself to be used to draw features that have point\n *     geometries. Defaults to `true`.\n * @return {!ol.style.Style} Style.\n * @export\n */\nexports.prototype.getVertexStyle = function(opt_incGeomFunc) {\n  const incGeomFunc = opt_incGeomFunc !== undefined ? opt_incGeomFunc : true;\n\n  const options = {\n    image: new olStyleRegularShape({\n      radius: 6,\n      points: 4,\n      angle: Math.PI / 4,\n      fill: new olStyleFill({\n        color: [255, 255, 255, 0.5]\n      }),\n      stroke: new olStyleStroke({\n        color: [0, 0, 0, 1]\n      })\n    })\n  };\n\n  if (incGeomFunc) {\n    options.geometry = function(feature) {\n      const geom = feature.getGeometry();\n\n      if (geom.getType() == 'Point') {\n        return;\n      }\n\n      let innerMultiCoordinates;\n      let multiCoordinates = [];\n      let coordinates = [];\n      let i, ii;\n      if (geom instanceof olGeomLineString) {\n        coordinates = geom.getCoordinates();\n      } else if (geom instanceof olGeomMultiLineString) {\n        multiCoordinates = geom.getCoordinates();\n      } else if (geom instanceof olGeomPolygon) {\n        coordinates = geom.getCoordinates()[0];\n      } else if (geom instanceof olGeomMultiPolygon) {\n        innerMultiCoordinates = geom.getCoordinates();\n      }\n\n      if (innerMultiCoordinates) {\n        for (i = 0, ii = innerMultiCoordinates.length; i < ii; i++) {\n          multiCoordinates = multiCoordinates.concat(innerMultiCoordinates[i]);\n        }\n      }\n      for (i = 0, ii = multiCoordinates.length; i < ii; i++) {\n        coordinates = coordinates.concat(multiCoordinates[i]);\n      }\n\n      if (coordinates.length) {\n        return new olGeomMultiPoint(coordinates);\n      } else {\n        return geom;\n      }\n    };\n  }\n\n  return new olStyleStyle(options);\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {boolean} Whether the feature supports vertex or not.\n * @private\n */\nexports.prototype.supportsVertex_ = function(feature) {\n  const supported = [\n    ngeoGeometryType.LINE_STRING,\n    ngeoGeometryType.POLYGON,\n    ngeoGeometryType.RECTANGLE\n  ];\n  const type = this.getType(feature);\n  return olArray.includes(supported, type);\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {!ol.style.Style} Style.\n * @private\n */\nexports.prototype.getHaloStyle_ = function(feature) {\n  const type = this.getType(feature);\n  let style;\n  const haloSize = 3;\n\n  switch (type) {\n    case ngeoGeometryType.POINT:\n      const size = this.getSizeProperty(feature);\n      style = new olStyleStyle({\n        image: new olStyleCircle({\n          radius: size + haloSize,\n          fill: new olStyleFill({\n            color: [255, 255, 255, 1]\n          })\n        })\n      });\n      break;\n    case ngeoGeometryType.LINE_STRING:\n    case ngeoGeometryType.CIRCLE:\n    case ngeoGeometryType.POLYGON:\n    case ngeoGeometryType.RECTANGLE:\n      const strokeWidth = this.getStrokeProperty(feature);\n      style = new olStyleStyle({\n        stroke: new olStyleStroke({\n          color: [255, 255, 255, 1],\n          width: strokeWidth + haloSize * 2\n        })\n      });\n      break;\n    case ngeoGeometryType.TEXT:\n      style = new olStyleStyle({\n        text: this.createTextStyle_({\n          text: this.getNameProperty(feature),\n          size: this.getSizeProperty(feature),\n          angle: this.getAngleProperty(feature),\n          width: haloSize * 3\n        })\n      });\n      break;\n    default:\n      break;\n  }\n\n  googAsserts.assert(style, 'Style should be thruthy');\n\n  return style;\n};\n\n\n// === PROPERTY GETTERS ===\n\n/**\n * Delete the unwanted ol3 properties from the current feature then return the\n * properties.\n * Also delete the 'ngeo_feature_type_' from the ngeo query system.\n * @param {!ol.Feature} feature Feature.\n * @return {!Object.<string, *>} Filtered properties of the current feature.\n * @export\n */\nexports.getFilteredFeatureValues = function(feature) {\n  const properties = feature.getProperties();\n  delete properties['boundedBy'];\n  delete properties[feature.getGeometryName()];\n  delete properties['ngeo_feature_type_'];\n  return properties;\n};\n\n/**\n * @param {ol.Feature} feature Feature.\n * @return {number} Angle.\n * @export\n */\nexports.prototype.getAngleProperty = function(feature) {\n  const angle = +(/** @type {string} */ (\n    feature.get(ngeoFormatFeatureProperties.ANGLE)));\n  googAsserts.assertNumber(angle);\n  return angle;\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {string} Color.\n * @export\n */\nexports.prototype.getColorProperty = function(feature) {\n\n  const color = googAsserts.assertString(feature.get(ngeoFormatFeatureProperties.COLOR));\n\n  googAsserts.assertString(color);\n\n  return color;\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {ol.Color} Color.\n * @export\n */\nexports.prototype.getRGBAColorProperty = function(feature) {\n  return olColor.fromString(this.getColorProperty(feature));\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {string} Name.\n * @export\n */\nexports.prototype.getNameProperty = function(feature) {\n  const name = googAsserts.assertString(feature.get(ngeoFormatFeatureProperties.NAME));\n  googAsserts.assertString(name);\n  return name;\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {number} Opacity.\n * @export\n */\nexports.prototype.getOpacityProperty = function(feature) {\n  return this.getNumber(feature, ngeoFormatFeatureProperties.OPACITY);\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {boolean} Show measure.\n * @export\n */\nexports.prototype.getShowMeasureProperty = function(feature) {\n  let showMeasure = feature.get(ngeoFormatFeatureProperties.SHOW_MEASURE);\n  if (showMeasure === undefined) {\n    showMeasure = false;\n  } else if (typeof showMeasure === 'string') {\n    showMeasure = (showMeasure === 'true') ? true : false;\n  }\n  return googAsserts.assertBoolean(showMeasure);\n};\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {boolean} Show feature label.\n * @export\n */\nexports.prototype.getShowLabelProperty = function(feature) {\n  let showLabel = feature.get(ngeoFormatFeatureProperties.SHOW_LABEL);\n  if (showLabel === undefined) {\n    showLabel = false;\n  } else if (typeof showLabel === 'string') {\n    showLabel = (showLabel === 'true') ? true : false;\n  }\n  return googAsserts.assertBoolean(showLabel);\n};\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {number} Size.\n * @export\n */\nexports.prototype.getSizeProperty = function(feature) {\n  return this.getNumber(feature, ngeoFormatFeatureProperties.SIZE);\n};\n\n\n/**\n * @param {!ol.Feature} feature Feature.\n * @return {number} Stroke.\n * @export\n */\nexports.prototype.getStrokeProperty = function(feature) {\n  return this.getNumber(feature, ngeoFormatFeatureProperties.STROKE);\n};\n\n\n// === EXPORT ===\n\n\n/**\n * Export features in the given format. The projection of the exported features\n * is: `EPSG:4326`.\n * @param {!Array.<!ol.Feature>} features Array of vector features.\n * @param {string} formatType Format type to export the features.\n * @export\n */\nexports.prototype.export = function(features, formatType) {\n  switch (formatType) {\n    case exports.FormatType.GPX:\n      this.exportGPX(features);\n      break;\n    case exports.FormatType.KML:\n      this.exportKML(features);\n      break;\n    default:\n      break;\n  }\n};\n\n\n/**\n * Export features in GPX and download the result to the browser. The\n * projection of the exported features is: `EPSG:4326`.\n * @param {!Array.<!ol.Feature>} features Array of vector features.\n * @export\n */\nexports.prototype.exportGPX = function(features) {\n  const format = new olFormatGPX();\n  const mimeType = 'application/gpx+xml';\n  const fileName = 'export.gpx';\n  this.export_(features, format, fileName, mimeType);\n};\n\n\n/**\n * Export features in KML and download the result to the browser. The\n * projection of the exported features is: `EPSG:4326`.\n * @param {!Array.<!ol.Feature>} features Array of vector features.\n * @export\n */\nexports.prototype.exportKML = function(features) {\n  const format = new olFormatKML();\n  const mimeType = 'application/vnd.google-earth.kml+xml';\n  const fileName = 'export.kml';\n  this.export_(features, format, fileName, mimeType);\n};\n\n\n/**\n * Export features using a given format to a specific filename and download\n * the result to the browser. The projection of the exported features is:\n * `EPSG:4326`.\n * @param {!Array.<!ol.Feature>} features Array of vector features.\n * @param {!ol.format.Feature} format Format\n * @param {string} fileName Name of the file.\n * @param {string=} opt_mimeType Mime type. Defaults to 'text/plain'.\n * @private\n */\nexports.prototype.export_ = function(features, format, fileName, opt_mimeType) {\n  const mimeType = opt_mimeType !== undefined ? opt_mimeType : 'text/plain';\n\n  // clone the features to apply the original style to the clone\n  // (the original may have select style active)\n  const clones = [];\n  let clone;\n  features.forEach((feature) => {\n    clone = new olFeature(feature.getProperties());\n    this.setStyle(clone, false);\n    clones.push(clone);\n  });\n\n  const writeOptions = this.projection_ ? {\n    dataProjection: 'EPSG:4326',\n    featureProjection: this.projection_\n  } : {};\n\n  const data = format.writeFeatures(clones, writeOptions);\n  this.download_(\n    data, fileName, `${mimeType};charset=utf-8`);\n};\n\n\n// === OTHER UTILITY METHODS ===\n\n\n/**\n * @param {!ngeox.style.TextOptions} options Options.\n * @return {!ol.style.Text} Style.\n * @private\n */\nexports.prototype.createTextStyle_ = function(options) {\n  if (options.angle) {\n    const angle = options.angle !== undefined ? options.angle : 0;\n    const rotation = angle * Math.PI / 180;\n    options.rotation = rotation;\n    delete options.angle;\n  }\n\n  options.font = ['normal', `${options.size || 10}pt`, 'Arial'].join(' ');\n\n  if (options.color) {\n    options.fill = new olStyleFill({color: options.color || [0, 0, 0, 1]});\n    delete options.color;\n  }\n\n  options.stroke = new olStyleStroke({\n    color: [255, 255, 255, 1],\n    width: options.width || 3\n  });\n  delete options.width;\n\n  return new olStyleText(options);\n};\n\n\n/**\n * Get the measure of the given feature as a string. For points, you can format\n * the result by setting a filter to apply on the coordinate with the function\n * {@link ngeo.misc.FeatureHelper.prototype.setPointFilterFn}.\n * @param {!ol.Feature} feature Feature.\n * @return {string} Measure.\n * @export\n */\nexports.prototype.getMeasure = function(feature) {\n\n  const geometry = feature.getGeometry();\n  googAsserts.assert(geometry, 'Geometry should be truthy');\n\n  let measure = '';\n\n  if (geometry instanceof olGeomPolygon) {\n    if (this.getType(feature) === ngeoGeometryType.CIRCLE) {\n      const azimut = this.optNumber(feature, ngeoFormatFeatureProperties.AZIMUT);\n      googAsserts.assertNumber(azimut);\n      const line = this.getRadiusLine(feature, azimut);\n\n      measure = ngeoInteractionMeasureAzimut.getFormattedAzimutRadius(\n        line, this.projection_, this.decimals_, this.precision_, this.unitPrefixFormat_, this.numberFormat_);\n    } else {\n      measure = ngeoInteractionMeasure.getFormattedArea(\n        geometry, this.projection_, this.precision_, this.unitPrefixFormat_);\n    }\n  } else if (geometry instanceof olGeomLineString) {\n    measure = ngeoInteractionMeasure.getFormattedLength(\n      geometry, this.projection_, this.precision_, this.unitPrefixFormat_);\n  } else if (geometry instanceof olGeomPoint) {\n    if (this.pointFilterFn_ === null) {\n      measure = ngeoInteractionMeasure.getFormattedPoint(\n        geometry, this.decimals_, this.ngeoNumberCoordinates_);\n    } else {\n      const coordinates = geometry.getCoordinates();\n      const args = this.pointFilterArgs_.slice(0);\n      args.unshift(coordinates);\n      measure = this.pointFilterFn_(...args);\n    }\n  }\n\n  return measure;\n};\n\n\n/**\n * Return the type of geometry of a feature using its geometry property and\n * some inner properties.\n * @param {!ol.Feature} feature Feature.\n * @return {string} The type of geometry.\n * @export\n */\nexports.prototype.getType = function(feature) {\n  const geometry = feature.getGeometry();\n  googAsserts.assert(geometry, 'Geometry should be thruthy');\n\n  let type;\n\n  if (geometry instanceof olGeomPoint) {\n    if (feature.get(ngeoFormatFeatureProperties.IS_TEXT)) {\n      type = ngeoGeometryType.TEXT;\n    } else {\n      type = ngeoGeometryType.POINT;\n    }\n  } else if (geometry instanceof olGeomMultiPoint) {\n    type = ngeoGeometryType.MULTI_POINT;\n  } else if (geometry instanceof olGeomPolygon) {\n    if (feature.get(ngeoFormatFeatureProperties.IS_CIRCLE)) {\n      type = ngeoGeometryType.CIRCLE;\n    } else if (feature.get(ngeoFormatFeatureProperties.IS_RECTANGLE)) {\n      type = ngeoGeometryType.RECTANGLE;\n    } else {\n      type = ngeoGeometryType.POLYGON;\n    }\n  } else if (geometry instanceof olGeomMultiPolygon) {\n    type = ngeoGeometryType.MULTI_POLYGON;\n  } else if (geometry instanceof olGeomLineString) {\n    type = ngeoGeometryType.LINE_STRING;\n  } else if (geometry instanceof olGeomMultiLineString) {\n    type = ngeoGeometryType.MULTI_LINE_STRING;\n  }\n\n  googAsserts.assert(type, 'Type should be thruthy');\n\n  return type;\n};\n\n\n/**\n * This method first checks if a feature's extent intersects with the map view\n * extent. If it doesn't, then the view gets recentered with an animation to\n * the center of the feature.\n * @param {!ol.Feature} feature Feature.\n * @param {!ol.Map} map Map.\n * @param {number=} opt_panDuration Pan animation duration. Defaults to `250`.\n * @export\n */\nexports.prototype.panMapToFeature = function(feature, map,\n  opt_panDuration) {\n\n  const panDuration = opt_panDuration !== undefined ? opt_panDuration : 250;\n  const size = map.getSize();\n  googAsserts.assertArray(size);\n  const view = map.getView();\n  const extent = view.calculateExtent(size);\n  const geometry = feature.getGeometry();\n\n  if (!geometry.intersectsExtent(extent)) {\n    const mapCenter = view.getCenter();\n    googAsserts.assertArray(mapCenter);\n\n    let featureCenter;\n    if (geometry instanceof olGeomLineString) {\n      featureCenter = geometry.getCoordinateAt(0.5);\n    } else if (geometry instanceof olGeomPolygon) {\n      featureCenter = geometry.getInteriorPoint().getCoordinates();\n    } else if (geometry instanceof olGeomPoint) {\n      featureCenter = geometry.getCoordinates();\n    } else {\n      featureCenter = olExtent.getCenter(geometry.getExtent());\n    }\n\n    view.animate({\n      center: mapCenter,\n      duration: panDuration\n    }, {\n      center: featureCenter,\n      duration: panDuration\n    });\n  }\n};\n\n\n/**\n * This method generates a line string geometry that represents the radius for\n * a given azimut. It expects the input geometry to be a circle.\n * @param {!ol.Feature} feature Feature.\n * @param {number} azimut Azimut in degrees.\n * @return {!ol.geom.LineString} The line geometry.\n */\nexports.prototype.getRadiusLine = function(feature, azimut) {\n  const geometry = feature.getGeometry();\n  // Determine the radius for the circle\n  const extent = geometry.getExtent();\n  const radius = (extent[3] - extent[1]) / 2;\n\n  const center = olExtent.getCenter(geometry.getExtent());\n\n  const x = Math.cos((azimut - 90) * Math.PI / 180) * radius;\n  const y = -Math.sin((azimut - 90) * Math.PI / 180) * radius;\n  const endPoint = [x + center[0], y + center[1]];\n  return new olGeomLineString([center, endPoint]);\n};\n\n\n/**\n * Return the properties of a feature, with the exception of the geometry.\n * @param {!ol.Feature} feature Feature.\n * @return {!Object.<string, *>} Object.\n * @export\n */\nexports.prototype.getNonSpatialProperties = function(feature) {\n  const geometryName = feature.getGeometryName();\n  const nonSpatialProperties = {};\n  const properties = feature.getProperties();\n  for (const key in properties) {\n    if (key !== geometryName) {\n      nonSpatialProperties[key] = properties[key];\n    }\n  }\n  return nonSpatialProperties;\n};\n\n\n/**\n * Clear all properties of a feature, with the exception of the geometry.\n * @param {!ol.Feature} feature Feature.\n * @export\n */\nexports.prototype.clearNonSpatialProperties = function(feature) {\n  const geometryName = feature.getGeometryName();\n  const properties = feature.getProperties();\n  for (const key in properties) {\n    if (key !== geometryName) {\n      feature.set(key, undefined);\n    }\n  }\n};\n\n\n// === FORMAT TYPES ===\n\n\n/**\n * @enum {string}\n * @export\n */\nexports.FormatType = {\n  /**\n   * @type {string}\n   * @export\n   */\n  GPX: 'GPX',\n  /**\n   * @type {string}\n   * @export\n   */\n  KML: 'KML'\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoFeatureHelper', [\n  ngeoDownloadService.name,\n  ngeoMiscFilters.name,\n]);\nexports.module.service('ngeoFeatureHelper', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/FeatureHelper.js","/**\n * @module ol/format/GPX\n */\nimport {inherits} from '../index.js';\nimport Feature from '../Feature.js';\nimport {includes} from '../array.js';\nimport {transformWithOptions} from '../format/Feature.js';\nimport XMLFeature from '../format/XMLFeature.js';\nimport XSD from '../format/XSD.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport Point from '../geom/Point.js';\nimport {get as getProjection} from '../proj.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the GPX format.\n *\n * @constructor\n * @extends {ol.format.XMLFeature}\n * @param {olx.format.GPXOptions=} opt_options Options.\n * @api\n */\nconst GPX = function(opt_options) {\n\n  const options = opt_options ? opt_options : {};\n\n  XMLFeature.call(this);\n\n  /**\n   * @inheritDoc\n   */\n  this.defaultDataProjection = getProjection('EPSG:4326');\n\n  /**\n   * @type {function(ol.Feature, Node)|undefined}\n   * @private\n   */\n  this.readExtensions_ = options.readExtensions;\n};\n\ninherits(GPX, XMLFeature);\n\n\n/**\n * @const\n * @type {Array.<string>}\n */\nconst NAMESPACE_URIS = [\n  null,\n  'http://www.topografix.com/GPX/1/0',\n  'http://www.topografix.com/GPX/1/1'\n];\n\n\n/**\n * @const\n * @type {string}\n */\nconst SCHEMA_LOCATION = 'http://www.topografix.com/GPX/1/1 ' +\n    'http://www.topografix.com/GPX/1/1/gpx.xsd';\n\n\n/**\n * @const\n * @type {Object.<string, function(Node, Array.<*>): (ol.Feature|undefined)>}\n */\nconst FEATURE_READER = {\n  'rte': readRte,\n  'trk': readTrk,\n  'wpt': readWpt\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst GPX_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'rte': _ol_xml_.makeArrayPusher(readRte),\n    'trk': _ol_xml_.makeArrayPusher(readTrk),\n    'wpt': _ol_xml_.makeArrayPusher(readWpt)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst LINK_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'text': _ol_xml_.makeObjectPropertySetter(XSD.readString, 'linkText'),\n    'type': _ol_xml_.makeObjectPropertySetter(XSD.readString, 'linkType')\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst RTE_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'cmt': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'desc': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'src': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'link': parseLink,\n    'number': _ol_xml_.makeObjectPropertySetter(XSD.readNonNegativeInteger),\n    'extensions': parseExtensions,\n    'type': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'rtept': parseRtePt\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst RTEPT_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'time': _ol_xml_.makeObjectPropertySetter(XSD.readDateTime)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst TRK_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'cmt': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'desc': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'src': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'link': parseLink,\n    'number': _ol_xml_.makeObjectPropertySetter(XSD.readNonNegativeInteger),\n    'type': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'extensions': parseExtensions,\n    'trkseg': parseTrkSeg\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst TRKSEG_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'trkpt': parseTrkPt\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst TRKPT_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'time': _ol_xml_.makeObjectPropertySetter(XSD.readDateTime)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n */\nconst WPT_PARSERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'time': _ol_xml_.makeObjectPropertySetter(XSD.readDateTime),\n    'magvar': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'geoidheight': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'cmt': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'desc': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'src': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'link': parseLink,\n    'sym': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'type': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'fix': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'sat': _ol_xml_.makeObjectPropertySetter(XSD.readNonNegativeInteger),\n    'hdop': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'vdop': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'pdop': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'ageofdgpsdata': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'dgpsid': _ol_xml_.makeObjectPropertySetter(XSD.readNonNegativeInteger),\n    'extensions': parseExtensions\n  });\n\n\n/**\n * @const\n * @type {Array.<string>}\n */\nconst LINK_SEQUENCE = ['text', 'type'];\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n */\nconst LINK_SERIALIZERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'text': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'type': _ol_xml_.makeChildAppender(XSD.writeStringTextNode)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n */\nconst RTE_SEQUENCE = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, [\n    'name', 'cmt', 'desc', 'src', 'link', 'number', 'type', 'rtept'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n */\nconst RTE_SERIALIZERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'name': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'cmt': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'desc': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'src': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'link': _ol_xml_.makeChildAppender(writeLink),\n    'number': _ol_xml_.makeChildAppender(XSD.writeNonNegativeIntegerTextNode),\n    'type': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'rtept': _ol_xml_.makeArraySerializer(_ol_xml_.makeChildAppender(writeWptType))\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n */\nconst RTEPT_TYPE_SEQUENCE = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, [\n    'ele', 'time'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n */\nconst TRK_SEQUENCE = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, [\n    'name', 'cmt', 'desc', 'src', 'link', 'number', 'type', 'trkseg'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n */\nconst TRK_SERIALIZERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'name': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'cmt': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'desc': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'src': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'link': _ol_xml_.makeChildAppender(writeLink),\n    'number': _ol_xml_.makeChildAppender(XSD.writeNonNegativeIntegerTextNode),\n    'type': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'trkseg': _ol_xml_.makeArraySerializer(_ol_xml_.makeChildAppender(writeTrkSeg))\n  });\n\n\n/**\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n */\nconst TRKSEG_NODE_FACTORY = _ol_xml_.makeSimpleNodeFactory('trkpt');\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n */\nconst TRKSEG_SERIALIZERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'trkpt': _ol_xml_.makeChildAppender(writeWptType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n */\nconst WPT_TYPE_SEQUENCE = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, [\n    'ele', 'time', 'magvar', 'geoidheight', 'name', 'cmt', 'desc', 'src',\n    'link', 'sym', 'type', 'fix', 'sat', 'hdop', 'vdop', 'pdop',\n    'ageofdgpsdata', 'dgpsid'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n */\nconst WPT_TYPE_SERIALIZERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'time': _ol_xml_.makeChildAppender(XSD.writeDateTimeTextNode),\n    'magvar': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'geoidheight': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'name': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'cmt': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'desc': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'src': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'link': _ol_xml_.makeChildAppender(writeLink),\n    'sym': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'type': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'fix': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'sat': _ol_xml_.makeChildAppender(XSD.writeNonNegativeIntegerTextNode),\n    'hdop': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'vdop': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'pdop': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'ageofdgpsdata': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'dgpsid': _ol_xml_.makeChildAppender(XSD.writeNonNegativeIntegerTextNode)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, string>}\n */\nconst GEOMETRY_TYPE_TO_NODENAME = {\n  'Point': 'wpt',\n  'LineString': 'rte',\n  'MultiLineString': 'trk'\n};\n\n\n/**\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n */\nfunction GPX_NODE_FACTORY(value, objectStack, opt_nodeName) {\n  const geometry = /** @type {ol.Feature} */ (value).getGeometry();\n  if (geometry) {\n    const nodeName = GEOMETRY_TYPE_TO_NODENAME[geometry.getType()];\n    if (nodeName) {\n      const parentNode = objectStack[objectStack.length - 1].node;\n      return _ol_xml_.createElementNS(parentNode.namespaceURI, nodeName);\n    }\n  }\n}\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n */\nconst GPX_SERIALIZERS = _ol_xml_.makeStructureNS(\n  NAMESPACE_URIS, {\n    'rte': _ol_xml_.makeChildAppender(writeRte),\n    'trk': _ol_xml_.makeChildAppender(writeTrk),\n    'wpt': _ol_xml_.makeChildAppender(writeWpt)\n  });\n\n\n/**\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n * @param {ol.LayoutOptions} layoutOptions Layout options.\n * @param {Node} node Node.\n * @param {Object} values Values.\n * @return {Array.<number>} Flat coordinates.\n */\nfunction appendCoordinate(flatCoordinates, layoutOptions, node, values) {\n  flatCoordinates.push(\n    parseFloat(node.getAttribute('lon')),\n    parseFloat(node.getAttribute('lat')));\n  if ('ele' in values) {\n    flatCoordinates.push(/** @type {number} */ (values['ele']));\n    delete values['ele'];\n    layoutOptions.hasZ = true;\n  } else {\n    flatCoordinates.push(0);\n  }\n  if ('time' in values) {\n    flatCoordinates.push(/** @type {number} */ (values['time']));\n    delete values['time'];\n    layoutOptions.hasM = true;\n  } else {\n    flatCoordinates.push(0);\n  }\n  return flatCoordinates;\n}\n\n\n/**\n * Choose GeometryLayout based on flags in layoutOptions and adjust flatCoordinates\n * and ends arrays by shrinking them accordingly (removing unused zero entries).\n *\n * @param {ol.LayoutOptions} layoutOptions Layout options.\n * @param {Array.<number>} flatCoordinates Flat coordinates.\n * @param {Array.<number>=} ends Ends.\n * @return {ol.geom.GeometryLayout} Layout.\n */\nGPX.applyLayoutOptions_ = function(layoutOptions, flatCoordinates, ends) {\n  let layout = GeometryLayout.XY;\n  let stride = 2;\n  if (layoutOptions.hasZ && layoutOptions.hasM) {\n    layout = GeometryLayout.XYZM;\n    stride = 4;\n  } else if (layoutOptions.hasZ) {\n    layout = GeometryLayout.XYZ;\n    stride = 3;\n  } else if (layoutOptions.hasM) {\n    layout = GeometryLayout.XYM;\n    stride = 3;\n  }\n  if (stride !== 4) {\n    let i, ii;\n    for (i = 0, ii = flatCoordinates.length / 4; i < ii; i++) {\n      flatCoordinates[i * stride] = flatCoordinates[i * 4];\n      flatCoordinates[i * stride + 1] = flatCoordinates[i * 4 + 1];\n      if (layoutOptions.hasZ) {\n        flatCoordinates[i * stride + 2] = flatCoordinates[i * 4 + 2];\n      }\n      if (layoutOptions.hasM) {\n        flatCoordinates[i * stride + 2] = flatCoordinates[i * 4 + 3];\n      }\n    }\n    flatCoordinates.length = flatCoordinates.length / 4 * stride;\n    if (ends) {\n      for (i = 0, ii = ends.length; i < ii; i++) {\n        ends[i] = ends[i] / 4 * stride;\n      }\n    }\n  }\n  return layout;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction parseLink(node, objectStack) {\n  const values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const href = node.getAttribute('href');\n  if (href !== null) {\n    values['link'] = href;\n  }\n  _ol_xml_.parseNode(LINK_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction parseExtensions(node, objectStack) {\n  const values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  values['extensionsNode_'] = node;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction parseRtePt(node, objectStack) {\n  const values = _ol_xml_.pushParseAndPop(\n    {}, RTEPT_PARSERS, node, objectStack);\n  if (values) {\n    const rteValues = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    const flatCoordinates = /** @type {Array.<number>} */\n        (rteValues['flatCoordinates']);\n    const layoutOptions = /** @type {ol.LayoutOptions} */\n        (rteValues['layoutOptions']);\n    appendCoordinate(flatCoordinates, layoutOptions, node, values);\n  }\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction parseTrkPt(node, objectStack) {\n  const values = _ol_xml_.pushParseAndPop({}, TRKPT_PARSERS, node, objectStack);\n  if (values) {\n    const trkValues = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    const flatCoordinates = /** @type {Array.<number>} */\n        (trkValues['flatCoordinates']);\n    const layoutOptions = /** @type {ol.LayoutOptions} */\n        (trkValues['layoutOptions']);\n    appendCoordinate(flatCoordinates, layoutOptions, node, values);\n  }\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction parseTrkSeg(node, objectStack) {\n  const values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  _ol_xml_.parseNode(TRKSEG_PARSERS, node, objectStack);\n  const flatCoordinates = /** @type {Array.<number>} */\n      (values['flatCoordinates']);\n  const ends = /** @type {Array.<number>} */ (values['ends']);\n  ends.push(flatCoordinates.length);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Feature|undefined} Track.\n */\nfunction readRte(node, objectStack) {\n  const options = /** @type {olx.format.ReadOptions} */ (objectStack[0]);\n  const values = _ol_xml_.pushParseAndPop({\n    'flatCoordinates': [],\n    'layoutOptions': {}\n  }, RTE_PARSERS, node, objectStack);\n  if (!values) {\n    return undefined;\n  }\n  const flatCoordinates = /** @type {Array.<number>} */\n      (values['flatCoordinates']);\n  delete values['flatCoordinates'];\n  const layoutOptions = /** @type {ol.LayoutOptions} */ (values['layoutOptions']);\n  delete values['layoutOptions'];\n  const layout = GPX.applyLayoutOptions_(layoutOptions, flatCoordinates);\n  const geometry = new LineString(null);\n  geometry.setFlatCoordinates(layout, flatCoordinates);\n  transformWithOptions(geometry, false, options);\n  const feature = new Feature(geometry);\n  feature.setProperties(values);\n  return feature;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Feature|undefined} Track.\n */\nfunction readTrk(node, objectStack) {\n  const options = /** @type {olx.format.ReadOptions} */ (objectStack[0]);\n  const values = _ol_xml_.pushParseAndPop({\n    'flatCoordinates': [],\n    'ends': [],\n    'layoutOptions': {}\n  }, TRK_PARSERS, node, objectStack);\n  if (!values) {\n    return undefined;\n  }\n  const flatCoordinates = /** @type {Array.<number>} */\n      (values['flatCoordinates']);\n  delete values['flatCoordinates'];\n  const ends = /** @type {Array.<number>} */ (values['ends']);\n  delete values['ends'];\n  const layoutOptions = /** @type {ol.LayoutOptions} */ (values['layoutOptions']);\n  delete values['layoutOptions'];\n  const layout = GPX.applyLayoutOptions_(layoutOptions, flatCoordinates, ends);\n  const geometry = new MultiLineString(null);\n  geometry.setFlatCoordinates(layout, flatCoordinates, ends);\n  transformWithOptions(geometry, false, options);\n  const feature = new Feature(geometry);\n  feature.setProperties(values);\n  return feature;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Feature|undefined} Waypoint.\n */\nfunction readWpt(node, objectStack) {\n  const options = /** @type {olx.format.ReadOptions} */ (objectStack[0]);\n  const values = _ol_xml_.pushParseAndPop({}, WPT_PARSERS, node, objectStack);\n  if (!values) {\n    return undefined;\n  }\n  const layoutOptions = /** @type {ol.LayoutOptions} */ ({});\n  const coordinates = appendCoordinate([], layoutOptions, node, values);\n  const layout = GPX.applyLayoutOptions_(layoutOptions, coordinates);\n  const geometry = new Point(coordinates, layout);\n  transformWithOptions(geometry, false, options);\n  const feature = new Feature(geometry);\n  feature.setProperties(values);\n  return feature;\n}\n\n\n/**\n * @param {Array.<ol.Feature>} features List of features.\n * @private\n */\nGPX.prototype.handleReadExtensions_ = function(features) {\n  if (!features) {\n    features = [];\n  }\n  for (let i = 0, ii = features.length; i < ii; ++i) {\n    const feature = features[i];\n    if (this.readExtensions_) {\n      const extensionsNode = feature.get('extensionsNode_') || null;\n      this.readExtensions_(feature, extensionsNode);\n    }\n    feature.set('extensionsNode_', undefined);\n  }\n};\n\n\n/**\n * Read the first feature from a GPX source.\n * Routes (`<rte>`) are converted into LineString geometries, and tracks (`<trk>`)\n * into MultiLineString. Any properties on route and track waypoints are ignored.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.Feature} Feature.\n * @api\n */\nGPX.prototype.readFeature;\n\n\n/**\n * @inheritDoc\n */\nGPX.prototype.readFeatureFromNode = function(node, opt_options) {\n  if (!includes(NAMESPACE_URIS, node.namespaceURI)) {\n    return null;\n  }\n  const featureReader = FEATURE_READER[node.localName];\n  if (!featureReader) {\n    return null;\n  }\n  const feature = featureReader(node, [this.getReadOptions(node, opt_options)]);\n  if (!feature) {\n    return null;\n  }\n  this.handleReadExtensions_([feature]);\n  return feature;\n};\n\n\n/**\n * Read all features from a GPX source.\n * Routes (`<rte>`) are converted into LineString geometries, and tracks (`<trk>`)\n * into MultiLineString. Any properties on route and track waypoints are ignored.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\nGPX.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nGPX.prototype.readFeaturesFromNode = function(node, opt_options) {\n  if (!includes(NAMESPACE_URIS, node.namespaceURI)) {\n    return [];\n  }\n  if (node.localName == 'gpx') {\n    /** @type {Array.<ol.Feature>} */\n    const features = _ol_xml_.pushParseAndPop([], GPX_PARSERS,\n      node, [this.getReadOptions(node, opt_options)]);\n    if (features) {\n      this.handleReadExtensions_(features);\n      return features;\n    } else {\n      return [];\n    }\n  }\n  return [];\n};\n\n\n/**\n * Read the projection from a GPX source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @return {ol.proj.Projection} Projection.\n * @api\n */\nGPX.prototype.readProjection;\n\n\n/**\n * @param {Node} node Node.\n * @param {string} value Value for the link's `href` attribute.\n * @param {Array.<*>} objectStack Node stack.\n */\nfunction writeLink(node, value, objectStack) {\n  node.setAttribute('href', value);\n  const context = objectStack[objectStack.length - 1];\n  const properties = context['properties'];\n  const link = [\n    properties['linkText'],\n    properties['linkType']\n  ];\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */ ({node: node}),\n    LINK_SERIALIZERS, _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    link, objectStack, LINK_SEQUENCE);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Coordinate} coordinate Coordinate.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction writeWptType(node, coordinate, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n  const parentNode = context.node;\n  const namespaceURI = parentNode.namespaceURI;\n  const properties = context['properties'];\n  //FIXME Projection handling\n  _ol_xml_.setAttributeNS(node, null, 'lat', coordinate[1]);\n  _ol_xml_.setAttributeNS(node, null, 'lon', coordinate[0]);\n  const geometryLayout = context['geometryLayout'];\n  switch (geometryLayout) {\n    case GeometryLayout.XYZM:\n      if (coordinate[3] !== 0) {\n        properties['time'] = coordinate[3];\n      }\n      // fall through\n    case GeometryLayout.XYZ:\n      if (coordinate[2] !== 0) {\n        properties['ele'] = coordinate[2];\n      }\n      break;\n    case GeometryLayout.XYM:\n      if (coordinate[2] !== 0) {\n        properties['time'] = coordinate[2];\n      }\n      break;\n    default:\n      // pass\n  }\n  const orderedKeys = (node.nodeName == 'rtept') ?\n    RTEPT_TYPE_SEQUENCE[namespaceURI] :\n    WPT_TYPE_SEQUENCE[namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    ({node: node, 'properties': properties}),\n    WPT_TYPE_SERIALIZERS, _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    values, objectStack, orderedKeys);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction writeRte(node, feature, objectStack) {\n  const options = /** @type {olx.format.WriteOptions} */ (objectStack[0]);\n  const properties = feature.getProperties();\n  const context = {node: node, 'properties': properties};\n  let geometry = feature.getGeometry();\n  if (geometry) {\n    geometry = /** @type {ol.geom.LineString} */ (transformWithOptions(geometry, true, options));\n    context['geometryLayout'] = geometry.getLayout();\n    properties['rtept'] = geometry.getCoordinates();\n  }\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = RTE_SEQUENCE[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context,\n    RTE_SERIALIZERS, _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    values, objectStack, orderedKeys);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction writeTrk(node, feature, objectStack) {\n  const options = /** @type {olx.format.WriteOptions} */ (objectStack[0]);\n  const properties = feature.getProperties();\n  /** @type {ol.XmlNodeStackItem} */\n  const context = {node: node, 'properties': properties};\n  let geometry = feature.getGeometry();\n  if (geometry) {\n    geometry = /** @type {ol.geom.MultiLineString} */\n      (transformWithOptions(geometry, true, options));\n    properties['trkseg'] = geometry.getLineStrings();\n  }\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = TRK_SEQUENCE[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context,\n    TRK_SERIALIZERS, _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    values, objectStack, orderedKeys);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LineString} lineString LineString.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction writeTrkSeg(node, lineString, objectStack) {\n  /** @type {ol.XmlNodeStackItem} */\n  const context = {node: node, 'geometryLayout': lineString.getLayout(),\n    'properties': {}};\n  _ol_xml_.pushSerializeAndPop(context,\n    TRKSEG_SERIALIZERS, TRKSEG_NODE_FACTORY,\n    lineString.getCoordinates(), objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Object stack.\n */\nfunction writeWpt(node, feature, objectStack) {\n  const options = /** @type {olx.format.WriteOptions} */ (objectStack[0]);\n  const context = objectStack[objectStack.length - 1];\n  context['properties'] = feature.getProperties();\n  let geometry = feature.getGeometry();\n  if (geometry) {\n    geometry = /** @type {ol.geom.Point} */\n      (transformWithOptions(geometry, true, options));\n    context['geometryLayout'] = geometry.getLayout();\n    writeWptType(node, geometry.getCoordinates(), objectStack);\n  }\n}\n\n\n/**\n * Encode an array of features in the GPX format.\n * LineString geometries are output as routes (`<rte>`), and MultiLineString\n * as tracks (`<trk>`).\n *\n * @function\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} Result.\n * @api\n */\nGPX.prototype.writeFeatures;\n\n\n/**\n * Encode an array of features in the GPX format as an XML node.\n * LineString geometries are output as routes (`<rte>`), and MultiLineString\n * as tracks (`<trk>`).\n *\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {Node} Node.\n * @override\n * @api\n */\nGPX.prototype.writeFeaturesNode = function(features, opt_options) {\n  opt_options = this.adaptOptions(opt_options);\n  //FIXME Serialize metadata\n  const gpx = _ol_xml_.createElementNS('http://www.topografix.com/GPX/1/1', 'gpx');\n  const xmlnsUri = 'http://www.w3.org/2000/xmlns/';\n  const xmlSchemaInstanceUri = 'http://www.w3.org/2001/XMLSchema-instance';\n  _ol_xml_.setAttributeNS(gpx, xmlnsUri, 'xmlns:xsi', xmlSchemaInstanceUri);\n  _ol_xml_.setAttributeNS(gpx, xmlSchemaInstanceUri, 'xsi:schemaLocation',\n    SCHEMA_LOCATION);\n  gpx.setAttribute('version', '1.1');\n  gpx.setAttribute('creator', 'OpenLayers');\n\n  _ol_xml_.pushSerializeAndPop(/** @type {ol.XmlNodeStackItem} */\n    ({node: gpx}), GPX_SERIALIZERS, GPX_NODE_FACTORY, features, [opt_options]);\n  return gpx;\n};\nexport default GPX;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/GPX.js\n// module id = 165\n// module chunks = 0 1 2 3 4 5 6 7 8 9 12 14","/**\n * @module ol/format/KML\n */\nimport {inherits} from '../index.js';\nimport Feature from '../Feature.js';\nimport {extend, includes} from '../array.js';\nimport {assert} from '../asserts.js';\nimport {asArray} from '../color.js';\nimport {transformWithOptions} from '../format/Feature.js';\nimport XMLFeature from '../format/XMLFeature.js';\nimport XSD from '../format/XSD.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport GeometryLayout from '../geom/GeometryLayout.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport {toRadians} from '../math.js';\nimport {get as getProjection} from '../proj.js';\nimport Fill from '../style/Fill.js';\nimport Icon from '../style/Icon.js';\nimport IconAnchorUnits from '../style/IconAnchorUnits.js';\nimport IconOrigin from '../style/IconOrigin.js';\nimport Stroke from '../style/Stroke.js';\nimport Style from '../style/Style.js';\nimport Text from '../style/Text.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the KML format.\n *\n * Note that the KML format uses the URL() constructor. Older browsers such as IE\n * which do not support this will need a URL polyfill to be loaded before use.\n *\n * @constructor\n * @extends {ol.format.XMLFeature}\n * @param {olx.format.KMLOptions=} opt_options Options.\n * @api\n */\nconst KML = function(opt_options) {\n\n  const options = opt_options ? opt_options : {};\n\n  XMLFeature.call(this);\n\n  if (!KML.DEFAULT_STYLE_ARRAY_) {\n    KML.createStyleDefaults_();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  this.defaultDataProjection = getProjection('EPSG:4326');\n\n  /**\n   * @private\n   * @type {Array.<ol.style.Style>}\n   */\n  this.defaultStyle_ = options.defaultStyle ?\n    options.defaultStyle : KML.DEFAULT_STYLE_ARRAY_;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.extractStyles_ = options.extractStyles !== undefined ?\n    options.extractStyles : true;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.writeStyles_ = options.writeStyles !== undefined ?\n    options.writeStyles : true;\n\n  /**\n   * @private\n   * @type {Object.<string, (Array.<ol.style.Style>|string)>}\n   */\n  this.sharedStyles_ = {};\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.showPointNames_ = options.showPointNames !== undefined ?\n    options.showPointNames : true;\n\n};\n\ninherits(KML, XMLFeature);\n\n\n/**\n * @const\n * @type {Array.<string>}\n * @private\n */\nKML.GX_NAMESPACE_URIS_ = [\n  'http://www.google.com/kml/ext/2.2'\n];\n\n\n/**\n * @const\n * @type {Array.<string>}\n * @private\n */\nKML.NAMESPACE_URIS_ = [\n  null,\n  'http://earth.google.com/kml/2.0',\n  'http://earth.google.com/kml/2.1',\n  'http://earth.google.com/kml/2.2',\n  'http://www.opengis.net/kml/2.2'\n];\n\n\n/**\n * @const\n * @type {string}\n * @private\n */\nKML.SCHEMA_LOCATION_ = 'http://www.opengis.net/kml/2.2 ' +\n    'https://developers.google.com/kml/schema/kml22gx.xsd';\n\n\n/**\n * @return {Array.<ol.style.Style>} Default style.\n * @private\n */\nKML.createStyleDefaults_ = function() {\n  /**\n   * @const\n   * @type {ol.Color}\n   * @private\n   */\n  KML.DEFAULT_COLOR_ = [255, 255, 255, 1];\n\n  /**\n   * @const\n   * @type {ol.style.Fill}\n   * @private\n   */\n  KML.DEFAULT_FILL_STYLE_ = new Fill({\n    color: KML.DEFAULT_COLOR_\n  });\n\n  /**\n   * @const\n   * @type {ol.Size}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_STYLE_ANCHOR_ = [20, 2]; // FIXME maybe [8, 32] ?\n\n  /**\n   * @const\n   * @type {ol.style.IconAnchorUnits}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_ = IconAnchorUnits.PIXELS;\n\n  /**\n   * @const\n   * @type {ol.style.IconAnchorUnits}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_ = IconAnchorUnits.PIXELS;\n\n  /**\n   * @const\n   * @type {ol.Size}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_STYLE_SIZE_ = [64, 64];\n\n  /**\n   * @const\n   * @type {string}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_STYLE_SRC_ =\n      'https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png';\n\n  /**\n   * @const\n   * @type {number}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_ = 0.5;\n\n  /**\n   * @const\n   * @type {ol.style.Image}\n   * @private\n   */\n  KML.DEFAULT_IMAGE_STYLE_ = new Icon({\n    anchor: KML.DEFAULT_IMAGE_STYLE_ANCHOR_,\n    anchorOrigin: IconOrigin.BOTTOM_LEFT,\n    anchorXUnits: KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,\n    anchorYUnits: KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,\n    crossOrigin: 'anonymous',\n    rotation: 0,\n    scale: KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,\n    size: KML.DEFAULT_IMAGE_STYLE_SIZE_,\n    src: KML.DEFAULT_IMAGE_STYLE_SRC_\n  });\n\n  /**\n   * @const\n   * @type {string}\n   * @private\n   */\n  KML.DEFAULT_NO_IMAGE_STYLE_ = 'NO_IMAGE';\n\n  /**\n   * @const\n   * @type {ol.style.Stroke}\n   * @private\n   */\n  KML.DEFAULT_STROKE_STYLE_ = new Stroke({\n    color: KML.DEFAULT_COLOR_,\n    width: 1\n  });\n\n  /**\n   * @const\n   * @type {ol.style.Stroke}\n   * @private\n   */\n  KML.DEFAULT_TEXT_STROKE_STYLE_ = new Stroke({\n    color: [51, 51, 51, 1],\n    width: 2\n  });\n\n  /**\n   * @const\n   * @type {ol.style.Text}\n   * @private\n   */\n  KML.DEFAULT_TEXT_STYLE_ = new Text({\n    font: 'bold 16px Helvetica',\n    fill: KML.DEFAULT_FILL_STYLE_,\n    stroke: KML.DEFAULT_TEXT_STROKE_STYLE_,\n    scale: 0.8\n  });\n\n  /**\n   * @const\n   * @type {ol.style.Style}\n   * @private\n   */\n  KML.DEFAULT_STYLE_ = new Style({\n    fill: KML.DEFAULT_FILL_STYLE_,\n    image: KML.DEFAULT_IMAGE_STYLE_,\n    text: KML.DEFAULT_TEXT_STYLE_,\n    stroke: KML.DEFAULT_STROKE_STYLE_,\n    zIndex: 0\n  });\n\n  /**\n   * @const\n   * @type {Array.<ol.style.Style>}\n   * @private\n   */\n  KML.DEFAULT_STYLE_ARRAY_ = [KML.DEFAULT_STYLE_];\n\n  return KML.DEFAULT_STYLE_ARRAY_;\n};\n\n\n/**\n * @const\n * @type {Object.<string, ol.style.IconAnchorUnits>}\n * @private\n */\nKML.ICON_ANCHOR_UNITS_MAP_ = {\n  'fraction': IconAnchorUnits.FRACTION,\n  'pixels': IconAnchorUnits.PIXELS,\n  'insetPixels': IconAnchorUnits.PIXELS\n};\n\n\n/**\n * @param {ol.style.Style|undefined} foundStyle Style.\n * @param {string} name Name.\n * @return {ol.style.Style} style Style.\n * @private\n */\nKML.createNameStyleFunction_ = function(foundStyle, name) {\n  let textStyle = null;\n  const textOffset = [0, 0];\n  let textAlign = 'start';\n  if (foundStyle.getImage()) {\n    let imageSize = foundStyle.getImage().getImageSize();\n    if (imageSize === null) {\n      imageSize = KML.DEFAULT_IMAGE_STYLE_SIZE_;\n    }\n    if (imageSize.length == 2) {\n      const imageScale = foundStyle.getImage().getScale();\n      // Offset the label to be centered to the right of the icon, if there is\n      // one.\n      textOffset[0] = imageScale * imageSize[0] / 2;\n      textOffset[1] = -imageScale * imageSize[1] / 2;\n      textAlign = 'left';\n    }\n  }\n  if (foundStyle.getText() !== null) {\n    // clone the text style, customizing it with name, alignments and offset.\n    // Note that kml does not support many text options that OpenLayers does (rotation, textBaseline).\n    const foundText = foundStyle.getText();\n    textStyle = foundText.clone();\n    textStyle.setFont(foundText.getFont() || KML.DEFAULT_TEXT_STYLE_.getFont());\n    textStyle.setScale(foundText.getScale() || KML.DEFAULT_TEXT_STYLE_.getScale());\n    textStyle.setFill(foundText.getFill() || KML.DEFAULT_TEXT_STYLE_.getFill());\n    textStyle.setStroke(foundText.getStroke() || KML.DEFAULT_TEXT_STROKE_STYLE_);\n  } else {\n    textStyle = KML.DEFAULT_TEXT_STYLE_.clone();\n  }\n  textStyle.setText(name);\n  textStyle.setOffsetX(textOffset[0]);\n  textStyle.setOffsetY(textOffset[1]);\n  textStyle.setTextAlign(textAlign);\n\n  const nameStyle = new Style({\n    text: textStyle\n  });\n  return nameStyle;\n};\n\n\n/**\n * @param {Array.<ol.style.Style>|undefined} style Style.\n * @param {string} styleUrl Style URL.\n * @param {Array.<ol.style.Style>} defaultStyle Default style.\n * @param {Object.<string, (Array.<ol.style.Style>|string)>} sharedStyles Shared\n *          styles.\n * @param {boolean|undefined} showPointNames true to show names for point\n *          placemarks.\n * @return {ol.FeatureStyleFunction} Feature style function.\n * @private\n */\nKML.createFeatureStyleFunction_ = function(style, styleUrl,\n  defaultStyle, sharedStyles, showPointNames) {\n\n  return (\n    /**\n         * @param {number} resolution Resolution.\n         * @return {Array.<ol.style.Style>} Style.\n         * @this {ol.Feature}\n         */\n    function(resolution) {\n      let drawName = showPointNames;\n      /** @type {ol.style.Style|undefined} */\n      let nameStyle;\n      let name = '';\n      if (drawName) {\n        if (this.getGeometry()) {\n          drawName = (this.getGeometry().getType() ===\n                        GeometryType.POINT);\n        }\n      }\n\n      if (drawName) {\n        name = /** @type {string} */ (this.get('name'));\n        drawName = drawName && name;\n      }\n\n      if (style) {\n        if (drawName) {\n          nameStyle = KML.createNameStyleFunction_(style[0],\n            name);\n          return style.concat(nameStyle);\n        }\n        return style;\n      }\n      if (styleUrl) {\n        const foundStyle = KML.findStyle_(styleUrl, defaultStyle,\n          sharedStyles);\n        if (drawName) {\n          nameStyle = KML.createNameStyleFunction_(foundStyle[0],\n            name);\n          return foundStyle.concat(nameStyle);\n        }\n        return foundStyle;\n      }\n      if (drawName) {\n        nameStyle = KML.createNameStyleFunction_(defaultStyle[0],\n          name);\n        return defaultStyle.concat(nameStyle);\n      }\n      return defaultStyle;\n    }\n  );\n};\n\n\n/**\n * @param {Array.<ol.style.Style>|string|undefined} styleValue Style value.\n * @param {Array.<ol.style.Style>} defaultStyle Default style.\n * @param {Object.<string, (Array.<ol.style.Style>|string)>} sharedStyles\n * Shared styles.\n * @return {Array.<ol.style.Style>} Style.\n * @private\n */\nKML.findStyle_ = function(styleValue, defaultStyle, sharedStyles) {\n  if (Array.isArray(styleValue)) {\n    return styleValue;\n  } else if (typeof styleValue === 'string') {\n    // KML files in the wild occasionally forget the leading `#` on styleUrls\n    // defined in the same document.  Add a leading `#` if it enables to find\n    // a style.\n    if (!(styleValue in sharedStyles) && ('#' + styleValue in sharedStyles)) {\n      styleValue = '#' + styleValue;\n    }\n    return KML.findStyle_(\n      sharedStyles[styleValue], defaultStyle, sharedStyles);\n  } else {\n    return defaultStyle;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @private\n * @return {ol.Color|undefined} Color.\n */\nKML.readColor_ = function(node) {\n  const s = _ol_xml_.getAllTextContent(node, false);\n  // The KML specification states that colors should not include a leading `#`\n  // but we tolerate them.\n  const m = /^\\s*#?\\s*([0-9A-Fa-f]{8})\\s*$/.exec(s);\n  if (m) {\n    const hexColor = m[1];\n    return [\n      parseInt(hexColor.substr(6, 2), 16),\n      parseInt(hexColor.substr(4, 2), 16),\n      parseInt(hexColor.substr(2, 2), 16),\n      parseInt(hexColor.substr(0, 2), 16) / 255\n    ];\n\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @private\n * @return {Array.<number>|undefined} Flat coordinates.\n */\nKML.readFlatCoordinates_ = function(node) {\n  let s = _ol_xml_.getAllTextContent(node, false);\n  const flatCoordinates = [];\n  // The KML specification states that coordinate tuples should not include\n  // spaces, but we tolerate them.\n  const re =\n      /^\\s*([+\\-]?\\d*\\.?\\d+(?:e[+\\-]?\\d+)?)\\s*,\\s*([+\\-]?\\d*\\.?\\d+(?:e[+\\-]?\\d+)?)(?:\\s*,\\s*([+\\-]?\\d*\\.?\\d+(?:e[+\\-]?\\d+)?))?\\s*/i;\n  let m;\n  while ((m = re.exec(s))) {\n    const x = parseFloat(m[1]);\n    const y = parseFloat(m[2]);\n    const z = m[3] ? parseFloat(m[3]) : 0;\n    flatCoordinates.push(x, y, z);\n    s = s.substr(m[0].length);\n  }\n  if (s !== '') {\n    return undefined;\n  }\n  return flatCoordinates;\n};\n\n\n/**\n * @param {Node} node Node.\n * @private\n * @return {string} URI.\n */\nKML.readURI_ = function(node) {\n  const s = _ol_xml_.getAllTextContent(node, false).trim();\n  let baseURI = node.baseURI;\n  if (!baseURI || baseURI == 'about:blank') {\n    baseURI = window.location.href;\n  }\n  if (baseURI) {\n    const url = new URL(s, baseURI);\n    return url.href;\n  } else {\n    return s;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @private\n * @return {ol.KMLVec2_} Vec2.\n */\nKML.readVec2_ = function(node) {\n  const xunits = node.getAttribute('xunits');\n  const yunits = node.getAttribute('yunits');\n  let origin;\n  if (xunits !== 'insetPixels') {\n    if (yunits !== 'insetPixels') {\n      origin = IconOrigin.BOTTOM_LEFT;\n    } else {\n      origin = IconOrigin.TOP_LEFT;\n    }\n  } else {\n    if (yunits !== 'insetPixels') {\n      origin = IconOrigin.BOTTOM_RIGHT;\n    } else {\n      origin = IconOrigin.TOP_RIGHT;\n    }\n  }\n  return {\n    x: parseFloat(node.getAttribute('x')),\n    xunits: KML.ICON_ANCHOR_UNITS_MAP_[xunits],\n    y: parseFloat(node.getAttribute('y')),\n    yunits: KML.ICON_ANCHOR_UNITS_MAP_[yunits],\n    origin: origin\n  };\n};\n\n\n/**\n * @param {Node} node Node.\n * @private\n * @return {number|undefined} Scale.\n */\nKML.readScale_ = function(node) {\n  return XSD.readDecimal(node);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<ol.style.Style>|string|undefined} StyleMap.\n */\nKML.readStyleMapValue_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(undefined,\n    KML.STYLE_MAP_PARSERS_, node, objectStack);\n};\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.IconStyleParser_ = function(node, objectStack) {\n  // FIXME refreshMode\n  // FIXME refreshInterval\n  // FIXME viewRefreshTime\n  // FIXME viewBoundScale\n  // FIXME viewFormat\n  // FIXME httpQuery\n  const object = _ol_xml_.pushParseAndPop(\n    {}, KML.ICON_STYLE_PARSERS_, node, objectStack);\n  if (!object) {\n    return;\n  }\n  const styleObject = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const IconObject = 'Icon' in object ? object['Icon'] : {};\n  const drawIcon = (!('Icon' in object) || Object.keys(IconObject).length > 0);\n  let src;\n  const href = /** @type {string|undefined} */\n      (IconObject['href']);\n  if (href) {\n    src = href;\n  } else if (drawIcon) {\n    src = KML.DEFAULT_IMAGE_STYLE_SRC_;\n  }\n  let anchor, anchorXUnits, anchorYUnits;\n  let anchorOrigin = IconOrigin.BOTTOM_LEFT;\n  const hotSpot = /** @type {ol.KMLVec2_|undefined} */\n      (object['hotSpot']);\n  if (hotSpot) {\n    anchor = [hotSpot.x, hotSpot.y];\n    anchorXUnits = hotSpot.xunits;\n    anchorYUnits = hotSpot.yunits;\n    anchorOrigin = hotSpot.origin;\n  } else if (src === KML.DEFAULT_IMAGE_STYLE_SRC_) {\n    anchor = KML.DEFAULT_IMAGE_STYLE_ANCHOR_;\n    anchorXUnits = KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_;\n    anchorYUnits = KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_;\n  } else if (/^http:\\/\\/maps\\.(?:google|gstatic)\\.com\\//.test(src)) {\n    anchor = [0.5, 0];\n    anchorXUnits = IconAnchorUnits.FRACTION;\n    anchorYUnits = IconAnchorUnits.FRACTION;\n  }\n\n  let offset;\n  const x = /** @type {number|undefined} */\n      (IconObject['x']);\n  const y = /** @type {number|undefined} */\n      (IconObject['y']);\n  if (x !== undefined && y !== undefined) {\n    offset = [x, y];\n  }\n\n  let size;\n  const w = /** @type {number|undefined} */\n      (IconObject['w']);\n  const h = /** @type {number|undefined} */\n      (IconObject['h']);\n  if (w !== undefined && h !== undefined) {\n    size = [w, h];\n  }\n\n  let rotation;\n  const heading = /** @type {number} */\n      (object['heading']);\n  if (heading !== undefined) {\n    rotation = toRadians(heading);\n  }\n\n  let scale = /** @type {number|undefined} */\n      (object['scale']);\n\n  if (drawIcon) {\n    if (src == KML.DEFAULT_IMAGE_STYLE_SRC_) {\n      size = KML.DEFAULT_IMAGE_STYLE_SIZE_;\n      if (scale === undefined) {\n        scale = KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_;\n      }\n    }\n\n    const imageStyle = new Icon({\n      anchor: anchor,\n      anchorOrigin: anchorOrigin,\n      anchorXUnits: anchorXUnits,\n      anchorYUnits: anchorYUnits,\n      crossOrigin: 'anonymous', // FIXME should this be configurable?\n      offset: offset,\n      offsetOrigin: IconOrigin.BOTTOM_LEFT,\n      rotation: rotation,\n      scale: scale,\n      size: size,\n      src: src\n    });\n    styleObject['imageStyle'] = imageStyle;\n  } else {\n    // handle the case when we explicitly want to draw no icon.\n    styleObject['imageStyle'] = KML.DEFAULT_NO_IMAGE_STYLE_;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.LabelStyleParser_ = function(node, objectStack) {\n  // FIXME colorMode\n  const object = _ol_xml_.pushParseAndPop(\n    {}, KML.LABEL_STYLE_PARSERS_, node, objectStack);\n  if (!object) {\n    return;\n  }\n  const styleObject = objectStack[objectStack.length - 1];\n  const textStyle = new Text({\n    fill: new Fill({\n      color: /** @type {ol.Color} */\n          ('color' in object ? object['color'] : KML.DEFAULT_COLOR_)\n    }),\n    scale: /** @type {number|undefined} */\n        (object['scale'])\n  });\n  styleObject['textStyle'] = textStyle;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.LineStyleParser_ = function(node, objectStack) {\n  // FIXME colorMode\n  // FIXME gx:outerColor\n  // FIXME gx:outerWidth\n  // FIXME gx:physicalWidth\n  // FIXME gx:labelVisibility\n  const object = _ol_xml_.pushParseAndPop(\n    {}, KML.LINE_STYLE_PARSERS_, node, objectStack);\n  if (!object) {\n    return;\n  }\n  const styleObject = objectStack[objectStack.length - 1];\n  const strokeStyle = new Stroke({\n    color: /** @type {ol.Color} */\n        ('color' in object ? object['color'] : KML.DEFAULT_COLOR_),\n    width: /** @type {number} */ ('width' in object ? object['width'] : 1)\n  });\n  styleObject['strokeStyle'] = strokeStyle;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.PolyStyleParser_ = function(node, objectStack) {\n  // FIXME colorMode\n  const object = _ol_xml_.pushParseAndPop(\n    {}, KML.POLY_STYLE_PARSERS_, node, objectStack);\n  if (!object) {\n    return;\n  }\n  const styleObject = objectStack[objectStack.length - 1];\n  const fillStyle = new Fill({\n    color: /** @type {ol.Color} */\n        ('color' in object ? object['color'] : KML.DEFAULT_COLOR_)\n  });\n  styleObject['fillStyle'] = fillStyle;\n  const fill = /** @type {boolean|undefined} */ (object['fill']);\n  if (fill !== undefined) {\n    styleObject['fill'] = fill;\n  }\n  const outline =\n      /** @type {boolean|undefined} */ (object['outline']);\n  if (outline !== undefined) {\n    styleObject['outline'] = outline;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>} LinearRing flat coordinates.\n */\nKML.readFlatLinearRing_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(null,\n    KML.FLAT_LINEAR_RING_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.gxCoordParser_ = function(node, objectStack) {\n  const gxTrackObject = /** @type {ol.KMLGxTrackObject_} */\n      (objectStack[objectStack.length - 1]);\n  const flatCoordinates = gxTrackObject.flatCoordinates;\n  const s = _ol_xml_.getAllTextContent(node, false);\n  const re =\n      /^\\s*([+\\-]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d*)?)\\s+([+\\-]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d*)?)\\s+([+\\-]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d*)?)\\s*$/i;\n  const m = re.exec(s);\n  if (m) {\n    const x = parseFloat(m[1]);\n    const y = parseFloat(m[2]);\n    const z = parseFloat(m[3]);\n    flatCoordinates.push(x, y, z, 0);\n  } else {\n    flatCoordinates.push(0, 0, 0, 0);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.MultiLineString|undefined} MultiLineString.\n */\nKML.readGxMultiTrack_ = function(node, objectStack) {\n  const lineStrings = _ol_xml_.pushParseAndPop([],\n    KML.GX_MULTITRACK_GEOMETRY_PARSERS_, node, objectStack);\n  if (!lineStrings) {\n    return undefined;\n  }\n  const multiLineString = new MultiLineString(null);\n  multiLineString.setLineStrings(lineStrings);\n  return multiLineString;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.LineString|undefined} LineString.\n */\nKML.readGxTrack_ = function(node, objectStack) {\n  const gxTrackObject = _ol_xml_.pushParseAndPop(\n    /** @type {ol.KMLGxTrackObject_} */ ({\n      flatCoordinates: [],\n      whens: []\n    }), KML.GX_TRACK_PARSERS_, node, objectStack);\n  if (!gxTrackObject) {\n    return undefined;\n  }\n  const flatCoordinates = gxTrackObject.flatCoordinates;\n  const whens = gxTrackObject.whens;\n  let i, ii;\n  for (i = 0, ii = Math.min(flatCoordinates.length, whens.length); i < ii;\n    ++i) {\n    flatCoordinates[4 * i + 3] = whens[i];\n  }\n  const lineString = new LineString(null);\n  lineString.setFlatCoordinates(GeometryLayout.XYZM, flatCoordinates);\n  return lineString;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object} Icon object.\n */\nKML.readIcon_ = function(node, objectStack) {\n  const iconObject = _ol_xml_.pushParseAndPop(\n    {}, KML.ICON_PARSERS_, node, objectStack);\n  if (iconObject) {\n    return iconObject;\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<number>} Flat coordinates.\n */\nKML.readFlatCoordinatesFromNode_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(null,\n    KML.GEOMETRY_FLAT_COORDINATES_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.LineString|undefined} LineString.\n */\nKML.readLineString_ = function(node, objectStack) {\n  const properties = _ol_xml_.pushParseAndPop({},\n    KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_, node,\n    objectStack);\n  const flatCoordinates =\n      KML.readFlatCoordinatesFromNode_(node, objectStack);\n  if (flatCoordinates) {\n    const lineString = new LineString(null);\n    lineString.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates);\n    lineString.setProperties(properties);\n    return lineString;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.Polygon|undefined} Polygon.\n */\nKML.readLinearRing_ = function(node, objectStack) {\n  const properties = _ol_xml_.pushParseAndPop({},\n    KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_, node,\n    objectStack);\n  const flatCoordinates =\n      KML.readFlatCoordinatesFromNode_(node, objectStack);\n  if (flatCoordinates) {\n    const polygon = new Polygon(null);\n    polygon.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates,\n      [flatCoordinates.length]);\n    polygon.setProperties(properties);\n    return polygon;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.Geometry} Geometry.\n */\nKML.readMultiGeometry_ = function(node, objectStack) {\n  const geometries = _ol_xml_.pushParseAndPop([],\n    KML.MULTI_GEOMETRY_PARSERS_, node, objectStack);\n  if (!geometries) {\n    return null;\n  }\n  if (geometries.length === 0) {\n    return new GeometryCollection(geometries);\n  }\n  /** @type {ol.geom.Geometry} */\n  let multiGeometry;\n  let homogeneous = true;\n  const type = geometries[0].getType();\n  let geometry, i, ii;\n  for (i = 1, ii = geometries.length; i < ii; ++i) {\n    geometry = geometries[i];\n    if (geometry.getType() != type) {\n      homogeneous = false;\n      break;\n    }\n  }\n  if (homogeneous) {\n    let layout;\n    let flatCoordinates;\n    if (type == GeometryType.POINT) {\n      const point = geometries[0];\n      layout = point.getLayout();\n      flatCoordinates = point.getFlatCoordinates();\n      for (i = 1, ii = geometries.length; i < ii; ++i) {\n        geometry = geometries[i];\n        extend(flatCoordinates, geometry.getFlatCoordinates());\n      }\n      multiGeometry = new MultiPoint(null);\n      multiGeometry.setFlatCoordinates(layout, flatCoordinates);\n      KML.setCommonGeometryProperties_(multiGeometry, geometries);\n    } else if (type == GeometryType.LINE_STRING) {\n      multiGeometry = new MultiLineString(null);\n      multiGeometry.setLineStrings(geometries);\n      KML.setCommonGeometryProperties_(multiGeometry, geometries);\n    } else if (type == GeometryType.POLYGON) {\n      multiGeometry = new MultiPolygon(null);\n      multiGeometry.setPolygons(geometries);\n      KML.setCommonGeometryProperties_(multiGeometry, geometries);\n    } else if (type == GeometryType.GEOMETRY_COLLECTION) {\n      multiGeometry = new GeometryCollection(geometries);\n    } else {\n      assert(false, 37); // Unknown geometry type found\n    }\n  } else {\n    multiGeometry = new GeometryCollection(geometries);\n  }\n  return /** @type {ol.geom.Geometry} */ (multiGeometry);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.Point|undefined} Point.\n */\nKML.readPoint_ = function(node, objectStack) {\n  const properties = _ol_xml_.pushParseAndPop({},\n    KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_, node,\n    objectStack);\n  const flatCoordinates =\n      KML.readFlatCoordinatesFromNode_(node, objectStack);\n  if (flatCoordinates) {\n    const point = new Point(null);\n    point.setFlatCoordinates(GeometryLayout.XYZ, flatCoordinates);\n    point.setProperties(properties);\n    return point;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.geom.Polygon|undefined} Polygon.\n */\nKML.readPolygon_ = function(node, objectStack) {\n  const properties = _ol_xml_.pushParseAndPop(/** @type {Object<string,*>} */ ({}),\n    KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_, node,\n    objectStack);\n  const flatLinearRings = _ol_xml_.pushParseAndPop([null],\n    KML.FLAT_LINEAR_RINGS_PARSERS_, node, objectStack);\n  if (flatLinearRings && flatLinearRings[0]) {\n    const polygon = new Polygon(null);\n    const flatCoordinates = flatLinearRings[0];\n    const ends = [flatCoordinates.length];\n    let i, ii;\n    for (i = 1, ii = flatLinearRings.length; i < ii; ++i) {\n      extend(flatCoordinates, flatLinearRings[i]);\n      ends.push(flatCoordinates.length);\n    }\n    polygon.setFlatCoordinates(\n      GeometryLayout.XYZ, flatCoordinates, ends);\n    polygon.setProperties(properties);\n    return polygon;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<ol.style.Style>} Style.\n */\nKML.readStyle_ = function(node, objectStack) {\n  const styleObject = _ol_xml_.pushParseAndPop(\n    {}, KML.STYLE_PARSERS_, node, objectStack);\n  if (!styleObject) {\n    return null;\n  }\n  let fillStyle = /** @type {ol.style.Fill} */\n      ('fillStyle' in styleObject ?\n        styleObject['fillStyle'] : KML.DEFAULT_FILL_STYLE_);\n  const fill = /** @type {boolean|undefined} */ (styleObject['fill']);\n  if (fill !== undefined && !fill) {\n    fillStyle = null;\n  }\n  let imageStyle = /** @type {ol.style.Image} */\n      ('imageStyle' in styleObject ?\n        styleObject['imageStyle'] : KML.DEFAULT_IMAGE_STYLE_);\n  if (imageStyle == KML.DEFAULT_NO_IMAGE_STYLE_) {\n    imageStyle = undefined;\n  }\n  const textStyle = /** @type {ol.style.Text} */\n      ('textStyle' in styleObject ?\n        styleObject['textStyle'] : KML.DEFAULT_TEXT_STYLE_);\n  let strokeStyle = /** @type {ol.style.Stroke} */\n      ('strokeStyle' in styleObject ?\n        styleObject['strokeStyle'] : KML.DEFAULT_STROKE_STYLE_);\n  const outline = /** @type {boolean|undefined} */\n      (styleObject['outline']);\n  if (outline !== undefined && !outline) {\n    strokeStyle = null;\n  }\n  return [new Style({\n    fill: fillStyle,\n    image: imageStyle,\n    stroke: strokeStyle,\n    text: textStyle,\n    zIndex: undefined // FIXME\n  })];\n};\n\n\n/**\n * Reads an array of geometries and creates arrays for common geometry\n * properties. Then sets them to the multi geometry.\n * @param {ol.geom.MultiPoint|ol.geom.MultiLineString|ol.geom.MultiPolygon}\n *     multiGeometry A multi-geometry.\n * @param {Array.<ol.geom.Geometry>} geometries List of geometries.\n * @private\n */\nKML.setCommonGeometryProperties_ = function(multiGeometry,\n  geometries) {\n  const ii = geometries.length;\n  const extrudes = new Array(geometries.length);\n  const tessellates = new Array(geometries.length);\n  const altitudeModes = new Array(geometries.length);\n  let geometry, i, hasExtrude, hasTessellate, hasAltitudeMode;\n  hasExtrude = hasTessellate = hasAltitudeMode = false;\n  for (i = 0; i < ii; ++i) {\n    geometry = geometries[i];\n    extrudes[i] = geometry.get('extrude');\n    tessellates[i] = geometry.get('tessellate');\n    altitudeModes[i] = geometry.get('altitudeMode');\n    hasExtrude = hasExtrude || extrudes[i] !== undefined;\n    hasTessellate = hasTessellate || tessellates[i] !== undefined;\n    hasAltitudeMode = hasAltitudeMode || altitudeModes[i];\n  }\n  if (hasExtrude) {\n    multiGeometry.set('extrude', extrudes);\n  }\n  if (hasTessellate) {\n    multiGeometry.set('tessellate', tessellates);\n  }\n  if (hasAltitudeMode) {\n    multiGeometry.set('altitudeMode', altitudeModes);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.DataParser_ = function(node, objectStack) {\n  const name = node.getAttribute('name');\n  _ol_xml_.parseNode(KML.DATA_PARSERS_, node, objectStack);\n  const featureObject = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  if (name !== null) {\n    featureObject[name] = featureObject.value;\n  } else if (featureObject.displayName !== null) {\n    featureObject[featureObject.displayName] = featureObject.value;\n  }\n  delete featureObject['value'];\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.ExtendedDataParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(KML.EXTENDED_DATA_PARSERS_, node, objectStack);\n};\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.RegionParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(KML.REGION_PARSERS_, node, objectStack);\n};\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.PairDataParser_ = function(node, objectStack) {\n  const pairObject = _ol_xml_.pushParseAndPop(\n    {}, KML.PAIR_PARSERS_, node, objectStack);\n  if (!pairObject) {\n    return;\n  }\n  const key = /** @type {string|undefined} */\n      (pairObject['key']);\n  if (key && key == 'normal') {\n    const styleUrl = /** @type {string|undefined} */\n        (pairObject['styleUrl']);\n    if (styleUrl) {\n      objectStack[objectStack.length - 1] = styleUrl;\n    }\n    const Style = /** @type {ol.style.Style} */\n        (pairObject['Style']);\n    if (Style) {\n      objectStack[objectStack.length - 1] = Style;\n    }\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.PlacemarkStyleMapParser_ = function(node, objectStack) {\n  const styleMapValue = KML.readStyleMapValue_(node, objectStack);\n  if (!styleMapValue) {\n    return;\n  }\n  const placemarkObject = objectStack[objectStack.length - 1];\n  if (Array.isArray(styleMapValue)) {\n    placemarkObject['Style'] = styleMapValue;\n  } else if (typeof styleMapValue === 'string') {\n    placemarkObject['styleUrl'] = styleMapValue;\n  } else {\n    assert(false, 38); // `styleMapValue` has an unknown type\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.SchemaDataParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(KML.SCHEMA_DATA_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.SimpleDataParser_ = function(node, objectStack) {\n  const name = node.getAttribute('name');\n  if (name !== null) {\n    const data = XSD.readString(node);\n    const featureObject =\n        /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    featureObject[name] = data;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.LatLonAltBoxParser_ = function(node, objectStack) {\n  const object = _ol_xml_.pushParseAndPop({}, KML.LAT_LON_ALT_BOX_PARSERS_, node, objectStack);\n  if (!object) {\n    return;\n  }\n  const regionObject = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  const extent = [\n    parseFloat(object['west']),\n    parseFloat(object['south']),\n    parseFloat(object['east']),\n    parseFloat(object['north'])\n  ];\n  regionObject['extent'] = extent;\n  regionObject['altitudeMode'] = object['altitudeMode'];\n  regionObject['minAltitude'] = parseFloat(object['minAltitude']);\n  regionObject['maxAltitude'] = parseFloat(object['maxAltitude']);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.LodParser_ = function(node, objectStack) {\n  const object = _ol_xml_.pushParseAndPop({}, KML.LOD_PARSERS_, node, objectStack);\n  if (!object) {\n    return;\n  }\n  const lodObject = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  lodObject['minLodPixels'] = parseFloat(object['minLodPixels']);\n  lodObject['maxLodPixels'] = parseFloat(object['maxLodPixels']);\n  lodObject['minFadeExtent'] = parseFloat(object['minFadeExtent']);\n  lodObject['maxFadeExtent'] = parseFloat(object['maxFadeExtent']);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.innerBoundaryIsParser_ = function(node, objectStack) {\n  /** @type {Array.<number>|undefined} */\n  const flatLinearRing = _ol_xml_.pushParseAndPop(undefined,\n    KML.INNER_BOUNDARY_IS_PARSERS_, node, objectStack);\n  if (flatLinearRing) {\n    const flatLinearRings = /** @type {Array.<Array.<number>>} */\n        (objectStack[objectStack.length - 1]);\n    flatLinearRings.push(flatLinearRing);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.outerBoundaryIsParser_ = function(node, objectStack) {\n  /** @type {Array.<number>|undefined} */\n  const flatLinearRing = _ol_xml_.pushParseAndPop(undefined,\n    KML.OUTER_BOUNDARY_IS_PARSERS_, node, objectStack);\n  if (flatLinearRing) {\n    const flatLinearRings = /** @type {Array.<Array.<number>>} */\n        (objectStack[objectStack.length - 1]);\n    flatLinearRings[0] = flatLinearRing;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.LinkParser_ = function(node, objectStack) {\n  _ol_xml_.parseNode(KML.LINK_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.whenParser_ = function(node, objectStack) {\n  const gxTrackObject = /** @type {ol.KMLGxTrackObject_} */\n      (objectStack[objectStack.length - 1]);\n  const whens = gxTrackObject.whens;\n  const s = _ol_xml_.getAllTextContent(node, false);\n  const when = Date.parse(s);\n  whens.push(isNaN(when) ? 0 : when);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.DATA_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'displayName': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'value': _ol_xml_.makeObjectPropertySetter(XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.EXTENDED_DATA_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Data': KML.DataParser_,\n    'SchemaData': KML.SchemaDataParser_\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.REGION_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'LatLonAltBox': KML.LatLonAltBoxParser_,\n    'Lod': KML.LodParser_\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.LAT_LON_ALT_BOX_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'altitudeMode': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'minAltitude': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'maxAltitude': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'north': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'south': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'east': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'west': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.LOD_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'minLodPixels': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'maxLodPixels': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'minFadeExtent': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'maxFadeExtent': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'extrude': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean),\n    'tessellate': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean),\n    'altitudeMode': _ol_xml_.makeObjectPropertySetter(XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.FLAT_LINEAR_RING_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'coordinates': _ol_xml_.makeReplacer(KML.readFlatCoordinates_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.FLAT_LINEAR_RINGS_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'innerBoundaryIs': KML.innerBoundaryIsParser_,\n    'outerBoundaryIs': KML.outerBoundaryIsParser_\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.GX_TRACK_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'when': KML.whenParser_\n  }, _ol_xml_.makeStructureNS(\n    KML.GX_NAMESPACE_URIS_, {\n      'coord': KML.gxCoordParser_\n    }));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.GEOMETRY_FLAT_COORDINATES_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'coordinates': _ol_xml_.makeReplacer(KML.readFlatCoordinates_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.ICON_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'href': _ol_xml_.makeObjectPropertySetter(KML.readURI_)\n  }, _ol_xml_.makeStructureNS(\n    KML.GX_NAMESPACE_URIS_, {\n      'x': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n      'y': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n      'w': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n      'h': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal)\n    }));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.ICON_STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Icon': _ol_xml_.makeObjectPropertySetter(KML.readIcon_),\n    'heading': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal),\n    'hotSpot': _ol_xml_.makeObjectPropertySetter(KML.readVec2_),\n    'scale': _ol_xml_.makeObjectPropertySetter(KML.readScale_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.INNER_BOUNDARY_IS_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'LinearRing': _ol_xml_.makeReplacer(KML.readFlatLinearRing_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.LABEL_STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'color': _ol_xml_.makeObjectPropertySetter(KML.readColor_),\n    'scale': _ol_xml_.makeObjectPropertySetter(KML.readScale_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.LINE_STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'color': _ol_xml_.makeObjectPropertySetter(KML.readColor_),\n    'width': _ol_xml_.makeObjectPropertySetter(XSD.readDecimal)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.MULTI_GEOMETRY_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'LineString': _ol_xml_.makeArrayPusher(KML.readLineString_),\n    'LinearRing': _ol_xml_.makeArrayPusher(KML.readLinearRing_),\n    'MultiGeometry': _ol_xml_.makeArrayPusher(KML.readMultiGeometry_),\n    'Point': _ol_xml_.makeArrayPusher(KML.readPoint_),\n    'Polygon': _ol_xml_.makeArrayPusher(KML.readPolygon_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.GX_MULTITRACK_GEOMETRY_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.GX_NAMESPACE_URIS_, {\n    'Track': _ol_xml_.makeArrayPusher(KML.readGxTrack_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.NETWORK_LINK_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'ExtendedData': KML.ExtendedDataParser_,\n    'Region': KML.RegionParser_,\n    'Link': KML.LinkParser_,\n    'address': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'description': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'open': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean),\n    'phoneNumber': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'visibility': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.LINK_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'href': _ol_xml_.makeObjectPropertySetter(KML.readURI_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.OUTER_BOUNDARY_IS_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'LinearRing': _ol_xml_.makeReplacer(KML.readFlatLinearRing_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.PAIR_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Style': _ol_xml_.makeObjectPropertySetter(KML.readStyle_),\n    'key': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'styleUrl': _ol_xml_.makeObjectPropertySetter(KML.readURI_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.PLACEMARK_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'ExtendedData': KML.ExtendedDataParser_,\n    'Region': KML.RegionParser_,\n    'MultiGeometry': _ol_xml_.makeObjectPropertySetter(\n      KML.readMultiGeometry_, 'geometry'),\n    'LineString': _ol_xml_.makeObjectPropertySetter(\n      KML.readLineString_, 'geometry'),\n    'LinearRing': _ol_xml_.makeObjectPropertySetter(\n      KML.readLinearRing_, 'geometry'),\n    'Point': _ol_xml_.makeObjectPropertySetter(\n      KML.readPoint_, 'geometry'),\n    'Polygon': _ol_xml_.makeObjectPropertySetter(\n      KML.readPolygon_, 'geometry'),\n    'Style': _ol_xml_.makeObjectPropertySetter(KML.readStyle_),\n    'StyleMap': KML.PlacemarkStyleMapParser_,\n    'address': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'description': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'open': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean),\n    'phoneNumber': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'styleUrl': _ol_xml_.makeObjectPropertySetter(KML.readURI_),\n    'visibility': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean)\n  }, _ol_xml_.makeStructureNS(\n    KML.GX_NAMESPACE_URIS_, {\n      'MultiTrack': _ol_xml_.makeObjectPropertySetter(\n        KML.readGxMultiTrack_, 'geometry'),\n      'Track': _ol_xml_.makeObjectPropertySetter(\n        KML.readGxTrack_, 'geometry')\n    }\n  ));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.POLY_STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'color': _ol_xml_.makeObjectPropertySetter(KML.readColor_),\n    'fill': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean),\n    'outline': _ol_xml_.makeObjectPropertySetter(XSD.readBoolean)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.SCHEMA_DATA_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'SimpleData': KML.SimpleDataParser_\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'IconStyle': KML.IconStyleParser_,\n    'LabelStyle': KML.LabelStyleParser_,\n    'LineStyle': KML.LineStyleParser_,\n    'PolyStyle': KML.PolyStyleParser_\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nKML.STYLE_MAP_PARSERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Pair': KML.PairDataParser_\n  });\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<ol.Feature>|undefined} Features.\n */\nKML.prototype.readDocumentOrFolder_ = function(node, objectStack) {\n  // FIXME use scope somehow\n  const parsersNS = _ol_xml_.makeStructureNS(\n    KML.NAMESPACE_URIS_, {\n      'Document': _ol_xml_.makeArrayExtender(this.readDocumentOrFolder_, this),\n      'Folder': _ol_xml_.makeArrayExtender(this.readDocumentOrFolder_, this),\n      'Placemark': _ol_xml_.makeArrayPusher(this.readPlacemark_, this),\n      'Style': this.readSharedStyle_.bind(this),\n      'StyleMap': this.readSharedStyleMap_.bind(this)\n    });\n  /** @type {Array.<ol.Feature>} */\n  const features = _ol_xml_.pushParseAndPop([], parsersNS, node, objectStack, this);\n  if (features) {\n    return features;\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {ol.Feature|undefined} Feature.\n */\nKML.prototype.readPlacemark_ = function(node, objectStack) {\n  const object = _ol_xml_.pushParseAndPop({'geometry': null},\n    KML.PLACEMARK_PARSERS_, node, objectStack);\n  if (!object) {\n    return undefined;\n  }\n  const feature = new Feature();\n  const id = node.getAttribute('id');\n  if (id !== null) {\n    feature.setId(id);\n  }\n  const options = /** @type {olx.format.ReadOptions} */ (objectStack[0]);\n\n  const geometry = object['geometry'];\n  if (geometry) {\n    transformWithOptions(geometry, false, options);\n  }\n  feature.setGeometry(geometry);\n  delete object['geometry'];\n\n  if (this.extractStyles_) {\n    const style = object['Style'];\n    const styleUrl = object['styleUrl'];\n    const styleFunction = KML.createFeatureStyleFunction_(\n      style, styleUrl, this.defaultStyle_, this.sharedStyles_,\n      this.showPointNames_);\n    feature.setStyle(styleFunction);\n  }\n  delete object['Style'];\n  // we do not remove the styleUrl property from the object, so it\n  // gets stored on feature when setProperties is called\n\n  feature.setProperties(object);\n\n  return feature;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.prototype.readSharedStyle_ = function(node, objectStack) {\n  const id = node.getAttribute('id');\n  if (id !== null) {\n    const style = KML.readStyle_(node, objectStack);\n    if (style) {\n      let styleUri;\n      let baseURI = node.baseURI;\n      if (!baseURI || baseURI == 'about:blank') {\n        baseURI = window.location.href;\n      }\n      if (baseURI) {\n        const url = new URL('#' + id, baseURI);\n        styleUri = url.href;\n      } else {\n        styleUri = '#' + id;\n      }\n      this.sharedStyles_[styleUri] = style;\n    }\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.prototype.readSharedStyleMap_ = function(node, objectStack) {\n  const id = node.getAttribute('id');\n  if (id === null) {\n    return;\n  }\n  const styleMapValue = KML.readStyleMapValue_(node, objectStack);\n  if (!styleMapValue) {\n    return;\n  }\n  let styleUri;\n  let baseURI = node.baseURI;\n  if (!baseURI || baseURI == 'about:blank') {\n    baseURI = window.location.href;\n  }\n  if (baseURI) {\n    const url = new URL('#' + id, baseURI);\n    styleUri = url.href;\n  } else {\n    styleUri = '#' + id;\n  }\n  this.sharedStyles_[styleUri] = styleMapValue;\n};\n\n\n/**\n * Read the first feature from a KML source. MultiGeometries are converted into\n * GeometryCollections if they are a mix of geometry types, and into MultiPoint/\n * MultiLineString/MultiPolygon if they are all of the same type.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.Feature} Feature.\n * @api\n */\nKML.prototype.readFeature;\n\n\n/**\n * @inheritDoc\n */\nKML.prototype.readFeatureFromNode = function(node, opt_options) {\n  if (!includes(KML.NAMESPACE_URIS_, node.namespaceURI)) {\n    return null;\n  }\n  const feature = this.readPlacemark_(\n    node, [this.getReadOptions(node, opt_options)]);\n  if (feature) {\n    return feature;\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * Read all features from a KML source. MultiGeometries are converted into\n * GeometryCollections if they are a mix of geometry types, and into MultiPoint/\n * MultiLineString/MultiPolygon if they are all of the same type.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\nKML.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nKML.prototype.readFeaturesFromNode = function(node, opt_options) {\n  if (!includes(KML.NAMESPACE_URIS_, node.namespaceURI)) {\n    return [];\n  }\n  let features;\n  const localName = node.localName;\n  if (localName == 'Document' || localName == 'Folder') {\n    features = this.readDocumentOrFolder_(\n      node, [this.getReadOptions(node, opt_options)]);\n    if (features) {\n      return features;\n    } else {\n      return [];\n    }\n  } else if (localName == 'Placemark') {\n    const feature = this.readPlacemark_(\n      node, [this.getReadOptions(node, opt_options)]);\n    if (feature) {\n      return [feature];\n    } else {\n      return [];\n    }\n  } else if (localName == 'kml') {\n    features = [];\n    let n;\n    for (n = node.firstElementChild; n; n = n.nextElementSibling) {\n      const fs = this.readFeaturesFromNode(n, opt_options);\n      if (fs) {\n        extend(features, fs);\n      }\n    }\n    return features;\n  } else {\n    return [];\n  }\n};\n\n\n/**\n * Read the name of the KML.\n *\n * @param {Document|Node|string} source Souce.\n * @return {string|undefined} Name.\n * @api\n */\nKML.prototype.readName = function(source) {\n  if (_ol_xml_.isDocument(source)) {\n    return this.readNameFromDocument(/** @type {Document} */ (source));\n  } else if (_ol_xml_.isNode(source)) {\n    return this.readNameFromNode(/** @type {Node} */ (source));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    return this.readNameFromDocument(doc);\n  } else {\n    return undefined;\n  }\n};\n\n\n/**\n * @param {Document} doc Document.\n * @return {string|undefined} Name.\n */\nKML.prototype.readNameFromDocument = function(doc) {\n  let n;\n  for (n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      const name = this.readNameFromNode(n);\n      if (name) {\n        return name;\n      }\n    }\n  }\n  return undefined;\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {string|undefined} Name.\n */\nKML.prototype.readNameFromNode = function(node) {\n  let n;\n  for (n = node.firstElementChild; n; n = n.nextElementSibling) {\n    if (includes(KML.NAMESPACE_URIS_, n.namespaceURI) &&\n        n.localName == 'name') {\n      return XSD.readString(n);\n    }\n  }\n  for (n = node.firstElementChild; n; n = n.nextElementSibling) {\n    const localName = n.localName;\n    if (includes(KML.NAMESPACE_URIS_, n.namespaceURI) &&\n        (localName == 'Document' ||\n         localName == 'Folder' ||\n         localName == 'Placemark' ||\n         localName == 'kml')) {\n      const name = this.readNameFromNode(n);\n      if (name) {\n        return name;\n      }\n    }\n  }\n  return undefined;\n};\n\n\n/**\n * Read the network links of the KML.\n *\n * @param {Document|Node|string} source Source.\n * @return {Array.<Object>} Network links.\n * @api\n */\nKML.prototype.readNetworkLinks = function(source) {\n  const networkLinks = [];\n  if (_ol_xml_.isDocument(source)) {\n    extend(networkLinks, this.readNetworkLinksFromDocument(\n      /** @type {Document} */ (source)));\n  } else if (_ol_xml_.isNode(source)) {\n    extend(networkLinks, this.readNetworkLinksFromNode(\n      /** @type {Node} */ (source)));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    extend(networkLinks, this.readNetworkLinksFromDocument(doc));\n  }\n  return networkLinks;\n};\n\n\n/**\n * @param {Document} doc Document.\n * @return {Array.<Object>} Network links.\n */\nKML.prototype.readNetworkLinksFromDocument = function(doc) {\n  const networkLinks = [];\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      extend(networkLinks, this.readNetworkLinksFromNode(n));\n    }\n  }\n  return networkLinks;\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {Array.<Object>} Network links.\n */\nKML.prototype.readNetworkLinksFromNode = function(node) {\n  const networkLinks = [];\n  for (let n = node.firstElementChild; n; n = n.nextElementSibling) {\n    if (includes(KML.NAMESPACE_URIS_, n.namespaceURI) &&\n        n.localName == 'NetworkLink') {\n      const obj = _ol_xml_.pushParseAndPop({}, KML.NETWORK_LINK_PARSERS_,\n        n, []);\n      networkLinks.push(obj);\n    }\n  }\n  for (let n = node.firstElementChild; n; n = n.nextElementSibling) {\n    const localName = n.localName;\n    if (includes(KML.NAMESPACE_URIS_, n.namespaceURI) &&\n        (localName == 'Document' ||\n         localName == 'Folder' ||\n         localName == 'kml')) {\n      extend(networkLinks, this.readNetworkLinksFromNode(n));\n    }\n  }\n  return networkLinks;\n};\n\n\n/**\n * Read the regions of the KML.\n *\n * @param {Document|Node|string} source Source.\n * @return {Array.<Object>} Regions.\n * @api\n */\nKML.prototype.readRegion = function(source) {\n  const regions = [];\n  if (_ol_xml_.isDocument(source)) {\n    extend(regions, this.readRegionFromDocument(\n      /** @type {Document} */ (source)));\n  } else if (_ol_xml_.isNode(source)) {\n    extend(regions, this.readRegionFromNode(\n      /** @type {Node} */ (source)));\n  } else if (typeof source === 'string') {\n    const doc = _ol_xml_.parse(source);\n    extend(regions, this.readRegionFromDocument(doc));\n  }\n  return regions;\n};\n\n\n/**\n * @param {Document} doc Document.\n * @return {Array.<Object>} Region.\n */\nKML.prototype.readRegionFromDocument = function(doc) {\n  const regions = [];\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      extend(regions, this.readRegionFromNode(n));\n    }\n  }\n  return regions;\n};\n\n\n/**\n * @param {Node} node Node.\n * @return {Array.<Object>} Region.\n * @api\n */\nKML.prototype.readRegionFromNode = function(node) {\n  const regions = [];\n  for (let n = node.firstElementChild; n; n = n.nextElementSibling) {\n    if (includes(KML.NAMESPACE_URIS_, n.namespaceURI) &&\n        n.localName == 'Region') {\n      const obj = _ol_xml_.pushParseAndPop({}, KML.REGION_PARSERS_,\n        n, []);\n      regions.push(obj);\n    }\n  }\n  for (let n = node.firstElementChild; n; n = n.nextElementSibling) {\n    const localName = n.localName;\n    if (includes(KML.NAMESPACE_URIS_, n.namespaceURI) &&\n        (localName == 'Document' ||\n         localName == 'Folder' ||\n         localName == 'kml')) {\n      extend(regions, this.readRegionFromNode(n));\n    }\n  }\n  return regions;\n};\n\n\n/**\n * Read the projection from a KML source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @return {ol.proj.Projection} Projection.\n * @api\n */\nKML.prototype.readProjection;\n\n\n/**\n * @param {Node} node Node to append a TextNode with the color to.\n * @param {ol.Color|string} color Color.\n * @private\n */\nKML.writeColorTextNode_ = function(node, color) {\n  const rgba = asArray(color);\n  const opacity = (rgba.length == 4) ? rgba[3] : 1;\n  const abgr = [opacity * 255, rgba[2], rgba[1], rgba[0]];\n  let i;\n  for (i = 0; i < 4; ++i) {\n    const hex = parseInt(abgr[i], 10).toString(16);\n    abgr[i] = (hex.length == 1) ? '0' + hex : hex;\n  }\n  XSD.writeStringTextNode(node, abgr.join(''));\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the coordinates to.\n * @param {Array.<number>} coordinates Coordinates.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeCoordinatesTextNode_ = function(node, coordinates, objectStack) {\n  const context = objectStack[objectStack.length - 1];\n\n  const layout = context['layout'];\n  const stride = context['stride'];\n\n  let dimension;\n  if (layout == GeometryLayout.XY ||\n      layout == GeometryLayout.XYM) {\n    dimension = 2;\n  } else if (layout == GeometryLayout.XYZ ||\n      layout == GeometryLayout.XYZM) {\n    dimension = 3;\n  } else {\n    assert(false, 34); // Invalid geometry layout\n  }\n\n  let d, i;\n  const ii = coordinates.length;\n  let text = '';\n  if (ii > 0) {\n    text += coordinates[0];\n    for (d = 1; d < dimension; ++d) {\n      text += ',' + coordinates[d];\n    }\n    for (i = stride; i < ii; i += stride) {\n      text += ' ' + coordinates[i];\n      for (d = 1; d < dimension; ++d) {\n        text += ',' + coordinates[i + d];\n      }\n    }\n  }\n  XSD.writeStringTextNode(node, text);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {{name: *, value: *}} pair Name value pair.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeDataNode_ = function(node, pair, objectStack) {\n  node.setAttribute('name', pair.name);\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const value = pair.value;\n\n  if (typeof value == 'object') {\n    if (value !== null && value.displayName) {\n      _ol_xml_.pushSerializeAndPop(context, KML.EXTENDEDDATA_NODE_SERIALIZERS_,\n        _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, [value.displayName], objectStack, ['displayName']);\n    }\n\n    if (value !== null && value.value) {\n      _ol_xml_.pushSerializeAndPop(context, KML.EXTENDEDDATA_NODE_SERIALIZERS_,\n        _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, [value.value], objectStack, ['value']);\n    }\n  } else {\n    _ol_xml_.pushSerializeAndPop(context, KML.EXTENDEDDATA_NODE_SERIALIZERS_,\n      _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, [value], objectStack, ['value']);\n  }\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the name to.\n * @param {string} name DisplayName.\n * @private\n */\nKML.writeDataNodeName_ = function(node, name) {\n  XSD.writeCDATASection(node, name);\n};\n\n\n/**\n * @param {Node} node Node to append a CDATA Section with the value to.\n * @param {string} value Value.\n * @private\n */\nKML.writeDataNodeValue_ = function(node, value) {\n  XSD.writeStringTextNode(node, value);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<ol.Feature>} features Features.\n * @param {Array.<*>} objectStack Object stack.\n * @this {ol.format.KML}\n * @private\n */\nKML.writeDocument_ = function(node, features, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  _ol_xml_.pushSerializeAndPop(context, KML.DOCUMENT_SERIALIZERS_,\n    KML.DOCUMENT_NODE_FACTORY_, features, objectStack, undefined,\n    this);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {{names: Array<string>, values: (Array<*>)}} namesAndValues Names and values.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeExtendedData_ = function(node, namesAndValues, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const names = namesAndValues.names;\n  const values = namesAndValues.values;\n  const length = names.length;\n\n  for (let i = 0; i < length; i++) {\n    _ol_xml_.pushSerializeAndPop(context, KML.EXTENDEDDATA_NODE_SERIALIZERS_,\n      KML.DATA_NODE_FACTORY_, [{name: names[i], value: values[i]}], objectStack);\n  }\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Object} icon Icon object.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeIcon_ = function(node, icon, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const parentNode = objectStack[objectStack.length - 1].node;\n  let orderedKeys = KML.ICON_SEQUENCE_[parentNode.namespaceURI];\n  let values = _ol_xml_.makeSequence(icon, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context,\n    KML.ICON_SERIALIZERS_, _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY,\n    values, objectStack, orderedKeys);\n  orderedKeys =\n      KML.ICON_SEQUENCE_[KML.GX_NAMESPACE_URIS_[0]];\n  values = _ol_xml_.makeSequence(icon, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.ICON_SERIALIZERS_,\n    KML.GX_NODE_FACTORY_, values, objectStack, orderedKeys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.style.Icon} style Icon style.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeIconStyle_ = function(node, style, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const properties = {};\n  const src = style.getSrc();\n  const size = style.getSize();\n  const iconImageSize = style.getImageSize();\n  const iconProperties = {\n    'href': src\n  };\n\n  if (size) {\n    iconProperties['w'] = size[0];\n    iconProperties['h'] = size[1];\n    const anchor = style.getAnchor(); // top-left\n    const origin = style.getOrigin(); // top-left\n\n    if (origin && iconImageSize && origin[0] !== 0 && origin[1] !== size[1]) {\n      iconProperties['x'] = origin[0];\n      iconProperties['y'] = iconImageSize[1] - (origin[1] + size[1]);\n    }\n\n    if (anchor && (anchor[0] !== size[0] / 2 || anchor[1] !== size[1] / 2)) {\n      const /** @type {ol.KMLVec2_} */ hotSpot = {\n        x: anchor[0],\n        xunits: IconAnchorUnits.PIXELS,\n        y: size[1] - anchor[1],\n        yunits: IconAnchorUnits.PIXELS\n      };\n      properties['hotSpot'] = hotSpot;\n    }\n  }\n\n  properties['Icon'] = iconProperties;\n\n  const scale = style.getScale();\n  if (scale !== 1) {\n    properties['scale'] = scale;\n  }\n\n  const rotation = style.getRotation();\n  if (rotation !== 0) {\n    properties['heading'] = rotation; // 0-360\n  }\n\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = KML.ICON_STYLE_SEQUENCE_[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.ICON_STYLE_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.style.Text} style style.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeLabelStyle_ = function(node, style, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const properties = {};\n  const fill = style.getFill();\n  if (fill) {\n    properties['color'] = fill.getColor();\n  }\n  const scale = style.getScale();\n  if (scale && scale !== 1) {\n    properties['scale'] = scale;\n  }\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys =\n      KML.LABEL_STYLE_SEQUENCE_[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.LABEL_STYLE_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.style.Stroke} style style.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeLineStyle_ = function(node, style, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const properties = {\n    'color': style.getColor(),\n    'width': style.getWidth()\n  };\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = KML.LINE_STYLE_SEQUENCE_[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.LINE_STYLE_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeMultiGeometry_ = function(node, geometry, objectStack) {\n  /** @type {ol.XmlNodeStackItem} */\n  const context = {node: node};\n  const type = geometry.getType();\n  /** @type {Array.<ol.geom.Geometry>} */\n  let geometries;\n  /** @type {function(*, Array.<*>, string=): (Node|undefined)} */\n  let factory;\n  if (type == GeometryType.GEOMETRY_COLLECTION) {\n    geometries = /** @type {ol.geom.GeometryCollection} */ (geometry).getGeometries();\n    factory = KML.GEOMETRY_NODE_FACTORY_;\n  } else if (type == GeometryType.MULTI_POINT) {\n    geometries = /** @type {ol.geom.MultiPoint} */ (geometry).getPoints();\n    factory = KML.POINT_NODE_FACTORY_;\n  } else if (type == GeometryType.MULTI_LINE_STRING) {\n    geometries =\n        (/** @type {ol.geom.MultiLineString} */ (geometry)).getLineStrings();\n    factory = KML.LINE_STRING_NODE_FACTORY_;\n  } else if (type == GeometryType.MULTI_POLYGON) {\n    geometries =\n        (/** @type {ol.geom.MultiPolygon} */ (geometry)).getPolygons();\n    factory = KML.POLYGON_NODE_FACTORY_;\n  } else {\n    assert(false, 39); // Unknown geometry type\n  }\n  _ol_xml_.pushSerializeAndPop(context,\n    KML.MULTI_GEOMETRY_SERIALIZERS_, factory,\n    geometries, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.LinearRing} linearRing Linear ring.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeBoundaryIs_ = function(node, linearRing, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  _ol_xml_.pushSerializeAndPop(context,\n    KML.BOUNDARY_IS_SERIALIZERS_,\n    KML.LINEAR_RING_NODE_FACTORY_, [linearRing], objectStack);\n};\n\n\n/**\n * FIXME currently we do serialize arbitrary/custom feature properties\n * (ExtendedData).\n * @param {Node} node Node.\n * @param {ol.Feature} feature Feature.\n * @param {Array.<*>} objectStack Object stack.\n * @this {ol.format.KML}\n * @private\n */\nKML.writePlacemark_ = function(node, feature, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n\n  // set id\n  if (feature.getId()) {\n    node.setAttribute('id', feature.getId());\n  }\n\n  // serialize properties (properties unknown to KML are not serialized)\n  const properties = feature.getProperties();\n\n  // don't export these to ExtendedData\n  const filter = {'address': 1, 'description': 1, 'name': 1, 'open': 1,\n    'phoneNumber': 1, 'styleUrl': 1, 'visibility': 1};\n  filter[feature.getGeometryName()] = 1;\n  const keys = Object.keys(properties || {}).sort().filter(function(v) {\n    return !filter[v];\n  });\n\n  if (keys.length > 0) {\n    const sequence = _ol_xml_.makeSequence(properties, keys);\n    const namesAndValues = {names: keys, values: sequence};\n    _ol_xml_.pushSerializeAndPop(context, KML.PLACEMARK_SERIALIZERS_,\n      KML.EXTENDEDDATA_NODE_FACTORY_, [namesAndValues], objectStack);\n  }\n\n  const styleFunction = feature.getStyleFunction();\n  if (styleFunction) {\n    // FIXME the styles returned by the style function are supposed to be\n    // resolution-independent here\n    const styles = styleFunction.call(feature, 0);\n    if (styles) {\n      const style = Array.isArray(styles) ? styles[0] : styles;\n      if (this.writeStyles_) {\n        properties['Style'] = style;\n      }\n      const textStyle = style.getText();\n      if (textStyle) {\n        properties['name'] = textStyle.getText();\n      }\n    }\n  }\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = KML.PLACEMARK_SEQUENCE_[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.PLACEMARK_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n\n  // serialize geometry\n  const options = /** @type {olx.format.WriteOptions} */ (objectStack[0]);\n  let geometry = feature.getGeometry();\n  if (geometry) {\n    geometry = transformWithOptions(geometry, true, options);\n  }\n  _ol_xml_.pushSerializeAndPop(context, KML.PLACEMARK_SERIALIZERS_,\n    KML.GEOMETRY_NODE_FACTORY_, [geometry], objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writePrimitiveGeometry_ = function(node, geometry, objectStack) {\n  const flatCoordinates = geometry.getFlatCoordinates();\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  context['layout'] = geometry.getLayout();\n  context['stride'] = geometry.getStride();\n\n  // serialize properties (properties unknown to KML are not serialized)\n  const properties = geometry.getProperties();\n  properties.coordinates = flatCoordinates;\n\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = KML.PRIMITIVE_GEOMETRY_SEQUENCE_[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.geom.Polygon} polygon Polygon.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writePolygon_ = function(node, polygon, objectStack) {\n  const linearRings = polygon.getLinearRings();\n  const outerRing = linearRings.shift();\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  // inner rings\n  _ol_xml_.pushSerializeAndPop(context,\n    KML.POLYGON_SERIALIZERS_,\n    KML.INNER_BOUNDARY_NODE_FACTORY_,\n    linearRings, objectStack);\n  // outer ring\n  _ol_xml_.pushSerializeAndPop(context,\n    KML.POLYGON_SERIALIZERS_,\n    KML.OUTER_BOUNDARY_NODE_FACTORY_,\n    [outerRing], objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.style.Fill} style Style.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writePolyStyle_ = function(node, style, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  _ol_xml_.pushSerializeAndPop(context, KML.POLY_STYLE_SERIALIZERS_,\n    KML.COLOR_NODE_FACTORY_, [style.getColor()], objectStack);\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the scale to.\n * @param {number|undefined} scale Scale.\n * @private\n */\nKML.writeScaleTextNode_ = function(node, scale) {\n  // the Math is to remove any excess decimals created by float arithmetic\n  XSD.writeDecimalTextNode(node,\n    Math.round(scale * 1e6) / 1e6);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {ol.style.Style} style Style.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n */\nKML.writeStyle_ = function(node, style, objectStack) {\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: node};\n  const properties = {};\n  const fillStyle = style.getFill();\n  const strokeStyle = style.getStroke();\n  const imageStyle = style.getImage();\n  const textStyle = style.getText();\n  if (imageStyle instanceof Icon) {\n    properties['IconStyle'] = imageStyle;\n  }\n  if (textStyle) {\n    properties['LabelStyle'] = textStyle;\n  }\n  if (strokeStyle) {\n    properties['LineStyle'] = strokeStyle;\n  }\n  if (fillStyle) {\n    properties['PolyStyle'] = fillStyle;\n  }\n  const parentNode = objectStack[objectStack.length - 1].node;\n  const orderedKeys = KML.STYLE_SEQUENCE_[parentNode.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.STYLE_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, objectStack, orderedKeys);\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the Vec2 to.\n * @param {ol.KMLVec2_} vec2 Vec2.\n * @private\n */\nKML.writeVec2_ = function(node, vec2) {\n  node.setAttribute('x', vec2.x);\n  node.setAttribute('y', vec2.y);\n  node.setAttribute('xunits', vec2.xunits);\n  node.setAttribute('yunits', vec2.yunits);\n};\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.KML_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'Document', 'Placemark'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.KML_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Document': _ol_xml_.makeChildAppender(KML.writeDocument_),\n    'Placemark': _ol_xml_.makeChildAppender(KML.writePlacemark_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.DOCUMENT_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Placemark': _ol_xml_.makeChildAppender(KML.writePlacemark_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.EXTENDEDDATA_NODE_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Data': _ol_xml_.makeChildAppender(KML.writeDataNode_),\n    'value': _ol_xml_.makeChildAppender(KML.writeDataNodeValue_),\n    'displayName': _ol_xml_.makeChildAppender(KML.writeDataNodeName_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, string>}\n * @private\n */\nKML.GEOMETRY_TYPE_TO_NODENAME_ = {\n  'Point': 'Point',\n  'LineString': 'LineString',\n  'LinearRing': 'LinearRing',\n  'Polygon': 'Polygon',\n  'MultiPoint': 'MultiGeometry',\n  'MultiLineString': 'MultiGeometry',\n  'MultiPolygon': 'MultiGeometry',\n  'GeometryCollection': 'MultiGeometry'\n};\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.ICON_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'href'\n  ],\n  _ol_xml_.makeStructureNS(KML.GX_NAMESPACE_URIS_, [\n    'x', 'y', 'w', 'h'\n  ]));\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.ICON_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'href': _ol_xml_.makeChildAppender(XSD.writeStringTextNode)\n  }, _ol_xml_.makeStructureNS(\n    KML.GX_NAMESPACE_URIS_, {\n      'x': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n      'y': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n      'w': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n      'h': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode)\n    }));\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.ICON_STYLE_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'scale', 'heading', 'Icon', 'hotSpot'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.ICON_STYLE_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'Icon': _ol_xml_.makeChildAppender(KML.writeIcon_),\n    'heading': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode),\n    'hotSpot': _ol_xml_.makeChildAppender(KML.writeVec2_),\n    'scale': _ol_xml_.makeChildAppender(KML.writeScaleTextNode_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.LABEL_STYLE_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'color', 'scale'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.LABEL_STYLE_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'color': _ol_xml_.makeChildAppender(KML.writeColorTextNode_),\n    'scale': _ol_xml_.makeChildAppender(KML.writeScaleTextNode_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.LINE_STYLE_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'color', 'width'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.LINE_STYLE_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'color': _ol_xml_.makeChildAppender(KML.writeColorTextNode_),\n    'width': _ol_xml_.makeChildAppender(XSD.writeDecimalTextNode)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.BOUNDARY_IS_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'LinearRing': _ol_xml_.makeChildAppender(\n      KML.writePrimitiveGeometry_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.MULTI_GEOMETRY_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'LineString': _ol_xml_.makeChildAppender(\n      KML.writePrimitiveGeometry_),\n    'Point': _ol_xml_.makeChildAppender(\n      KML.writePrimitiveGeometry_),\n    'Polygon': _ol_xml_.makeChildAppender(KML.writePolygon_),\n    'GeometryCollection': _ol_xml_.makeChildAppender(\n      KML.writeMultiGeometry_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.PLACEMARK_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'name', 'open', 'visibility', 'address', 'phoneNumber', 'description',\n    'styleUrl', 'Style'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.PLACEMARK_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'ExtendedData': _ol_xml_.makeChildAppender(\n      KML.writeExtendedData_),\n    'MultiGeometry': _ol_xml_.makeChildAppender(\n      KML.writeMultiGeometry_),\n    'LineString': _ol_xml_.makeChildAppender(\n      KML.writePrimitiveGeometry_),\n    'LinearRing': _ol_xml_.makeChildAppender(\n      KML.writePrimitiveGeometry_),\n    'Point': _ol_xml_.makeChildAppender(\n      KML.writePrimitiveGeometry_),\n    'Polygon': _ol_xml_.makeChildAppender(KML.writePolygon_),\n    'Style': _ol_xml_.makeChildAppender(KML.writeStyle_),\n    'address': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'description': _ol_xml_.makeChildAppender(\n      XSD.writeStringTextNode),\n    'name': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'open': _ol_xml_.makeChildAppender(XSD.writeBooleanTextNode),\n    'phoneNumber': _ol_xml_.makeChildAppender(\n      XSD.writeStringTextNode),\n    'styleUrl': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'visibility': _ol_xml_.makeChildAppender(\n      XSD.writeBooleanTextNode)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.PRIMITIVE_GEOMETRY_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'extrude', 'tessellate', 'altitudeMode', 'coordinates'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.PRIMITIVE_GEOMETRY_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'extrude': _ol_xml_.makeChildAppender(XSD.writeBooleanTextNode),\n    'tessellate': _ol_xml_.makeChildAppender(XSD.writeBooleanTextNode),\n    'altitudeMode': _ol_xml_.makeChildAppender(XSD.writeStringTextNode),\n    'coordinates': _ol_xml_.makeChildAppender(\n      KML.writeCoordinatesTextNode_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.POLYGON_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'outerBoundaryIs': _ol_xml_.makeChildAppender(\n      KML.writeBoundaryIs_),\n    'innerBoundaryIs': _ol_xml_.makeChildAppender(\n      KML.writeBoundaryIs_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.POLY_STYLE_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'color': _ol_xml_.makeChildAppender(KML.writeColorTextNode_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Array.<string>>}\n * @private\n */\nKML.STYLE_SEQUENCE_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, [\n    'IconStyle', 'LabelStyle', 'LineStyle', 'PolyStyle'\n  ]);\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlSerializer>>}\n * @private\n */\nKML.STYLE_SERIALIZERS_ = _ol_xml_.makeStructureNS(\n  KML.NAMESPACE_URIS_, {\n    'IconStyle': _ol_xml_.makeChildAppender(KML.writeIconStyle_),\n    'LabelStyle': _ol_xml_.makeChildAppender(KML.writeLabelStyle_),\n    'LineStyle': _ol_xml_.makeChildAppender(KML.writeLineStyle_),\n    'PolyStyle': _ol_xml_.makeChildAppender(KML.writePolyStyle_)\n  });\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nKML.GX_NODE_FACTORY_ = function(value, objectStack, opt_nodeName) {\n  return _ol_xml_.createElementNS(KML.GX_NAMESPACE_URIS_[0],\n    'gx:' + opt_nodeName);\n};\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nKML.DOCUMENT_NODE_FACTORY_ = function(value, objectStack,\n  opt_nodeName) {\n  const parentNode = objectStack[objectStack.length - 1].node;\n  return _ol_xml_.createElementNS(parentNode.namespaceURI, 'Placemark');\n};\n\n\n/**\n * @const\n * @param {*} value Value.\n * @param {Array.<*>} objectStack Object stack.\n * @param {string=} opt_nodeName Node name.\n * @return {Node|undefined} Node.\n * @private\n */\nKML.GEOMETRY_NODE_FACTORY_ = function(value, objectStack,\n  opt_nodeName) {\n  if (value) {\n    const parentNode = objectStack[objectStack.length - 1].node;\n    return _ol_xml_.createElementNS(parentNode.namespaceURI,\n      KML.GEOMETRY_TYPE_TO_NODENAME_[/** @type {ol.geom.Geometry} */ (value).getType()]);\n  }\n};\n\n\n/**\n * A factory for creating coordinates nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.COLOR_NODE_FACTORY_ = _ol_xml_.makeSimpleNodeFactory('color');\n\n\n/**\n * A factory for creating Data nodes.\n * @const\n * @type {function(*, Array.<*>): (Node|undefined)}\n * @private\n */\nKML.DATA_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('Data');\n\n\n/**\n * A factory for creating ExtendedData nodes.\n * @const\n * @type {function(*, Array.<*>): (Node|undefined)}\n * @private\n */\nKML.EXTENDEDDATA_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('ExtendedData');\n\n\n/**\n * A factory for creating innerBoundaryIs nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.INNER_BOUNDARY_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('innerBoundaryIs');\n\n\n/**\n * A factory for creating Point nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.POINT_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('Point');\n\n\n/**\n * A factory for creating LineString nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.LINE_STRING_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('LineString');\n\n\n/**\n * A factory for creating LinearRing nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.LINEAR_RING_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('LinearRing');\n\n\n/**\n * A factory for creating Polygon nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.POLYGON_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('Polygon');\n\n\n/**\n * A factory for creating outerBoundaryIs nodes.\n * @const\n * @type {function(*, Array.<*>, string=): (Node|undefined)}\n * @private\n */\nKML.OUTER_BOUNDARY_NODE_FACTORY_ =\n    _ol_xml_.makeSimpleNodeFactory('outerBoundaryIs');\n\n\n/**\n * Encode an array of features in the KML format. GeometryCollections, MultiPoints,\n * MultiLineStrings, and MultiPolygons are output as MultiGeometries.\n *\n * @function\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {string} Result.\n * @api\n */\nKML.prototype.writeFeatures;\n\n\n/**\n * Encode an array of features in the KML format as an XML node. GeometryCollections,\n * MultiPoints, MultiLineStrings, and MultiPolygons are output as MultiGeometries.\n *\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Options.\n * @return {Node} Node.\n * @override\n * @api\n */\nKML.prototype.writeFeaturesNode = function(features, opt_options) {\n  opt_options = this.adaptOptions(opt_options);\n  const kml = _ol_xml_.createElementNS(KML.NAMESPACE_URIS_[4], 'kml');\n  const xmlnsUri = 'http://www.w3.org/2000/xmlns/';\n  const xmlSchemaInstanceUri = 'http://www.w3.org/2001/XMLSchema-instance';\n  _ol_xml_.setAttributeNS(kml, xmlnsUri, 'xmlns:gx',\n    KML.GX_NAMESPACE_URIS_[0]);\n  _ol_xml_.setAttributeNS(kml, xmlnsUri, 'xmlns:xsi', xmlSchemaInstanceUri);\n  _ol_xml_.setAttributeNS(kml, xmlSchemaInstanceUri, 'xsi:schemaLocation',\n    KML.SCHEMA_LOCATION_);\n\n  const /** @type {ol.XmlNodeStackItem} */ context = {node: kml};\n  const properties = {};\n  if (features.length > 1) {\n    properties['Document'] = features;\n  } else if (features.length == 1) {\n    properties['Placemark'] = features[0];\n  }\n  const orderedKeys = KML.KML_SEQUENCE_[kml.namespaceURI];\n  const values = _ol_xml_.makeSequence(properties, orderedKeys);\n  _ol_xml_.pushSerializeAndPop(context, KML.KML_SERIALIZERS_,\n    _ol_xml_.OBJECT_PROPERTY_NODE_FACTORY, values, [opt_options], orderedKeys,\n    this);\n  return kml;\n};\nexport default KML;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/KML.js\n// module id = 166\n// module chunks = 0 1 2 3 4 5 6 7 8 9 12 14","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addWeekParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\nimport { createLocal } from '../create/local';\nimport { weekOfYear } from './week-calendar-utils';\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nexport function localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nexport var defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nexport function localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nexport function localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nexport function getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nexport function getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/week.js\n// module id = 168\n// module chunks = 0 1 2 3 4 5","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2, match3to4, match5to6 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { HOUR, MINUTE, SECOND } from './constants';\nimport toInt from '../utils/to-int';\nimport zeroFill from '../utils/zero-fill';\nimport getParsingFlags from '../create/parsing-flags';\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nexport function localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nexport var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nexport function localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nexport var getSetHour = makeGetSet('Hours', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/hour.js\n// module id = 169\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.datasource.File\n */\nimport ngeoDatasourceDataSource from 'ngeo/datasource/DataSource.js';\nimport olCollection from 'ol/Collection.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olSourceVector from 'ol/source/Vector.js';\n\nconst exports = class extends ngeoDatasourceDataSource {\n\n  /**\n   * A data source that contains vector features that were loaded from a file.\n   *\n   * @struct\n   * @param {ngeox.datasource.FileOptions} options Options.\n   */\n  constructor(options) {\n\n    super(options);\n\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * @type {!ol.Collection.<!ol.Feature>}\n     * @private\n     */\n    this.featuresCollection_ = options.features || new olCollection();\n\n    /**\n     * @type {!ol.source.Vector}\n     * @private\n     */\n    this.source_ = new olSourceVector({\n      features: this.featuresCollection_,\n      wrapX: false\n    });\n\n    /**\n     * @type {!ol.layer.Vector}\n     * @private\n     */\n    this.layer_ = new olLayerVector({\n      source: this.source_\n    });\n  }\n\n\n  // ========================================\n  // === Dynamic property getters/setters ===\n  // ========================================\n\n  /**\n   * @return {!Array.<!ol.Feature>} Features\n   * @export\n   */\n  get features() {\n    return this.featuresCollection_.getArray();\n  }\n\n\n  // =======================================\n  // === Static property getters/setters ===\n  // =======================================\n\n  /**\n   * @return {!ol.Collection.<!ol.Feature>} Features collection\n   * @export\n   */\n  get featuresCollection() {\n    return this.featuresCollection_;\n  }\n\n  /**\n   * @return {!ol.layer.Vector} Vector layer.\n   * @export\n   */\n  get layer() {\n    return this.layer_;\n  }\n\n\n  // ===================================\n  // === Calculated property getters ===\n  // ===================================\n\n  /**\n   * @return {ol.Extent} Extent.\n   * @export\n   */\n  get extent() {\n    return this.source_.getExtent();\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/File.js","/**\n * @module ngeo.message.popupComponent\n */\nimport ngeoBase from 'ngeo/index.js';\n\nimport 'angular-sanitize';\n\n\nconst exports = angular.module('ngeoPopup', [\n  'ngSanitize',\n]);\n\n\nexports.value('ngeoPopupTemplateUrl',\n  /**\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @return {string} Template URL.\n     */\n  (element, attrs) => {\n    const templateUrl = attrs['ngeoPopupTemplateurl'];\n    return templateUrl !== undefined ? templateUrl :\n      `${ngeoBase.baseModuleTemplateUrl}/message/popupcomponent.html`;\n  });\n\n\n/**\n * Provides a directive used to show a popup over the page with\n * a title and content.\n *\n *\n * Things to know about this directive:\n *\n * - This directive is intented to be used along with the popup service.\n *\n * - By default the directive uses \"popup.html\" as its templateUrl. This can be\n *   changed by redefining the \"ngeoPopupTemplateUrl\" value.\n *\n * - The directive doesn't create any scope but relies on its parent scope.\n *   Properties like 'content', 'title' or 'open' come from the parent scope.\n *\n * @private\n * @param {string} ngeoPopupTemplateUrl URL to popup template.\n * @return {angular.Directive} Directive Definition Object.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoPopup\n */\nexports.directive_ = function(ngeoPopupTemplateUrl) {\n  return {\n    restrict: 'A',\n    templateUrl: ngeoPopupTemplateUrl,\n    /**\n     * @param {angular.Scope} scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Atttributes.\n     */\n    link: (scope, element, attrs) => {\n      element.addClass('popover');\n\n      /**\n       * @param {jQuery.Event} evt Event.\n       */\n      scope.close = function(evt) {\n        if (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n        }\n        element.addClass('hidden');\n      };\n\n      // Watch the open property\n      scope.$watch('open', (newVal, oldVal) => {\n        element.css('display', newVal ? 'block' : 'none');\n      });\n    }\n  };\n};\n\nexports.directive('ngeoPopup', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/popupComponent.js","/**\n * @module ngeo.misc.Time\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * ngeo - Time service\n * @constructor\n * @struct\n * @ngInject\n * @ngdoc service\n * @ngname ngeoTime\n */\nconst exports = function() {};\n\n\n/**\n * Get options regarding the time property of a node;\n *\n * @param {ngeox.TimeProperty} time the time property of a node\n * @return {{\n *  minDate : number,\n *  maxDate : number,\n *  values : (Array<number>|number)\n * }} - Configuration for the UI components\n * @export\n */\nexports.prototype.getOptions = function(time) {\n\n  const minDate = new Date(time.minValue);\n  const maxDate = new Date(time.maxValue);\n\n  const minDefaultDate = (time.minDefValue) ?\n    new Date(time.minDefValue) : minDate;\n  const maxDefaultDate = (time.maxDefValue) ?\n    new Date(time.maxDefValue) : maxDate;\n\n  const defaultValues = (time.mode === 'range') ?\n    [minDefaultDate.getTime(), maxDefaultDate.getTime()] :\n    minDefaultDate.getTime();\n\n  return {\n    minDate: minDate.getTime(),\n    maxDate: maxDate.getTime(),\n    values: defaultValues\n  };\n};\n\n\n/**\n * Time.prototype.getUTCDate - Get UTC date from a local date object\n *\n * @param  {Object} localDate loacl date object in\n * @return {Object} UTC date\n * @export\n */\nexports.prototype.getUTCDate = function(localDate) {\n  return new Date(\n    localDate.getUTCFullYear(),\n    localDate.getUTCMonth(),\n    localDate.getUTCDate());\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoTime', []);\nexports.module.service('ngeoTime', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/Time.js","/**\n * @module ol/format/JSONFeature\n */\nimport {inherits} from '../index.js';\nimport FeatureFormat from '../format/Feature.js';\nimport FormatType from '../format/FormatType.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for JSON feature formats.\n *\n * @constructor\n * @abstract\n * @extends {ol.format.Feature}\n */\nconst JSONFeature = function() {\n  FeatureFormat.call(this);\n};\n\ninherits(JSONFeature, FeatureFormat);\n\n\n/**\n * @param {Document|Node|Object|string} source Source.\n * @return {Object} Object.\n */\nfunction getObject(source) {\n  if (typeof source === 'string') {\n    const object = JSON.parse(source);\n    return object ? /** @type {Object} */ (object) : null;\n  } else if (source !== null) {\n    return source;\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.getType = function() {\n  return FormatType.JSON;\n};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.readFeature = function(source, opt_options) {\n  return this.readFeatureFromObject(\n    getObject(source), this.getReadOptions(source, opt_options));\n};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.readFeatures = function(source, opt_options) {\n  return this.readFeaturesFromObject(\n    getObject(source), this.getReadOptions(source, opt_options));\n};\n\n\n/**\n * @abstract\n * @param {Object} object Object.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @protected\n * @return {ol.Feature} Feature.\n */\nJSONFeature.prototype.readFeatureFromObject = function(object, opt_options) {};\n\n\n/**\n * @abstract\n * @param {Object} object Object.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @protected\n * @return {Array.<ol.Feature>} Features.\n */\nJSONFeature.prototype.readFeaturesFromObject = function(object, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.readGeometry = function(source, opt_options) {\n  return this.readGeometryFromObject(\n    getObject(source), this.getReadOptions(source, opt_options));\n};\n\n\n/**\n * @abstract\n * @param {Object} object Object.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @protected\n * @return {ol.geom.Geometry} Geometry.\n */\nJSONFeature.prototype.readGeometryFromObject = function(object, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.readProjection = function(source) {\n  return this.readProjectionFromObject(getObject(source));\n};\n\n\n/**\n * @abstract\n * @param {Object} object Object.\n * @protected\n * @return {ol.proj.Projection} Projection.\n */\nJSONFeature.prototype.readProjectionFromObject = function(object) {};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.writeFeature = function(feature, opt_options) {\n  return JSON.stringify(this.writeFeatureObject(feature, opt_options));\n};\n\n\n/**\n * @abstract\n * @param {ol.Feature} feature Feature.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {Object} Object.\n */\nJSONFeature.prototype.writeFeatureObject = function(feature, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.writeFeatures = function(features, opt_options) {\n  return JSON.stringify(this.writeFeaturesObject(features, opt_options));\n};\n\n\n/**\n * @abstract\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {Object} Object.\n */\nJSONFeature.prototype.writeFeaturesObject = function(features, opt_options) {};\n\n\n/**\n * @inheritDoc\n */\nJSONFeature.prototype.writeGeometry = function(geometry, opt_options) {\n  return JSON.stringify(this.writeGeometryObject(geometry, opt_options));\n};\n\n\n/**\n * @abstract\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {Object} Object.\n */\nJSONFeature.prototype.writeGeometryObject = function(geometry, opt_options) {};\nexport default JSONFeature;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/JSONFeature.js\n// module id = null\n// module chunks = ","/**\n * @module ol/format/GeoJSON\n */\n// TODO: serialize dataProjection as crs member when writing\n// see https://github.com/openlayers/openlayers/issues/2078\n\nimport {inherits} from '../index.js';\nimport {assert} from '../asserts.js';\nimport Feature from '../Feature.js';\nimport {transformWithOptions} from '../format/Feature.js';\nimport JSONFeature from '../format/JSONFeature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport {assign, isEmpty} from '../obj.js';\nimport {get as getProjection} from '../proj.js';\n\n/**\n * @classdesc\n * Feature format for reading and writing data in the GeoJSON format.\n *\n * @constructor\n * @extends {ol.format.JSONFeature}\n * @param {olx.format.GeoJSONOptions=} opt_options Options.\n * @api\n */\nconst GeoJSON = function(opt_options) {\n\n  const options = opt_options ? opt_options : {};\n\n  JSONFeature.call(this);\n\n  /**\n   * @inheritDoc\n   */\n  this.defaultDataProjection = getProjection(\n    options.defaultDataProjection ?\n      options.defaultDataProjection : 'EPSG:4326');\n\n\n  if (options.featureProjection) {\n    this.defaultFeatureProjection = getProjection(options.featureProjection);\n  }\n\n  /**\n   * Name of the geometry attribute for features.\n   * @type {string|undefined}\n   * @private\n   */\n  this.geometryName_ = options.geometryName;\n\n  /**\n   * Look for the geometry name in the feature GeoJSON\n   * @type {boolean|undefined}\n   * @private\n   */\n  this.extractGeometryName_ = options.extractGeometryName;\n\n};\n\ninherits(GeoJSON, JSONFeature);\n\n\n/**\n * @const\n * @type {Object.<string, function(GeoJSONObject): ol.geom.Geometry>}\n */\nconst GEOMETRY_READERS = {\n  'Point': readPointGeometry,\n  'LineString': readLineStringGeometry,\n  'Polygon': readPolygonGeometry,\n  'MultiPoint': readMultiPointGeometry,\n  'MultiLineString': readMultiLineStringGeometry,\n  'MultiPolygon': readMultiPolygonGeometry,\n  'GeometryCollection': readGeometryCollectionGeometry\n};\n\n\n/**\n * @const\n * @type {Object.<string, function(ol.geom.Geometry, olx.format.WriteOptions=): (GeoJSONGeometry|GeoJSONGeometryCollection)>}\n */\nconst GEOMETRY_WRITERS = {\n  'Point': writePointGeometry,\n  'LineString': writeLineStringGeometry,\n  'Polygon': writePolygonGeometry,\n  'MultiPoint': writeMultiPointGeometry,\n  'MultiLineString': writeMultiLineStringGeometry,\n  'MultiPolygon': writeMultiPolygonGeometry,\n  'GeometryCollection': writeGeometryCollectionGeometry,\n  'Circle': writeEmptyGeometryCollectionGeometry\n};\n\n\n/**\n * @param {GeoJSONGeometry|GeoJSONGeometryCollection} object Object.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.geom.Geometry} Geometry.\n */\nfunction readGeometry(object, opt_options) {\n  if (!object) {\n    return null;\n  }\n  const geometryReader = GEOMETRY_READERS[object.type];\n  return (\n    /** @type {ol.geom.Geometry} */ transformWithOptions(\n      geometryReader(object), false, opt_options)\n  );\n}\n\n\n/**\n * @param {GeoJSONGeometryCollection} object Object.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.geom.GeometryCollection} Geometry collection.\n */\nfunction readGeometryCollectionGeometry(object, opt_options) {\n  const geometries = object.geometries.map(\n    /**\n       * @param {GeoJSONGeometry} geometry Geometry.\n       * @return {ol.geom.Geometry} geometry Geometry.\n       */\n    function(geometry) {\n      return readGeometry(geometry, opt_options);\n    });\n  return new GeometryCollection(geometries);\n}\n\n\n/**\n * @param {GeoJSONGeometry} object Object.\n * @return {ol.geom.Point} Point.\n */\nfunction readPointGeometry(object) {\n  return new Point(object.coordinates);\n}\n\n\n/**\n * @param {GeoJSONGeometry} object Object.\n * @return {ol.geom.LineString} LineString.\n */\nfunction readLineStringGeometry(object) {\n  return new LineString(object.coordinates);\n}\n\n\n/**\n * @param {GeoJSONGeometry} object Object.\n * @return {ol.geom.MultiLineString} MultiLineString.\n */\nfunction readMultiLineStringGeometry(object) {\n  return new MultiLineString(object.coordinates);\n}\n\n\n/**\n * @param {GeoJSONGeometry} object Object.\n * @return {ol.geom.MultiPoint} MultiPoint.\n */\nfunction readMultiPointGeometry(object) {\n  return new MultiPoint(object.coordinates);\n}\n\n\n/**\n * @param {GeoJSONGeometry} object Object.\n * @return {ol.geom.MultiPolygon} MultiPolygon.\n */\nfunction readMultiPolygonGeometry(object) {\n  return new MultiPolygon(object.coordinates);\n}\n\n\n/**\n * @param {GeoJSONGeometry} object Object.\n * @return {ol.geom.Polygon} Polygon.\n */\nfunction readPolygonGeometry(object) {\n  return new Polygon(object.coordinates);\n}\n\n\n/**\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry|GeoJSONGeometryCollection} GeoJSON geometry.\n */\nfunction writeGeometry(geometry, opt_options) {\n  const geometryWriter = GEOMETRY_WRITERS[geometry.getType()];\n  return geometryWriter(/** @type {ol.geom.Geometry} */ (\n    transformWithOptions(geometry, true, opt_options)), opt_options);\n}\n\n\n/**\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {GeoJSONGeometryCollection} Empty GeoJSON geometry collection.\n */\nfunction writeEmptyGeometryCollectionGeometry(geometry) {\n  return /** @type {GeoJSONGeometryCollection} */ ({\n    type: 'GeometryCollection',\n    geometries: []\n  });\n}\n\n\n/**\n * @param {ol.geom.GeometryCollection} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometryCollection} GeoJSON geometry collection.\n */\nfunction writeGeometryCollectionGeometry(geometry, opt_options) {\n  const geometries = geometry.getGeometriesArray().map(function(geometry) {\n    const options = assign({}, opt_options);\n    delete options.featureProjection;\n    return writeGeometry(geometry, options);\n  });\n  return /** @type {GeoJSONGeometryCollection} */ ({\n    type: 'GeometryCollection',\n    geometries: geometries\n  });\n}\n\n\n/**\n * @param {ol.geom.LineString} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeLineStringGeometry(geometry, opt_options) {\n  return /** @type {GeoJSONGeometry} */ ({\n    type: 'LineString',\n    coordinates: geometry.getCoordinates()\n  });\n}\n\n\n/**\n * @param {ol.geom.MultiLineString} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiLineStringGeometry(geometry, opt_options) {\n  return /** @type {GeoJSONGeometry} */ ({\n    type: 'MultiLineString',\n    coordinates: geometry.getCoordinates()\n  });\n}\n\n\n/**\n * @param {ol.geom.MultiPoint} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPointGeometry(geometry, opt_options) {\n  return /** @type {GeoJSONGeometry} */ ({\n    type: 'MultiPoint',\n    coordinates: geometry.getCoordinates()\n  });\n}\n\n\n/**\n * @param {ol.geom.MultiPolygon} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPolygonGeometry(geometry, opt_options) {\n  let right;\n  if (opt_options) {\n    right = opt_options.rightHanded;\n  }\n  return /** @type {GeoJSONGeometry} */ ({\n    type: 'MultiPolygon',\n    coordinates: geometry.getCoordinates(right)\n  });\n}\n\n\n/**\n * @param {ol.geom.Point} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePointGeometry(geometry, opt_options) {\n  return /** @type {GeoJSONGeometry} */ ({\n    type: 'Point',\n    coordinates: geometry.getCoordinates()\n  });\n}\n\n\n/**\n * @param {ol.geom.Polygon} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePolygonGeometry(geometry, opt_options) {\n  let right;\n  if (opt_options) {\n    right = opt_options.rightHanded;\n  }\n  return /** @type {GeoJSONGeometry} */ ({\n    type: 'Polygon',\n    coordinates: geometry.getCoordinates(right)\n  });\n}\n\n\n/**\n * Read a feature from a GeoJSON Feature source.  Only works for Feature or\n * geometry types.  Use {@link ol.format.GeoJSON#readFeatures} to read\n * FeatureCollection source. If feature at source has an id, it will be used\n * as Feature id by calling {@link ol.Feature#setId} internally.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.Feature} Feature.\n * @api\n */\nGeoJSON.prototype.readFeature;\n\n\n/**\n * Read all features from a GeoJSON source.  Works for all GeoJSON types.\n * If the source includes only geometries, features will be created with those\n * geometries.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {Array.<ol.Feature>} Features.\n * @api\n */\nGeoJSON.prototype.readFeatures;\n\n\n/**\n * @inheritDoc\n */\nGeoJSON.prototype.readFeatureFromObject = function(object, opt_options) {\n  /**\n   * @type {GeoJSONFeature}\n   */\n  let geoJSONFeature = null;\n  if (object.type === 'Feature') {\n    geoJSONFeature = /** @type {GeoJSONFeature} */ (object);\n  } else {\n    geoJSONFeature = /** @type {GeoJSONFeature} */ ({\n      type: 'Feature',\n      geometry: /** @type {GeoJSONGeometry|GeoJSONGeometryCollection} */ (object)\n    });\n  }\n\n  const geometry = readGeometry(geoJSONFeature.geometry, opt_options);\n  const feature = new Feature();\n  if (this.geometryName_) {\n    feature.setGeometryName(this.geometryName_);\n  } else if (this.extractGeometryName_ && geoJSONFeature.geometry_name !== undefined) {\n    feature.setGeometryName(geoJSONFeature.geometry_name);\n  }\n  feature.setGeometry(geometry);\n  if (geoJSONFeature.id !== undefined) {\n    feature.setId(geoJSONFeature.id);\n  }\n  if (geoJSONFeature.properties) {\n    feature.setProperties(geoJSONFeature.properties);\n  }\n  return feature;\n};\n\n\n/**\n * @inheritDoc\n */\nGeoJSON.prototype.readFeaturesFromObject = function(object, opt_options) {\n  const geoJSONObject = /** @type {GeoJSONObject} */ (object);\n  /** @type {Array.<ol.Feature>} */\n  let features = null;\n  if (geoJSONObject.type === 'FeatureCollection') {\n    const geoJSONFeatureCollection = /** @type {GeoJSONFeatureCollection} */\n        (object);\n    features = [];\n    const geoJSONFeatures = geoJSONFeatureCollection.features;\n    let i, ii;\n    for (i = 0, ii = geoJSONFeatures.length; i < ii; ++i) {\n      features.push(this.readFeatureFromObject(geoJSONFeatures[i],\n        opt_options));\n    }\n  } else {\n    features = [this.readFeatureFromObject(object, opt_options)];\n  }\n  return features;\n};\n\n\n/**\n * Read a geometry from a GeoJSON source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @param {olx.format.ReadOptions=} opt_options Read options.\n * @return {ol.geom.Geometry} Geometry.\n * @api\n */\nGeoJSON.prototype.readGeometry;\n\n\n/**\n * @inheritDoc\n */\nGeoJSON.prototype.readGeometryFromObject = function(object, opt_options) {\n  return readGeometry(/** @type {GeoJSONGeometry} */ (object), opt_options);\n};\n\n\n/**\n * Read the projection from a GeoJSON source.\n *\n * @function\n * @param {Document|Node|Object|string} source Source.\n * @return {ol.proj.Projection} Projection.\n * @api\n */\nGeoJSON.prototype.readProjection;\n\n\n/**\n * @inheritDoc\n */\nGeoJSON.prototype.readProjectionFromObject = function(object) {\n  const geoJSONObject = /** @type {GeoJSONObject} */ (object);\n  const crs = geoJSONObject.crs;\n  let projection;\n  if (crs) {\n    if (crs.type == 'name') {\n      projection = getProjection(crs.properties.name);\n    } else {\n      assert(false, 36); // Unknown SRS type\n    }\n  } else {\n    projection = this.defaultDataProjection;\n  }\n  return /** @type {ol.proj.Projection} */ (projection);\n};\n\n\n/**\n * Encode a feature as a GeoJSON Feature string.\n *\n * @function\n * @param {ol.Feature} feature Feature.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} GeoJSON.\n * @override\n * @api\n */\nGeoJSON.prototype.writeFeature;\n\n\n/**\n * Encode a feature as a GeoJSON Feature object.\n *\n * @param {ol.Feature} feature Feature.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONFeature} Object.\n * @override\n * @api\n */\nGeoJSON.prototype.writeFeatureObject = function(feature, opt_options) {\n  opt_options = this.adaptOptions(opt_options);\n\n  const object = /** @type {GeoJSONFeature} */ ({\n    'type': 'Feature'\n  });\n  const id = feature.getId();\n  if (id !== undefined) {\n    object.id = id;\n  }\n  const geometry = feature.getGeometry();\n  if (geometry) {\n    object.geometry = writeGeometry(geometry, opt_options);\n  } else {\n    object.geometry = null;\n  }\n  const properties = feature.getProperties();\n  delete properties[feature.getGeometryName()];\n  if (!isEmpty(properties)) {\n    object.properties = properties;\n  } else {\n    object.properties = null;\n  }\n  return object;\n};\n\n\n/**\n * Encode an array of features as GeoJSON.\n *\n * @function\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} GeoJSON.\n * @api\n */\nGeoJSON.prototype.writeFeatures;\n\n\n/**\n * Encode an array of features as a GeoJSON object.\n *\n * @param {Array.<ol.Feature>} features Features.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONFeatureCollection} GeoJSON Object.\n * @override\n * @api\n */\nGeoJSON.prototype.writeFeaturesObject = function(features, opt_options) {\n  opt_options = this.adaptOptions(opt_options);\n  const objects = [];\n  let i, ii;\n  for (i = 0, ii = features.length; i < ii; ++i) {\n    objects.push(this.writeFeatureObject(features[i], opt_options));\n  }\n  return /** @type {GeoJSONFeatureCollection} */ ({\n    type: 'FeatureCollection',\n    features: objects\n  });\n};\n\n\n/**\n * Encode a geometry as a GeoJSON string.\n *\n * @function\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {string} GeoJSON.\n * @api\n */\nGeoJSON.prototype.writeGeometry;\n\n\n/**\n * Encode a geometry as a GeoJSON object.\n *\n * @param {ol.geom.Geometry} geometry Geometry.\n * @param {olx.format.WriteOptions=} opt_options Write options.\n * @return {GeoJSONGeometry|GeoJSONGeometryCollection} Object.\n * @override\n * @api\n */\nGeoJSON.prototype.writeGeometryObject = function(geometry, opt_options) {\n  return writeGeometry(geometry, this.adaptOptions(opt_options));\n};\nexport default GeoJSON;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/GeoJSON.js\n// module id = null\n// module chunks = ","/**\n * @module ngeo.download.service\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoUtils from 'ngeo/utils.js';\n\nimport {saveAs} from 'file-saver';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDownload', []);\n\n/**\n * A service to start a download for a file.\n *\n * @return {ngeox.Download} The download function.\n * @ngdoc service\n * @ngname ngeoDownload\n */\nexports.factory_ = function() {\n  /**\n   * @param {string} content The file content.\n   * @param {string} fileName The file name.\n   * @param {string=} opt_fileType The file type. If not given,\n   *    `text/plain;charset=utf-8` is used.\n   */\n  function download(content, fileName, opt_fileType) {\n    // Safari does not properly work with FileSaver. Using the the type 'text/plain'\n    // makes it a least possible to show the file content so that users can\n    // do a manual download with \"Save as\".\n    // See also: https://github.com/eligrey/FileSaver.js/issues/12\n    /** @type {string} */\n    const fileType = opt_fileType !== undefined && !ngeoUtils.isSafari() ?\n      opt_fileType : 'text/plain;charset=utf-8';\n\n    const blob = new Blob([content], {type: fileType});\n    saveAs(blob, fileName);\n  }\n\n  return download;\n};\n\nexports.factory('ngeoDownload', exports.factory_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/download/service.js","/**\n * @module ngeo.interaction.MeasureAzimut\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoInteractionDrawAzimut from 'ngeo/interaction/DrawAzimut.js';\nimport ngeoInteractionMeasure from 'ngeo/interaction/Measure.js';\nimport * as olBase from 'ol/index.js';\nimport olGeomGeometryCollection from 'ol/geom/GeometryCollection.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olProjProjection from 'ol/proj/Projection.js';\n\n/**\n * @classdesc\n * Interaction dedicated to measure length.\n *\n * See our live example: [../examples/measure.html](../examples/measure.html)\n *\n * @constructor\n * @struct\n * @fires ol.interaction.Draw.Event\n * @extends {ngeo.interaction.Measure}\n * @param {!ngeox.unitPrefix} unitPrefixFormat The format function\n * @param {!ngeox.number} numberFormat The format function\n * @param {!ngeox.interaction.MeasureOptions=} opt_options Options\n */\nconst exports = function(unitPrefixFormat, numberFormat, opt_options) {\n\n  const options = opt_options || {};\n\n  ngeoInteractionMeasure.call(this, options);\n\n\n  /**\n   * Message to show after the first point is clicked.\n   * @type {Element}\n   */\n  this.continueMsg;\n  if (options.continueMsg !== undefined) {\n    this.continueMsg = options.continueMsg;\n  } else {\n    this.continueMsg = document.createElement('span');\n    this.continueMsg.textContent = 'Click to finish.';\n  }\n\n  /**\n   * The format function\n   * @type {ngeox.number}\n   */\n  this.numberFormat = googAsserts.assert(numberFormat);\n\n  /**\n   * The format function\n   * @type {ngeox.unitPrefix}\n   */\n  this.unitPrefixFormat = googAsserts.assert(unitPrefixFormat);\n\n};\n\nolBase.inherits(exports, ngeoInteractionMeasure);\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.createDrawInteraction = function(style,\n  source) {\n\n  return new ngeoInteractionDrawAzimut({\n    source,\n    style\n  });\n\n\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.handleMeasure = function(callback) {\n  const geom = googAsserts.assertInstanceof(this.sketchFeature.getGeometry(), olGeomGeometryCollection);\n  const line = googAsserts.assertInstanceof(geom.getGeometries()[0], olGeomLineString);\n  const output = exports.getFormattedAzimutRadius(\n    line, googAsserts.assertInstanceof(this.getMap().getView().getProjection(), olProjProjection),\n    this.decimals, this.precision, this.unitPrefixFormat, this.numberFormat);\n  callback(output, line.getLastCoordinate());\n};\n\n\n/**\n * Format measure output of azimut and radius.\n * @param {!ol.geom.LineString} line LineString.\n * @param {!ol.proj.Projection} projection Projection of the polygon coords.\n * @param {number|undefined} decimals Decimals.\n * @param {number|undefined} precision Precision.\n * @param {!ngeox.unitPrefix} formatLength The format function.\n * @param {!ngeox.number} formatAzimut The format function.\n * @return {string} Formatted measure.\n */\nexports.getFormattedAzimutRadius = function(\n  line, projection, decimals, precision, formatLength, formatAzimut) {\n\n  let output = exports.getFormattedAzimut(line, decimals, formatAzimut);\n\n  output += `, ${ngeoInteractionMeasure.getFormattedLength(\n    line, projection, precision, formatLength)}`;\n\n  return output;\n};\n\n\n/**\n * Format measure output of azimut.\n * @param {!ol.geom.LineString} line LineString.\n * @param {number|undefined} decimals Decimals.\n * @param {!ngeox.number} format The format function.\n * @return {string} Formatted measure.\n */\nexports.getFormattedAzimut = function(line, decimals, format) {\n  const azimut = exports.getAzimut(line);\n  return `${format(azimut, decimals)}°`;\n};\n\n\n/**\n * Compute azimut from a 2 points line.\n * @param {ol.geom.LineString} line LineString.\n * @return {number} Azimut value.\n */\nexports.getAzimut = function(line) {\n  const coords = line.getCoordinates();\n  const dx = coords[1][0] - coords[0][0];\n  const dy = coords[1][1] - coords[0][1];\n  const rad = Math.acos(dy / Math.sqrt(dx * dx + dy * dy));\n  const factor = dx > 0 ? 1 : -1;\n  return (factor * rad * 180 / Math.PI) % 360;\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/MeasureAzimut.js","export default function map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/map.js\n// module id = null\n// module chunks = ","import { daysInMonth } from '../units/month';\nimport { YEAR, MONTH, DATE, HOUR, MINUTE, SECOND, MILLISECOND, WEEK, WEEKDAY } from '../units/constants';\nimport getParsingFlags from '../create/parsing-flags';\n\nexport default function checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/check-overflow.js\n// module id = null\n// module chunks = ","// Pick the first defined of two or three arguments.\nexport default function defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/defaults.js\n// module id = null\n// module chunks = ","import { hooks } from '../utils/hooks';\nimport { createDate, createUTCDate } from './date-from-array';\nimport { daysInYear } from '../units/year';\nimport { weekOfYear, weeksInYear, dayOfYearFromWeeks } from '../units/week-calendar-utils';\nimport { YEAR, MONTH, DATE, HOUR, MINUTE, SECOND, MILLISECOND } from '../units/constants';\nimport { createLocal } from './local';\nimport defaults from '../utils/defaults';\nimport getParsingFlags from './parsing-flags';\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nexport function configFromArray (config) {\n    var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n\n    // check for mismatching day of week\n    if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n        getParsingFlags(config).weekdayMismatch = true;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/from-array.js\n// module id = null\n// module chunks = ","import { configFromStringAndFormat } from './from-string-and-format';\nimport { createUTCDate } from './date-from-array';\nimport { configFromArray } from './from-array';\nimport { hooks } from '../utils/hooks';\nimport { deprecate } from '../utils/deprecate';\nimport getParsingFlags from './parsing-flags';\nimport {defaultLocaleMonthsShort} from '../units/month';\nimport {defaultLocaleWeekdaysShort} from '../units/day-of-week';\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nexport function configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\nfunction extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n    var result = [\n        untruncateYear(yearStr),\n        defaultLocaleMonthsShort.indexOf(monthStr),\n        parseInt(dayStr, 10),\n        parseInt(hourStr, 10),\n        parseInt(minuteStr, 10)\n    ];\n\n    if (secondStr) {\n        result.push(parseInt(secondStr, 10));\n    }\n\n    return result;\n}\n\nfunction untruncateYear(yearStr) {\n    var year = parseInt(yearStr, 10);\n    if (year <= 49) {\n        return 2000 + year;\n    } else if (year <= 999) {\n        return 1900 + year;\n    }\n    return year;\n}\n\nfunction preprocessRFC2822(s) {\n    // Remove comments and folding whitespace and replace multiple-spaces with a single space\n    return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').trim();\n}\n\nfunction checkWeekday(weekdayStr, parsedInput, config) {\n    if (weekdayStr) {\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n            weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n        if (weekdayProvided !== weekdayActual) {\n            getParsingFlags(config).weekdayMismatch = true;\n            config._isValid = false;\n            return false;\n        }\n    }\n    return true;\n}\n\nvar obsOffsets = {\n    UT: 0,\n    GMT: 0,\n    EDT: -4 * 60,\n    EST: -5 * 60,\n    CDT: -5 * 60,\n    CST: -6 * 60,\n    MDT: -6 * 60,\n    MST: -7 * 60,\n    PDT: -7 * 60,\n    PST: -8 * 60\n};\n\nfunction calculateOffset(obsOffset, militaryOffset, numOffset) {\n    if (obsOffset) {\n        return obsOffsets[obsOffset];\n    } else if (militaryOffset) {\n        // the only allowed military tz is Z\n        return 0;\n    } else {\n        var hm = parseInt(numOffset, 10);\n        var m = hm % 100, h = (hm - m) / 100;\n        return h * 60 + m;\n    }\n}\n\n// date and time from ref 2822 format\nexport function configFromRFC2822(config) {\n    var match = rfc2822.exec(preprocessRFC2822(config._i));\n    if (match) {\n        var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n        if (!checkWeekday(match[1], parsedArray, config)) {\n            return;\n        }\n\n        config._a = parsedArray;\n        config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n        config._d = createUTCDate.apply(null, config._a);\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nexport function configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/from-string.js\n// module id = null\n// module chunks = ","import { configFromISO, configFromRFC2822 } from './from-string';\nimport { configFromArray } from './from-array';\nimport { getParseRegexForToken }   from '../parse/regex';\nimport { addTimeToArrayFromToken } from '../parse/token';\nimport { expandFormat, formatTokenFunctions, formattingTokens } from '../format/format';\nimport checkOverflow from './check-overflow';\nimport { HOUR } from '../units/constants';\nimport { hooks } from '../utils/hooks';\nimport getParsingFlags from './parsing-flags';\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nexport function configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/from-string-and-format.js\n// module id = null\n// module chunks = ","import isArray from '../utils/is-array';\nimport isObject from '../utils/is-object';\nimport isObjectEmpty from '../utils/is-object-empty';\nimport isUndefined from '../utils/is-undefined';\nimport isNumber from '../utils/is-number';\nimport isDate from '../utils/is-date';\nimport map from '../utils/map';\nimport { createInvalid } from './valid';\nimport { Moment, isMoment } from '../moment/constructor';\nimport { getLocale } from '../locale/locales';\nimport { hooks } from '../utils/hooks';\nimport checkOverflow from './check-overflow';\nimport { isValid } from './valid';\n\nimport { configFromStringAndArray }  from './from-string-and-array';\nimport { configFromStringAndFormat } from './from-string-and-format';\nimport { configFromString }          from './from-string';\nimport { configFromArray }           from './from-array';\nimport { configFromObject }          from './from-object';\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nexport function prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nexport function createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/from-anything.js\n// module id = null\n// module chunks = ","import { copyConfig } from '../moment/constructor';\nimport { configFromStringAndFormat } from './from-string-and-format';\nimport getParsingFlags from './parsing-flags';\nimport { isValid } from './valid';\nimport extend from '../utils/extend';\n\n// date from string and array of format strings\nexport function configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/from-string-and-array.js\n// module id = null\n// module chunks = ","import { normalizeObjectUnits } from '../units/aliases';\nimport { configFromArray } from './from-array';\nimport map from '../utils/map';\n\nexport function configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/create/from-object.js\n// module id = null\n// module chunks = ","export default function isObjectEmpty(obj) {\n    if (Object.getOwnPropertyNames) {\n        return (Object.getOwnPropertyNames(obj).length === 0);\n    } else {\n        var k;\n        for (k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-object-empty.js\n// module id = null\n// module chunks = ","export default function isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-date.js\n// module id = 193\n// module chunks = 0 1 2 3 4 5","export default function zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/zero-fill.js\n// module id = 194\n// module chunks = 0 1 2 3 4 5","var indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nexport { indexOf as default };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/index-of.js\n// module id = 195\n// module chunks = 0 1 2 3 4 5","import { daysInYear } from './year';\nimport { createLocal } from '../create/local';\nimport { createUTCDate } from '../create/date-from-array';\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nexport function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nexport function weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nexport function weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/week-calendar-utils.js\n// module id = 196\n// module chunks = 0 1 2 3 4 5","/**\n * @module gmf.layertree.SyncLayertreeMap\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport googAsserts from 'goog/asserts.js';\nimport ngeoLayertreeController from 'ngeo/layertree/Controller.js';\nimport ngeoMiscWMSTime from 'ngeo/misc/WMSTime.js';\nimport * as olBase from 'ol/index.js';\nimport olLayerImage from 'ol/layer/Image.js';\nimport olLayerTile from 'ol/layer/Tile.js';\n\n/**\n * Service to create layer based on a ngeo.layertree.Controller with a\n * GMFThemesGroup or a GMFThemesLeaf as node object.\n * This layer is also used to synchronise a state of ngeo.layertree.Controller\n * and its corresponding layer in the map.\n *\n * @constructor\n * @param {angular.Scope} $rootScope Angular rootScope.\n * @param {ngeo.map.LayerHelper} ngeoLayerHelper Ngeo Layer Helper.\n * @param {ngeo.misc.WMSTime} ngeoWMSTime wms time service.\n * @param {gmf.theme.Themes} gmfThemes The gmf Themes service.\n * @ngInject\n * @ngdoc service\n * @ngname gmfSyncLayertreeMap\n */\nconst exports = function($rootScope, ngeoLayerHelper, ngeoWMSTime,\n  gmfThemes) {\n\n  /**\n   * @type {ngeo.map.LayerHelper}\n   * @private\n   */\n  this.layerHelper_ = ngeoLayerHelper;\n\n  /**\n   * @type {ngeo.misc.WMSTime}\n   * @private\n   */\n  this.ngeoWMSTime_ = ngeoWMSTime;\n\n  /**\n   * @type {gmfThemes.GmfOgcServers}\n   * @private\n   */\n  this.ogcServersObject_;\n\n  gmfThemes.getOgcServersObject().then((ogcServersObject) => {\n    this.ogcServersObject_ = ogcServersObject;\n  });\n\n  $rootScope.$on('ngeo-layertree-state', (map, treeCtrl, firstParent) => {\n    this.sync_(/** @type ol.Map */ (map), firstParent);\n  });\n};\n\n\n/**\n * Create, insert (or update) and return a layer from the GmfGroup or the\n * GmfLayer of the given treeCtrl.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @param {ol.Map} map A map that contains the group to insert the not first\n *     level group layer.\n * @param {ol.layer.Group} dataLayerGroup the layer group to insert the first\n *     level group layer.\n * @param {number=} opt_position for first level Group, you can precise the\n *     position to add the group in the array of layers of the dataLayerGroup.\n * @return {ol.layer.Base|ol.layer.Group} a new layer.\n * @public\n */\nexports.prototype.createLayer = function(treeCtrl, map, dataLayerGroup, opt_position) {\n  /**\n   * @type {ol.layer.Base|ol.layer.Group}\n   */\n  let layer = null;\n  if (treeCtrl.node.children !== undefined && treeCtrl.node.mixed) {\n    // Mixed groups\n    layer = this.createGroup_(treeCtrl, map, dataLayerGroup, opt_position);\n  } else if (treeCtrl.node.children === undefined && treeCtrl.parent.node.mixed) {\n    // Layers in a mixed group\n    layer = this.createLeafInAMixedGroup_(treeCtrl, map);\n  } else if (treeCtrl.node.children === undefined) {\n    // Layers in a non mixed group\n    this.initGmfLayerInANotMixedGroup_(treeCtrl, map);\n  } else if (treeCtrl.depth === 1 && !treeCtrl.node.mixed) {\n    // First level group non mix\n    layer = this.createGroup_(treeCtrl, map, dataLayerGroup, opt_position);\n  }\n\n  if (layer && treeCtrl.node.metadata.opacity) {\n    layer.setOpacity(treeCtrl.node.metadata.opacity);\n  }\n\n  return layer;\n};\n\n\n/**\n * Synchronise the state of each layers corresponding to the given tree and\n * all its children.\n * @param {ol.Map} map A map that contains the layers.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @private\n */\nexports.prototype.sync_ = function(map, treeCtrl) {\n  treeCtrl.traverseDepthFirst((treeCtrl) => {\n    if (treeCtrl.layer && !treeCtrl.node.mixed) {\n      this.updateLayerState_(/** @type ol.layer.Image|ol.layer.Tile */ (treeCtrl.layer), treeCtrl);\n    }\n  });\n};\n\n\n/**\n * Set the active state of a layer based on its treeCtrl state.\n * @param {ol.layer.Tile|ol.layer.Image} layer A layer.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @private\n */\nexports.prototype.updateLayerState_ = function(layer, treeCtrl) {\n  const active = treeCtrl.getState() === 'on';\n  if (treeCtrl.node.type === 'WMTS') {\n    layer.setVisible(active);\n  } else if (!treeCtrl.node.mixed && treeCtrl.depth === 1) {\n    // First level non mixed group\n    googAsserts.assertInstanceof(layer, olLayerImage);\n    const names = [];\n    treeCtrl.traverseDepthFirst((treeCtrl) => {\n      if (treeCtrl.node.children === undefined && treeCtrl.getState() === 'on') {\n        names.push(treeCtrl.node.layers);\n      }\n    });\n    if (names.length === 0) {\n      layer.setVisible(false);\n    }\n    /** @type {ol.source.ImageWMS} */ (layer.getSource()).updateParams({\n      'LAYERS': names.reverse().join(',')\n    });\n    if (names.length !== 0) {\n      layer.setVisible(true);\n    }\n  } else {\n    // WMS mixed layer\n    googAsserts.assertInstanceof(layer, olLayerImage);\n    layer.setVisible(active);\n  }\n};\n\n\n/**\n * Create insert and return a layer group (for not mixed case) or a wmsLayer (for\n * mixed case). Take care about the insertion order in the map in case of first\n * level group.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @param {ol.Map} map A map that contains the group to insert the not first\n *     level group layer.\n * @param {ol.layer.Group} dataLayerGroup the layer group to insert the first\n *     level group layer.\n * @param {number=} opt_position for first level Group, you can precise the\n *     position to add the group in the array of layers of the dataLayerGroup.\n * @return {ol.layer.Image|ol.layer.Group} a new layer.\n * @private\n */\nexports.prototype.createGroup_ = function(treeCtrl, map,\n  dataLayerGroup, opt_position) {\n  const groupNode = /** @type {gmfThemes.GmfGroup} */ (treeCtrl.node);\n  let layer = null;\n  const isFirstLevelGroup = treeCtrl.parent.isRoot;\n\n  if (isFirstLevelGroup) { // First level group\n    layer = this.createLayerFromGroup_(treeCtrl, !!groupNode.mixed);\n    // Insert the layer at the right place\n    const position = opt_position | 0;\n    dataLayerGroup.getLayers().insertAt(position, layer);\n\n  } else { // Other Groups, create a group layer only in mixed groups\n    const inAMixedGroup = !this.isOneParentNotMixed_(treeCtrl);\n    if (inAMixedGroup) {\n      layer = this.createLayerFromGroup_(treeCtrl, true);\n      const layerGroup = /** @type {ol.layer.Group} */ (\n        exports.getLayer(treeCtrl.parent));\n      layerGroup.getLayers().insertAt(0, layer);\n    }\n  }\n  return layer;\n};\n\n\n/**\n * Create, insert and return a layer group (for not mixed case) or a wmsLayer\n * for mixed case).\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @param {boolean} mixed True for a group layer, false for a WMS layer.\n * @return {ol.layer.Image|ol.layer.Group} a new layer.\n * @private\n */\nexports.prototype.createLayerFromGroup_ = function(treeCtrl,\n  mixed) {\n  let layer;\n  const groupNode = /** @type {gmfThemes.GmfGroup} */ (treeCtrl.node);\n  if (mixed) { // Will be one ol.layer per each node.\n    layer = this.layerHelper_.createBasicGroup();\n  } else { // Will be one ol.layer for multiple WMS nodes.\n    const timeParam = this.getTimeParam_(treeCtrl);\n    const ogcServer = this.ogcServersObject_[groupNode.ogcServer || ''];\n    googAsserts.assert(ogcServer);\n    googAsserts.assert(ogcServer.url);\n    googAsserts.assert(ogcServer.type);\n    googAsserts.assert(ogcServer.imageType);\n    layer = this.layerHelper_.createBasicWMSLayer(\n      ogcServer.url,\n      '',\n      ogcServer.imageType,\n      ogcServer.type,\n      timeParam,\n      undefined, // WMS parameters\n      ogcServer.credential ? 'use-credentials' : 'anonymous'\n    );\n    let hasActiveChildren = false;\n    treeCtrl.traverseDepthFirst((ctrl) => {\n      // Update layer information and tree state.\n      this.updateLayerReferences_(/** @type gmfThemes.GmfLayer */ (ctrl.node), layer);\n      if (ctrl.node.metadata.isChecked) {\n        ctrl.setState('on', false);\n        this.updateLayerState_(/** @type {ol.layer.Image} */ (layer), ctrl);\n        hasActiveChildren = true;\n      }\n    });\n    layer.setVisible(hasActiveChildren);\n    layer.set('layerNodeName', groupNode.name); //Really useful ?\n  }\n  return layer;\n};\n\n\n/**\n * Create and insert a layer from a leaf in a mixed group.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @param {ol.Map} map A map that contains the group to insert the layer.\n * @return {ol.layer.Tile|ol.layer.Image} a new layer.\n * @private\n */\nexports.prototype.createLeafInAMixedGroup_ = function(treeCtrl, map) {\n  const gmfLayer = /** @type {gmfThemes.GmfLayer} */ (treeCtrl.node);\n  let layer;\n  // Make layer.\n  if (gmfLayer.type === 'WMTS') {\n    layer = this.createWMTSLayer_(/** @type gmfThemes.GmfLayerWMTS */ (gmfLayer));\n  } else {\n    const gmfLayerWMS = /** @type gmfThemes.GmfLayerWMS */ (gmfLayer);\n    const timeParam = this.getTimeParam_(treeCtrl);\n    const ogcServer = this.ogcServersObject_[/** @type string */ (gmfLayerWMS.ogcServer)];\n    googAsserts.assert(ogcServer);\n    googAsserts.assert(ogcServer.url);\n    googAsserts.assert(ogcServer.type);\n    googAsserts.assert(gmfLayerWMS.layers);\n    googAsserts.assert(ogcServer.imageType);\n    layer = this.layerHelper_.createBasicWMSLayer(\n      ogcServer.url,\n      gmfLayerWMS.layers,\n      ogcServer.imageType,\n      ogcServer.type,\n      timeParam,\n      undefined, // WMS parameters\n      ogcServer.credential ? 'use-credentials' : 'anonymous'\n    );\n  }\n  // Update layer information and tree state.\n  layer.set('layerNodeName', gmfLayer.name); // Really useful ?\n  this.updateLayerReferences_(gmfLayer, layer);\n  const checked = gmfLayer.metadata.isChecked === true;\n  if (checked) {\n    treeCtrl.setState('on', false);\n  }\n  layer.setVisible(checked);\n  // Insert layer in the map.\n  const layerGroup = /** @type {ol.layer.Group} */ (\n    exports.getLayer(treeCtrl.parent));\n  layerGroup.getLayers().insertAt(0, layer);\n  return layer;\n};\n\n\n/**\n * Update a WMS layer with the given treeCtrl node information. Assumes that\n * the first parent with ogcServer information is linked to the layer to update\n * and that this treeCtrl node is a leafNode.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @param {ol.Map} map A map that contains the layer to update.\n * @private\n */\nexports.prototype.initGmfLayerInANotMixedGroup_ = function(treeCtrl, map) {\n  const leafNode = /** @type {gmfThemes.GmfLayer} */ (treeCtrl.node);\n  const firstLevelGroup = this.getFirstLevelGroupCtrl_(treeCtrl);\n  googAsserts.assert(firstLevelGroup);\n  const layer = /** @type {ol.layer.Image} */ (firstLevelGroup.layer);\n  googAsserts.assertInstanceof(layer, olLayerImage);\n  // Update layer information and tree state.\n  this.updateLayerReferences_(leafNode, layer);\n  if (leafNode.metadata.isChecked) {\n    treeCtrl.setState('on', false);\n    this.updateLayerState_(layer, firstLevelGroup);\n  } else {\n    treeCtrl.parent.refreshState();\n  }\n};\n\n\n/**\n * Create and return a Tile layer.\n * @param {gmfThemes.GmfLayerWMTS} gmfLayerWMTS A leaf node.\n * @return {ol.layer.Tile} a Tile WMTS layer. (Source and capabilities can come\n *     later).\n * @private\n */\nexports.prototype.createWMTSLayer_ = function(gmfLayerWMTS) {\n  const newLayer = new olLayerTile();\n  googAsserts.assert(gmfLayerWMTS.url);\n  googAsserts.assert(gmfLayerWMTS.layer);\n  this.layerHelper_.createWMTSLayerFromCapabilitites(gmfLayerWMTS.url,\n    gmfLayerWMTS.layer, gmfLayerWMTS.dimensions).then((layer) => {\n    newLayer.setSource(layer.getSource());\n    newLayer.set('capabilitiesStyles', layer.get('capabilitiesStyles'));\n  });\n  return newLayer;\n};\n\n\n/**\n * Update properties of a layer with the node of a given leafNode.\n * @param {gmfThemes.GmfLayer} leafNode a leaf node.\n * @param {ol.layer.Base} layer A layer.\n * @private\n */\nexports.prototype.updateLayerReferences_ = function(leafNode, layer) {\n  const id = olBase.getUid(leafNode);\n  const querySourceIds = layer.get('querySourceIds') || [];\n  querySourceIds.push(id);\n  layer.set('querySourceIds', querySourceIds);\n\n  const disclaimer = leafNode.metadata.disclaimer;\n  if (disclaimer) {\n    const disclaimers = layer.get('disclaimers') || [];\n    disclaimers.push(leafNode.metadata.disclaimer);\n    layer.set('disclaimers', disclaimers);\n  }\n};\n\n\n/**\n * Get the time parameter for a WMS Layer. If it's a group and it doesn't have\n * time, get the first time parameter available in any child.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @return {string|undefined} A wms time param.\n * @private\n */\nexports.prototype.getTimeParam_ = function(treeCtrl) {\n  let wmsTime;\n  let timeParam;\n  const node = treeCtrl.node;\n  if (node.time) {\n    wmsTime = node.time;\n  } else if (node.children) {\n    treeCtrl.traverseDepthFirst((treeCtrl) => {\n      if (treeCtrl.node.children === undefined && treeCtrl.node.time) {\n        wmsTime = treeCtrl.node.time;\n        return ngeoLayertreeController.VisitorDecision.STOP;\n      }\n    });\n  }\n  if (wmsTime) {\n    const timeValues = this.ngeoWMSTime_.getOptions(wmsTime)['values'];\n    timeParam = this.ngeoWMSTime_.formatWMSTimeParam(wmsTime, {\n      start: timeValues[0] || timeValues,\n      end: timeValues[1]\n    });\n  }\n  return timeParam;\n};\n\n\n/**\n * Return true if a parent tree is mixed, based on its node.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @return {boolean} True is any parent is mixed. False Otherwise.\n * @private\n */\nexports.prototype.isOneParentNotMixed_ = function(treeCtrl) {\n  let tree = treeCtrl.parent;\n  let isOneParentNotMix = false;\n  do {\n    isOneParentNotMix = tree.node.mixed === false;\n    tree = tree.parent;\n  }\n  while (tree.parent && !isOneParentNotMix);\n  return isOneParentNotMix;\n};\n\n\n/**\n * Return the first parent, from the root parent, that is not mixed.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @return {ngeo.layertree.Controller} The first not mixed parent.\n * @private\n */\nexports.prototype.getFirstLevelGroupCtrl_ = function(\n  treeCtrl) {\n  let tree = treeCtrl;\n  while (!tree.parent.isRoot) {\n    tree = tree.parent;\n  }\n  return tree;\n};\n\n\n/**\n * Return the layer used by the given treeCtrl.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller.\n * @return {ol.layer.Base} The layer.\n * @public\n */\nexports.getLayer = function(treeCtrl) {\n  let tree = treeCtrl;\n  let layer = null;\n  while (!tree.isRoot && layer === null) {\n    if (tree.layer) {\n      layer = tree.layer;\n    }\n    tree = tree.parent;\n  }\n  return layer;\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfSyncLayertreeMap', [\n  ngeoLayertreeController.module.name,\n  ngeoMiscWMSTime.module.name,\n]);\nexports.module.service('gmfSyncLayertreeMap', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/layertree/SyncLayertreeMap.js","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/FileSaver.js\n// module id = 199\n// module chunks = 0 1 2 3 4 5 6 7 8 11 14","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 200\n// module chunks = 0 1 2 3 4 5 6 7 8 11 14","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 201\n// module chunks = 0 1 2 3 4 5 6 7 8 11 14","/**\n * @module ngeo.interaction.MeasureBaseOptions\n */\nconst exports = {};\n\n\n/**\n * Interactions for measure tools base class.\n * @typedef {{\n *    decimals: (number|undefined),\n *    precision: (number|undefined),\n *    displayHelpTooltip: (boolean|undefined),\n *    startMsg: (Element|undefined),\n *    style: (ol.style.Style|Array.<ol.style.Style>|ol.StyleFunction|undefined),\n *    sketchStyle: (ol.style.Style|Array.<ol.style.Style>|ol.StyleFunction|undefined)\n * }}\n */\nexports;\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/MeasureBaseOptions.js","/**\n * @module ngeo.message.Popup\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * This goog.require is needed because of 'ngeo-popup' used in\n * the template.\n * @suppress {extraRequire}\n */\nimport ngeoMessagePopupComponent from 'ngeo/message/popupComponent.js';\n\n/**\n * Provides a factory to create a popup in the page.\n * The factory returns a ngeo.message.Popup object.\n *\n * Example:\n *\n *     let popup = ngeoCreatePopup();\n *     popup.setTitle(\"A title\");\n *     popup.setContent(\"Some content\");\n *     popup.setOpen(true);\n *\n * @constructor\n * @struct\n * @param {angular.$compile} $compile The compile provider.\n * @param {angular.Scope} $rootScope The rootScope provider.\n * @param {angular.$sce} $sce Angular sce service.\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @ngdoc service\n * @ngname ngeoCreatePopup\n */\nconst exports = function($compile, $rootScope, $sce, $timeout) {\n\n  /**\n   * The scope the compiled element is link to.\n   * @type {angular.Scope}\n   * @export\n   */\n  this.scope = $rootScope.$new(true);\n\n  // manage the auto destruction of the popup\n  this.scope.$watch(\n    () => this.scope['open'],\n    (open) => {\n      if (!open && this.autoDestroy_) {\n        this.timeout_(() => {\n          this.destroy();\n        });\n      }\n    }\n  );\n\n  /**\n   * @private\n   * @type {angular.$sce}\n   */\n  this.sce_ = $sce;\n\n  /**\n   * @type {angular.$timeout}\n   * @private\n   */\n  this.timeout_ = $timeout;\n\n  /**\n   * The element.\n   * @type {angular.JQLite}\n   * @private\n   */\n  this.element_ = angular.element('<div ngeo-popup></div>');\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.autoDestroy_ = false;\n\n\n  // Compile the element, link it to the scope and add it to the document.\n  $compile(this.element_)(this.scope);\n  angular.element(document.body).append(this.element_);\n};\n\n\n/**\n * Get the current popup state.\n * @return {boolean} `true` if the popup is currently, otherwise `false`.\n * @export\n */\nexports.prototype.getOpen = function() {\n  return this.scope['open'];\n};\n\n\n/**\n * Show/hide the popup.\n * @param {boolean} open `true` to show the popup, `false` to hide it.\n * @export\n */\nexports.prototype.setOpen = function(open) {\n  this.scope['open'] = open;\n};\n\n\n/**\n * Destroy the popup.\n * @export\n */\nexports.prototype.destroy = function() {\n  this.scope.$destroy();\n  this.element_.remove();\n};\n\n\n/**\n * Set the popup's title.\n * @param {string} title The title.\n * @export\n */\nexports.prototype.setTitle = function(title) {\n  const trustedTitle = this.sce_.trustAsHtml(title);\n  this.scope['title'] = trustedTitle;\n};\n\n\n/**\n * Set the popup's content.\n * Note: the type of the `content` param is `*` instead of `string`, this\n * is because the content may be trusted using `$sce.trustAsHtml`.\n * @param {*} content The content.\n * @param {boolean=} opt_trusted Whether the content can be trusted.\n *     Default is false.\n * @export\n */\nexports.prototype.setContent = function(content, opt_trusted) {\n  this.scope['content'] = opt_trusted ? this.sce_.trustAsHtml(/** @type {string} */ (content)) : content;\n};\n\n\n/**\n * Set the popup's content with an iframe using the given url.\n * @param {string} url The url of the page.\n * @export\n */\nexports.prototype.setUrl = function(url) {\n  const content = this.sce_.trustAsHtml(\n    `<iframe src=\"${url}\" width=\"100%\" height=\"100%\"></iframe>`\n  );\n  this.setContent(content);\n};\n\n\n/**\n * Set the popup's width.\n * @param {string} width Width the popup should have.\n * @export\n */\nexports.prototype.setWidth = function(width) {\n  this.element_.width(width);\n};\n\n\n/**\n * Set the popup's height.\n * @param {string} height Height the popup should have.\n * @export\n */\nexports.prototype.setHeight = function(height) {\n  this.element_.height(height);\n};\n\n\n/**\n * Set the popup's width and height.\n * @param {string} width Width the popup should have.\n * @param {string} height Height the popup should have.\n * @export\n */\nexports.prototype.setSize = function(width, height) {\n  this.setWidth(width);\n  this.setHeight(height);\n};\n\n\n/**\n * Set the popup's autoDestroy property.\n * @param {boolean} autoDestroy Whether to automatically destroy the popup when\n *     being closed or not.\n * @export\n */\nexports.prototype.setAutoDestroy = function(autoDestroy) {\n  this.autoDestroy_ = autoDestroy;\n};\n\n\n/**\n * Add an extra CSS class name to the popup.\n * @param {string} cls Class name to add to the popup element.\n * @export\n */\nexports.prototype.addClass = function(cls) {\n  this.element_.addClass(cls);\n};\n\n\n/**\n * Open a popup with the given properties.\n * @param {ngeox.PopupOptions} options Options.\n * @export\n */\nexports.prototype.open = function(options) {\n\n  if (options.url) {\n    this.setUrl(options.url);\n  } else if (options.content) {\n    this.setContent(options.content);\n  } else {\n    googAsserts.fail('ngeo.message.Popup options requirest \"url\" or \"content\".');\n  }\n\n  if (options.autoDestroy !== undefined) {\n    this.setAutoDestroy(options.autoDestroy);\n  }\n\n  if (options.cls !== undefined) {\n    this.addClass(options.cls);\n  }\n\n  if (options.height !== undefined) {\n    this.setHeight(options.height);\n  }\n\n  if (options.title !== undefined) {\n    this.setTitle(options.title);\n  }\n\n  if (options.width !== undefined) {\n    this.setWidth(options.width);\n  }\n\n  this.setOpen(true);\n};\n\n\n/**\n * @param {angular.$compile} $compile Angular compile service.\n * @param {angular.Scope} $rootScope Angular rootScope service.\n * @param {angular.$sce} $sce Angular sce service.\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @return {ngeox.PopupFactory} The function to create a popup.\n * @ngInject\n */\nexports.Factory = function($compile, $rootScope, $sce, $timeout) {\n  return (\n    /**\n     * @return {!ngeo.message.Popup} The popup instance.\n     */\n    function() {\n      return new exports($compile, $rootScope, $sce, $timeout);\n    }\n  );\n};\n\n/**\n * @type {angular.Module}\n */\nexports.module = angular.module('ngeoCreatePopup', [\n  ngeoMessagePopupComponent.name,\n]);\nexports.module.factory('ngeoCreatePopup', exports.Factory);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/Popup.js","/**\n * @module gmf.datasource.ExternalDataSourcesManager\n */\n// TODO - MaxScaleDenominator\n// TODO - MinScaleDenominator\n\nimport gmfBase from 'gmf/index.js';\nimport googAsserts from 'goog/asserts.js';\nimport ngeoMiscFile from 'ngeo/misc/File.js';\nimport ngeoDatasourceDataSources from 'ngeo/datasource/DataSources.js';\nimport ngeoDatasourceFile from 'ngeo/datasource/File.js';\nimport ngeoDatasourceFileGroup from 'ngeo/datasource/FileGroup.js';\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\nimport ngeoDatasourceOGCGroup from 'ngeo/datasource/OGCGroup.js';\nimport ngeoDatasourceWMSGroup from 'ngeo/datasource/WMSGroup.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\nimport olCollection from 'ol/Collection.js';\nimport olFormatGPX from 'ol/format/GPX.js';\nimport olFormatKML from 'ol/format/KML.js';\n\nconst exports = class {\n\n  /**\n   * External data sources come remote online resources, such as WMS/WMTS\n   * servers, and also files such as KML/GXP. This service is responsible of\n   * creating, storing and managing them.\n   *\n   * @param {!angularGettext.Catalog} gettextCatalog service.\n   * @param {!angular.$injector} $injector Main injector.\n   * @param {!angular.$q} $q The Angular $q service.\n   * @param {!angular.Scope} $rootScope The rootScope provider.\n   * @param {!ngeo.datasource.DataSources} ngeoDataSources Ngeo data sources service.\n   * @param {!ngeo.misc.File} ngeoFile Ngeo file.\n   * @param {!ngeo.map.LayerHelper} ngeoLayerHelper Ngeo layer helper service\n   * @struct\n   * @ngInject\n   * @ngdoc service\n   * @ngname gmfExternalDataSourcesManager\n   */\n  constructor(gettextCatalog, $injector, $q, $rootScope, ngeoDataSources,\n    ngeoFile, ngeoLayerHelper) {\n\n    // === Injected properties ===\n\n    /**\n     * @type {!angular.$injector}\n     * @private\n     */\n    this.injector_ = $injector;\n\n    /**\n     * @type {!angular.$q}\n     * @private\n     */\n    this.q_ = $q;\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.rootScope_ = $rootScope;\n\n    /**\n     * The collection of DataSources from ngeo. When this service creates\n     * a data source, its gets added to that collection.\n     * @type {!ngeox.datasource.DataSources}\n     * @private\n     */\n    this.dataSources_ = ngeoDataSources.collection;\n\n    /**\n     * @type {!ngeo.misc.File}\n     * @private\n     */\n    this.ngeoFile_ = ngeoFile;\n\n    /**\n     * @type {!ngeo.map.LayerHelper}\n     * @private\n     */\n    this.ngeoLayerHelper_ = ngeoLayerHelper;\n\n\n    // === Inner properties ===\n\n    /**\n     * All external data sources that are created are stored here. The key\n     * is the data source id.\n     *\n     * Note: This cache is never cleaned and elements are never removed from it.\n     * If a data source with an id already exists in this cache, it is used\n     * instead of being re-created.\n     *\n     * @type {Object.<number, !ngeo.datasource.OGC|!ngeo.datasource.File>}\n     * @private\n     */\n    this.extDataSources_ = {};\n\n    /**\n     * File external data sources, with the key being the file name.\n     * @type {Object.<string, !ngeo.datasource.File>}\n     * @private\n     */\n    this.files_ = {};\n\n    /**\n     * @type {?ol.Map}\n     * @private\n     */\n    this.map_ = null;\n\n    /**\n     * Group that contains file data sources.\n     * @type {!ngeo.datasource.FileGroup}\n     * @private\n     */\n    this.fileGroup_ = new ngeoDatasourceFileGroup({\n      dataSources: [],\n      injector: this.injector_,\n      title: gettextCatalog.getString('Local files')\n    });\n\n    /**\n     * Collection of WMS groups.\n     * @type {!ol.Collection.<!ngeo.datasource.WMSGroup>}\n     * @private\n     */\n    this.wmsGroupsCollection_ = new olCollection();\n\n    /**\n     * Collection of groups for WMTS data sources.\n     * @type {!ol.Collection.<!ngeo.datasource.OGCGroup>}\n     * @private\n     */\n    this.wmtsGroupsCollection_ = new olCollection();\n\n    /**\n     * Cache that stores the information of a WMTS data source. The key is the\n     * data source id.\n     * @type {!Object.<number, gmfx.datasource.ExternalDataSourcesManagerWMTSCacheItem>}\n     * @private\n     */\n    this.wmtsCache_ = {};\n\n    olEvents.listen(this.dataSources_, 'remove', this.handleDataSourcesRemove_, this);\n  }\n\n\n  // === File Group ===\n\n  /**\n   * @return {!ngeo.datasource.FileGroup} File group.\n   * @export\n   */\n  get fileGroup() {\n    return this.fileGroup_;\n  }\n\n\n  // === WMS Groups ===\n\n  /**\n   * @param {!ngeo.datasource.WMSGroup} wmsGroup WMS group.\n   * @private\n   */\n  addWMSGroup_(wmsGroup) {\n    this.wmsGroupsCollection.push(wmsGroup);\n  }\n\n  /**\n   * @param {!ngeo.datasource.WMSGroup} wmsGroup WMS group.\n   * @private\n   */\n  removeWMSGroup_(wmsGroup) {\n    this.wmsGroupsCollection.remove(wmsGroup);\n  }\n\n  /**\n   * @param {string} url Online resource url\n   * @return {?ngeo.datasource.WMSGroup} WMS group.\n   */\n  getWMSGroup(url) {\n    let found = null;\n    for (const wmsGroup of this.wmsGroups) {\n      if (wmsGroup.url === url) {\n        found = wmsGroup;\n        break;\n      }\n    }\n    return found;\n  }\n\n  /**\n   * @return {!Array.<!ngeo.datasource.WMSGroup>} List of WMS groups.\n   * @export\n   */\n  get wmsGroups() {\n    return this.wmsGroupsCollection_.getArray();\n  }\n\n  /**\n   * @return {!ol.Collection.<!ngeo.datasource.WMSGroup>} Collection of WMS\n   *     groups.\n   * @export\n   */\n  get wmsGroupsCollection() {\n    return this.wmsGroupsCollection_;\n  }\n\n\n  // === WMTS Groups ===\n\n  /**\n   * @param {!ngeo.datasource.OGCGroup} wmtsGroup Group for WMTS data sources.\n   * @private\n   */\n  addWMTSGroup_(wmtsGroup) {\n    this.wmtsGroupsCollection.push(wmtsGroup);\n  }\n\n  /**\n   * @param {!ngeo.datasource.OGCGroup} wmtsGroup Group for WMTS data sources.\n   * @private\n   */\n  removeWMTSGroup_(wmtsGroup) {\n    this.wmtsGroupsCollection.remove(wmtsGroup);\n  }\n\n  /**\n   * @param {string} url Online resource url\n   * @return {?ngeo.datasource.OGCGroup} WMTS group.\n   */\n  getWMTSGroup(url) {\n    let found = null;\n    for (const wmtsGroup of this.wmtsGroups) {\n      if (wmtsGroup.url === url) {\n        found = wmtsGroup;\n        break;\n      }\n    }\n    return found;\n  }\n\n  /**\n   * @return {!Array.<!ngeo.datasource.OGCGroup>} List of groups for WMTS data\n   *     sources.\n   * @export\n   */\n  get wmtsGroups() {\n    return this.wmtsGroupsCollection_.getArray();\n  }\n\n  /**\n   * @return {!ol.Collection.<!ngeo.datasource.OGCGroup>} Collection of groups\n   *     for WMTS data sources.\n   * @export\n   */\n  get wmtsGroupsCollection() {\n    return this.wmtsGroupsCollection_;\n  }\n\n\n  // === Other methods ===\n\n  /**\n   * @param {!ngeo.datasource.DataSource} dataSource Data source\n   * @return {boolean} Whether the given data source is external or not. To\n   *     be considered external, it needs to be in the external data source\n   *     hash (cache).\n   */\n  isExternalDataSource(dataSource) {\n    return !!this.extDataSources_[dataSource.id];\n  }\n\n  /**\n   * @return {ol.layer.Group} Layer group where to push layers created by\n   *     this service.\n   */\n  get layerGroup() {\n    const map = this.map_;\n    googAsserts.assert(map);\n    return this.ngeoLayerHelper_.getGroupFromMap(\n      map,\n      gmfBase.EXTERNALLAYERGROUP_NAME\n    );\n  }\n\n  /**\n   * @param {?ol.Map} map Map\n   */\n  set map(map) {\n    this.map_ = map;\n  }\n\n  /**\n   * @param {ol.layer.Layer} layer Layer.\n   * @private\n   */\n  addLayer_(layer) {\n    this.layerGroup.getLayers().push(layer);\n  }\n\n  /**\n   * @param {ol.layer.Layer} layer Layer.\n   * @private\n   */\n  removeLayer_(layer) {\n    this.layerGroup.getLayers().remove(layer);\n  }\n\n  /**\n   * @param {!Object} layer WMS Capability Layer object.\n   * @param {!Object} capabilities  WMS Capabilities definition\n   * @param {string} url The WMS service url.\n   * @export\n   */\n  createAndAddDataSourceFromWMSCapability(layer, capabilities, url) {\n\n    const id = exports.getId(layer);\n    const service = capabilities['Service'];\n\n    let dataSource;\n\n    // (1) Get data source from cache if it exists, otherwise create it\n    if (this.extDataSources_[id]) {\n      dataSource = this.extDataSources_[id];\n    } else {\n      const req = capabilities['Capability']['Request'];\n\n      // ogcImageType\n      const formats = req['GetMap']['Format'];\n      const imagePngType = 'image/png';\n      const ogcImageType = formats.includes(imagePngType) ?\n        imagePngType : formats[0];\n\n      // wmsInfoFormat\n      const infoFormats = req['GetFeatureInfo']['Format'];\n      const wmsInfoFormat = infoFormats.includes(\n        ngeoDatasourceOGC.WMSInfoFormat.GML\n      ) ? ngeoDatasourceOGC.WMSInfoFormat.GML : undefined;\n\n      // queryable\n      const queryable = layer['queryable'] === true &&\n          wmsInfoFormat !== undefined;\n\n      // TODO - MaxScaleDenominator\n      // TODO - MinScaleDenominator\n      dataSource = new ngeoDatasourceOGC({\n        id: id,\n        name: layer['Title'],\n        ogcImageType: ogcImageType,\n        ogcLayers: [{\n          name: layer['Name'],\n          queryable: queryable\n        }],\n        ogcType: ngeoDatasourceOGC.Type.WMS,\n        visible: true,\n        wmsInfoFormat: wmsInfoFormat,\n        wmsUrl: url\n      });\n\n      // Keep a reference to the external data source in the cache\n      this.extDataSources_[id] = dataSource;\n    }\n\n\n    // (2) Add data source in WMS group, unless it's already in there.\n    //     Will also add the data source to the `ngeo.DataSources` collection.\n    //     If the group is created, its inner OL layer is also added to the map.\n    let wmsGroup = this.getWMSGroup(url);\n    if (wmsGroup) {\n      if (!wmsGroup.dataSources.includes(dataSource)) {\n        wmsGroup.addDataSource(dataSource);\n        this.dataSources_.push(dataSource);\n      }\n    } else {\n      wmsGroup = new ngeoDatasourceWMSGroup({\n        dataSources: [dataSource],\n        injector: this.injector_,\n        title: service['Title'],\n        url: url\n      });\n      this.addLayer_(wmsGroup.layer);\n      this.addWMSGroup_(wmsGroup);\n      this.dataSources_.push(dataSource);\n    }\n  }\n\n  /**\n   * @param {!Object} layer WTMS Capability Layer object.\n   * @param {!Object} capabilities  WMTS Capabilities definition\n   * @param {string} wmtsUrl The WMTS capabilities url\n   * @export\n   */\n  createAndAddDataSourceFromWMTSCapability(layer, capabilities, wmtsUrl) {\n    const id = exports.getId(layer);\n\n    // (1) No need to do anything if there's already a WMTS data source (and its\n    // layer in the map)\n    if (this.wmtsCache_[id]) {\n      return;\n    }\n\n    let dataSource;\n\n    // (2) Get data source from cache if it exists, otherwise create it\n    if (this.extDataSources_[id]) {\n      dataSource = this.extDataSources_[id];\n    } else {\n\n      const name = googAsserts.assertString(layer['Title']);\n      const wmtsLayer = googAsserts.assertString(layer['Identifier']);\n\n      // TODO - MaxScaleDenominator\n      // TODO - MinScaleDenominator\n      dataSource = new ngeoDatasourceOGC({\n        id: id,\n        name: name,\n        ogcType: ngeoDatasourceOGC.Type.WMTS,\n        visible: true,\n        wmtsLayer: wmtsLayer,\n        wmtsUrl: wmtsUrl\n      });\n\n      // Keep a reference to the external data source in the cache\n      this.extDataSources_[id] = dataSource;\n    }\n\n    // (3) Get/Create group, then add data source to group\n    let wmtsGroup = this.getWMTSGroup(wmtsUrl);\n    if (!wmtsGroup) {\n      wmtsGroup = new ngeoDatasourceOGCGroup({\n        dataSources: [],\n        title: capabilities['ServiceIdentification']['Title'],\n        url: wmtsUrl\n      });\n      this.addWMTSGroup_(wmtsGroup);\n    }\n    wmtsGroup.addDataSource(dataSource);\n\n    // (4) Create and add the OL layer\n    const layerObj = this.ngeoLayerHelper_.createWMTSLayerFromCapabilititesObj(\n      capabilities,\n      layer\n    );\n    this.addLayer_(layerObj);\n\n    // (5) Add data source to ngeo collection\n    this.dataSources_.push(dataSource);\n\n    // (6) Create and set WMTS cache item\n    this.wmtsCache_[id] = {\n      layerObj: layerObj,\n      // This watcher synchronizes the data source visible property to\n      // the OL layer object visible property\n      unregister: this.rootScope_.$watch(\n        () => dataSource.visible,\n        this.handleWMTSDataSourceVisibleChange_.bind(this, layerObj)\n      )\n    };\n  }\n\n  /**\n   * @param {!File} file File.\n   * @export\n   */\n  createAndAddDataSourceFromFile(file) {\n    this.getFileDataSource_(file).then(\n      (dataSource) => {\n        const fileGroup = this.fileGroup_;\n\n        // (1) No need to do anything if the file has already been added...\n        if (fileGroup.dataSources.includes(dataSource)) {\n          return;\n        }\n\n        // (2) Okay, we need to add this data source. First, add its layer\n        //     to the map.\n        this.addLayer_(dataSource.layer);\n\n        // (3) Add it to the file group\n        fileGroup.addDataSource(dataSource);\n\n        // (4) Recenter the map view onto its extent\n        this.map_.getView().fit(dataSource.extent);\n\n        // (5) Finally, add it to the ngeo collection\n        this.dataSources_.push(dataSource);\n      },\n      (rejections) => {\n        googAsserts.fail(`Failed to load file: ${file.name}`);\n      }\n    );\n  }\n\n  /**\n   * Get file data source from cache, else create, store and return a new one.\n   * @param {!File} file File.\n   * @return {!angular.$q.Promise} Promise\n   * @private\n   */\n  getFileDataSource_(file) {\n\n    const defer = this.q_.defer();\n\n    if (this.files_[file.name]) {\n      defer.resolve(this.files_[file.name]);\n    } else {\n      const ngeoFile = this.ngeoFile_;\n      ngeoFile.read(file).then((content) => {\n        let features;\n        const readOptions = {\n          featureProjection: this.map_.getView().getProjection()\n        };\n\n        if (ngeoFile.isKml(content)) {\n          features = new olFormatKML().readFeatures(content, readOptions);\n        } else if (ngeoFile.isGpx(content)) {\n          features = new olFormatGPX().readFeatures(content, readOptions);\n        }\n\n        if (features) {\n          const id = exports.getId(file);\n\n          const dataSource = new ngeoDatasourceFile({\n            features: new olCollection(features),\n            id: id,\n            name: file.name,\n            visible: true\n          });\n\n          // Keep a reference if both caches\n          this.files_[file.name] = dataSource;\n          this.extDataSources_[id] = dataSource;\n\n          defer.resolve(dataSource);\n        } else {\n          defer.reject();\n        }\n      });\n    }\n\n    return defer.promise;\n  }\n\n  /**\n   * @param {!ol.layer.Tile} layer WMTS layer\n   * @param {boolean|undefined} value Current visible property of the DS\n   * @param {boolean|undefined} oldValue Old visible property of the DS\n   * @private\n   */\n  handleWMTSDataSourceVisibleChange_(layer, value, oldValue) {\n    if (value !== undefined && value !== oldValue) {\n      layer.setVisible(value);\n    }\n  }\n\n  /**\n   * Called when a data source is removed from the collection of ngeo data\n   * sources. If it's an external data source, remove it from its WMS Group\n   *\n   * @param {ol.Collection.Event} evt Collection event.\n   * @private\n   */\n  handleDataSourcesRemove_(evt) {\n    const dataSource = evt.element;\n    if (this.extDataSources_[dataSource.id] === dataSource) {\n      if (dataSource instanceof ngeoDatasourceFile) {\n        this.removeFileDataSource_(dataSource);\n      } else if (dataSource instanceof ngeoDatasourceOGC) {\n        this.removeOGCDataSource_(dataSource);\n      }\n    }\n  }\n\n  /**\n   * Remove a data source from its group. Remove its layer from the map as well.\n   *\n   * Note: it is expected that the data source has already been removed\n   * from the ngeo collection.\n   *\n   * @param {!ngeo.datasource.File} dataSource External File data source.\n   * @private\n   */\n  removeFileDataSource_(dataSource) {\n    this.removeLayer_(dataSource.layer);\n    this.fileGroup_.removeDataSource(dataSource);\n  }\n\n  /**\n   * Remove the data source from its group. If the group no longer has\n   * any data source in it, it is removed then destroyed and its layer is\n   * removed from the map.\n   *\n   * Note: it is expected that the data source has already been removed\n   * from the ngeo collection.\n   *\n   * @param {!ngeo.datasource.OGC} dataSource External OGC data source.\n   * @private\n   */\n  removeOGCDataSource_(dataSource) {\n    if (dataSource.ogcType === ngeoDatasourceOGC.Type.WMS) {\n      // WMS data source\n      const url = dataSource.wmsUrl;\n      googAsserts.assert(url);\n\n      const wmsGroup = this.getWMSGroup(url);\n      if (wmsGroup && wmsGroup.dataSources.includes(dataSource)) {\n        // Remove from group\n        wmsGroup.removeDataSource(dataSource);\n\n        // In case we removed the last data source from the group, then remove\n        // and destroy the group, and remove the layer from the map as well.\n        if (!wmsGroup.dataSources.length) {\n          this.removeLayer_(wmsGroup.layer);\n          wmsGroup.destroy();\n          this.removeWMSGroup_(wmsGroup);\n        }\n      }\n    } else if (dataSource.ogcType === ngeoDatasourceOGC.Type.WMTS) {\n      // WMTS data source\n      const url = dataSource.wmtsUrl;\n      googAsserts.assert(url);\n\n      const wmtsGroup = this.getWMTSGroup(url);\n      if (wmtsGroup && wmtsGroup.dataSources.includes(dataSource)) {\n        // Remove from group\n        wmtsGroup.removeDataSource(dataSource);\n\n        // Remove the cache item, in addition to removing the layer from the\n        // map and unregister the watcher\n        const id = dataSource.id;\n        this.removeLayer_(this.wmtsCache_[id].layerObj);\n        this.wmtsCache_[id].unregister();\n        delete this.wmtsCache_[id];\n\n        // In case we removed the last data source from the group, then remove\n        // and destroy the groug.\n        if (!wmtsGroup.dataSources.length) {\n          wmtsGroup.destroy();\n          this.removeWMTSGroup_(wmtsGroup);\n        }\n      }\n    }\n  }\n};\n\n\n/**\n * Get the data source id from a WMS or WMTS Capability Layer object, or\n * from a File object.\n *\n * Please, note that this is used to generate a unique id for the created\n * external data sources and since a WMS/WMTS Capability Layer objects don't\n * natively contains an id by themselves, then it is programatically generated\n * using the `ol.getUid` method, plus a million.\n *\n * @param {!Object} layer WMS/WMTS Capability Layer object.\n * @return {number} Data source id.\n * @export\n */\nexports.getId = function(layer) {\n  return olBase.getUid(layer) + 1000000;\n};\n\n\nexports.module = angular.module('gmfExternalDataSourcesManager', [\n  ngeoMiscFile.module.name,\n  ngeoDatasourceDataSources.module.name,\n]);\nexports.module.service('gmfExternalDataSourcesManager',\n  exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/datasource/ExternalDataSourcesManager.js","/**\n * @module ngeo.map.BackgroundLayerMgr\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoCustomEvent from 'ngeo/CustomEvent.js';\nimport * as olBase from 'ol/index.js';\nimport olObservable from 'ol/Observable.js';\nimport olLayerGroup from 'ol/layer/Group.js';\nimport olLayerLayer from 'ol/layer/Layer.js';\nimport olSourceImageWMS from 'ol/source/ImageWMS.js';\nimport olSourceTileWMS from 'ol/source/TileWMS.js';\nimport olSourceWMTS from 'ol/source/WMTS.js';\n\n/**\n * Provides a service for setting/unsetting background layers\n * in maps.\n *\n * The notion of background/base layers doesn't exist in OpenLayers. This\n * service adds that notion.\n *\n * Setting a background layer to map is done with the `set` function:\n *\n *     ngeoBackgroundLayerMgr.set(map, layer);\n *\n * To unset the background layer pass `null` as the `layer` argument:\n *\n *     ngeoBackgroundLayerMgr.set(map, null);\n *\n * The `get` function returns the current background layer of the map passed\n * as an argument. `null` is returned if the map doesn't have a background\n * layer.\n *\n * The background layer is always added at index 0 in the map's layers\n * collection. When a background layer is set it is inserted (at index 0)\n * if the map does not already have a background layer, otherwise the\n * new background layer replaces the previous one at index 0.\n *\n * Users can subscribe to a 'change' event to get notified when the background\n * layer changes:\n *\n *     ngeoBackgroundLayerMgr.on('change', function(e) {\n *       // do something with the layer\n *       let layer = ngeoBackgroundLayerMgr.get();\n *       // know which layer was used before\n *       let previous = e.previous\n *     });\n *\n * See our live examples:\n * [../examples/backgroundlayer.html](../examples/backgroundlayer.html)\n * [../examples/backgroundlayerdropdown.html](../examples/backgroundlayerdropdown.html)\n *\n * @extends {ol.Observable}\n * @constructor\n * @struct\n * @ngdoc service\n * @ngname ngeoBackgroundLayerMgr\n */\nconst exports = function() {\n\n  olObservable.call(this);\n\n  /**\n   * Object used to track if maps have background layers.\n   * @type {Object.<string, boolean>}\n   * @private\n   */\n  this.mapUids_ = {};\n};\n\nolBase.inherits(exports, olObservable);\n\n\n/**\n * Return the current background layer of a given map. `null` is returned if\n * the map does not have a background layer.\n * @param {ol.Map} map Map.\n * @return {ol.layer.Base} layer The background layer.\n * @export\n */\nexports.prototype.get = function(map) {\n  const mapUid = olBase.getUid(map).toString();\n  return mapUid in this.mapUids_ ? map.getLayers().item(0) : null;\n};\n\n\n/**\n * Set the background layer of a map. If `layer` is `null` the background layer\n * is removed.\n * @param {ol.Map} map The map.\n * @param {ol.layer.Base} layer The new background layer.\n * @return {ol.layer.Base} The previous background layer.\n * @export\n */\nexports.prototype.set = function(map, layer) {\n  const mapUid = olBase.getUid(map).toString();\n  const previous = this.get(map);\n  if (previous !== null) {\n    googAsserts.assert(mapUid in this.mapUids_);\n    if (layer !== null) {\n      map.getLayers().setAt(0, layer);\n    } else {\n      map.getLayers().removeAt(0);\n      delete this.mapUids_[mapUid];\n    }\n  } else if (layer !== null) {\n    map.getLayers().insertAt(0, layer);\n    this.mapUids_[mapUid] = true;\n  }\n  /** @type {ngeox.BackgroundEvent} */\n  const event = new ngeoCustomEvent('change', {\n    current: layer,\n    previous: previous\n  });\n  this.dispatchEvent(event);\n\n  return previous;\n};\n\n/**\n * @param {ol.Map} map The map.\n * @param {Object.<string, string>} dimensions The global dimensions object.\n * @export\n */\nexports.prototype.updateDimensions = function(map, dimensions) {\n  const baseBgLayer = this.get(map);\n  if (baseBgLayer) {\n    let layers = [baseBgLayer];\n    if (baseBgLayer instanceof olLayerGroup) {\n      // Handle the first level of layers of the base background layer.\n      layers = baseBgLayer.getLayers().getArray();\n    }\n\n    layers.forEach((layer) => {\n      googAsserts.assertInstanceof(layer, olLayerLayer);\n      if (layer) {\n        let hasUpdates = false;\n        const updatedDimensions = {};\n        for (const key in layer.get('dimensions')) {\n          const value = dimensions[key];\n          if (value !== undefined) {\n            updatedDimensions[key] = value;\n            hasUpdates = true;\n          }\n        }\n        if (hasUpdates) {\n          const source = layer.getSource();\n          if (source instanceof olSourceWMTS) {\n            source.updateDimensions(updatedDimensions);\n            source.refresh();\n          } else if (source instanceof olSourceTileWMS || source instanceof olSourceImageWMS) {\n            source.updateParams(updatedDimensions);\n            source.refresh();\n          }\n        }\n      }\n    });\n  }\n};\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoBackgroundLayerMgr', []);\nexports.module.service('ngeoBackgroundLayerMgr', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/map/BackgroundLayerMgr.js","/**\n * @module ngeo.interaction.DrawAzimut\n */\nimport googAsserts from 'goog/asserts.js';\nimport * as olBase from 'ol/index.js';\nimport olFeature from 'ol/Feature.js';\nimport olMapBrowserEvent from 'ol/MapBrowserEvent.js';\nimport olEvents from 'ol/events.js';\nimport * as olFunctions from 'ol/functions.js';\nimport olGeomCircle from 'ol/geom/Circle.js';\nimport olGeomGeometryCollection from 'ol/geom/GeometryCollection.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olInteractionDraw from 'ol/interaction/Draw.js';\nimport olInteractionPointer from 'ol/interaction/Pointer.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olSourceVector from 'ol/source/Vector.js';\n\n/**\n * @classdesc\n * Interaction dedicated to measure azimut.\n *\n * @constructor\n * @struct\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.PointerOptions} options Options.\n */\nconst exports = function(options) {\n\n  olInteractionPointer.call(this, {\n    handleDownEvent: exports.handleDownEvent_,\n    handleEvent: exports.handleEvent_,\n    handleUpEvent: exports.handleUpEvent_\n  });\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.downPx_ = null;\n\n  /**\n   * Target source for drawn features.\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = options.source !== undefined ? options.source : null;\n\n  /**\n   * Tglls whether the drawing has started or not.\n   * @type {boolean}\n   * @private\n   */\n  this.started_ = false;\n\n  /**\n   * Sketch feature.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchFeature_ = null;\n\n  /**\n   * Sketch point.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.sketchPoint_ = null;\n\n\n  /**\n   * Squared tolerance for handling up events.  If the squared distance\n   * between a down and up event is greater than this tolerance, up events\n   * will not be handled.\n   * @type {number}\n   * @private\n   */\n  this.squaredClickTolerance_ = 4;\n\n\n  /**\n   * Vector layer where our sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.sketchLayer_ = new olLayerVector({\n    source: new olSourceVector({\n      useSpatialIndex: false,\n      wrapX: false\n    }),\n    style: options.style !== undefined ?\n      options.style : olInteractionDraw.getDefaultStyleFunction()\n  });\n\n  olEvents.listen(this, 'change:active', this.updateState_, this);\n};\n\nolBase.inherits(exports, olInteractionPointer);\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Start drag sequence?\n * @this {ngeo.interaction.DrawAzimut}\n * @private\n */\nexports.handleDownEvent_ = function(event) {\n  this.downPx_ = event.pixel;\n  return true;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Stop drag sequence?\n * @this {ngeo.interaction.DrawAzimut}\n * @private\n */\nexports.handleUpEvent_ = function(event) {\n  const downPx = this.downPx_;\n  const clickPx = event.pixel;\n  const dx = downPx[0] - clickPx[0];\n  const dy = downPx[1] - clickPx[1];\n  const squaredDistance = dx * dx + dy * dy;\n  let pass = true;\n  if (squaredDistance <= this.squaredClickTolerance_) {\n    this.handlePointerMove_(event);\n    if (!this.started_) {\n      this.startDrawing_(event);\n    } else {\n      this.finishDrawing_();\n    }\n    pass = false;\n  }\n  return pass;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ngeo.interaction.DrawAzimut}\n * @private\n */\nexports.handleEvent_ = function(mapBrowserEvent) {\n  let pass = true;\n  if (mapBrowserEvent.type === 'pointermove') {\n    pass = this.handlePointerMove_(mapBrowserEvent);\n  } else if (mapBrowserEvent.type === 'dblclick') {\n    pass = false;\n  }\n  return olInteractionPointer.handleEvent.call(this, mapBrowserEvent) && pass;\n};\n\n\n/**\n * Handle move events.\n * @param {ol.MapBrowserEvent} event A move event.\n * @return {boolean} Pass the event to other interactions.\n * @private\n */\nexports.prototype.handlePointerMove_ = function(event) {\n  if (this.started_) {\n    this.modifyDrawing_(event);\n  } else {\n    this.createOrUpdateSketchPoint_(event);\n  }\n  return true;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nexports.prototype.createOrUpdateSketchPoint_ = function(event) {\n  const coordinates = event.coordinate.slice();\n  if (this.sketchPoint_ === null) {\n    this.sketchPoint_ = new olFeature(new olGeomPoint(coordinates));\n    this.updateSketchFeatures_();\n  } else {\n    const sketchPointGeom = this.sketchPoint_.getGeometry();\n    googAsserts.assertInstanceof(sketchPointGeom, olGeomPoint);\n    sketchPointGeom.setCoordinates(coordinates);\n  }\n};\n\n\n/**\n * Redraw the skecth features.\n * @private\n */\nexports.prototype.updateSketchFeatures_ = function() {\n  const sketchFeatures = [];\n  if (this.sketchFeature_ !== null) {\n    sketchFeatures.push(this.sketchFeature_);\n  }\n  if (this.sketchPoint_ !== null) {\n    sketchFeatures.push(this.sketchPoint_);\n  }\n  const source = this.sketchLayer_.getSource();\n  source.clear(true);\n  source.addFeatures(sketchFeatures);\n};\n\n\n/**\n * Start the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nexports.prototype.startDrawing_ = function(event) {\n  const start = event.coordinate;\n  this.started_ = true;\n  const line = new olGeomLineString([start.slice(), start.slice()]);\n  const circle = new olGeomCircle(start, 0);\n  const geometry = new olGeomGeometryCollection([line, circle]);\n  googAsserts.assert(geometry !== undefined);\n  this.sketchFeature_ = new olFeature();\n  this.sketchFeature_.setGeometry(geometry);\n  this.updateSketchFeatures_();\n  this.dispatchEvent(new olInteractionDraw.Event(\n    /** @type {ol.interaction.DrawEventType} */ ('drawstart'), this.sketchFeature_));\n};\n\n\n/**\n * Modify the drawing.\n * @param {ol.MapBrowserEvent} event Event.\n * @private\n */\nexports.prototype.modifyDrawing_ = function(event) {\n  const coordinate = event.coordinate;\n  const geometry = googAsserts.assertInstanceof(\n    this.sketchFeature_.getGeometry(), olGeomGeometryCollection);\n  const geometries = geometry.getGeometriesArray();\n  const line = geometries[0];\n  googAsserts.assertInstanceof(line, olGeomLineString);\n  const coordinates = line.getCoordinates();\n  const sketchPointGeom = this.sketchPoint_.getGeometry();\n  googAsserts.assertInstanceof(sketchPointGeom, olGeomPoint);\n  sketchPointGeom.setCoordinates(coordinate);\n  const last = coordinates[coordinates.length - 1];\n  last[0] = coordinate[0];\n  last[1] = coordinate[1];\n  googAsserts.assertInstanceof(line, olGeomLineString);\n  line.setCoordinates(coordinates);\n  const circle = googAsserts.assertInstanceof(geometries[1], olGeomCircle);\n  circle.setRadius(line.getLength());\n  this.updateSketchFeatures_();\n};\n\n\n/**\n * Stop drawing without adding the sketch feature to the target layer.\n * @return {ol.Feature} The sketch feature (or null if none).\n * @private\n */\nexports.prototype.abortDrawing_ = function() {\n  this.started_ = false;\n  const sketchFeature = this.sketchFeature_;\n  if (sketchFeature !== null) {\n    this.sketchFeature_ = null;\n    this.sketchPoint_ = null;\n    this.sketchLayer_.getSource().clear(true);\n  }\n  return sketchFeature;\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.shouldStopEvent = olFunctions.FALSE;\n\n\n/**\n * @private\n */\nexports.prototype.updateState_ = function() {\n  const map = this.getMap();\n  const active = this.getActive();\n  if (map === null || !active) {\n    this.abortDrawing_();\n  }\n  this.sketchLayer_.setMap(active ? map : null);\n};\n\n\n/**\n * Stop drawing and add the sketch feature to the target layer.\n * @private\n */\nexports.prototype.finishDrawing_ = function() {\n  const sketchFeature = this.abortDrawing_();\n  googAsserts.assert(sketchFeature !== null);\n\n  if (this.source_ !== null) {\n    this.source_.addFeature(sketchFeature);\n  }\n\n  this.dispatchEvent(new olInteractionDraw.Event(\n    /** @type {ol.interaction.DrawEventType} */ ('drawend'), sketchFeature));\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.setMap = function(map) {\n  olInteractionPointer.prototype.setMap.call(this, map);\n  this.updateState_();\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/DrawAzimut.js","require('./angular-sanitize');\nmodule.exports = 'ngSanitize';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angular-sanitize/index.js\n// module id = 209\n// module chunks = 0 1 2 3 4 6 7 9 12","/**\n * @module ngeo.query.Querent\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\nimport ngeoFilterRuleHelper from 'ngeo/filter/RuleHelper.js';\nimport ngeoMiscWMSTime from 'ngeo/misc/WMSTime.js';\nimport olFormatWFS from 'ol/format/WFS.js';\nimport ngeoWFSDescribeFeatureType from 'ngeo/WFSDescribeFeatureType.js';\nimport olFormatWMSCapabilities from 'ol/format/WMSCapabilities.js';\nimport olFormatWMTSCapabilities from 'ol/format/WMTSCapabilities.js';\nimport * as olObj from 'ol/obj.js';\nimport * as olUri from 'ol/uri.js';\nimport * as olExtent from 'ol/extent.js';\nimport olSourceImageWMS from 'ol/source/ImageWMS.js';\n\nconst exports = class {\n\n  /**\n   * The ngeo Querent is a service that issues all sorts of queries using\n   * ngeo data sources. It does not store the result. Instead, it returns it\n   * using promises. Any component that inject this service can use it to\n   * make it issue its own queries and do whatever it wants with the result.\n   *\n   * It supports sending OGC requests and parse the response, such as:\n   * - WFS DescribeFeatureType\n   * - WFS GetFeature\n   * - WMS GetCapabilites\n   * - WMS GetFeatureInfo\n   * - WMTS GetCapabilities\n   *\n   * @struct\n   * @param {angular.$http} $http Angular $http service.\n   * @param {angular.$q} $q The Angular $q service.\n   * @param {!ngeo.filter.RuleHelper} ngeoRuleHelper Ngeo rule helper service.\n   * @param {!ngeo.misc.WMSTime} ngeoWMSTime wms time service.\n   * @ngdoc service\n   * @ngname ngeoQuerent\n   * @ngInject\n   */\n  constructor($http, $q, ngeoRuleHelper, ngeoWMSTime) {\n\n    // === Injected properties ===\n\n    /**\n     * @type {angular.$http}\n     * @private\n     */\n    this.http_ = $http;\n\n    /**\n     * @type {angular.$q}\n     * @private\n     */\n    this.q_ = $q;\n\n    /**\n     * @type {!ngeo.filter.RuleHelper}\n     * @private\n     */\n    this.ngeoRuleHelper_ = ngeoRuleHelper;\n\n    /**\n     * @type {!ngeo.misc.WMSTime}\n     * @private\n     */\n    this.ngeoWMSTime_ = ngeoWMSTime;\n\n\n    // === Other properties ===\n\n    /**\n     * Promises that can be resolved to cancel started requests.\n     * @type {!Array.<angular.$q.Deferred>}\n     * @private\n     */\n    this.requestCancelers_ = [];\n\n    /**\n     * Cache of promises for WMS GetCapabilities requests. They key is the\n     * online resource base url that is used to do the query.\n     * @type {!Object.<!angular.$q.Promise>}\n     * @private\n     */\n    this.wmsGetCapabilitiesPromises_ = {};\n\n    /**\n     * Cache of promises for WMST GetCapabilities requests. They key is the\n     * url that is used to do the query.\n     * @type {!Object.<!angular.$q.Promise>}\n     * @private\n     */\n    this.wmtsGetCapabilitiesPromises_ = {};\n  }\n\n\n  // === PUBLIC methods ===\n\n  /**\n   * Issue WMS GetFeatureInfo and/or WFS GetFeature requests using the given\n   * data sources, map and optional filters.\n   *\n   * @param {ngeox.IssueGetFeaturesOptions} options Options.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  issue(options) {\n\n    const promises = [];\n    const map = options.map;\n\n    // (1) Cancel requests that are still running\n    this.cancelStillRunningRequests_();\n\n    // (2) Get queryable data sources\n    let queryableDataSources;\n    if (options.queryableDataSources) {\n      queryableDataSources = options.queryableDataSources;\n    } else {\n      const dataSources = options.dataSources;\n      googAsserts.assert(dataSources, 'DataSources should be set');\n      queryableDataSources = this.getQueryableDataSources(dataSources, map);\n    }\n\n    // (3) Combine data sources that support WFS and issue WFS queries.\n    //     The 'bbox' ('extent' option) is not required for WFS requests to\n    //     be issued.\n    const combinedWFSDataSources = this.getCombinableWFSDataSources_(\n      queryableDataSources.wfs);\n    promises.push(this.issueCombinedWFS_(combinedWFSDataSources, options));\n\n    // (4) Combine data sources that support WMS and issue WMS queries.\n    //     Only occurs if the `coordinate` option is set, because it's required\n    //     by WMS GetFeatureInfo requests.\n    const coordinate = options.coordinate;\n    if (coordinate) {\n      const combinedWMSDataSources = this.getCombinableWMSDataSources_(\n        queryableDataSources.wms);\n      promises.push(this.issueCombinedWMS_(combinedWMSDataSources, options));\n    }\n\n    return this.q_.all(promises).then(\n      this.handleCombinedQueryResult_.bind(this)\n    );\n  }\n\n  /**\n   * Browse a given list of data sources. Return 2 lists of data sources that\n   * are queryable, the first one being those that support WFS and the other\n   * WMS only. This means that WFS is always favored first, then WMS.\n   *\n   * The map view resolution determines if the inner ogc layers are in range.\n   *\n   * @param {!Array.<!ngeo.datasource.DataSource>} dataSources Data sources\n   * @param {ol.Map} map Map.\n   * @return {!ngeox.QueryableDataSources} Queryable data sources.\n   * @export\n   */\n  getQueryableDataSources(dataSources, map) {\n\n    const queryableDataSources = {\n      wfs: [],\n      wms: []\n    };\n    const resolution = googAsserts.assertNumber(map.getView().getResolution());\n\n    for (const dataSource of dataSources) {\n\n      // (1) Skip data source that can't be queried\n      if (!this.isDataSourceQueryable_(dataSource, resolution)) {\n        continue;\n      }\n\n      if (dataSource instanceof ngeoDatasourceOGC) {\n        // (2) Split data sources\n        if (dataSource.supportsWFS) {\n          queryableDataSources.wfs.push(dataSource);\n        } else {\n          queryableDataSources.wms.push(dataSource);\n        }\n      }\n    }\n\n    return queryableDataSources;\n  }\n\n  /**\n   * @param {ngeo.datasource.OGC} dataSource Data source.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  wfsDescribeFeatureType(dataSource) {\n\n    googAsserts.assert(\n      dataSource.supportsAttributes,\n      `The data source must support WFS, have a single OGCLayer that\n      is queryable in order to issue WFS DescribeFeatureType requests`\n    );\n\n    const ogcLayerNames = dataSource.getOGCLayerNames();\n\n    const url = olUri.appendParams(\n      googAsserts.assertString(dataSource.wfsUrl),\n      {\n        'REQUEST': 'DescribeFeatureType',\n        'SERVICE': 'WFS',\n        'VERSION': '2.0.0',\n        'TYPENAME': ogcLayerNames\n      }\n    );\n\n    return this.http_.get(url).then((response) => {\n      const format = new ngeoWFSDescribeFeatureType();\n      return format.read(response.data);\n    });\n  }\n\n  /**\n   * @param {!Array.<!Object>} layerCapabilities List of WMS layer capabilities\n   * @param {string} layerName Name of the WMS layer\n   * @return {?Object} Found WMS layer capability\n   * @export\n   */\n  wmsFindLayerCapability(layerCapabilities, layerName) {\n\n    let found = null;\n\n    for (const layerCapability of layerCapabilities) {\n      if (layerCapability['Name'] === layerName) {\n        found = layerCapability;\n        break;\n      } else if (layerCapability['Layer']) {\n        found = this.wmsFindLayerCapability(\n          layerCapability['Layer'], layerName);\n        if (found) {\n          break;\n        }\n      }\n    }\n\n    return found;\n  }\n\n  /**\n   * @param {string} baseUrl Base url of the WMS server.\n   * @param {boolean=} opt_cache Whether to use the cached capability, if\n   *     available. Enabling this will also store the capability when required\n   *     for the first time. Defaults to: `true`.\n   * @return {!angular.$q.Promise} Promise.\n   * @export\n   */\n  wmsGetCapabilities(baseUrl, opt_cache) {\n\n    const cache = opt_cache !== false;\n\n    const params = {\n      'REQUEST': 'GetCapabilities',\n      'SERVICE': 'WMS',\n      'VERSION': '1.3.0'\n    };\n\n    const url = olUri.appendParams(baseUrl, params);\n    let promise;\n\n    if (!cache || !this.wmsGetCapabilitiesPromises_[baseUrl]) {\n      promise = this.http_.get(url).then((response) => {\n        const format = new olFormatWMSCapabilities();\n        return format.read(response.data);\n      });\n    } else if (cache && this.wmsGetCapabilitiesPromises_[baseUrl]) {\n      promise = this.wmsGetCapabilitiesPromises_[baseUrl];\n    }\n\n    googAsserts.assert(promise);\n\n    if (cache && !this.wmsGetCapabilitiesPromises_[baseUrl]) {\n      this.wmsGetCapabilitiesPromises_[baseUrl] = promise;\n    }\n\n    return promise;\n  }\n\n  /**\n   * @param {!Array.<!Object>} layerCapabilities List of WMTS layer capabilities\n   * @param {string} layerName Name of the WMTS layer, a.k.a. the identifier.\n   * @return {?Object} Found WTMS layer capability\n   * @export\n   */\n  wmtsFindLayerCapability(layerCapabilities, layerName) {\n    let found = null;\n    for (const layerCapability of layerCapabilities) {\n      if (layerCapability['Identifier'] === layerName) {\n        found = layerCapability;\n        break;\n      }\n    }\n    return found;\n  }\n\n  /**\n   * @param {string} url Url of the WMTS server. Note that it must contain\n   *     all required arguments.\n   * @param {boolean=} opt_cache Whether to use the cached capability, if\n   *     available. Enabling this will also store the capability when required\n   *     for the first time. Defaults to: `true`.\n   * @return {!angular.$q.Promise} Promise.\n   * @export\n   */\n  wmtsGetCapabilities(url, opt_cache) {\n\n    const cache = opt_cache !== false;\n    let promise;\n\n    if (!cache || !this.wmtsGetCapabilitiesPromises_[url]) {\n      promise = this.http_.get(url).then((response) => {\n        const format = new olFormatWMTSCapabilities();\n        return format.read(response.data);\n      });\n    } else if (cache && this.wmtsGetCapabilitiesPromises_[url]) {\n      promise = this.wmtsGetCapabilitiesPromises_[url];\n    }\n\n    googAsserts.assert(promise);\n\n    if (cache && !this.wmtsGetCapabilitiesPromises_[url]) {\n      this.wmtsGetCapabilitiesPromises_[url] = promise;\n    }\n\n    return promise;\n  }\n\n\n  // === PRIVATE methods ===\n\n  /**\n   * Handles the response of multiple promises that did either\n   * WMS GetFeatureInfo or WFS GetFeature requests, in which the result is\n   * a hash with key being the data source id and value the array of features.\n   *\n   * The response object itself is an array, one item being one result per\n   * promise. The idea is to return a single hash by combining the result\n   * objects.\n   *\n   * The keys are always unique, i.e. there can be multiple result objects for\n   * the same data source id.\n   *\n   * @param {!Array.<ngeox.QuerentResult>} response Response.\n   * @return {ngeox.QuerentResult} Hash of features by data source ids.\n   * @private\n   */\n  handleCombinedQueryResult_(response) {\n    const combinedHash = {};\n    for (const hash of response) {\n      for (const dataSourceIdStr in hash) {\n        const dataSourceId = Number(dataSourceIdStr);\n        combinedHash[dataSourceId] = hash[dataSourceId];\n      }\n    }\n    return combinedHash;\n  }\n\n\n  /**\n   * Handles the result of a single WMS GetFeatureInfo or WFS GetFeature\n   * request. Read features from the response and return them.\n   *\n   * @param {!Array.<!ngeo.datasource.OGC>} dataSources List of\n   *     queryable data sources that were used to do the query.\n   * @param {number} limit The maximum number of features to get with the query.\n   * @param {boolean} wfs Whether the query was WFS or WMS.\n   * @param {angular.$http.Response|number} response Response.\n   * @return {ngeox.QuerentResult} Hash of features by data source ids.\n   * @private\n   */\n  handleQueryResult_(dataSources, limit, wfs, response) {\n    const hash = {};\n\n    for (const dataSource of dataSources) {\n      let features;\n      let tooManyFeatures;\n      let totalFeatureCount;\n\n      if (typeof response === 'number') {\n        features = [];\n        tooManyFeatures = true;\n        totalFeatureCount = response;\n      } else {\n        if (dataSource instanceof ngeoDatasourceOGC) {\n          features = this.readAndTypeFeatures_(dataSource, response.data, wfs);\n        } else {\n          features = [];\n        }\n      }\n      const dataSourceId = dataSource.id;\n      this.setUniqueIds_(features, dataSource.id);\n      hash[dataSourceId] = {\n        features,\n        limit,\n        tooManyFeatures,\n        totalFeatureCount\n      };\n    }\n\n    return hash;\n  }\n\n  /**\n   * Read and assign the type of the feature to each feature in the data.\n   * The type will be stocked in the properties of the features as\n   * \"ngeo_feature_type_\".\n   * @param {ngeo.datasource.OGC} dataSource used to read the features.\n   * @param {Document | Node | Object | string} data the response data.\n   * @param {boolean} wfs Whether the query was WFS or WMS.\n   * @return {Array.<ol.Feature>} returned features with a type in each features.\n   * @private\n   */\n  readAndTypeFeatures_(dataSource, data, wfs) {\n    const features = [];\n    let readFeatures;\n    // Copy the types to be able to set it AND iterate on it.\n    const featureTypes = this.getSetOlFormatTypes_(dataSource, wfs).slice();\n    featureTypes.forEach((type) => {\n      // Assign temporarily a single feature type to read features separately.\n      this.getSetOlFormatTypes_(dataSource, wfs, [type]);\n      if (wfs) {\n        readFeatures = dataSource.wfsFormat.readFeatures(data);\n      } else {\n        readFeatures = dataSource.wmsFormat.readFeatures(data);\n      }\n      if (readFeatures.length > 0) {\n        readFeatures.forEach((feature) => {\n          feature.set('ngeo_feature_type_', type);\n          features.push(feature);\n        });\n      }\n    });\n    // Re-set the value to the datasource.xxxFormat to be able to re-use\n    // it later (in another query);\n    this.getSetOlFormatTypes_(dataSource, wfs, featureTypes);\n    return features;\n  }\n\n  /**\n   * Return the types defined in the format of the datasource. Can set the\n   * types if one is given.\n   * @param {ngeo.datasource.OGC} dataSource that contains the format object.\n   * @param {boolean} wfs Whether the query was WFS or WMS.\n   * @param {Array.<string>=} opt_types An array of type if you want to set the\n   *     type of the format object.\n   * @return {Array.<string>} The types defined in the format.\n   * @private\n   */\n  getSetOlFormatTypes_(dataSource, wfs, opt_types) {\n    let types;\n    if (wfs) {\n      if (opt_types) {\n        dataSource.wfsFormat.setFeatureType(opt_types);\n      }\n      types = dataSource.wfsFormat.getFeatureType();\n    } else {\n      if (opt_types) {\n        dataSource.wmsFormat.setLayers(opt_types);\n      }\n      types = dataSource.wmsFormat.getLayers();\n    }\n    if (!types) {\n      return [];\n    }\n    return (Array.isArray(types)) ? types : [types];\n  }\n\n  /**\n   * Issue WFS GetFeature requests using the given combined data sources, map\n   * and optional filters.\n   *\n   * @param {!ngeo.query.Querent.CombinedDataSources} combinedDataSources Combined\n   *     data sources.\n   * @param {ngeox.IssueGetFeaturesOptions} options Options.\n   * @return {angular.$q.Promise} Promise.\n   * @private\n   */\n  issueCombinedWFS_(combinedDataSources, options) {\n\n    const promises = [];\n\n    // The 'limit' option is mandatory in the querent service\n    const maxFeatures = googAsserts.assertNumber(options.limit);\n\n    const map = options.map;\n    const view = map.getView();\n    const resolution = googAsserts.assertNumber(view.getResolution());\n    const projection = view.getProjection();\n    const srsName = projection.getCode();\n    const wfsCount = options.wfsCount === true;\n\n    // (1) Extent (bbox), which is optional, i.e. its value can stay undefined\n    let bbox;\n    const coordinate = options.coordinate;\n    if (coordinate) {\n      const tolerancePx = options.tolerancePx;\n      googAsserts.assert(tolerancePx);\n      const tolerance = tolerancePx * resolution;\n      bbox = olExtent.buffer(\n        olExtent.createOrUpdateFromCoordinate(coordinate),\n        tolerance\n      );\n    } else {\n      bbox = options.extent;\n    }\n\n    // (2) Launch one request per combinaison of data sources\n    const wfsFormat = new olFormatWFS();\n    const xmlSerializer = new XMLSerializer();\n    for (const dataSources of combinedDataSources) {\n\n      let getFeatureCommonOptions;\n      let featureNS;\n      let featureTypes = [];\n      let url;\n      const params = {};\n\n      // (3) Build query options\n      for (const dataSource of dataSources) {\n\n        // (a) Create common options, if not done yet\n        if (!getFeatureCommonOptions) {\n          featureNS = dataSource.wfsFeatureNS;\n          const featurePrefix = dataSource.wfsFeaturePrefix;\n          const geometryName = dataSource.geometryName;\n          const outputFormat = dataSource.wfsOutputFormat;\n\n          getFeatureCommonOptions = {\n            bbox,\n            featureNS,\n            featurePrefix,\n            geometryName,\n            outputFormat,\n            srsName\n          };\n\n          url = dataSource.wfsUrl;\n\n          // All data sources combined share the same active dimensions\n          olObj.assign(params, dataSource.activeDimensions);\n        }\n\n        // (b) Add queryable layer names in featureTypes array\n        featureTypes = featureTypes.concat(\n          dataSource.getInRangeOGCLayerNames(resolution, true));\n\n        // (c) Add filter, if any. If the case, then only one data source\n        //     is expected to be used for this request.\n        let filter;\n        if (options.filter) {\n          filter = this.ngeoRuleHelper_.createFilter({\n            dataSource: dataSource,\n            filter: options.filter,\n            incTime: true\n          });\n        } else if ((dataSource.filterRules && dataSource.filterRules.length) ||\n            dataSource.timeRangeValue) {\n\n          googAsserts.assert(\n            dataSources.length === 1,\n            `A data source having filterRules or timeRangeValue should issue\n            a single query, alone.`\n          );\n\n          filter = this.ngeoRuleHelper_.createFilter({\n            dataSource: dataSource,\n            incTime: true,\n            srsName: srsName\n          });\n        }\n\n        if (filter) {\n          getFeatureCommonOptions['filter'] = filter;\n        }\n      }\n\n      googAsserts.assert(getFeatureCommonOptions);\n      getFeatureCommonOptions.featureTypes = featureTypes;\n      googAsserts.assert(url);\n\n      // (4) Build query then launch\n      //\n      //     If we require to do a WFS GetFeature request with\n      //     `resultType: 'hits'` first, do so. In that case, if there would\n      //     be too many features returned, no GetFeature is done thereafter\n      //     and the data sources will return empty arrays in the returned\n      //     response.\n      //\n      //     If we do not need to count features first, then proceed with\n      //     an normal WFS GetFeature request.\n      const getFeatureDefer = this.q_.defer();\n      promises.push(\n        getFeatureDefer.promise.then(\n          this.handleQueryResult_.bind(this, dataSources, maxFeatures, true)\n        )\n      );\n\n      // (4.1) Count, if required\n      let countPromise;\n      if (wfsCount) {\n        const getCountOptions =\n            /** @type {olx.format.WFSWriteGetFeatureOptions} */ (\n            olObj.assign(\n              {\n                resultType: 'hits'\n              },\n              getFeatureCommonOptions\n            )\n          );\n        const featureCountXml = wfsFormat.writeGetFeature(getCountOptions);\n        const featureCountRequest = xmlSerializer.serializeToString(\n          featureCountXml);\n        const canceler = this.registerCanceler_();\n        countPromise = this.http_.post(\n          url,\n          featureCountRequest,\n          {\n            params: params,\n            headers: {'Content-Type': 'text/xml; charset=UTF-8'},\n            timeout: canceler.promise\n          }\n        ).then(((response) => {\n          const meta = dataSources[0].wfsFormat.readFeatureCollectionMetadata(\n            response.data\n          );\n          return meta['numberOfFeatures'];\n        }).bind(this));\n      } else {\n        countPromise = this.q_.resolve();\n      }\n\n      // (4.2) After count, do GetFeature (if required)\n      countPromise.then((numberOfFeatures) => {\n        // `true` is returned if a count request was made AND there would\n        // be too many features.\n        if (numberOfFeatures === undefined || numberOfFeatures < maxFeatures) {\n\n          const getFeatureOptions =\n              /** @type {olx.format.WFSWriteGetFeatureOptions} */ (\n              olObj.assign(\n                {\n                  maxFeatures\n                },\n                getFeatureCommonOptions\n              )\n            );\n          const featureRequestXml = wfsFormat.writeGetFeature(\n            getFeatureOptions);\n          const featureRequest = xmlSerializer.serializeToString(\n            featureRequestXml);\n          googAsserts.assertString(url);\n          const canceler = this.registerCanceler_();\n          this.http_.post(\n            url,\n            featureRequest,\n            {\n              params: params,\n              headers: {'Content-Type': 'text/xml; charset=UTF-8'},\n              timeout: canceler.promise\n            }\n          ).then((response) => {\n            getFeatureDefer.resolve(response);\n          });\n\n        } else {\n          getFeatureDefer.resolve(numberOfFeatures);\n        }\n      });\n    }\n\n    return this.q_.all(promises).then(\n      this.handleCombinedQueryResult_.bind(this)\n    );\n  }\n\n  /**\n   * Issue WMS GetFeatureInfo requests using the given combined data sources,\n   * map and optional filters.\n   *\n   * @param {!ngeo.query.Querent.CombinedDataSources} combinedDataSources Combined\n   *     data sources.\n   * @param {ngeox.IssueGetFeaturesOptions} options Options.\n   * @return {angular.$q.Promise} Promise.\n   * @private\n   */\n  issueCombinedWMS_(combinedDataSources, options) {\n\n    const promises = [];\n\n    // The 'limit' option is mandatory in the querent service\n    const FEATURE_COUNT = googAsserts.assertNumber(options.limit);\n\n    const map = options.map;\n    const view = map.getView();\n    const resolution = googAsserts.assertNumber(view.getResolution());\n    const projection = view.getProjection();\n    const projCode = projection.getCode();\n\n    // (1) Coordinate, which is required to issue WMS GetFeatureInfo requests\n    const coordinate = options.coordinate;\n    googAsserts.assert(coordinate);\n\n    // (2) Launch one request per combinaison of data sources\n    for (const dataSources of combinedDataSources) {\n\n      let url;\n      let LAYERS = [];\n      let INFO_FORMAT;\n      let activeDimensionsSet = false;\n      const params = {};\n      let filterString = null;\n      let filtrableLayerName = null;\n\n      // (3) Build query options\n      for (const dataSource of dataSources) {\n\n        // (a) Create common options, if not done yet\n        if (!INFO_FORMAT) {\n          INFO_FORMAT = dataSource.wmsInfoFormat;\n          url = dataSource.wmsUrl;\n        }\n\n        // (b) Add queryable layer names in featureTypes array\n        LAYERS = LAYERS.concat(\n          dataSource.getInRangeOGCLayerNames(resolution, true));\n\n        // (c) Manage active dimensions, which are added directly to the\n        //     query parameters. Note that this occurs only ONCE, i.e.\n        //     for the first data source, because all data sources here have\n        //     been combined together, therefore they share the same active\n        //     dimensions.\n        if (!activeDimensionsSet) {\n          olObj.assign(params, dataSource.activeDimensions);\n          activeDimensionsSet = true;\n        }\n\n        // (d) Add filter, if any. If there is a filter on the data source,\n        //     then it is expected that one request will be sent for this\n        //     data source only.\n        if (dataSource.filterRules && dataSource.filterRules.length) {\n          googAsserts.assert(dataSources.length === 1);\n          filtrableLayerName = dataSource.getFiltrableOGCLayerName();\n          filterString = this.ngeoRuleHelper_.createFilterString({\n            dataSource: dataSource,\n            srsName: projCode\n          });\n        }\n\n        // (e) Add TIME parameter if the data source has a time range value.\n        //     If that's the case, then it is expected that one request will be\n        //     sent for this data source only.\n        if (dataSource.timeRangeValue !== null && dataSource.timeProperty) {\n          googAsserts.assert(dataSources.length === 1);\n          params['TIME'] = this.ngeoWMSTime_.formatWMSTimeParam(\n            dataSource.timeProperty,\n            dataSource.timeRangeValue\n          );\n        }\n      }\n\n      params['LAYERS'] = LAYERS;\n      params['QUERY_LAYERS'] = LAYERS;\n\n      // Manage 'FILTER' parameter\n      if (filterString && filtrableLayerName) {\n        let filterParamValue = null;\n        if (LAYERS.length === 1) {\n          // When there's only one layer in the `LAYERS` parameters, then\n          // the filter string is given as-is.\n          filterParamValue = filterString;\n        } else {\n          // When there's more then one layer, then each filter must be wrapped\n          // between parenthesis and the order must also match the `LAYERS`\n          // parameter as well.\n          const filterParamValues = [];\n          for (let i = 0, ii = LAYERS.length; i < ii; i++) {\n            if (LAYERS[i] === filtrableLayerName) {\n              filterParamValues.push(`(${filterString})`);\n            } else {\n              filterParamValues.push('()');\n            }\n          }\n          filterParamValue = filterParamValues.join('');\n        }\n        params['FILTER'] = filterParamValue;\n      }\n\n      googAsserts.assert(url);\n      const wmsSource = new olSourceImageWMS({\n        params,\n        url\n      });\n\n      // (4) Build query url, then launch\n      const wmsGetFeatureInfoUrl = googAsserts.assertString(\n        wmsSource.getGetFeatureInfoUrl(\n          coordinate, resolution, projCode, {\n            // Without extern, quoting is necessary\n            'FEATURE_COUNT': FEATURE_COUNT,\n            'INFO_FORMAT': INFO_FORMAT\n          }\n        )\n      );\n\n      const canceler = this.registerCanceler_();\n      promises.push(\n        this.http_.get(\n          wmsGetFeatureInfoUrl,\n          {\n            timeout: canceler.promise\n          }\n        ).then(\n          this.handleQueryResult_.bind(this, dataSources, FEATURE_COUNT, false)\n        )\n      );\n    }\n\n    return this.q_.all(promises).then(\n      this.handleCombinedQueryResult_.bind(this)\n    );\n  }\n\n  /**\n   * @param {!Array.<ngeox.datasource.OGC>} dataSources List of\n   *     queryable data sources that supports WFS.\n   * @return {ngeo.query.Querent.CombinedDataSources} Combined lists of data sources.\n   * @private\n   */\n  getCombinableWFSDataSources_(dataSources) {\n    const combinableDataSources = [];\n    const notCombinableDataSources = [];\n\n    for (const dataSource of dataSources) {\n      if (dataSource.combinableForWFS) {\n        let combined = false;\n        for (const combinableDataSource of combinableDataSources) {\n          if (dataSource.combinableWithDataSourceForWFS(combinableDataSource[0])) {\n            combinableDataSource.push(dataSource);\n            combined = true;\n          }\n        }\n        if (!combined) {\n          combinableDataSources.push([dataSource]);\n        }\n      } else {\n        notCombinableDataSources.push([dataSource]);\n      }\n    }\n\n    return combinableDataSources.concat(notCombinableDataSources);\n  }\n\n  /**\n   * @param {!Array.<ngeox.datasource.OGC>} dataSources List of\n   *     queryable data sources that supports WMS.\n   * @return {ngeo.query.Querent.CombinedDataSources} Combined lists of data sources.\n   * @private\n   */\n  getCombinableWMSDataSources_(dataSources) {\n    const combinableDataSources = [];\n    const notCombinableDataSources = [];\n\n    for (const dataSource of dataSources) {\n      if (dataSource.combinableForWMS) {\n        let combined = false;\n        for (const combinableDataSource of combinableDataSources) {\n          if (dataSource.combinableWithDataSourceForWMS(combinableDataSource[0])) {\n            combinableDataSource.push(dataSource);\n            combined = true;\n          }\n        }\n        if (!combined) {\n          combinableDataSources.push([dataSource]);\n        }\n      } else {\n        notCombinableDataSources.push([dataSource]);\n      }\n    }\n\n    return combinableDataSources.concat(notCombinableDataSources);\n  }\n\n  /**\n   * Checks if a data source can be queried, which requires it to be:\n   * - visible\n   * - in range\n   * - queryable (using the native getter)\n   * - have at least one OGC layer in range of current map view resolution.\n   *\n   * @param {ngeo.datasource.DataSource} ds Data source\n   * @param {number} res Resolution.\n   * @return {boolean} Whether the data source is queryable\n   * @private\n   */\n  isDataSourceQueryable_(ds, res) {\n    let queryable = ds.visible && ds.inRange && ds.queryable;\n    if (queryable && ds instanceof ngeoDatasourceOGC) {\n      const ogcDS = /** @type {!ngeo.datasource.OGC} */ (ds);\n      queryable = ogcDS.isAnyOGCLayerInRange(res, true);\n    }\n    return queryable;\n  }\n\n  /**\n   * Make sure that feature ids are unique, because the same features might\n   * be returned for different layers.\n   * @param {Array.<ol.Feature>} features Features\n   * @param {number} dataSourceId Data source id.\n   * @private\n   */\n  setUniqueIds_(features, dataSourceId) {\n    features.forEach((feature) => {\n      if (feature.getId() !== undefined) {\n        const id = `${dataSourceId}_${feature.getId()}`;\n        feature.setId(id);\n      }\n    });\n  }\n\n  /**\n   * @return {angular.$q.Deferred} A deferred that can be resolved to cancel a\n   *    HTTP request.\n   * @private\n   */\n  registerCanceler_() {\n    const canceler = this.q_.defer();\n    this.requestCancelers_.push(canceler);\n    return canceler;\n  }\n\n  /**\n   * @private\n   */\n  cancelStillRunningRequests_() {\n    for (const canceler of this.requestCancelers_) {\n      canceler.resolve();\n    }\n    this.requestCancelers_.length = 0;\n  }\n};\n\n\n/**\n * @typedef {!Array.<!Array.<!ngeo.datasource.OGC>>}\n */\nexports.CombinedDataSources;\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoQuerent', [\n  ngeoFilterRuleHelper.module.name,\n  ngeoMiscWMSTime.module.name,\n]);\nexports.module.service('ngeoQuerent', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/query/Querent.js","/**\n * @module ngeo.filter.RuleHelper\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoFilterCondition from 'ngeo/filter/Condition.js';\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoMiscFeatureHelper from 'ngeo/misc/FeatureHelper.js';\nimport ngeoMiscWMSTime from 'ngeo/misc/WMSTime.js';\nimport ngeoRuleDate from 'ngeo/rule/Date.js';\nimport ngeoRuleGeometry from 'ngeo/rule/Geometry.js';\nimport ngeoRuleRule from 'ngeo/rule/Rule.js';\nimport ngeoRuleSelect from 'ngeo/rule/Select.js';\nimport ngeoRuleText from 'ngeo/rule/Text.js';\nimport olFormatWFS from 'ol/format/WFS.js';\nimport olFormatFilter from 'ol/format/filter.js';\nimport * as olArray from 'ol/array.js';\n\nimport {moment} from 'moment';\n\n\nconst exports = class {\n\n  /**\n   * A service that provides utility methods to create `ngeo.rule.Rule`\n   * objects.\n   *\n   * @param {!angularGettext.Catalog} gettextCatalog Gettext service.\n   * @param {!ngeo.misc.FeatureHelper} ngeoFeatureHelper Ngeo feature helper service.\n   * @param {!ngeo.misc.WMSTime} ngeoWMSTime wms time service.\n   * @struct\n   * @ngdoc service\n   * @ngname ngeoRuleHelper\n   * @ngInject\n   */\n  constructor(gettextCatalog, ngeoFeatureHelper, ngeoWMSTime) {\n\n    /**\n     * @type {!angularGettext.Catalog}\n     * @private\n     */\n    this.gettextCatalog_ = gettextCatalog;\n\n    /**\n     * @type {!ngeo.misc.FeatureHelper}\n     * @private\n     */\n    this.ngeoFeatureHelper_ = ngeoFeatureHelper;\n\n    /**\n     * @type {!ngeo.misc.WMSTime}\n     * @private\n     */\n    this.ngeoWMSTime_ = ngeoWMSTime;\n  }\n\n  /**\n   * @param {!Array.<!ngeox.Attribute>} attributes Attributes.\n   * @param {boolean=} opt_isCustom Whether the created rules should be marked\n   *     as custom or not. Defaults to `false`.\n   * @return {Array.<!ngeo.rule.Rule>} Rules.\n   * @export\n   */\n  createRulesFromAttributes(attributes, opt_isCustom) {\n    const rules = [];\n    for (const attribute of attributes) {\n      rules.push(this.createRuleFromAttribute(attribute, opt_isCustom));\n    }\n    return rules;\n  }\n\n  /**\n   * @param {!ngeox.Attribute} attribute Attribute.\n   * @param {boolean=} opt_isCustom Whether the created rule should be marked\n   *     as custom or not. Defaults to `false`.\n   * @return {!ngeo.rule.Rule} Rule.\n   * @export\n   */\n  createRuleFromAttribute(attribute, opt_isCustom) {\n\n    let rule;\n    const isCustom = opt_isCustom === true;\n\n    /**\n     * @type {string}\n     */\n    const name = this.gettextCatalog_.getString(attribute.name);\n\n    // Todo: support geometry\n\n    switch (attribute.type) {\n      case ngeoFormatAttributeType.DATE:\n      case ngeoFormatAttributeType.DATETIME:\n        if (isCustom) {\n          rule = new ngeoRuleDate({\n            name: name,\n            operator: ngeoRuleRule.TemporalOperatorType.EQUALS,\n            operators: [\n              ngeoRuleRule.TemporalOperatorType.EQUALS,\n              ngeoRuleRule.TemporalOperatorType.BEGINS,\n              ngeoRuleRule.TemporalOperatorType.ENDS\n            ],\n            propertyName: attribute.name,\n            type: attribute.type\n          });\n        } else {\n          rule = new ngeoRuleDate({\n            name: name,\n            operator: ngeoRuleRule.TemporalOperatorType.DURING,\n            propertyName: attribute.name,\n            type: attribute.type\n          });\n        }\n        break;\n      case ngeoFormatAttributeType.GEOMETRY:\n        rule = new ngeoRuleGeometry({\n          name: name,\n          operator: ngeoRuleRule.SpatialOperatorType.WITHIN,\n          operators: [\n            ngeoRuleRule.SpatialOperatorType.CONTAINS,\n            ngeoRuleRule.SpatialOperatorType.INTERSECTS,\n            ngeoRuleRule.SpatialOperatorType.WITHIN\n          ],\n          propertyName: attribute.name,\n          type: attribute.type\n        });\n        break;\n      case ngeoFormatAttributeType.NUMBER:\n        if (isCustom) {\n          rule = new ngeoRuleRule({\n            name: name,\n            operator: ngeoRuleRule.OperatorType.EQUAL_TO,\n            operators: [\n              ngeoRuleRule.OperatorType.EQUAL_TO,\n              ngeoRuleRule.OperatorType.GREATER_THAN,\n              ngeoRuleRule.OperatorType.GREATER_THAN_OR_EQUAL_TO,\n              ngeoRuleRule.OperatorType.LESSER_THAN,\n              ngeoRuleRule.OperatorType.LESSER_THAN_OR_EQUAL_TO,\n              ngeoRuleRule.OperatorType.NOT_EQUAL_TO\n            ],\n            propertyName: attribute.name,\n            type: ngeoFormatAttributeType.NUMBER\n          });\n        } else {\n          rule = new ngeoRuleRule({\n            name: name,\n            operator: ngeoRuleRule.OperatorType.BETWEEN,\n            propertyName: attribute.name,\n            type: ngeoFormatAttributeType.NUMBER\n          });\n        }\n        break;\n      case ngeoFormatAttributeType.SELECT:\n        rule = new ngeoRuleSelect({\n          choices: googAsserts.assert(attribute.choices),\n          name: name,\n          propertyName: attribute.name\n        });\n        break;\n      default:\n        if (isCustom) {\n          rule = new ngeoRuleText({\n            name: name,\n            operator: ngeoRuleRule.OperatorType.LIKE,\n            operators: [\n              ngeoRuleRule.OperatorType.LIKE,\n              ngeoRuleRule.OperatorType.EQUAL_TO,\n              ngeoRuleRule.OperatorType.NOT_EQUAL_TO\n            ],\n            propertyName: attribute.name\n          });\n        } else {\n          rule = new ngeoRuleText({\n            name: name,\n            operator: ngeoRuleRule.OperatorType.LIKE,\n            propertyName: attribute.name\n          });\n        }\n        break;\n    }\n\n    return rule;\n  }\n\n  /**\n   * @param {!Array.<!ngeox.rule.RuleOptions|!ngeox.rule.SelectOptions>} optionsList List of options\n   * @return {Array.<!ngeo.rule.Rule>} Rules.\n   * @export\n   */\n  createRules(optionsList) {\n    const rules = [];\n    for (const options of optionsList) {\n      rules.push(this.createRule(options));\n    }\n    return rules;\n  }\n\n  /**\n   * @param {!ngeox.rule.RuleOptions|!ngeox.rule.SelectOptions} options Options\n   * @return {!ngeo.rule.Rule} Rule.\n   * @export\n   */\n  createRule(options) {\n    let rule;\n    switch (options.type) {\n      case ngeoFormatAttributeType.DATE:\n      case ngeoFormatAttributeType.DATETIME:\n        rule = new ngeoRuleDate(options);\n        break;\n      case ngeoFormatAttributeType.GEOMETRY:\n        rule = new ngeoRuleGeometry(options);\n        break;\n      case ngeoFormatAttributeType.SELECT:\n        const selectOptions = /** @type {!ngeox.rule.SelectOptions} */ (\n          options);\n        googAsserts.assert(selectOptions.choices);\n        rule = new ngeoRuleSelect(selectOptions);\n        break;\n      default:\n        rule = new ngeoRuleText(options);\n        break;\n    }\n    return rule;\n  }\n\n  /**\n   * Create a new `ngeo.rule.Rule` object using an other given rule.\n   *\n   * @param {!ngeo.rule.Rule} rule Original rule to clone.\n   * @return {!ngeo.rule.Rule} A clone rule.\n   * @export\n   */\n  cloneRule(rule) {\n\n    let clone;\n\n    let expression = rule.getExpression();\n    if (expression === null) {\n      expression = undefined;\n    }\n    const isCustom = rule.isCustom;\n    const lowerBoundary = rule.lowerBoundary !== null ? rule.lowerBoundary :\n      undefined;\n    const name = rule.name;\n    const operator = rule.operator !== null ? rule.operator : undefined;\n    const operators = rule.operators ? rule.operators.slice(0) : undefined;\n    const propertyName = rule.propertyName;\n    const type = rule.type !== null ? rule.type : undefined;\n    const upperBoundary = rule.upperBoundary !== null ? rule.upperBoundary :\n      undefined;\n\n    const options = {\n      expression,\n      isCustom,\n      lowerBoundary,\n      name,\n      operator,\n      operators,\n      propertyName,\n      type,\n      upperBoundary\n    };\n\n    if (rule instanceof ngeoRuleDate) {\n      clone = new ngeoRuleDate(options);\n    } else if (rule instanceof ngeoRuleGeometry) {\n      clone = new ngeoRuleGeometry(options);\n      clone.feature.setProperties(\n        this.ngeoFeatureHelper_.getNonSpatialProperties(rule.feature)\n      );\n    } else if (rule instanceof ngeoRuleSelect) {\n      options.choices = rule.choices.slice(0);\n      clone = new ngeoRuleSelect(options);\n    } else if (rule instanceof ngeoRuleText) {\n      clone = new ngeoRuleText(options);\n    } else {\n      clone = new ngeoRuleRule(options);\n    }\n\n    return clone;\n  }\n\n  /**\n   * Extend the dynamic properties from a source rule to destination rule.\n   * The source rule remains unchanged, while the destination rule changes.\n   *\n   * @param {!ngeo.rule.Rule} sourceRule Source rule to collect the dynamic\n   *     properties from.\n   * @param {!ngeo.rule.Rule} destRule Destination rule where the dynamic\n   *     properties are set.\n   * @export\n   */\n  extendRule(sourceRule, destRule) {\n\n    if (destRule.getExpression() !== sourceRule.getExpression()) {\n      destRule.setExpression(sourceRule.getExpression());\n    }\n\n    if (destRule.lowerBoundary !== sourceRule.lowerBoundary) {\n      destRule.lowerBoundary = sourceRule.lowerBoundary;\n    }\n\n    if (destRule.operator !== sourceRule.operator) {\n      destRule.operator = sourceRule.operator;\n    }\n\n    if (destRule.upperBoundary !== sourceRule.upperBoundary) {\n      destRule.upperBoundary = sourceRule.upperBoundary;\n    }\n\n    if (sourceRule instanceof ngeoRuleGeometry &&\n       destRule instanceof ngeoRuleGeometry\n    ) {\n      this.ngeoFeatureHelper_.clearNonSpatialProperties(destRule.feature);\n      destRule.feature.setProperties(\n        this.ngeoFeatureHelper_.getNonSpatialProperties(sourceRule.feature)\n      );\n    }\n  }\n\n  /**\n   * @param {!Array.<!ngeo.rule.Rule>} rules Rules\n   * @return {!Array.<!ngeox.rule.AnyOptions>} List of serialized rule options.\n   * @export\n   */\n  serializeRules(rules) {\n    return rules.map((rule) => {\n      const serializedRule = this.serializeRule(rule);\n      return serializedRule;\n    });\n  }\n\n  /**\n   * Selialize a rule into options to re-create it later.\n   * @param {!ngeo.rule.Rule} rule Rule to serialize.\n   * @return {!ngeox.rule.AnyOptions} Serialized rule options.\n   * @export\n   */\n  serializeRule(rule) {\n    const obj = {\n      name: rule.name,\n      propertyName: rule.propertyName,\n      type: rule.type\n    };\n\n    if (rule.expression !== null) {\n      obj.expression = rule.expression;\n    }\n\n    if (rule.lowerBoundary !== null) {\n      obj.lowerBoundary = rule.lowerBoundary;\n    }\n\n    if (rule.operator !== null) {\n      obj.operator = rule.operator;\n    }\n\n    if (rule.operators !== null) {\n      obj.operators = rule.operators.slice(0);\n    }\n\n    if (rule.upperBoundary !== null) {\n      obj.upperBoundary = rule.upperBoundary;\n    }\n\n    if (rule instanceof ngeoRuleGeometry) {\n      obj.featureProperties = this.ngeoFeatureHelper_.getNonSpatialProperties(\n        rule.feature);\n    }\n\n    if (rule instanceof ngeoRuleSelect) {\n      obj.choices = rule.choices;\n    }\n\n    return obj;\n  }\n\n  /**\n   * Create a `ol.format.filter.Filter` object for a given data source.\n   * See the `ngeox.CreateFilterOptions` to learn more.\n   *\n   * @param {ngeox.CreateFilterOptions} options Options.\n   * @return {?ol.format.filter.Filter} Filter.\n   * @export\n   */\n  createFilter(options) {\n\n    const dataSource = /** @type {ngeo.datasource.OGC} */ (options.dataSource);\n    let mainFilter = null;\n\n    if (options.filter) {\n      mainFilter = options.filter;\n    } else {\n      const rules = options.filterRules || dataSource.filterRules;\n      const conditions = [];\n\n      if (rules && rules.length) {\n        for (const rule of rules) {\n          const filter = this.createFilterFromRule_(\n            rule,\n            dataSource,\n            options.srsName\n          );\n          if (filter) {\n            conditions.push(filter);\n          }\n        }\n      }\n\n      const condition = dataSource.filterCondition;\n      if (conditions.length === 1) {\n        mainFilter = conditions[0];\n      } else if (conditions.length >= 2) {\n        if (condition === ngeoFilterCondition.AND) {\n          mainFilter = olFormatFilter.and.apply(null, conditions);\n        } else if (condition === ngeoFilterCondition.OR ||\n                   condition === ngeoFilterCondition.NOT\n        ) {\n          mainFilter = olFormatFilter.or.apply(null, conditions);\n        }\n      }\n      if (mainFilter && condition === ngeoFilterCondition.NOT) {\n        mainFilter = olFormatFilter.not(mainFilter);\n      }\n    }\n\n    if (options.incTime) {\n      const timeFilter = this.createTimeFilterFromDataSource_(dataSource);\n      if (timeFilter) {\n        if (mainFilter) {\n          mainFilter = olFormatFilter.and.apply(\n            null,\n            [\n              mainFilter,\n              timeFilter\n            ]\n          );\n        } else {\n          mainFilter = timeFilter;\n        }\n      }\n    }\n\n    return mainFilter;\n  }\n\n  /**\n   * @param {ngeox.CreateFilterOptions} options Options.\n   * @return {?string} Filter string.\n   * @export\n   */\n  createFilterString(options) {\n    let filterString = null;\n    const filter = this.createFilter(options);\n    if (filter) {\n      const filterNode = olFormatWFS.writeFilter(filter);\n      const xmlSerializer = new XMLSerializer();\n      filterString = xmlSerializer.serializeToString(filterNode);\n    }\n    return filterString;\n  }\n\n  /**\n   * @param {ngeo.rule.Rule} rule Rule.\n   * @param {ngeo.datasource.OGC} dataSource Data source.\n   * @param {string=} opt_srsName SRS name. No srsName attribute will be\n   *     set on geometries when this is not provided.\n   * @return {?ol.format.filter.Filter} filter Filter;\n   * @private\n   */\n  createFilterFromRule_(rule, dataSource, opt_srsName) {\n\n    let filter = null;\n\n    const value = rule.value;\n    if (!value) {\n      return null;\n    }\n\n    const expression = value.expression;\n    const lowerBoundary = value.lowerBoundary;\n    const operator = value.operator;\n    const propertyName = value.propertyName;\n    const upperBoundary = value.upperBoundary;\n\n    const rot =  ngeoRuleRule.OperatorType;\n    const rsot = ngeoRuleRule.SpatialOperatorType;\n    const rtot = ngeoRuleRule.TemporalOperatorType;\n\n    const spatialTypes = [\n      rsot.CONTAINS,\n      rsot.INTERSECTS,\n      rsot.WITHIN\n    ];\n\n    const numericTypes = [\n      rot.GREATER_THAN,\n      rot.GREATER_THAN_OR_EQUAL_TO,\n      rot.LESSER_THAN,\n      rot.LESSER_THAN_OR_EQUAL_TO\n    ];\n\n    if (rule instanceof ngeoRuleDate) {\n      let beginValue;\n      let endValue;\n\n      if (operator === rtot.DURING) {\n        beginValue = moment(lowerBoundary).format('YYYY-MM-DD');\n        endValue = moment(upperBoundary).format('YYYY-MM-DD');\n      } else if (operator === rtot.EQUALS) {\n        beginValue = moment(\n          expression\n        ).format(\n          'YYYY-MM-DD HH:mm:ss'\n        );\n        endValue = moment(\n          expression\n        ).add(\n          1, 'days'\n        ).subtract(\n          1, 'seconds'\n        ).format(\n          'YYYY-MM-DD HH:mm:ss'\n        );\n      } else if (operator === rtot.BEGINS) {\n        beginValue = moment(\n          expression\n        ).format(\n          'YYYY-MM-DD'\n        );\n        // NOTE: end value is CURRENT + 30 years\n        endValue = moment(\n          expression\n        ).add(\n          30, 'years'\n        ).format(\n          'YYYY-MM-DD'\n        );\n      } else if (operator === rtot.ENDS) {\n        // NOTE: begin value is hardcoded to 1970-01-01\n        beginValue = '1970-01-01';\n        endValue = moment(\n          expression\n        ).format(\n          'YYYY-MM-DD'\n        );\n      }\n      if (beginValue && endValue) {\n        filter = olFormatFilter.during(\n          propertyName,\n          beginValue,\n          endValue\n        );\n      }\n    } else if (rule instanceof ngeoRuleSelect) {\n      const selectedChoices = rule.selectedChoices;\n      if (selectedChoices.length === 1) {\n        filter = olFormatFilter.equalTo(\n          propertyName,\n          selectedChoices[0]\n        );\n      } else if (selectedChoices.length >= 2) {\n        const conditions = [];\n        for (const selectedChoice of selectedChoices) {\n          conditions.push(\n            olFormatFilter.equalTo(\n              propertyName,\n              selectedChoice\n            )\n          );\n        }\n        filter = olFormatFilter.or.apply(null, conditions);\n      }\n    } else if (olArray.includes(spatialTypes, operator)) {\n      const geometryName = dataSource.geometryName;\n      googAsserts.assertInstanceof(rule, ngeoRuleGeometry);\n      const geometry = googAsserts.assert(rule.geometry);\n      if (operator === rsot.CONTAINS) {\n        filter = olFormatFilter.contains(\n          geometryName,\n          geometry,\n          opt_srsName\n        );\n      } else if (operator === rsot.INTERSECTS) {\n        filter = olFormatFilter.intersects(\n          geometryName,\n          geometry,\n          opt_srsName\n        );\n      } else if (operator === rsot.WITHIN) {\n        filter = olFormatFilter.within(\n          geometryName,\n          geometry,\n          opt_srsName\n        );\n      }\n    } else if (olArray.includes(numericTypes, operator)) {\n      const numericExpression = googAsserts.assertNumber(expression);\n      if (operator === rot.GREATER_THAN) {\n        filter = olFormatFilter.greaterThan(\n          propertyName,\n          numericExpression\n        );\n      } else if (operator === rot.GREATER_THAN_OR_EQUAL_TO) {\n        filter = olFormatFilter.greaterThanOrEqualTo(\n          propertyName,\n          numericExpression\n        );\n      } else if (operator === rot.LESSER_THAN) {\n        filter = olFormatFilter.lessThan(\n          propertyName,\n          numericExpression\n        );\n      } else if (operator === rot.LESSER_THAN_OR_EQUAL_TO) {\n        filter = olFormatFilter.lessThanOrEqualTo(\n          propertyName,\n          numericExpression\n        );\n      }\n    } else if (operator === rot.BETWEEN) {\n      filter = olFormatFilter.between(\n        propertyName,\n        lowerBoundary,\n        upperBoundary\n      );\n    } else if (operator === rot.EQUAL_TO) {\n      filter = olFormatFilter.equalTo(\n        propertyName,\n        expression\n      );\n    } else if (operator === rot.LIKE) {\n      const stringExpression = String(expression)\n        .replace(/!/g, '!!')\n        .replace(/\\./g, '!.')\n        .replace(/\\*/g, '!*');\n      filter = olFormatFilter.like(\n        propertyName,\n        `*${stringExpression}*`,\n        '*', /* wildCard */\n        '.', /* singleChar */\n        '!', /* escapeChar */\n        false /* matchCase */\n      );\n    } else if (operator === rot.NOT_EQUAL_TO) {\n      filter = olFormatFilter.notEqualTo(\n        propertyName,\n        expression\n      );\n    }\n\n    return filter;\n  }\n\n  /**\n   * Create and return an OpenLayers filter object using the available\n   * time properties within the data source.\n   * @param {ngeo.datasource.OGC} dataSource Data source from which to\n   *     create the filter.\n   * @return {?ol.format.filter.Filter} Filter\n   * @private\n   */\n  createTimeFilterFromDataSource_(dataSource) {\n    let filter = null;\n    const range = dataSource.timeRangeValue;\n    const timeProperty = dataSource.timeProperty;\n    const name = dataSource.timeAttributeName;\n\n    if (range && timeProperty && name) {\n\n      if (range.end !== undefined) {\n        // Case 1: the range has both 'start' and 'end' values.  Use them to\n        //         create a During filter.\n\n        const values = this.ngeoWMSTime_.formatWMSTimeParam(\n          timeProperty,\n          range\n        ).split('/');\n\n        filter = olFormatFilter.during(name, values[0], values[1]);\n      } else {\n\n        // Case 2: we only have a 'start' value. We need to calculate the 'end'\n        //         using the resolution of the time property.\n\n        const resolution = timeProperty.resolution || 'seconds';\n        const value = this.ngeoWMSTime_.formatWMSTimeParam(\n          timeProperty,\n          range\n        );\n        let momentEnd;\n\n        switch (resolution) {\n          case 'year':\n            momentEnd = moment(value).add(1, 'years').subtract(1, 'seconds');\n            break;\n          case 'month':\n            momentEnd = moment(value).add(1, 'months').subtract(1, 'seconds');\n            break;\n          case 'day':\n            momentEnd = moment(value).add(1, 'days').subtract(1, 'seconds');\n            break;\n          default:\n            //case \"second\":\n            // This would require a TContains filter, which neither OpenLayers\n            // and MapServer support. Skip...\n        }\n\n        if (momentEnd) {\n          const startValue = moment(value).format('YYYY-MM-DD HH:mm:ss');\n          const endValue = momentEnd.format('YYYY-MM-DD HH:mm:ss');\n          filter = olFormatFilter.during(name, startValue, endValue);\n        }\n      }\n    }\n\n    return filter;\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoRuleHelper', [\n  ngeoMiscFeatureHelper.module.name,\n  ngeoMiscWMSTime.module.name,\n]);\nexports.module.service('ngeoRuleHelper', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/filter/RuleHelper.js","/**\n * @module gmf.datasource.DataSourceBeingFiltered\n */\nconst exports = {};\nimport gmfBase from 'gmf/index.js';\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfDataSourceBeingFiltered', []);\n// type gmfx.datasource.DataSourceBeingFiltered\nexports.module.value('gmfDataSourceBeingFiltered', {\n  dataSource: null\n});\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/datasource/DataSourceBeingFiltered.js","/**\n * @module ngeo.layertree.component\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoLayertreeController from 'ngeo/layertree/Controller.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoLayertree', [\n  ngeoLayertreeController.module.name\n]);\n\n\nexports.value('ngeoLayertreeTemplateUrl',\n  /**\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @return {string} Template URL.\n     */\n  (element, attrs) => {\n    const templateUrl = attrs['ngeoLayertreeTemplateurl'];\n    return templateUrl !== undefined ? templateUrl :\n      `${ngeoBase.baseModuleTemplateUrl}/layertree/component.html`;\n  });\n\n\n/**\n * Provides the \"ngeoLayertree\" directive, a directive for\n * creating layer trees in application.\n *\n * The directive assumes that tree nodes that are not leaves have a \"children\"\n * property referencing an array of child nodes.\n *\n * Example:\n *\n *      <div ngeo-layertree=\"ctrl.tree\"\n *        ngeo-layertree-map=\"ctrl.map\"\n *        ngeo-layertree-nodelayer=\"ctrl.getLayer(node)\"\n *        ngeo-layertree-listeners=\"ctrl.listeners(treeScope, treeCtrl)\">\n *      </div>\n *\n * The \"ngeo-layertree\", \"ngeo-layertree-map\" and\n * \"ngeo-layertree-nodelayer\" attributes are mandatory attributes.\n *\n * - \"ngeo-layertree\" specifies an expression providing the tree. The\n *   directive watches that expression, making it possible to retrieve\n *   the tree data through Ajax.\n *\n * - \"ngeo-layertree-map\" specifies an expression providing the OpenLayers\n *   map. The directive doesn't watch that expression.\n *\n * - The \"ngeo-layertree-nodelayer\" specifies an expression providing the\n *   layer for a given node. In most cases that expression will be function\n *   call with \"node\" as the argument to the function call. E.g.\n *   \"ngeo-layertree-nodelayer=\"ctrl.getLayer(node)\".\n *\n * - The \"ngeo-layertree-listeners\" specifies an expression providing a function\n *   to bind scope events to customs functions. You'll must set the listener on\n *   the \"treeScope\" and probably use \"treeCtrl\" as context. E.g.\n *   \"ngeo-layertree-listeners=\"ctrl.listeners(treeScope, treeCtrl)\".\n *\n * The directive comes with a default template. That template assumes that\n * tree nodes that are not leaves have a \"children\" property referencing an\n * array of child nodes. It also assumes that nodes have a \"name\" property.\n *\n * By default the directive uses \"layertree.html\" as its templateUrl. This\n * can be changed by redefining the \"ngeoLayertreeTemplateUrl\" value (using\n * app.module.value('ngeoLayertreeTemplateUrl', 'path/layertree.html'), or\n * by adding an \"ngeo-layertree-templateurl\" attribute to the element.\n *\n * Example:\n *\n *      <div ngeo-layertree=\"ctrl.tree\"\n *        ngeo-layertree-templateurl=\"path/to/layertree.html\"\n *        ngeo-layertree-map=\"ctrl.map\"\n *        ngeo-layertree-nodelayer=\"ctrl.getLayer(node)\"\n *        ngeo-layertree-listeners=\"ctrl.listeners(treeScope, treeCtrl)\"\n *      </div>\n *\n * The directive has its own scope, but it is not an isolate scope. That scope\n * has a \"layertreeCtrl\" property which is a reference to the directive's\n * controller: \"layertreeCtrl\". You can refer to that property in a custom\n * template for example.\n *\n * See our live example: [../examples/layertree.html](../examples/layertree.html)\n *\n * @htmlAttribute {Object} ngeo-layertree One theme (JSON).\n * @htmlAttribute {string} ngeo-layertree-templateurl The template URL.\n * @htmlAttribute {ol.Map} ngeo-layertree-map The map.\n * @htmlAttribute {string} ngeo-layertree-nodelayer Expression that will be parsed\n *      to be a {@link Function} that return a {@link ol.layer.Layer}\n *      with the argument:\n *      {\n *          'node': {@link Object}|undefined,\n *          'depth': {@link number}\n *      }\n * @htmlAttribute {string} ngeo-layertree-nodelayerexpr Expression that will be parsed\n *      to be a {@link ngeo-layertree-nodelayer}.\n * @htmlAttribute {string} ngeo-layertree-listeners Expression that will be parsed\n *      to be a {@link Function} with the argument:\n *      {\n *          'treeScope': !{@link angular.Scope},\n *          'treeCtrl': {@link ngeo.layertree.Controller}\n *      }\n * @htmlAttribute {string} ngeo-layertree-listenersexpr Expression that will be parsed\n *      to be a {@link ngeo-layertree-listeners}.\n * @param {angular.$compile} $compile Angular compile service.\n * @param {string|function(!angular.JQLite=, !angular.Attributes=)}\n *     ngeoLayertreeTemplateUrl Template URL for the directive.\n * @return {angular.Directive} The Directive Definition Object.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoLayertree\n */\nexports.directive_ = function($compile, ngeoLayertreeTemplateUrl) {\n  return {\n    restrict: 'A',\n    scope: true,\n    templateUrl: ngeoLayertreeTemplateUrl,\n    controller: ngeoLayertreeController\n  };\n};\n\n\nexports.directive('ngeoLayertree', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/layertree/component.js","/**\n * @module ngeo.query.MapQuerent\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoQueryQuerent from 'ngeo/query/Querent.js';\nimport ngeoDatasourceDataSources from 'ngeo/datasource/DataSources.js';\nimport ngeoDatasourceHelper from 'ngeo/datasource/Helper.js';\nimport * as olObj from 'ol/obj.js';\n\nconst exports = class {\n\n  /**\n   * The ngeo Map Querent is the service bound to a map that issues\n   * queries using the Querent service. The result is stored inside this\n   * service.\n   *\n   * NOTE: This will replace the ngeo.Query service.\n   *\n   * @struct\n   * @param {angular.$injector} $injector Main injector.\n   * @param {ngeo.datasource.DataSources} ngeoDataSources Ngeo data sources service.\n   * @param {ngeo.datasource.Helper} ngeoDataSourcesHelper Ngeo data\n   *     sources helper service.\n   * @param {ngeo.query.Querent} ngeoQuerent The ngeo querent service.\n   * @param {ngeox.QueryResult} ngeoQueryResult The ngeo query result service.\n   * @ngdoc service\n   * @ngname ngeoQuerent\n   * @ngInject\n   */\n  constructor($injector, ngeoDataSources, ngeoDataSourcesHelper, ngeoQuerent,\n    ngeoQueryResult) {\n\n    const options = /** @type {ngeox.QueryOptions} */ (\n      $injector.has('ngeoQueryOptions') ?\n        $injector.get('ngeoQueryOptions') : {});\n\n    /**\n     * @type {ngeox.datasource.DataSources}\n     * @private\n     */\n    this.dataSources_ = ngeoDataSources.collection;\n\n    /**\n     * @type {ngeo.datasource.Helper}\n     * @private\n     */\n    this.ngeoDataSourcesHelper_ = ngeoDataSourcesHelper;\n\n    /**\n     * @type {ngeo.query.Querent}\n     * @private\n     */\n    this.ngeoQuerent_ = ngeoQuerent;\n\n    /**\n     * @type {ngeox.QueryResult}\n     * @private\n     */\n    this.result_ = ngeoQueryResult;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.limit_ = options.limit !== undefined ? options.limit : 50;\n\n    /**\n     * When set, before making WFS GetFeature requests to fetch features,\n     * WFS GetFeature requests with `resultType = 'hits'` are made first. If\n     * the number of records for the request would exceed the limit, then\n     * no features are returned.\n     *\n     * @type {boolean}\n     * @private\n     */\n    this.queryCountFirst_ = options.queryCountFirst !== undefined ?\n      options.queryCountFirst : false;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.tolerancePx_ = options.tolerance !== undefined ?\n      options.tolerance : 3;\n\n    /**\n     * A hash of data source names classified by ids.\n     * @type {Object.<number, string>}\n     * @private\n     */\n    this.dataSourceNames_ = {};\n  }\n\n  /**\n   * @param {ngeox.IssueGetFeaturesOptions} options Options.\n   * @export\n   */\n  issue(options) {\n    // (1) Clear previous result\n    this.clear();\n\n    // (2) Get queryable data sources, unless they are already set\n    let queryableDataSources;\n    if (options.dataSources === undefined &&\n        options.queryableDataSources === undefined\n    ) {\n      queryableDataSources = this.ngeoQuerent_.getQueryableDataSources(\n        this.dataSources_.getArray(),\n        options.map\n      );\n    }\n\n    // (3) Update query options, update the pending property and issue the\n    //     request.\n    const limit = options.limit !== undefined ? options.limit : this.limit_;\n    olObj.assign(options, {\n      queryableDataSources: queryableDataSources,\n      limit: limit,\n      tolerancePx: this.tolerancePx_,\n      wfsCount: this.queryCountFirst_\n    });\n    this.result_.pending = true;\n    this.ngeoQuerent_.issue(options).then(this.handleResult_.bind(this));\n  }\n\n  /**\n   * Clear result, i.e. clear all 'result source' from their features and other\n   * information.\n   * @export\n   */\n  clear() {\n    this.result_.total = 0;\n    for (const source of this.result_.sources) {\n      source.features.length = 0;\n      source.pending = false;\n      source.queried = false;\n      source.tooManyResults = false;\n      source.totalFeatureCount = undefined;\n    }\n    this.result_.sources.length = 0; // Clear previous result sources\n    this.result_.pending = false;\n  }\n\n  /**\n   * Called after a request to the querent service. Update the result.\n   *\n   * @param {ngeox.QuerentResult} response Response\n   * @private\n   */\n  handleResult_(response) {\n    let total = 0;\n\n    // (1) Update result sources, i.e. add them\n    for (const idStr in response) {\n      const id = Number(idStr);\n      const dataSource = this.ngeoDataSourcesHelper_.getDataSource(id);\n      let label = dataSource.name;\n      googAsserts.assert(dataSource);\n\n      const querentResultItem = response[id];\n      const features = querentResultItem.features;\n      const limit = querentResultItem.limit;\n      const tooManyResults = querentResultItem.tooManyFeatures === true;\n      const totalFeatureCount = querentResultItem.totalFeatureCount;\n\n      const typeSeparatedFeatures = {};\n      features.forEach((feature) => {\n        const type = googAsserts.assertString(feature.get('ngeo_feature_type_'));\n        if (!typeSeparatedFeatures[type]) {\n          typeSeparatedFeatures[type] = [];\n        }\n        // Use properties aliases if any\n        if (dataSource.attributes && dataSource.attributes.length) {\n          const properties = feature.getProperties();\n          const filteredProperties = {};\n          dataSource.attributes.forEach((attribute) => {\n            if (attribute.alias) {\n              filteredProperties[attribute.alias] = properties[attribute.name];\n              feature.unset(attribute.name, /* silent */ true);\n            } else {\n              // No alias is available => use the attribute as is.\n              filteredProperties[attribute.name] = properties[attribute.name];\n            }\n          });\n          feature.setProperties(filteredProperties, /* silent */ true);\n        }\n        typeSeparatedFeatures[type].push(feature);\n      });\n\n      for (const type in typeSeparatedFeatures) {\n        label = type ? type : label;\n        const featuresByType = typeSeparatedFeatures[type];\n        this.result_.sources.push({\n          features: featuresByType,\n          id: id,\n          label: label,\n          limit: limit,\n          pending: false,\n          queried: true,\n          tooManyResults: tooManyResults,\n          totalFeatureCount: totalFeatureCount\n        });\n        total += features.length;\n      }\n    }\n\n    // (2) Update total & pending\n    this.result_.total = total;\n    this.result_.pending = false;\n  }\n\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoMapQuerent', [\n  ngeoDatasourceDataSources.module.name,\n  ngeoQueryQuerent.module.name,\n]);\nexports.module.service('ngeoMapQuerent', exports);\n\n\n/**\n * The `ngeoQueryResult` is the value service where the features of the query\n * result are added.\n */\nexports.module.value('ngeoQueryResult', /** @type {ngeox.QueryResult} */ ({\n  sources: [],\n  total: 0,\n  pending: false\n}));\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/query/MapQuerent.js","/**\n * @module ngeo.format.Attribute\n */\nconst exports = {};\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\n\n\n/**\n * Set the `type` and `geomType` properties of an attribute if the given\n * type is a geometry one.\n *\n * @param {ngeox.AttributeBase} attribute Attribute.\n * @param {string} type Type.\n * @return {boolean} Whether both attribute type and geomType were set.\n */\nexports.setGeometryType = function(attribute, type) {\n  const geomRegex =\n    /gml:((Multi)?(Point|Line|Polygon|Curve|Surface|Geometry)).*/;\n  if (geomRegex.exec(type)) {\n    attribute.type = ngeoFormatAttributeType.GEOMETRY;\n    if (/^gml:Point/.exec(type)) {\n      attribute.geomType = 'Point';\n    } else if (/^gml:LineString|^gml:Curve/.exec(type)) {\n      attribute.geomType = 'LineString';\n    } else if (/^gml:Polygon|^gml:Surface/.exec(type)) {\n      attribute.geomType = 'Polygon';\n    } else if (/^gml:MultiPoint/.exec(type)) {\n      attribute.geomType = 'MultiPoint';\n    } else if (/^gml:MultiLineString|^gml:MultiCurve/.exec(type)) {\n      attribute.geomType = 'MultiLineString';\n    } else if (/^gml:MultiPolygon|^gml:MultiSurface/.exec(type)) {\n      attribute.geomType = 'MultiPolygon';\n    }\n  }\n  return !!attribute.type && !!attribute.geomType;\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/Attribute.js","export default function isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/is-object.js\n// module id = 216\n// module chunks = 0 1 2 3 4 5","import toInt from './to-int';\n\n// compare two arrays, return the number of differences\nexport default function compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/compare-arrays.js\n// module id = 217\n// module chunks = 0 1 2 3 4 5","import isFunction from '../utils/is-function';\nimport extend from '../utils/extend';\nimport isObject from '../utils/is-object';\nimport hasOwnProp from '../utils/has-own-prop';\n\nexport function set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nexport function mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/set.js\n// module id = 218\n// module chunks = 0 1 2 3 4 5","export function Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/constructor.js\n// module id = 219\n// module chunks = 0 1 2 3 4 5","export var defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nimport isFunction from '../utils/is-function';\n\nexport function calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/calendar.js\n// module id = 220\n// module chunks = 0 1 2 3 4 5","export var defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nexport function longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/formats.js\n// module id = 221\n// module chunks = 0 1 2 3 4 5","export var defaultInvalidDate = 'Invalid date';\n\nexport function invalidDate () {\n    return this._invalidDate;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/invalid.js\n// module id = 222\n// module chunks = 0 1 2 3 4 5","export var defaultOrdinal = '%d';\nexport var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nexport function ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/ordinal.js\n// module id = 223\n// module chunks = 0 1 2 3 4 5","export var defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nimport isFunction from '../utils/is-function';\n\nexport function relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nexport function pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/relative.js\n// module id = 224\n// module chunks = 0 1 2 3 4 5","/**\n * @module gmf.layertree.component\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfDatasourceDataSourceBeingFiltered from 'gmf/datasource/DataSourceBeingFiltered.js';\nimport gmfDatasourceExternalDataSourcesManager from 'gmf/datasource/ExternalDataSourcesManager.js';\nimport gmfPermalinkPermalink from 'gmf/permalink/Permalink.js';\n\n/** @suppress {extraRequire} */\nimport gmfLayertreeDatasourceGroupTreeComponent from 'gmf/layertree/datasourceGroupTreeComponent.js';\n\nimport gmfLayertreeSyncLayertreeMap from 'gmf/layertree/SyncLayertreeMap.js';\nimport gmfLayertreeTreeManager from 'gmf/layertree/TreeManager.js';\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport googAsserts from 'goog/asserts.js';\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\n\n/** @suppress {extraRequire} */\nimport ngeoLayertreeComponent from 'ngeo/layertree/component.js';\n\nimport ngeoLayertreeController from 'ngeo/layertree/Controller.js';\nimport ngeoMapLayerHelper from 'ngeo/map/LayerHelper.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMessagePopup from 'ngeo/message/Popup.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMessagePopupComponent from 'ngeo/message/popupComponent.js';\n\nimport ngeoMiscSyncArrays from 'ngeo/misc/syncArrays.js';\nimport ngeoMiscWMSTime from 'ngeo/misc/WMSTime.js';\nimport olLayerTile from 'ol/layer/Tile.js';\nimport olLayerLayer from 'ol/layer/Layer.js';\nimport * as olObj from 'ol/obj.js';\nimport olSourceImageWMS from 'ol/source/ImageWMS.js';\nimport olSourceTileWMS from 'ol/source/TileWMS.js';\nimport olSourceWMTS from 'ol/source/WMTS.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('gmfLayertreeComponent', [\n  gmfDatasourceDataSourceBeingFiltered.module.name,\n  gmfDatasourceExternalDataSourcesManager.module.name,\n  gmfPermalinkPermalink.module.name,\n  gmfLayertreeDatasourceGroupTreeComponent.name,\n  gmfLayertreeSyncLayertreeMap.module.name,\n  gmfLayertreeTreeManager.module.name,\n  gmfThemeThemes.module.name,\n  ngeoLayertreeComponent.name,\n  ngeoLayertreeController.module.name,\n  ngeoMapLayerHelper.module.name,\n  ngeoMessagePopup.module.name,\n  ngeoMessagePopupComponent.name,\n  ngeoMiscWMSTime.module.name,\n]);\n\n\nexports.value('gmfLayertreeTemplate',\n  /**\n     * @param {!angular.JQLite} $element Element.\n     * @param {!angular.Attributes} $attrs Attributes.\n     * @return {string} Template.\n     */\n  ($element, $attrs) => {\n    const subTemplateUrl = `${gmfBase.baseModuleTemplateUrl}/layertree/component.html`;\n    return `${'<div ngeo-layertree=\"gmfLayertreeCtrl.root\" ' +\n          'ngeo-layertree-map=\"gmfLayertreeCtrl.map\" ' +\n          'ngeo-layertree-nodelayer=\"gmfLayertreeCtrl.getLayer(treeCtrl)\" ' +\n          'ngeo-layertree-listeners=\"gmfLayertreeCtrl.listeners(treeScope, treeCtrl)\" ' +\n          'ngeo-layertree-templateurl=\"'}${subTemplateUrl}\">` +\n          '</div>';\n  }\n);\n\n\n/**\n * @param {!angular.JQLite} $element Element.\n * @param {!angular.Attributes} $attrs Attributes.\n * @param {!function(!angular.JQLite, !angular.Attributes): string} gmfLayertreeTemplate Template function.\n * @return {string} Template.\n * @ngInject\n */\nfunction gmfLayertreeTemplate($element, $attrs, gmfLayertreeTemplate) {\n  return gmfLayertreeTemplate($element, $attrs);\n}\n\n\n// Overrides the path to the layertree template (used by each node, except\n// the root node that path is defined by the gmfLayertreeTemplate value.\nngeoLayertreeComponent.value('ngeoLayertreeTemplateUrl',\n  /**\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @return {string} Template URL.\n     */\n  (element, attrs) => `${gmfBase.baseModuleTemplateUrl}/layertree/component.html`);\n\n\n/**\n * This component creates a layertree based on the c2cgeoportal JSON themes\n * source and a {@link ngeo.layertreeComponent}. The controller used by this\n * component defines some functions for each node that are created by a default\n * template. This default template can be overrided by setting the value\n * 'gmf.layertreeTemplateUrl' but you will have to adapt the\n * ngeoLayertreeTemplateUrl value too (to define the children's nodes template\n * path).\n *\n * Example:\n *\n *      <gmf-layertree\n *        gmf-layertree-dimensions=\"ctrl.dimensions\"\n *        gmf-layertree-map=\"ctrl.map\">\n *      </gmf-layertree>\n *\n * You can add an attribute 'gmf-layertree-openlinksinnewwindow=\"::true\"' to open\n * metadata URLs in a new window. By default, and in the default template,\n * links will be opened in a popup.\n *\n * Used UI metadata:\n *\n *  * isChecked: if 'false' the layer visibility will be set to false.\n *  * iconUrl: layer icon full URL.\n *  * legendRule: WMS rule used to get a layer icon.\n *  * isLegendExpanded: if 'true' the legend is expanded by default.\n *  * metadataUrl: Display a popup with the content of the given URL if\n *    possible also open a new window.\n *\n * @htmlAttribute {ol.Map} gmf-layertree-map The map.\n * @htmlAttribute {Object<string, string>|undefined} gmf-layertree-dimensions Global dimensions object.\n * @htmlAttribute {boolean|undefined} gmf-layertree-openlinksinnewwindow if true, open\n *     metadataURLs in a new window. Otherwise open them in a popup.\n *\n * @ngdoc component\n * @ngname gmfLayertreeComponent\n */\nexports.component_ = {\n  controller: 'GmfLayertreeController as gmfLayertreeCtrl',\n  bindings: {\n    'map': '=gmfLayertreeMap',\n    'dimensions': '=?gmfLayertreeDimensions',\n    'openLinksInNewWindow': '<?gmfLayertreeOpenlinksinnewwindow'\n  },\n  template: gmfLayertreeTemplate\n};\n\nexports.component('gmfLayertree', exports.component_);\n\n\n/**\n * @param {angular.JQLite} $element Element.\n * @param {!angular.$http} $http Angular http service.\n * @param {!angular.$sce} $sce Angular sce service.\n * @param {!angular.Scope} $scope Angular scope.\n * @param {!ngeox.PopupFactory} ngeoCreatePopup Popup service.\n * @param {!ngeo.map.LayerHelper} ngeoLayerHelper Ngeo Layer Helper.\n * @param {gmfx.datasource.DataSourceBeingFiltered} gmfDataSourceBeingFiltered\n *     The Gmf value service that determines the data source currently being\n *     filtered.\n * @param {!gmf.datasource.ExternalDataSourcesManager}\n *     gmfExternalDataSourcesManager The Gmf external data sources manager\n *     service. Used here to fetch the external WMS groups.\n * @param {!gmf.permalink.Permalink} gmfPermalink The gmf permalink service.\n * @param {!gmf.layertree.TreeManager} gmfTreeManager gmf Tree Manager service.\n * @param {!gmf.layertree.SyncLayertreeMap} gmfSyncLayertreeMap gmfSyncLayertreeMap service.\n * @param {!ngeo.misc.WMSTime} ngeoWMSTime wms time service.\n * @param {!gmf.theme.Themes} gmfThemes The gmf Themes service.\n * @constructor\n * @private\n * @struct\n * @ngInject\n * @ngdoc controller\n * @ngname gmfLayertreeController\n */\nexports.Controller_ = function($element, $http, $sce, $scope,\n  ngeoCreatePopup, ngeoLayerHelper, gmfDataSourceBeingFiltered,\n  gmfExternalDataSourcesManager, gmfPermalink, gmfTreeManager,\n  gmfSyncLayertreeMap, ngeoWMSTime, gmfThemes) {\n\n  /**\n   * @type {?ol.Map}\n   * @export\n   */\n  this.map;\n\n  /**\n   * @type {?Object<string, string>}\n   * @export\n   */\n  this.dimensions;\n\n  /**\n   * @type {!angular.Scope}\n   * @private\n   */\n  this.scope_ = $scope;\n\n  /**\n   * @private\n   * @type {!angular.$http}\n   */\n  this.$http_ = $http;\n\n  /**\n   * @private\n   * @type {!angular.$sce}\n   */\n  this.$sce_ = $sce;\n\n  /**\n   * @type {!ngeo.map.LayerHelper}\n   * @private\n   */\n  this.layerHelper_ = ngeoLayerHelper;\n\n  /**\n   * @type {gmfx.datasource.DataSourceBeingFiltered}\n   * @export\n   */\n  this.gmfDataSourceBeingFiltered = gmfDataSourceBeingFiltered;\n\n  /**\n   * @type {!gmf.datasource.ExternalDataSourcesManager}\n   * @export\n   */\n  this.gmfExternalDataSourcesManager = gmfExternalDataSourcesManager;\n\n  /**\n   * @type {!gmf.permalink.Permalink}\n   * @private\n   */\n  this.gmfPermalink_ = gmfPermalink;\n\n  /**\n   * @type {!gmf.layertree.TreeManager}\n   * @private\n   */\n  this.gmfTreeManager_ = gmfTreeManager;\n\n  const root = gmfTreeManager.root;\n  googAsserts.assert(root);\n\n  /**\n   * @type {!gmfThemes.GmfRootNode}\n   * @export\n   */\n  this.root = root;\n\n  /**\n   * @type {!gmf.layertree.SyncLayertreeMap}\n   * @private\n   */\n  this.gmfSyncLayertreeMap_ = gmfSyncLayertreeMap;\n\n  /**\n   * @type {!ngeo.misc.WMSTime}\n   * @private\n   */\n  this.ngeoWMSTime_ = ngeoWMSTime;\n\n  /**\n   * @private\n   * @type {!ngeo.message.Popup}\n   */\n  this.infoPopup_ = ngeoCreatePopup();\n\n  /**\n   * @type {!Object.<string, !angular.$q.Promise>}\n   * @private\n   */\n  this.promises_ = {};\n\n  /**\n   * @type {!Object.<number, !Array.<string>>}\n   * @private\n   */\n  this.groupNodeStates_ = {};\n\n  /**\n   * @type {boolean|undefined}\n   * @export\n   */\n  this.openLinksInNewWindow;\n\n  /**\n   * @type {?ol.layer.Group}\n   * @private\n   */\n  this.dataLayerGroup_ = null;\n\n  /**\n   * @type {!Array.<!ol.layer.Base>}\n   * @export\n   */\n  this.layers = [];\n\n  /**\n   * @type {!gmf.theme.Themes}\n   * @private\n   */\n  this.gmfThemes_ = gmfThemes;\n\n  // enter digest cycle on node collapse\n  $element.on('shown.bs.collapse', () => {\n    this.scope_.$apply();\n  });\n};\n\n\n/**\n * Init the controller,\n */\nexports.Controller_.prototype.$onInit = function() {\n  this.openLinksInNewWindow = this.openLinksInNewWindow === true;\n  this.dataLayerGroup_ = this.layerHelper_.getGroupFromMap(this.map,\n    gmfBase.DATALAYERGROUP_NAME);\n\n  ngeoMiscSyncArrays(this.dataLayerGroup_.getLayers().getArray(), this.layers, true, this.scope_, () => true);\n\n  // watch any change on layers array to refresh the map\n  this.scope_.$watchCollection(() => this.layers,\n    () => {\n      this.map.render();\n    });\n\n  // watch any change on dimensions object to refresh the layers\n  this.scope_.$watchCollection(() => {\n    if (this.gmfTreeManager_.rootCtrl) {\n      return this.dimensions;\n    }\n  }, (dimensions) => {\n    if (dimensions) {\n      this.updateDimensions_(this.gmfTreeManager_.rootCtrl);\n    }\n  });\n};\n\n\n/**\n * @param {ngeo.layertree.Controller} treeCtrl Layer tree controller.\n * @private\n */\nexports.Controller_.prototype.updateDimensions_ = function(treeCtrl) {\n  treeCtrl.traverseDepthFirst((ctrl) => {\n    if (ctrl.node.dimensions) {\n      const layer = ctrl.layer;\n      googAsserts.assertInstanceof(layer, olLayerLayer);\n      this.updateLayerDimensions_(layer, /** @type gmfThemes.GmfGroup|gmfThemes.GmfLayer */ (ctrl.node));\n    }\n  });\n};\n\n\n/**\n * @param {ol.layer.Layer} layer Layer to update.\n * @param {gmfThemes.GmfGroup|gmfThemes.GmfLayer} node Layer tree node.\n * @private\n */\nexports.Controller_.prototype.updateLayerDimensions_ = function(layer, node) {\n  if (this.dimensions && node.dimensions) {\n    const dimensions = {};\n    for (const key in node.dimensions) {\n      if (node.dimensions[key] === null) {\n        const value = this.dimensions[key];\n        if (value !== undefined) {\n          dimensions[key] = value;\n        }\n      } else {\n        dimensions[key] = node.dimensions[key];\n      }\n    }\n    if (!olObj.isEmpty(dimensions)) {\n      const source = layer.getSource();\n      if (source instanceof olSourceWMTS) {\n        source.updateDimensions(dimensions);\n      } else if (source instanceof olSourceTileWMS || source instanceof olSourceImageWMS) {\n        source.updateParams(dimensions);\n      } else {\n        // the source is not ready yet\n        layer.once('change:source', () => {\n          googAsserts.assertInstanceof(layer, olLayerLayer);\n          this.updateLayerDimensions_(layer, node);\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Use the gmfSyncLayertreeMap_ to create and get layer corresponding to this\n * treeCtrl. The layer will be inserted into the map. The layer can be null\n * if the treeCtrl is based on a node inside a mixed node. It this case, the\n * layer will be in the first parent declared as a mixed node.\n * @param {ngeo.layertree.Controller} treeCtrl tree controller of the node\n * @return {ol.layer.Base|ol.layer.Group|null} The OpenLayers layer or group\n *     for the node.\n * @export\n */\nexports.Controller_.prototype.getLayer = function(treeCtrl) {\n  let opt_position;\n  if (treeCtrl.parent.isRoot) {\n    this.gmfTreeManager_.rootCtrl = treeCtrl.parent;\n    // Precise the index to add first level groups.\n    opt_position = this.gmfTreeManager_.root.children.length -\n        this.gmfTreeManager_.numberOfGroupsToAddInThisDigestLoop || 0;\n  }\n\n  const layer = this.gmfSyncLayertreeMap_.createLayer(treeCtrl, this.map,\n    this.dataLayerGroup_, opt_position);\n\n  if (layer instanceof olLayerLayer) {\n    const node = /** @type {gmfThemes.GmfGroup|gmfThemes.GmfLayer} */ (treeCtrl.node);\n    this.updateLayerDimensions_(layer, node);\n  }\n\n  return layer;\n};\n\n\n/**\n * Remove layer from this component's layergroup (and then, from the map) on\n * a ngeo layertree destroy event.\n * @param {angular.Scope} scope treeCtrl scope.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @export\n */\nexports.Controller_.prototype.listeners = function(scope, treeCtrl) {\n  const dataLayerGroup = this.dataLayerGroup_;\n  scope.$on('$destroy', () => {\n    // Remove the layer from the map.\n    dataLayerGroup.getLayers().remove(treeCtrl.layer);\n  });\n};\n\n/**\n * Toggle the state of treeCtrl's node.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @export\n */\nexports.Controller_.prototype.toggleActive = function(treeCtrl) {\n  treeCtrl.setState(treeCtrl.getState() === 'on' ? 'off' : 'on');\n};\n\n\n/**\n * Return the current state of the given treeCtrl's node.\n * Return a class name that match with the current node activation state.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @return {string} 'on' or 'off' or 'indeterminate'.\n * @export\n */\nexports.Controller_.prototype.getNodeState = function(treeCtrl) {\n  return treeCtrl.getState();\n};\n\n\n/**\n * Update the `timeRangeValue` property of the data source bound to the\n * given tree controller using the given time. If the tree controller has\n * no data source, it means that it has children and they might have\n * data sources.\n *\n * The setting of the TIME parameter on the layer occurs in the\n * `gmf.datasource.Manager` service\n *\n * LayertreeController.prototype.updateWMSTimeLayerState - description\n * @param {ngeo.layertree.Controller} layertreeCtrl ngeo layertree controller\n * @param {{start : number, end : number}} time The start\n * and optionally the end datetime (for time range selection) selected by user\n * @export\n */\nexports.Controller_.prototype.updateWMSTimeLayerState = function(\n  layertreeCtrl, time) {\n  if (!time) {\n    return;\n  }\n  const dataSource = layertreeCtrl.getDataSource();\n  if (dataSource) {\n    googAsserts.assertInstanceof(dataSource, ngeoDatasourceOGC);\n    dataSource.timeRangeValue = time;\n  } else if (layertreeCtrl.children) {\n    for (let i = 0, ii = layertreeCtrl.children.length; i < ii; i++) {\n      this.updateWMSTimeLayerState(layertreeCtrl.children[i], time);\n    }\n  }\n};\n\n\n/**\n * Get the icon image URL for the given treeCtrl's layer. It can only return a\n * string for internal WMS layers without multiple childlayers in the node.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @return {string|undefined} The icon legend URL or undefined.\n * @export\n */\nexports.Controller_.prototype.getLegendIconURL = function(treeCtrl) {\n  const iconUrl = treeCtrl.node.metadata.iconUrl;\n\n  if (iconUrl !== undefined) {\n    return iconUrl;\n  }\n\n  if (treeCtrl.node.children !== undefined) {\n    return undefined;\n  }\n\n  const gmfLayer = /** @type {gmfThemes.GmfLayer} */ (treeCtrl.node);\n  if (gmfLayer.type !== 'WMS') {\n    return undefined;\n  }\n\n  const gmfLayerWMS = /** @type {gmfThemes.GmfLayerWMS} */ (gmfLayer);\n\n  const legendRule = gmfLayerWMS.metadata.legendRule;\n\n  if (legendRule === undefined) {\n    return undefined;\n  }\n\n  //In case of multiple layers for a gmfLayerWMS, always take the first layer\n  //name to get the icon\n  const layerName = gmfLayerWMS.layers.split(',')[0];\n  const gmfOgcServer = this.gmfTreeManager_.getOgcServer(treeCtrl);\n  return this.layerHelper_.getWMSLegendURL(\n    gmfOgcServer.url, layerName, undefined, legendRule\n  );\n};\n\n\n/**\n * Get the legends object (<LayerName: url> for each layer) for the given treeCtrl.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @return {Object.<string, string>} A <layerName: url> object that provides a\n *     layer for each layer.\n * @export\n */\nexports.Controller_.prototype.getLegendsObject = function(treeCtrl) {\n  const legendsObject = {};\n  if (/** @type gmfThemes.GmfGroup */ (treeCtrl.node).children !== undefined) {\n    return null;\n  }\n\n  const gmfLayer = /** @type {gmfThemes.GmfLayer} */ (treeCtrl.node);\n  const gmfLayerDefaultName = gmfLayer.name;\n  if (gmfLayer.metadata.legendImage) {\n    legendsObject[gmfLayerDefaultName] = gmfLayer.metadata.legendImage;\n    return legendsObject;\n  }\n\n  const layer = treeCtrl.layer;\n  if (gmfLayer.type === 'WMTS') {\n    googAsserts.assertInstanceof(layer, olLayerTile);\n    const wmtsLegendURL = this.layerHelper_.getWMTSLegendURL(layer);\n    legendsObject[gmfLayerDefaultName] = wmtsLegendURL;\n    return wmtsLegendURL ? legendsObject : null;\n  } else {\n    const gmfLayerWMS = /** @type {gmfThemes.GmfLayerWMS} */ (gmfLayer);\n    let layersNames = gmfLayerWMS.layers;\n    const gmfOgcServer = this.gmfTreeManager_.getOgcServer(treeCtrl);\n    const scale = this.getScale_();\n    // QGIS can handle multiple layers natively. Use Mutliple urls for other map\n    // servers\n    if (gmfOgcServer.type === ngeoDatasourceOGC.ServerType.QGISSERVER) {\n      layersNames = [layersNames];\n    } else {\n      layersNames = layersNames.split(',');\n    }\n    layersNames.forEach((layerName) => {\n      legendsObject[layerName] = this.layerHelper_.getWMSLegendURL(gmfOgcServer.url, layerName, scale);\n    });\n    return legendsObject;\n  }\n};\n\n\n/**\n * Get the number of legends object for this layertree controller.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @return {number} The number of Legends object.\n * @export\n */\nexports.Controller_.prototype.getNumberOfLegendsObject = function(treeCtrl) {\n  const legendsObject = this.getLegendsObject(treeCtrl);\n  return legendsObject ? Object.keys(legendsObject).length : 0;\n};\n\n\n/**\n * Return the current scale of the map.\n * @return {number} Scale.\n * @private\n */\nexports.Controller_.prototype.getScale_ = function() {\n  const view = this.map.getView();\n  const resolution = view.getResolution();\n  const mpu = view.getProjection().getMetersPerUnit();\n  const dpi = 25.4 / 0.28;\n  return resolution * mpu * 39.37 * dpi;\n};\n\n\n/**\n * Display a ngeo.infoPopup with the content of the metadata url of a node.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @export\n */\nexports.Controller_.prototype.displayMetadata = function(treeCtrl) {\n  const treeUid = treeCtrl.uid.toString();\n  const node = treeCtrl.node;\n  const metadataURL = node.metadata['metadataUrl'];\n  if (metadataURL !== undefined) {\n    if (!(treeUid in this.promises_)) {\n      this.promises_[treeUid] = this.$http_.get(metadataURL).then(\n        (resp) => {\n          const html = this.$sce_.trustAsHtml(resp.data);\n          return html;\n        });\n    }\n    const infoPopup = this.infoPopup_;\n    this.promises_[treeUid].then((html) => {\n      infoPopup.setTitle(node.name);\n      infoPopup.setContent(html);\n      infoPopup.setOpen(true);\n    });\n  }\n};\n\n\n/**\n * Update the layers order in the map and the treeCtrl in the treeManager after\n * a reorder of the first-level groups. Then update the permalink.\n * @export\n */\nexports.Controller_.prototype.afterReorder = function() {\n  const groupNodes = this.gmfTreeManager_.rootCtrl.node.children;\n  const currentTreeCtrls = this.gmfTreeManager_.rootCtrl.children;\n  const treeCtrls = [];\n\n  // Get order of first-level groups for treectrl and layers;\n  groupNodes.forEach((node) => {\n    currentTreeCtrls.some((treeCtrl) => {\n      if (treeCtrl.node === node) {\n        treeCtrls.push(treeCtrl);\n        return;\n      }\n    });\n  }, this);\n\n  // Update gmfTreeManager rootctrl children order\n  this.gmfTreeManager_.rootCtrl.children = treeCtrls;\n\n  // Update map 'data' groupe layers order\n  this.layers.length = 0;\n  this.gmfTreeManager_.rootCtrl.children.forEach(function(child) {\n    this.layers.push(child.layer);\n  }, this);\n\n  // Update the permalink order\n  this.gmfPermalink_.refreshFirstLevelGroups();\n};\n\n\n/**\n * @param {gmfThemes.GmfGroup} node Layer tree node to remove.\n * @export\n */\nexports.Controller_.prototype.removeNode = function(node) {\n  this.gmfTreeManager_.removeGroup(node);\n};\n\n\n/**\n * @export\n */\nexports.Controller_.prototype.removeAllNodes = function() {\n  this.gmfTreeManager_.removeAll();\n};\n\n\n/**\n * @return {number} first level node count.\n * @export\n */\nexports.Controller_.prototype.nodesCount = function() {\n  return this.gmfTreeManager_.root.children.length;\n};\n\n/**\n * Return 'out-of-resolution' if the current resolution of the map is out of\n * the min/max resolution in the node.\n * @param {gmfThemes.GmfLayerWMS} gmfLayer the GeoMapFish Layer. WMTS layer is\n *     also allowed (the type is defined as GmfLayerWMS only to avoid some\n *     useless tests to know if a minResolutionHint property can exist\n *     on the node).\n * @return {string|undefined} 'out-of-resolution' or undefined.\n * @export\n */\nexports.Controller_.prototype.getResolutionStyle = function(gmfLayer) {\n  const resolution = this.map.getView().getResolution();\n  const minResolution = gmfThemeThemes.getNodeMinResolution(gmfLayer);\n  if (minResolution !== undefined && resolution < minResolution) {\n    return 'out-of-resolution';\n  }\n  const maxResolution = gmfThemeThemes.getNodeMaxResolution(gmfLayer);\n  if (maxResolution !== undefined && resolution > maxResolution) {\n    return 'out-of-resolution';\n  }\n  return undefined;\n};\n\n\n/**\n * Set the resolution of the map with the max or min resolution of the node.\n * @param {ngeo.layertree.Controller} treeCtrl ngeo layertree controller, from\n *     the current node.\n * @export\n */\nexports.Controller_.prototype.zoomToResolution = function(treeCtrl) {\n  const gmfLayer = /** @type {gmfThemes.GmfLayerWMS} */ (treeCtrl.node);\n  const view = this.map.getView();\n  const resolution = view.getResolution();\n  const minResolution = gmfThemeThemes.getNodeMinResolution(gmfLayer);\n  if (minResolution !== undefined && resolution < minResolution) {\n    view.setResolution(view.constrainResolution(minResolution, 0, 1));\n  } else {\n    const maxResolution = gmfThemeThemes.getNodeMaxResolution(gmfLayer);\n    if (maxResolution !== undefined && resolution > maxResolution) {\n      view.setResolution(view.constrainResolution(maxResolution, 0, -1));\n    }\n  }\n};\n\n\n/**\n * Toggle the legend for a node\n * @param {string} legendNodeId The DOM node legend id to toggle\n * @export\n */\nexports.Controller_.prototype.toggleNodeLegend = function(legendNodeId) {\n  $(legendNodeId).toggle({\n    toggle: true\n  });\n};\n\n\n/**\n * @param {gmf.datasource.OGC} ds Data source to filter.\n * @export\n */\nexports.Controller_.prototype.toggleFiltrableDataSource = function(ds) {\n  this.gmfDataSourceBeingFiltered.dataSource = ds;\n};\n\n\n/**\n * @param {string} legendNodeId The DOM node legend id\n * @return {boolean} Whenever the legend is currently displayed.\n * @export\n */\nexports.Controller_.prototype.isNodeLegendVisible = function(legendNodeId) {\n  return $(legendNodeId).is(':visible');\n};\n\n\n/**\n * Determines whether the layer tree controller supports being customized.\n * For example, having its layer opacity changed, displaying its legend, etc.\n *\n * If any requirement is met, then the treeCtrl is considered supporting\n * \"customization\", regardless of what it actually is.\n *\n * The requirements are:\n *\n * - must not be the root controller, any of the following:\n *   - it supports legend\n *   - it supports having the layer opacity being changed\n *\n * @param {!ngeo.layertree.Controller} treeCtrl Ngeo tree controller.\n * @return {boolean} Whether the layer tree controller supports being\n *     \"customized\" or not.\n * @export\n */\nexports.Controller_.prototype.supportsCustomization = function(treeCtrl) {\n  return !treeCtrl.isRoot &&\n    (\n      this.supportsLegend(treeCtrl) ||\n      this.supportsOpacityChange(treeCtrl)\n    );\n};\n\n\n/**\n * @param {!ngeo.layertree.Controller} treeCtrl Ngeo tree controller.\n * @return {boolean} Whether the layer tree controller supports having a\n *     legend being shown.\n * @export\n */\nexports.Controller_.prototype.supportsLegend = function(treeCtrl) {\n  const node = /** @type {!gmfThemes.GmfGroup} */ (treeCtrl.node);\n  return !!node.metadata &&\n    !!node.metadata.legend &&\n    !!this.getLegendsObject(treeCtrl);\n};\n\n\n/**\n * @param {!ngeo.layertree.Controller} treeCtrl Ngeo tree controller.\n * @return {boolean} Whether the layer tree controller supports having its\n *     layer opacity being changed or not.\n * @export\n */\nexports.Controller_.prototype.supportsOpacityChange = function(treeCtrl) {\n  const node = /** @type {!gmfThemes.GmfGroup} */ (treeCtrl.node);\n  const parentNode = /** @type {!gmfThemes.GmfGroup} */ (treeCtrl.parent.node);\n  return !!treeCtrl.layer &&\n    (\n      (\n        treeCtrl.depth === 1 && !node.mixed\n      ) ||\n      (\n        treeCtrl.depth > 1 && parentNode.mixed\n      )\n    );\n};\n\nexports.controller('GmfLayertreeController', exports.Controller_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/layertree/component.js","/**\n * @module ngeo.misc.File\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * @constructor\n * @param {angular.$q} $q .\n * @param {angular.$http} $http .\n * @param {gettext} gettext .\n * @ngInject\n */\nconst exports = function($q, $http, gettext) {\n  let fileReader, canceler;\n\n  // Test the validity of the file size\n  this.isValidFileSize = function(fileSize) {\n    return !(fileSize > 20000000); // 20 Mo\n  };\n\n  this.isWmsGetCap = function(fileContent) {\n    return /<(WMT_MS_Capabilities|WMS_Capabilities)/.test(fileContent);\n  };\n\n  this.isWmtsGetCap = function(fileContent) {\n    return /<Capabilities/.test(fileContent);\n  };\n\n  this.isKml = function(fileContent) {\n    return /<kml/.test(fileContent) && /<\\/kml>/.test(fileContent);\n  };\n\n  this.isGpx = function(fileContent) {\n    return /<gpx/.test(fileContent) && /<\\/gpx>/.test(fileContent);\n  };\n\n  /**\n   * @param {!Blob} file .\n   * @return {angular.$q.Promise<string>} .\n   */\n  this.read = function(file) {\n    const defer = $q.defer();\n    if (fileReader && fileReader.readyState === FileReader.LOADING) {\n      fileReader.abort();\n    }\n    fileReader = new FileReader();\n    fileReader.onload = function(evt) {\n      defer.resolve(evt.target.result);\n    };\n    fileReader.onerror = function(evt) {\n      const err = evt.target.error;\n      console.error('Reading file failed: ', err);\n      defer.reject({\n        'message': err.code == 20 ? gettext('Operation canceled') : gettext('Read failed'),\n        'reason': err.message\n      });\n    };\n    fileReader.onprogress = function(evt) {\n      defer.notify(evt);\n    };\n    // Read the file\n    fileReader.readAsText(file);\n    return defer.promise;\n  };\n\n  /**\n   * @param {string} url .\n   * @param {angular.$q.Deferred=} opt_cancelP .\n   * @return {angular.$q.Promise<Blob>} .\n   */\n  this.load = function(url, opt_cancelP) {\n\n    if (canceler) {\n      canceler.resolve();\n    }\n    canceler = opt_cancelP || $q.defer();\n\n    // Angularjs doesn't handle onprogress event\n    const defer = $q.defer();\n    $http.get(url, {\n      timeout: canceler.promise\n    }).then((response) => {\n      defer.resolve(response.data);\n    }, (reason) => {\n      console.error('Uploading file failed: ', reason);\n      defer.reject({\n        'message': gettext('Upload failed'),\n        'reason': reason\n      });\n    });\n    return defer.promise;\n  };\n};\n\nexports.module = angular.module('ngeoFile', []);\n\nexports.module.service('ngeoFile', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/File.js","/**\n * @module ngeo.datasource.FileGroup\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceFile from 'ngeo/datasource/File.js';\nimport ngeoDatasourceGroup from 'ngeo/datasource/Group.js';\n\nconst exports = class extends ngeoDatasourceGroup {\n\n  /**\n   * A FileGroup data source combines multiple `ngeo.datasource.File` objects.\n   * Its main goal is to synchronize the added data source 'visible' properties\n   * with the visibility of their layer 'visible' property.\n   *\n   * @struct\n   * @param {ngeox.datasource.FileGroupOptions} options Options.\n   */\n  constructor(options) {\n\n    super(options);\n\n    const injector = options.injector;\n\n\n    // === PRIVATE properties ===\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.rootScope_ = injector.get('$rootScope');\n\n    /**\n     * The functions to call to unregister the `watch` event on data sources\n     * that are registered. Key is the id of the data source.\n     * @type {!Object.<number, Function>}\n     * @private\n     */\n    this.unregister_ = {};\n  }\n\n  /**\n   * @inheritDoc\n   */\n  addDataSource(dataSource) {\n    super.addDataSource(dataSource);\n    googAsserts.assertInstanceof(dataSource, ngeoDatasourceFile);\n    this.registerDataSource_(dataSource);\n  }\n\n  /**\n   * @param {!ngeo.datasource.File} dataSource File data source to register.\n   * @private\n   */\n  registerDataSource_(dataSource) {\n    this.unregister_[dataSource.id] = this.rootScope_.$watch(\n      () => dataSource.visible,\n      this.handleDataSourceVisibleChange_.bind(this, dataSource)\n    );\n  }\n\n  /**\n   * @param {!ngeo.datasource.File} dataSource File data source.\n   * @param {boolean|undefined} value Current visible property of the DS\n   * @param {boolean|undefined} oldValue Old visible property of the DS\n   * @private\n   */\n  handleDataSourceVisibleChange_(dataSource, value, oldValue) {\n    if (value !== undefined) {\n      dataSource.layer.setVisible(value);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  removeDataSource(dataSource) {\n    super.removeDataSource(dataSource);\n    googAsserts.assertInstanceof(dataSource, ngeoDatasourceFile);\n    this.unregisterDataSource_(dataSource);\n  }\n\n  /**\n   * @param {!ngeo.datasource.File} dataSource File data source to unregister.\n   * @private\n   */\n  unregisterDataSource_(dataSource) {\n    this.unregister_[dataSource.id]();\n    delete this.unregister_[dataSource.id];\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/FileGroup.js","/**\n * @module gmf.layertree.datasourceGroupTreeComponent\n */\nimport gmfBase from 'gmf/index.js';\nimport ngeoDatasourceDataSources from 'ngeo/datasource/DataSources.js';\nimport * as olBase from 'ol/index.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module(\n  'gmfLayertreeDatasourceGroupTreeComponent', [\n    ngeoDatasourceDataSources.module.name,\n  ]);\n\n\n/**\n * @private\n */\nexports.Controller_ = class {\n\n  /**\n   * @param {!angular.Scope} $scope Angular scope.\n   * @param {!ngeo.datasource.DataSources} ngeoDataSources Ngeo data sources\n   *     service.\n   * @private\n   * @struct\n   * @ngInject\n   * @ngdoc controller\n   * @ngname GmfDatasourcegrouptreeController\n   */\n  constructor($scope, ngeoDataSources) {\n\n    // Binding properties\n\n    /**\n     * @type {!ngeo.datasource.Group}\n     * @export\n     */\n    this.group;\n\n\n    // Injected properties\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.scope_ = $scope;\n\n    /**\n     * @type {!ngeox.datasource.DataSources}\n     * @private\n     */\n    this.dataSources_ = ngeoDataSources.collection;\n  }\n\n  /**\n   * @return {string} Group uid.\n   * @export\n   */\n  getGroupUid() {\n    return `datasourcegrouptree-${olBase.getUid(this.group)}`;\n  }\n\n  /**\n   * Toggle visibility of the group itself, i.e. its visibility state.\n   * @export\n   */\n  toggle() {\n    this.group.toggleVisibilityState();\n  }\n\n  /**\n   * Toggle visible property of a data source.\n   * @param {ngeo.datasource.DataSource} dataSource Data source to toggle the\n   * visibility\n   * @export\n   */\n  toggleDataSource(dataSource) {\n    dataSource.visible = !dataSource.visible;\n  }\n\n  /**\n   * Remove all data sources from the `ngeo.datasource.DataSources` collection, which\n   * will automatically remove them from the Group. The group itself\n   * is going to be removed as well, destroying this component in the process.\n   * @export\n   */\n  remove() {\n    for (let i = this.group.dataSources.length - 1, ii = 0; i >= ii; i--) {\n      this.dataSources_.remove(this.group.dataSources[i]);\n    }\n  }\n\n  /**\n   * @param {!ngeo.datasource.DataSource} dataSource Data source to remove from\n   *     the `ngeo.DataSources` collection.\n   * @export\n   */\n  removeDataSource(dataSource) {\n    this.dataSources_.remove(dataSource);\n  }\n};\n\n\nexports.component('gmfDatasourcegrouptree', {\n  bindings: {\n    'group': '<'\n  },\n  controller: exports.Controller_,\n  templateUrl: () => `${gmfBase.baseModuleTemplateUrl}/layertree/datasourceGroupTreeComponent.html`\n});\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/layertree/datasourceGroupTreeComponent.js","/**\n * @license AngularJS v1.6.8\n * (c) 2010-2017 Google, Inc. http://angularjs.org\n * License: MIT\n */\n(function(window, angular) {'use strict';\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n *     Any commits to this file should be reviewed with security in mind.  *\n *   Changes to this file can potentially create security vulnerabilities. *\n *          An approval from 2 Core members with history of modifying      *\n *                         this file is required.                          *\n *                                                                         *\n *  Does the change somehow allow for arbitrary javascript to be executed? *\n *    Or allows for someone to change the prototype of built-in objects?   *\n *     Or gives undesired access to variables likes document or window?    *\n * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\nvar $sanitizeMinErr = angular.$$minErr('$sanitize');\nvar bind;\nvar extend;\nvar forEach;\nvar isDefined;\nvar lowercase;\nvar noop;\nvar nodeContains;\nvar htmlParser;\nvar htmlSanitizeWriter;\n\n/**\n * @ngdoc module\n * @name ngSanitize\n * @description\n *\n * The `ngSanitize` module provides functionality to sanitize HTML.\n *\n * See {@link ngSanitize.$sanitize `$sanitize`} for usage.\n */\n\n/**\n * @ngdoc service\n * @name $sanitize\n * @kind function\n *\n * @description\n *   Sanitizes an html string by stripping all potentially dangerous tokens.\n *\n *   The input is sanitized by parsing the HTML into tokens. All safe tokens (from a whitelist) are\n *   then serialized back to properly escaped html string. This means that no unsafe input can make\n *   it into the returned string.\n *\n *   The whitelist for URL sanitization of attribute values is configured using the functions\n *   `aHrefSanitizationWhitelist` and `imgSrcSanitizationWhitelist` of {@link ng.$compileProvider\n *   `$compileProvider`}.\n *\n *   The input may also contain SVG markup if this is enabled via {@link $sanitizeProvider}.\n *\n * @param {string} html HTML input.\n * @returns {string} Sanitized HTML.\n *\n * @example\n   <example module=\"sanitizeExample\" deps=\"angular-sanitize.js\" name=\"sanitize-service\">\n   <file name=\"index.html\">\n     <script>\n         angular.module('sanitizeExample', ['ngSanitize'])\n           .controller('ExampleController', ['$scope', '$sce', function($scope, $sce) {\n             $scope.snippet =\n               '<p style=\"color:blue\">an html\\n' +\n               '<em onmouseover=\"this.textContent=\\'PWN3D!\\'\">click here</em>\\n' +\n               'snippet</p>';\n             $scope.deliberatelyTrustDangerousSnippet = function() {\n               return $sce.trustAsHtml($scope.snippet);\n             };\n           }]);\n     </script>\n     <div ng-controller=\"ExampleController\">\n        Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n       <table>\n         <tr>\n           <td>Directive</td>\n           <td>How</td>\n           <td>Source</td>\n           <td>Rendered</td>\n         </tr>\n         <tr id=\"bind-html-with-sanitize\">\n           <td>ng-bind-html</td>\n           <td>Automatically uses $sanitize</td>\n           <td><pre>&lt;div ng-bind-html=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n           <td><div ng-bind-html=\"snippet\"></div></td>\n         </tr>\n         <tr id=\"bind-html-with-trust\">\n           <td>ng-bind-html</td>\n           <td>Bypass $sanitize by explicitly trusting the dangerous value</td>\n           <td>\n           <pre>&lt;div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"&gt;\n&lt;/div&gt;</pre>\n           </td>\n           <td><div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"></div></td>\n         </tr>\n         <tr id=\"bind-default\">\n           <td>ng-bind</td>\n           <td>Automatically escapes</td>\n           <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n           <td><div ng-bind=\"snippet\"></div></td>\n         </tr>\n       </table>\n       </div>\n   </file>\n   <file name=\"protractor.js\" type=\"protractor\">\n     it('should sanitize the html snippet by default', function() {\n       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).\n         toBe('<p>an html\\n<em>click here</em>\\nsnippet</p>');\n     });\n\n     it('should inline raw snippet if bound to a trusted value', function() {\n       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).\n         toBe(\"<p style=\\\"color:blue\\\">an html\\n\" +\n              \"<em onmouseover=\\\"this.textContent='PWN3D!'\\\">click here</em>\\n\" +\n              \"snippet</p>\");\n     });\n\n     it('should escape snippet without any filter', function() {\n       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).\n         toBe(\"&lt;p style=\\\"color:blue\\\"&gt;an html\\n\" +\n              \"&lt;em onmouseover=\\\"this.textContent='PWN3D!'\\\"&gt;click here&lt;/em&gt;\\n\" +\n              \"snippet&lt;/p&gt;\");\n     });\n\n     it('should update', function() {\n       element(by.model('snippet')).clear();\n       element(by.model('snippet')).sendKeys('new <b onclick=\"alert(1)\">text</b>');\n       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).\n         toBe('new <b>text</b>');\n       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).toBe(\n         'new <b onclick=\"alert(1)\">text</b>');\n       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).toBe(\n         \"new &lt;b onclick=\\\"alert(1)\\\"&gt;text&lt;/b&gt;\");\n     });\n   </file>\n   </example>\n */\n\n\n/**\n * @ngdoc provider\n * @name $sanitizeProvider\n * @this\n *\n * @description\n * Creates and configures {@link $sanitize} instance.\n */\nfunction $SanitizeProvider() {\n  var svgEnabled = false;\n\n  this.$get = ['$$sanitizeUri', function($$sanitizeUri) {\n    if (svgEnabled) {\n      extend(validElements, svgElements);\n    }\n    return function(html) {\n      var buf = [];\n      htmlParser(html, htmlSanitizeWriter(buf, function(uri, isImage) {\n        return !/^unsafe:/.test($$sanitizeUri(uri, isImage));\n      }));\n      return buf.join('');\n    };\n  }];\n\n\n  /**\n   * @ngdoc method\n   * @name $sanitizeProvider#enableSvg\n   * @kind function\n   *\n   * @description\n   * Enables a subset of svg to be supported by the sanitizer.\n   *\n   * <div class=\"alert alert-warning\">\n   *   <p>By enabling this setting without taking other precautions, you might expose your\n   *   application to click-hijacking attacks. In these attacks, sanitized svg elements could be positioned\n   *   outside of the containing element and be rendered over other elements on the page (e.g. a login\n   *   link). Such behavior can then result in phishing incidents.</p>\n   *\n   *   <p>To protect against these, explicitly setup `overflow: hidden` css rule for all potential svg\n   *   tags within the sanitized content:</p>\n   *\n   *   <br>\n   *\n   *   <pre><code>\n   *   .rootOfTheIncludedContent svg {\n   *     overflow: hidden !important;\n   *   }\n   *   </code></pre>\n   * </div>\n   *\n   * @param {boolean=} flag Enable or disable SVG support in the sanitizer.\n   * @returns {boolean|ng.$sanitizeProvider} Returns the currently configured value if called\n   *    without an argument or self for chaining otherwise.\n   */\n  this.enableSvg = function(enableSvg) {\n    if (isDefined(enableSvg)) {\n      svgEnabled = enableSvg;\n      return this;\n    } else {\n      return svgEnabled;\n    }\n  };\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n  // Private stuff\n  //////////////////////////////////////////////////////////////////////////////////////////////////\n\n  bind = angular.bind;\n  extend = angular.extend;\n  forEach = angular.forEach;\n  isDefined = angular.isDefined;\n  lowercase = angular.lowercase;\n  noop = angular.noop;\n\n  htmlParser = htmlParserImpl;\n  htmlSanitizeWriter = htmlSanitizeWriterImpl;\n\n  nodeContains = window.Node.prototype.contains || /** @this */ function(arg) {\n    // eslint-disable-next-line no-bitwise\n    return !!(this.compareDocumentPosition(arg) & 16);\n  };\n\n  // Regular Expressions for parsing tags and attributes\n  var SURROGATE_PAIR_REGEXP = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n    // Match everything outside of normal chars and \" (quote character)\n    NON_ALPHANUMERIC_REGEXP = /([^#-~ |!])/g;\n\n\n  // Good source of info about elements and attributes\n  // http://dev.w3.org/html5/spec/Overview.html#semantics\n  // http://simon.html5.org/html-elements\n\n  // Safe Void Elements - HTML5\n  // http://dev.w3.org/html5/spec/Overview.html#void-elements\n  var voidElements = toMap('area,br,col,hr,img,wbr');\n\n  // Elements that you can, intentionally, leave open (and which close themselves)\n  // http://dev.w3.org/html5/spec/Overview.html#optional-tags\n  var optionalEndTagBlockElements = toMap('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr'),\n      optionalEndTagInlineElements = toMap('rp,rt'),\n      optionalEndTagElements = extend({},\n                                              optionalEndTagInlineElements,\n                                              optionalEndTagBlockElements);\n\n  // Safe Block Elements - HTML5\n  var blockElements = extend({}, optionalEndTagBlockElements, toMap('address,article,' +\n          'aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,' +\n          'h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul'));\n\n  // Inline Elements - HTML5\n  var inlineElements = extend({}, optionalEndTagInlineElements, toMap('a,abbr,acronym,b,' +\n          'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,' +\n          'samp,small,span,strike,strong,sub,sup,time,tt,u,var'));\n\n  // SVG Elements\n  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Elements\n  // Note: the elements animate,animateColor,animateMotion,animateTransform,set are intentionally omitted.\n  // They can potentially allow for arbitrary javascript to be executed. See #11290\n  var svgElements = toMap('circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,' +\n          'hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,' +\n          'radialGradient,rect,stop,svg,switch,text,title,tspan');\n\n  // Blocked Elements (will be stripped)\n  var blockedElements = toMap('script,style');\n\n  var validElements = extend({},\n                                     voidElements,\n                                     blockElements,\n                                     inlineElements,\n                                     optionalEndTagElements);\n\n  //Attributes that have href and hence need to be sanitized\n  var uriAttrs = toMap('background,cite,href,longdesc,src,xlink:href');\n\n  var htmlAttrs = toMap('abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,' +\n      'color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,' +\n      'ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,' +\n      'scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,' +\n      'valign,value,vspace,width');\n\n  // SVG attributes (without \"id\" and \"name\" attributes)\n  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Attributes\n  var svgAttrs = toMap('accent-height,accumulate,additive,alphabetic,arabic-form,ascent,' +\n      'baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,' +\n      'cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,' +\n      'font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,' +\n      'height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,' +\n      'marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,' +\n      'max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,' +\n      'path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,' +\n      'requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,' +\n      'stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,' +\n      'stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,' +\n      'stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,' +\n      'underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,' +\n      'width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,' +\n      'xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan', true);\n\n  var validAttrs = extend({},\n                                  uriAttrs,\n                                  svgAttrs,\n                                  htmlAttrs);\n\n  function toMap(str, lowercaseKeys) {\n    var obj = {}, items = str.split(','), i;\n    for (i = 0; i < items.length; i++) {\n      obj[lowercaseKeys ? lowercase(items[i]) : items[i]] = true;\n    }\n    return obj;\n  }\n\n  /**\n   * Create an inert document that contains the dirty HTML that needs sanitizing\n   * Depending upon browser support we use one of three strategies for doing this.\n   * Support: Safari 10.x -> XHR strategy\n   * Support: Firefox -> DomParser strategy\n   */\n  var getInertBodyElement /* function(html: string): HTMLBodyElement */ = (function(window, document) {\n    var inertDocument;\n    if (document && document.implementation) {\n      inertDocument = document.implementation.createHTMLDocument('inert');\n    } else {\n      throw $sanitizeMinErr('noinert', 'Can\\'t create an inert html document');\n    }\n    var inertBodyElement = (inertDocument.documentElement || inertDocument.getDocumentElement()).querySelector('body');\n\n    // Check for the Safari 10.1 bug - which allows JS to run inside the SVG G element\n    inertBodyElement.innerHTML = '<svg><g onload=\"this.parentNode.remove()\"></g></svg>';\n    if (!inertBodyElement.querySelector('svg')) {\n      return getInertBodyElement_XHR;\n    } else {\n      // Check for the Firefox bug - which prevents the inner img JS from being sanitized\n      inertBodyElement.innerHTML = '<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">';\n      if (inertBodyElement.querySelector('svg img')) {\n        return getInertBodyElement_DOMParser;\n      } else {\n        return getInertBodyElement_InertDocument;\n      }\n    }\n\n    function getInertBodyElement_XHR(html) {\n      // We add this dummy element to ensure that the rest of the content is parsed as expected\n      // e.g. leading whitespace is maintained and tags like `<meta>` do not get hoisted to the `<head>` tag.\n      html = '<remove></remove>' + html;\n      try {\n        html = encodeURI(html);\n      } catch (e) {\n        return undefined;\n      }\n      var xhr = new window.XMLHttpRequest();\n      xhr.responseType = 'document';\n      xhr.open('GET', 'data:text/html;charset=utf-8,' + html, false);\n      xhr.send(null);\n      var body = xhr.response.body;\n      body.firstChild.remove();\n      return body;\n    }\n\n    function getInertBodyElement_DOMParser(html) {\n      // We add this dummy element to ensure that the rest of the content is parsed as expected\n      // e.g. leading whitespace is maintained and tags like `<meta>` do not get hoisted to the `<head>` tag.\n      html = '<remove></remove>' + html;\n      try {\n        var body = new window.DOMParser().parseFromString(html, 'text/html').body;\n        body.firstChild.remove();\n        return body;\n      } catch (e) {\n        return undefined;\n      }\n    }\n\n    function getInertBodyElement_InertDocument(html) {\n      inertBodyElement.innerHTML = html;\n\n      // Support: IE 9-11 only\n      // strip custom-namespaced attributes on IE<=11\n      if (document.documentMode) {\n        stripCustomNsAttrs(inertBodyElement);\n      }\n\n      return inertBodyElement;\n    }\n  })(window, window.document);\n\n  /**\n   * @example\n   * htmlParser(htmlString, {\n   *     start: function(tag, attrs) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * });\n   *\n   * @param {string} html string\n   * @param {object} handler\n   */\n  function htmlParserImpl(html, handler) {\n    if (html === null || html === undefined) {\n      html = '';\n    } else if (typeof html !== 'string') {\n      html = '' + html;\n    }\n\n    var inertBodyElement = getInertBodyElement(html);\n    if (!inertBodyElement) return '';\n\n    //mXSS protection\n    var mXSSAttempts = 5;\n    do {\n      if (mXSSAttempts === 0) {\n        throw $sanitizeMinErr('uinput', 'Failed to sanitize html because the input is unstable');\n      }\n      mXSSAttempts--;\n\n      // trigger mXSS if it is going to happen by reading and writing the innerHTML\n      html = inertBodyElement.innerHTML;\n      inertBodyElement = getInertBodyElement(html);\n    } while (html !== inertBodyElement.innerHTML);\n\n    var node = inertBodyElement.firstChild;\n    while (node) {\n      switch (node.nodeType) {\n        case 1: // ELEMENT_NODE\n          handler.start(node.nodeName.toLowerCase(), attrToMap(node.attributes));\n          break;\n        case 3: // TEXT NODE\n          handler.chars(node.textContent);\n          break;\n      }\n\n      var nextNode;\n      if (!(nextNode = node.firstChild)) {\n        if (node.nodeType === 1) {\n          handler.end(node.nodeName.toLowerCase());\n        }\n        nextNode = getNonDescendant('nextSibling', node);\n        if (!nextNode) {\n          while (nextNode == null) {\n            node = getNonDescendant('parentNode', node);\n            if (node === inertBodyElement) break;\n            nextNode = getNonDescendant('nextSibling', node);\n            if (node.nodeType === 1) {\n              handler.end(node.nodeName.toLowerCase());\n            }\n          }\n        }\n      }\n      node = nextNode;\n    }\n\n    while ((node = inertBodyElement.firstChild)) {\n      inertBodyElement.removeChild(node);\n    }\n  }\n\n  function attrToMap(attrs) {\n    var map = {};\n    for (var i = 0, ii = attrs.length; i < ii; i++) {\n      var attr = attrs[i];\n      map[attr.name] = attr.value;\n    }\n    return map;\n  }\n\n\n  /**\n   * Escapes all potentially dangerous characters, so that the\n   * resulting string can be safely inserted into attribute or\n   * element text.\n   * @param value\n   * @returns {string} escaped text\n   */\n  function encodeEntities(value) {\n    return value.\n      replace(/&/g, '&amp;').\n      replace(SURROGATE_PAIR_REGEXP, function(value) {\n        var hi = value.charCodeAt(0);\n        var low = value.charCodeAt(1);\n        return '&#' + (((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000) + ';';\n      }).\n      replace(NON_ALPHANUMERIC_REGEXP, function(value) {\n        return '&#' + value.charCodeAt(0) + ';';\n      }).\n      replace(/</g, '&lt;').\n      replace(/>/g, '&gt;');\n  }\n\n  /**\n   * create an HTML/XML writer which writes to buffer\n   * @param {Array} buf use buf.join('') to get out sanitized html string\n   * @returns {object} in the form of {\n   *     start: function(tag, attrs) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * }\n   */\n  function htmlSanitizeWriterImpl(buf, uriValidator) {\n    var ignoreCurrentElement = false;\n    var out = bind(buf, buf.push);\n    return {\n      start: function(tag, attrs) {\n        tag = lowercase(tag);\n        if (!ignoreCurrentElement && blockedElements[tag]) {\n          ignoreCurrentElement = tag;\n        }\n        if (!ignoreCurrentElement && validElements[tag] === true) {\n          out('<');\n          out(tag);\n          forEach(attrs, function(value, key) {\n            var lkey = lowercase(key);\n            var isImage = (tag === 'img' && lkey === 'src') || (lkey === 'background');\n            if (validAttrs[lkey] === true &&\n              (uriAttrs[lkey] !== true || uriValidator(value, isImage))) {\n              out(' ');\n              out(key);\n              out('=\"');\n              out(encodeEntities(value));\n              out('\"');\n            }\n          });\n          out('>');\n        }\n      },\n      end: function(tag) {\n        tag = lowercase(tag);\n        if (!ignoreCurrentElement && validElements[tag] === true && voidElements[tag] !== true) {\n          out('</');\n          out(tag);\n          out('>');\n        }\n        // eslint-disable-next-line eqeqeq\n        if (tag == ignoreCurrentElement) {\n          ignoreCurrentElement = false;\n        }\n      },\n      chars: function(chars) {\n        if (!ignoreCurrentElement) {\n          out(encodeEntities(chars));\n        }\n      }\n    };\n  }\n\n\n  /**\n   * When IE9-11 comes across an unknown namespaced attribute e.g. 'xlink:foo' it adds 'xmlns:ns1' attribute to declare\n   * ns1 namespace and prefixes the attribute with 'ns1' (e.g. 'ns1:xlink:foo'). This is undesirable since we don't want\n   * to allow any of these custom attributes. This method strips them all.\n   *\n   * @param node Root element to process\n   */\n  function stripCustomNsAttrs(node) {\n    while (node) {\n      if (node.nodeType === window.Node.ELEMENT_NODE) {\n        var attrs = node.attributes;\n        for (var i = 0, l = attrs.length; i < l; i++) {\n          var attrNode = attrs[i];\n          var attrName = attrNode.name.toLowerCase();\n          if (attrName === 'xmlns:ns1' || attrName.lastIndexOf('ns1:', 0) === 0) {\n            node.removeAttributeNode(attrNode);\n            i--;\n            l--;\n          }\n        }\n      }\n\n      var nextNode = node.firstChild;\n      if (nextNode) {\n        stripCustomNsAttrs(nextNode);\n      }\n\n      node = getNonDescendant('nextSibling', node);\n    }\n  }\n\n  function getNonDescendant(propName, node) {\n    // An element is clobbered if its `propName` property points to one of its descendants\n    var nextNode = node[propName];\n    if (nextNode && nodeContains.call(node, nextNode)) {\n      throw $sanitizeMinErr('elclob', 'Failed to sanitize html because the element is clobbered: {0}', node.outerHTML || node.outerText);\n    }\n    return nextNode;\n  }\n}\n\nfunction sanitizeText(chars) {\n  var buf = [];\n  var writer = htmlSanitizeWriter(buf, noop);\n  writer.chars(chars);\n  return buf.join('');\n}\n\n\n// define ngSanitize module and register $sanitize service\nangular.module('ngSanitize', [])\n  .provider('$sanitize', $SanitizeProvider)\n  .info({ angularVersion: '1.6.8' });\n\n/**\n * @ngdoc filter\n * @name linky\n * @kind function\n *\n * @description\n * Finds links in text input and turns them into html links. Supports `http/https/ftp/sftp/mailto` and\n * plain email address links.\n *\n * Requires the {@link ngSanitize `ngSanitize`} module to be installed.\n *\n * @param {string} text Input text.\n * @param {string} [target] Window (`_blank|_self|_parent|_top`) or named frame to open links in.\n * @param {object|function(url)} [attributes] Add custom attributes to the link element.\n *\n *    Can be one of:\n *\n *    - `object`: A map of attributes\n *    - `function`: Takes the url as a parameter and returns a map of attributes\n *\n *    If the map of attributes contains a value for `target`, it overrides the value of\n *    the target parameter.\n *\n *\n * @returns {string} Html-linkified and {@link $sanitize sanitized} text.\n *\n * @usage\n   <span ng-bind-html=\"linky_expression | linky\"></span>\n *\n * @example\n   <example module=\"linkyExample\" deps=\"angular-sanitize.js\" name=\"linky-filter\">\n     <file name=\"index.html\">\n       <div ng-controller=\"ExampleController\">\n       Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n       <table>\n         <tr>\n           <th>Filter</th>\n           <th>Source</th>\n           <th>Rendered</th>\n         </tr>\n         <tr id=\"linky-filter\">\n           <td>linky filter</td>\n           <td>\n             <pre>&lt;div ng-bind-html=\"snippet | linky\"&gt;<br>&lt;/div&gt;</pre>\n           </td>\n           <td>\n             <div ng-bind-html=\"snippet | linky\"></div>\n           </td>\n         </tr>\n         <tr id=\"linky-target\">\n          <td>linky target</td>\n          <td>\n            <pre>&lt;div ng-bind-html=\"snippetWithSingleURL | linky:'_blank'\"&gt;<br>&lt;/div&gt;</pre>\n          </td>\n          <td>\n            <div ng-bind-html=\"snippetWithSingleURL | linky:'_blank'\"></div>\n          </td>\n         </tr>\n         <tr id=\"linky-custom-attributes\">\n          <td>linky custom attributes</td>\n          <td>\n            <pre>&lt;div ng-bind-html=\"snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}\"&gt;<br>&lt;/div&gt;</pre>\n          </td>\n          <td>\n            <div ng-bind-html=\"snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}\"></div>\n          </td>\n         </tr>\n         <tr id=\"escaped-html\">\n           <td>no filter</td>\n           <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br>&lt;/div&gt;</pre></td>\n           <td><div ng-bind=\"snippet\"></div></td>\n         </tr>\n       </table>\n     </file>\n     <file name=\"script.js\">\n       angular.module('linkyExample', ['ngSanitize'])\n         .controller('ExampleController', ['$scope', function($scope) {\n           $scope.snippet =\n             'Pretty text with some links:\\n' +\n             'http://angularjs.org/,\\n' +\n             'mailto:us@somewhere.org,\\n' +\n             'another@somewhere.org,\\n' +\n             'and one more: ftp://127.0.0.1/.';\n           $scope.snippetWithSingleURL = 'http://angularjs.org/';\n         }]);\n     </file>\n     <file name=\"protractor.js\" type=\"protractor\">\n       it('should linkify the snippet with urls', function() {\n         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n             toBe('Pretty text with some links: http://angularjs.org/, us@somewhere.org, ' +\n                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n         expect(element.all(by.css('#linky-filter a')).count()).toEqual(4);\n       });\n\n       it('should not linkify snippet without the linky filter', function() {\n         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText()).\n             toBe('Pretty text with some links: http://angularjs.org/, mailto:us@somewhere.org, ' +\n                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n         expect(element.all(by.css('#escaped-html a')).count()).toEqual(0);\n       });\n\n       it('should update', function() {\n         element(by.model('snippet')).clear();\n         element(by.model('snippet')).sendKeys('new http://link.');\n         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n             toBe('new http://link.');\n         expect(element.all(by.css('#linky-filter a')).count()).toEqual(1);\n         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText())\n             .toBe('new http://link.');\n       });\n\n       it('should work with the target property', function() {\n        expect(element(by.id('linky-target')).\n            element(by.binding(\"snippetWithSingleURL | linky:'_blank'\")).getText()).\n            toBe('http://angularjs.org/');\n        expect(element(by.css('#linky-target a')).getAttribute('target')).toEqual('_blank');\n       });\n\n       it('should optionally add custom attributes', function() {\n        expect(element(by.id('linky-custom-attributes')).\n            element(by.binding(\"snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}\")).getText()).\n            toBe('http://angularjs.org/');\n        expect(element(by.css('#linky-custom-attributes a')).getAttribute('rel')).toEqual('nofollow');\n       });\n     </file>\n   </example>\n */\nangular.module('ngSanitize').filter('linky', ['$sanitize', function($sanitize) {\n  var LINKY_URL_REGEXP =\n        /((s?ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"\\u201d\\u2019]/i,\n      MAILTO_REGEXP = /^mailto:/i;\n\n  var linkyMinErr = angular.$$minErr('linky');\n  var isDefined = angular.isDefined;\n  var isFunction = angular.isFunction;\n  var isObject = angular.isObject;\n  var isString = angular.isString;\n\n  return function(text, target, attributes) {\n    if (text == null || text === '') return text;\n    if (!isString(text)) throw linkyMinErr('notstring', 'Expected string but received: {0}', text);\n\n    var attributesFn =\n      isFunction(attributes) ? attributes :\n      isObject(attributes) ? function getAttributesObject() {return attributes;} :\n      function getEmptyAttributesObject() {return {};};\n\n    var match;\n    var raw = text;\n    var html = [];\n    var url;\n    var i;\n    while ((match = raw.match(LINKY_URL_REGEXP))) {\n      // We can not end in these as they are sometimes found at the end of the sentence\n      url = match[0];\n      // if we did not match ftp/http/www/mailto then assume mailto\n      if (!match[2] && !match[4]) {\n        url = (match[3] ? 'http://' : 'mailto:') + url;\n      }\n      i = match.index;\n      addText(raw.substr(0, i));\n      addLink(url, match[0].replace(MAILTO_REGEXP, ''));\n      raw = raw.substring(i + match[0].length);\n    }\n    addText(raw);\n    return $sanitize(html.join(''));\n\n    function addText(text) {\n      if (!text) {\n        return;\n      }\n      html.push(sanitizeText(text));\n    }\n\n    function addLink(url, text) {\n      var key, linkAttributes = attributesFn(url);\n      html.push('<a ');\n\n      for (key in linkAttributes) {\n        html.push(key + '=\"' + linkAttributes[key] + '\" ');\n      }\n\n      if (isDefined(target) && !('target' in linkAttributes)) {\n        html.push('target=\"',\n                  target,\n                  '\" ');\n      }\n      html.push('href=\"',\n                url.replace(/\"/g, '&quot;'),\n                '\">');\n      addText(text);\n      html.push('</a>');\n    }\n  };\n}]);\n\n\n})(window, window.angular);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angular-sanitize/angular-sanitize.js\n// module id = 229\n// module chunks = 0 1 2 3 4 6 7 9 12","/**\n * @module ngeo.misc.syncArrays\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * Provides a function that synchronizes two arrays, arr1 and\n * arr2. arr2 is a subset of arr1, it includes the elements of arr1 that passes\n * the filter. When elements are added to/removed from arr1, arr2 is updated to\n * include the elements of arr1 that pass the filter. When the order of\n * elements in arr2 changes, arr1 is reordered to have the same order as arr2.\n *\n * This can for example be used to synchronize the array of layers in the map\n * with the array of selected layers, where layers may be added to/removed from\n * the map, and the order of selected layers may change.\n *\n *     let dereg = ngeoSyncArrays(map.getLayers().getArray(), selectedLayers,\n *         true, scope, function(layer) {\n *           // exclude the layer at index 0 in the map\n *           return map.getLayers().indexOf(layer) !== 0;\n *         });\n *\n * This will return a function that can be called to cancel synchronization.\n *\n * @param {Array.<T>} arr1 Array 1.\n * @param {Array.<T>} arr2 Array 2.\n * @param {boolean} reverse `true` if arr2 is in reverse order, `false`\n *     otherwise.\n * @param {angular.Scope} scope Angular scope. Used to watch arr1 and arr2\n *     using $watchCollection.\n * @param {function(T):boolean} filter Filter function.\n * @return {function()} Function to call to stop synchronization\n * @template T\n */\nconst exports = function(arr1, arr2, reverse, scope, filter) {\n\n\n  // Update arr2 when elements are added to, or removed from, arr1.\n\n  const dereg1 = scope.$watchCollection(() => arr1, () => {\n    let i, ii, j;\n    if (reverse) {\n      for (i = arr1.length - 1, j = 0; i >= 0; --i) {\n        if (filter(arr1[i])) {\n          arr2[j++] = arr1[i];\n        }\n      }\n    } else {\n      for (i = 0, ii = arr1.length, j = 0; i < ii; ++i) {\n        if (filter(arr1[i])) {\n          arr2[j++] = arr1[i];\n        }\n      }\n    }\n    arr2.length = j;\n  });\n\n\n  // Update arr1 when the order of elements changes in arr2.\n\n  const dereg2 = scope.$watchCollection(() => arr2, () => {\n    let i, ii, j;\n    if (reverse) {\n      for (i = 0, ii = arr1.length, j = arr2.length - 1; i < ii; ++i) {\n        if (filter(arr1[i])) {\n          arr1[i] = arr2[j--];\n        }\n      }\n      googAsserts.assert(j == -1);\n    } else {\n      for (i = 0, ii = arr1.length, j = 0; i < ii; ++i) {\n        if (filter(arr1[i])) {\n          arr1[i] = arr2[j++];\n        }\n      }\n      googAsserts.assert(j == arr2.length);\n    }\n  });\n\n  return function() {\n    dereg1();\n    dereg2();\n  };\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/syncArrays.js","/**\n * @module ngeo.datasource.Helper\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceDataSource from 'ngeo/datasource/DataSource.js';\nimport ngeoDatasourceDataSources from 'ngeo/datasource/DataSources.js';\nimport ngeoFormatWFSAttribute from 'ngeo/format/WFSAttribute.js';\nimport ngeoQueryQuerent from 'ngeo/query/Querent.js';\nimport olEvents from 'ol/events.js';\n\nconst exports = class {\n  /**\n   * A service that provides utility methods to manipulate or get data sources.\n   *\n   * @struct\n   * @param {angular.$q} $q The Angular $q service.\n   * @param {ngeo.datasource.DataSources} ngeoDataSources Ngeo data source\n   *     service.\n   * @param {ngeo.query.Querent} ngeoQuerent Ngeo querent service.\n   * @ngdoc service\n   * @ngname ngeoDataSourcesHelper\n   * @ngInject\n   */\n  constructor($q, ngeoDataSources, ngeoQuerent) {\n\n    // === Injected properties ===\n\n    /**\n     * @type {angular.$q}\n     * @private\n     */\n    this.q_ = $q;\n\n    /**\n     * @type {ngeox.datasource.DataSources}\n     * @private\n     */\n    this.collection_ = ngeoDataSources.collection;\n\n    /**\n     * @type {ngeo.query.Querent}\n     * @private\n     */\n    this.ngeoQuerent_ = ngeoQuerent;\n\n\n    // === Other properties ===\n\n    /**\n     * @type {Object.<number, ngeo.datasource.DataSource>}\n     * @private\n     */\n    this.cache_ = {};\n\n    // Events\n\n    olEvents.listen(this.collection_, 'add', this.handleDataSourcesAdd_, this);\n    olEvents.listen(this.collection_, 'remove', this.handleDataSourcesRemove_, this);\n  }\n\n  /**\n   * @return {ngeox.datasource.DataSources} Data sources collection.\n   * @export\n   */\n  get collection() {\n    return this.collection_;\n  }\n\n  /**\n   * Return a data source using its id.\n   * @param {number} id Data source id.\n   * @return {?ngeo.datasource.DataSource} Data source.\n   * @export\n   */\n  getDataSource(id) {\n    return this.cache_[id] || null;\n  }\n\n  /**\n   * Get the attributes of a data source. If they are not set, they are obtained\n   * from the querent service using a WFS DescribeFeatureType request, then set\n   * in the data source.\n   *\n   * Please, note that in order to be dynamically set, the data source must\n   * only have 1 ogcLayer set and be queryable.\n   *\n   * @param {ngeo.datasource.OGC} dataSource Filtrable data source.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  getDataSourceAttributes(dataSource) {\n\n    const wfsDescribeFeatureTypeDefer = this.q_.defer();\n\n    if (dataSource.attributes) {\n      wfsDescribeFeatureTypeDefer.resolve(dataSource.attributes);\n    } else {\n      this.ngeoQuerent_.wfsDescribeFeatureType(\n        dataSource\n      ).then((featureType) => {\n        // We know, at this point, that there's only one definition that\n        // was returned.  Just to be sure, let's do a bunch of assertions.\n        const ogcLayerName = dataSource.getOGCLayerNames()[0];\n        googAsserts.assertString(\n          ogcLayerName, 'The data source should have only one ogcLayer.');\n        const element = featureType.element[0];\n        googAsserts.assert(element.name === ogcLayerName);\n        googAsserts.assert(\n          featureType.complexType[0].name === element.type);\n\n        const complexContent = featureType['complexType'][0]['complexContent'];\n        const attributes = new ngeoFormatWFSAttribute().read(complexContent);\n\n        // Set the attributes in the data source\n        dataSource.setAttributes(attributes);\n\n        wfsDescribeFeatureTypeDefer.resolve(attributes);\n      });\n    }\n\n    return wfsDescribeFeatureTypeDefer.promise;\n  }\n\n  /**\n   * Called when a new data source is added to the ngeo collection. Add it\n   * to the cache.\n   * @param {ol.Collection.Event} evt Event\n   * @private\n   */\n  handleDataSourcesAdd_(evt) {\n    const dataSource = googAsserts.assertInstanceof(\n      evt.element, ngeoDatasourceDataSource);\n    this.cache_[dataSource.id] = dataSource;\n  }\n\n  /**\n   * Called when a data source is removed from the ngeo collection. Remove it\n   * from the cache.\n   * @param {ol.Collection.Event} evt Event\n   * @private\n   */\n  handleDataSourcesRemove_(evt) {\n    const dataSource = googAsserts.assertInstanceof(\n      evt.element, ngeoDatasourceDataSource);\n    delete this.cache_[dataSource.id];\n  }\n\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoDataSourcesHelper', [\n  ngeoDatasourceDataSources.module.name,\n  ngeoQueryQuerent.module.name,\n]);\nexports.module.service('ngeoDataSourcesHelper', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/datasource/Helper.js","/**\n * @module ngeo.misc.ToolActivate\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * A simple object that can be managed by `ngeo.misc.ToolActivateMgr`.\n *\n * See our live examples:\n * [../examples/mapquery.html](../examples/mapquery.html)\n * [../examples/toolActivate.html](../examples/toolActivate.html)\n *\n * @param {Object} toolContext An object which acts as the context for the tool.\n * @param {string} activePropertyName The name of a boolean property on\n *      `toolContext` which represents the active state of the tool.\n * @constructor\n * @struct\n * @ngname ngeoToolActivate\n * @export\n */\nconst exports = function(toolContext, activePropertyName) {\n\n  /**\n   * A getter function to get the active state of the tool.\n   * @return {boolean} Is active.\n   * @export\n   */\n  this.getActive = function() {\n    return toolContext[activePropertyName];\n  };\n\n  /**\n   * A setter function to set the active state of the tool.\n   * @param {boolean} newVal New active state.\n   * @export\n   */\n  this.setActive = function(newVal) {\n    toolContext[activePropertyName] = newVal;\n  };\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/ToolActivate.js","/**\n * @module gmf.authentication.Service\n */\nimport ngeoCustomEvent from 'ngeo/CustomEvent.js';\nimport gmfBase from 'gmf/index.js';\nimport * as olBase from 'ol/index.js';\nimport olEventsEventTarget from 'ol/events/EventTarget.js';\n\n/**\n * An \"authentication\" service for a GeoMapFish application. Upon loading, it\n * launches a request to determine whether a user is currently logged in or\n * not.\n *\n * The possible API requests it supports, which are all self-explanatory, are:\n *\n * - changePassword\n * - login\n * - logout\n * - resetPassword\n *\n * @extends {ol.events.EventTarget}\n */\nconst exports = class extends olEventsEventTarget {\n\n  /**\n   * @param {angular.$http} $http Angular http service.\n   * @param {string} authenticationBaseUrl URL to \"authentication\" web service.\n   * @param {gmfx.User} gmfUser User.\n   * @ngInject\n   */\n  constructor($http, authenticationBaseUrl, gmfUser) {\n\n    super();\n\n    /**\n     * @type {angular.$http}\n     * @private\n     */\n    this.$http_ = $http;\n\n    /**\n     * The authentication url without trailing slash\n     * @type {string}\n     * @private\n     */\n    this.baseUrl_ = authenticationBaseUrl.replace(/\\/$/, '');\n\n    /**\n     * @type {gmfx.User}\n     * @private\n     */\n    this.user_ = gmfUser;\n\n    this.load_();\n  }\n\n  /**\n   * Load the authentication service, which sends an asynch request to\n   * determine whether the user is currently connected or not.\n   * @private\n   */\n  load_() {\n    const url = `${this.baseUrl_}/${exports.RouteSuffix.IS_LOGGED_IN}`;\n    this.$http_.get(url, {withCredentials: true}).then(\n      this.handleLogin_.bind(this, true)\n    );\n  }\n\n  /**\n   * @param {string} oldPwd Old password.\n   * @param {string} newPwd New password.\n   * @param {string} confPwd New password confirmation.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  changePassword(oldPwd, newPwd, confPwd) {\n    const url = `${this.baseUrl_}/${exports.RouteSuffix.CHANGE_PASSWORD}`;\n\n    return this.$http_.post(url, $.param({\n      'oldPassword': oldPwd,\n      'newPassword': newPwd,\n      'confirmNewPassword': confPwd\n    }), {\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n      withCredentials: true\n    });\n  }\n\n  /**\n   * @param {string} login Login name.\n   * @param {string} pwd Password.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  login(login, pwd) {\n    const url = `${this.baseUrl_}/${exports.RouteSuffix.LOGIN}`;\n\n    return this.$http_.post(url, $.param({'login': login, 'password': pwd}), {\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n      withCredentials: true\n    }).then(\n      this.handleLogin_.bind(this, false));\n  }\n\n  /**\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  logout() {\n    const url = `${this.baseUrl_}/${exports.RouteSuffix.LOGOUT}`;\n    return this.$http_.get(url, {withCredentials: true}).then(\n      this.resetUser_.bind(this));\n  }\n\n  /**\n   * @param {string} login Login name.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  resetPassword(login) {\n    const url = `${this.baseUrl_}/${exports.RouteSuffix.RESET_PASSWORD}`;\n\n    /**\n     * @param {angular.$http.Response} resp Ajax response.\n     * @return {gmfx.AuthenticationDefaultResponse} Response.\n     */\n    const successFn = function(resp) {\n      const respData = /** @type gmfx.AuthenticationDefaultResponse} */ (\n        resp.data);\n      return respData;\n    }.bind(this);\n\n    return this.$http_.post(url, $.param({'login': login}), {\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n    }).then(successFn);\n  }\n\n  /**\n   * @return {?gmfx.AuthenticationFunctionalities} The role functionalities.\n   */\n  getFunctionalities() {\n    return this.user_.functionalities;\n  }\n\n  /**\n   * @return {number|null} The role ID.\n   */\n  getRoleId() {\n    return this.user_.role_id;\n  }\n\n  /**\n   * @param {boolean} checkingLoginStatus Checking the login status?\n   * @param {angular.$http.Response} resp Ajax response.\n   * @return {angular.$http.Response} Response.\n   * @private\n   */\n  handleLogin_(checkingLoginStatus, resp) {\n    const respData = /** @type {gmfx.AuthenticationLoginResponse} */ (resp.data);\n    this.setUser_(respData, !checkingLoginStatus);\n    if (checkingLoginStatus) {\n      /** @type {gmfx.AuthenticationEvent} */\n      const event = new ngeoCustomEvent('ready', {user: this.user_});\n      this.dispatchEvent(event);\n    }\n    return resp;\n  }\n\n  /**\n   * @param {gmfx.AuthenticationLoginResponse} respData Response.\n   * @param {boolean} emitEvent Emit a login event?\n   * @private\n   */\n  setUser_(respData, emitEvent) {\n    for (const key in respData) {\n      this.user_[key] = respData[key];\n    }\n    if (emitEvent && respData.username !== undefined) {\n      /** @type {gmfx.AuthenticationEvent} */\n      const event = new ngeoCustomEvent('login', {user: this.user_});\n      this.dispatchEvent(event);\n    }\n  }\n\n  /**\n   * @private\n   */\n  resetUser_() {\n    for (const key in this.user_) {\n      this.user_[key] = null;\n    }\n    /** @type {gmfx.AuthenticationEvent} */\n    const event = new ngeoCustomEvent('logout', {user: this.user_});\n    this.dispatchEvent(event);\n    this.load_();\n  }\n};\n\n/**\n * @enum {string}\n */\nexports.RouteSuffix = {\n  CHANGE_PASSWORD: 'loginchange',\n  IS_LOGGED_IN: 'loginuser',\n  LOGIN: 'login',\n  LOGOUT: 'logout',\n  RESET_PASSWORD: 'loginresetpassword'\n};\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfAuthenticationService', []);\nexports.module.service('gmfAuthenticationService', exports);\n\nexports.module.value('gmfUser', {\n  'functionalities': null,\n  'is_password_changed': null,\n  'role_id': null,\n  'role_name': null,\n  'username': null\n});\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/authentication/Service.js","/**\n * @module ngeo.misc.btnComponent\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoBtnComponent', []);\n\n\n/**\n * Provides two directives: ngeo-btn-group and ngeo-btn.\n *\n * The ngeo-btn-group directive allows creating \"toggle\" groups. It works with\n * the ngeo-btn directive.\n *\n * Example:\n *\n *     <div ngeo-btn-group>\n *       <button ngeo-btn class=\"btn\" ng-model=\"ctrl.drawPoint.active\"></button>\n *       <button ngeo-btn class=\"btn\" ng-model=\"ctrl.drawLine.active\"></button>\n *     </div>\n *\n * In that example the ngeo-btn are combined together in a \"toggle group\",\n * where activating a button will deactivate the others.\n *\n * One can use `ng-model` directive at the group level in order to know if\n * a button is active.\n *\n * Example:\n *\n *     <div ngeo-btn-group ngeo-btn-group-active=\"ctrl.drawToolActive\">\n *\n * See our live example: [../examples/interactionbtngroup.html](../examples/interactionbtngroup.html)\n *\n * @htmlAttribute {*} ngeo-btn-group-active Any property of the scope.\n * Tells whether at least one button of the group is active.\n * @param {angular.$parse} $parse Angular parse service.\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoBtnGroup\n */\nexports.btnGroupComponent_ = function($parse) {\n  return {\n    restrict: 'A',\n    controller: 'ngeoBtnGroupController',\n    /**\n     * @param {!angular.Scope} scope Scope.\n     * @param {!angular.JQLite=} element Element.\n     * @param {!angular.Attributes=} attrs Atttributes.\n     * @param {!ngeo.misc.btnComponent.BtnGroupController=} controller Controller.\n     */\n    link: (scope, element, attrs, controller) => {\n      const setActive = $parse(attrs['ngeoBtnGroupActive']).assign;\n\n      if (setActive) {\n        scope.$watch(\n          // return true if at least one button is active otherwise false\n          () => controller.buttons_.some(buttonModel => buttonModel(scope) === true),\n          (newValue) => {\n            setActive(scope, newValue);\n          }\n        );\n      }\n    }\n  };\n};\n\n\nexports.directive('ngeoBtnGroup', exports.btnGroupComponent_);\n\n\n/**\n * @param {!angular.Scope} $scope Scope.\n * @constructor\n * @struct\n * @ngInject\n * @ngdoc controller\n * @ngname ngeoBtnGroupController\n */\nexports.BtnGroupController = function($scope) {\n  /**\n   * @type {!Array.<!angular.parse.Expression>}\n   * @private\n   */\n  this.buttons_ = [];\n\n  /**\n   * @type {!angular.Scope}\n   * @private\n   */\n  this.scope_ = $scope;\n};\n\n\n/**\n * @param {number} index Index of the button in buttons array.\n */\nexports.BtnGroupController.prototype.activate = function(index) {\n  this.buttons_.forEach(function(expressionFn, i) {\n    if (i != index) {\n      expressionFn.assign(this.scope_, false);\n    }\n  }, this);\n};\n\n\n/**\n * @param {angular.parse.Expression} expressionFn Expression function.\n * @return {number} Index of the pushed setter.\n */\nexports.BtnGroupController.prototype.addButton = function(expressionFn) {\n  this.buttons_.push(expressionFn);\n  return this.buttons_.length - 1;\n};\n\n\nexports.controller('ngeoBtnGroupController',\n  exports.BtnGroupController);\n\n\n/**\n * The ngeo-btn allows creating toggle buttons working with ng-model. It is\n * typically used with Bootstrap buttons (`btn`).\n *\n * Example:\n *\n *     <button ngeo-btn class=\"btn\" ng-model=\"ctrl.interaction.active\"></button>\n *\n * This example is about creating a Bootstrap button that can pressed/depressed\n * to activate/deactivate an OpenLayers interaction.\n *\n * @htmlAttribute {*} ng-model Any property on the scope. Ideally a boolean.\n * @param {angular.$parse} $parse Angular parse service.\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoBtn\n */\nexports.btnComponent_ = function($parse) {\n  return {\n    require: ['?^ngeoBtnGroup', 'ngModel'],\n    restrict: 'A',\n    /**\n     * @param {!angular.Scope} scope Scope.\n     * @param {!angular.JQLite=} element Element.\n     * @param {!angular.Attributes=} attrs Atttributes.\n     * @param {!Array.<!Object>=} ctrls Controller.\n     */\n    link: (scope, element, attrs, ctrls) => {\n      const buttonsCtrl = ctrls[0];\n      const ngModelCtrl = ctrls[1];\n      let indexInGroup = -1;\n\n      const ngModelGet = $parse(attrs['ngModel']);\n      const ngModelSet = ngModelGet.assign;\n\n      // Set ng-model value to false if undefined\n      if (ngModelGet(scope) === undefined) {\n        ngModelSet(scope, false);\n      }\n      if (buttonsCtrl !== null) {\n        indexInGroup = buttonsCtrl.addButton(ngModelGet);\n      }\n\n      // UI -> model\n      element.on('click', () => {\n        scope.$apply(() => {\n          ngModelCtrl.$setViewValue(!ngModelCtrl.$viewValue);\n          ngModelCtrl.$render();\n        });\n      });\n\n      // model -> UI\n      ngModelCtrl.$render = function() {\n        if (ngModelCtrl.$viewValue && buttonsCtrl !== null) {\n          buttonsCtrl.activate(indexInGroup);\n        }\n        element.toggleClass('active', ngModelCtrl.$viewValue);\n      };\n    }\n  };\n};\n\n\nexports.directive('ngeoBtn', exports.btnComponent_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/btnComponent.js","/**\n * @module ol/interaction/ModifyEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered upon feature modification start\n   * @event ol.interaction.Modify.Event#modifystart\n   * @api\n   */\n  MODIFYSTART: 'modifystart',\n  /**\n   * Triggered upon feature modification end\n   * @event ol.interaction.Modify.Event#modifyend\n   * @api\n   */\n  MODIFYEND: 'modifyend'\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/ModifyEventType.js\n// module id = null\n// module chunks = ","/**\n * @module ol/interaction/Modify\n */\nimport {getUid, inherits} from '../index.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Feature from '../Feature.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport MapBrowserPointerEvent from '../MapBrowserPointerEvent.js';\nimport {equals} from '../array.js';\nimport _ol_coordinate_ from '../coordinate.js';\nimport _ol_events_ from '../events.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport _ol_events_condition_ from '../events/condition.js';\nimport {boundingExtent, buffer, createOrUpdateFromCoordinate} from '../extent.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Point from '../geom/Point.js';\nimport ModifyEventType from '../interaction/ModifyEventType.js';\nimport PointerInteraction from '../interaction/Pointer.js';\nimport VectorLayer from '../layer/Vector.js';\nimport VectorSource from '../source/Vector.js';\nimport VectorEventType from '../source/VectorEventType.js';\nimport RBush from '../structs/RBush.js';\nimport Style from '../style/Style.js';\n\n/**\n * @classdesc\n * Interaction for modifying feature geometries.  To modify features that have\n * been added to an existing source, construct the modify interaction with the\n * `source` option.  If you want to modify features in a collection (for example,\n * the collection used by a select interaction), construct the interaction with\n * the `features` option.  The interaction must be constructed with either a\n * `source` or `features` option.\n *\n * By default, the interaction will allow deletion of vertices when the `alt`\n * key is pressed.  To configure the interaction with a different condition\n * for deletion, use the `deleteCondition` option.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.ModifyOptions} options Options.\n * @fires ol.interaction.Modify.Event\n * @api\n */\nconst Modify = function(options) {\n\n  PointerInteraction.call(this, {\n    handleDownEvent: Modify.handleDownEvent_,\n    handleDragEvent: Modify.handleDragEvent_,\n    handleEvent: Modify.handleEvent,\n    handleUpEvent: Modify.handleUpEvent_\n  });\n\n  /**\n   * @private\n   * @type {ol.EventsConditionType}\n   */\n  this.condition_ = options.condition ?\n    options.condition : _ol_events_condition_.primaryAction;\n\n\n  /**\n   * @private\n   * @param {ol.MapBrowserEvent} mapBrowserEvent Browser event.\n   * @return {boolean} Combined condition result.\n   */\n  this.defaultDeleteCondition_ = function(mapBrowserEvent) {\n    return _ol_events_condition_.altKeyOnly(mapBrowserEvent) &&\n      _ol_events_condition_.singleClick(mapBrowserEvent);\n  };\n\n  /**\n   * @type {ol.EventsConditionType}\n   * @private\n   */\n  this.deleteCondition_ = options.deleteCondition ?\n    options.deleteCondition : this.defaultDeleteCondition_;\n\n  /**\n   * @type {ol.EventsConditionType}\n   * @private\n   */\n  this.insertVertexCondition_ = options.insertVertexCondition ?\n    options.insertVertexCondition : _ol_events_condition_.always;\n\n  /**\n   * Editing vertex.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.vertexFeature_ = null;\n\n  /**\n   * Segments intersecting {@link this.vertexFeature_} by segment uid.\n   * @type {Object.<string, boolean>}\n   * @private\n   */\n  this.vertexSegments_ = null;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.lastPixel_ = [0, 0];\n\n  /**\n   * Tracks if the next `singleclick` event should be ignored to prevent\n   * accidental deletion right after vertex creation.\n   * @type {boolean}\n   * @private\n   */\n  this.ignoreNextSingleClick_ = false;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.modified_ = false;\n\n  /**\n   * Segment RTree for each layer\n   * @type {ol.structs.RBush.<ol.ModifySegmentDataType>}\n   * @private\n   */\n  this.rBush_ = new RBush();\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n    options.pixelTolerance : 10;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.snappedToVertex_ = false;\n\n  /**\n   * Indicate whether the interaction is currently changing a feature's\n   * coordinates.\n   * @type {boolean}\n   * @private\n   */\n  this.changingFeature_ = false;\n\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.dragSegments_ = [];\n\n  /**\n   * Draw overlay where sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new VectorLayer({\n    source: new VectorSource({\n      useSpatialIndex: false,\n      wrapX: !!options.wrapX\n    }),\n    style: options.style ? options.style :\n      Modify.getDefaultStyleFunction(),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n  * @const\n  * @private\n  * @type {Object.<string, function(ol.Feature, ol.geom.Geometry)>}\n  */\n  this.SEGMENT_WRITERS_ = {\n    'Point': this.writePointGeometry_,\n    'LineString': this.writeLineStringGeometry_,\n    'LinearRing': this.writeLineStringGeometry_,\n    'Polygon': this.writePolygonGeometry_,\n    'MultiPoint': this.writeMultiPointGeometry_,\n    'MultiLineString': this.writeMultiLineStringGeometry_,\n    'MultiPolygon': this.writeMultiPolygonGeometry_,\n    'Circle': this.writeCircleGeometry_,\n    'GeometryCollection': this.writeGeometryCollectionGeometry_\n  };\n\n\n  /**\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.source_ = null;\n\n  let features;\n  if (options.source) {\n    this.source_ = options.source;\n    features = new Collection(this.source_.getFeatures());\n    _ol_events_.listen(this.source_, VectorEventType.ADDFEATURE,\n      this.handleSourceAdd_, this);\n    _ol_events_.listen(this.source_, VectorEventType.REMOVEFEATURE,\n      this.handleSourceRemove_, this);\n  } else {\n    features = options.features;\n  }\n  if (!features) {\n    throw new Error('The modify interaction requires features or a source');\n  }\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = features;\n\n  this.features_.forEach(this.addFeature_.bind(this));\n  _ol_events_.listen(this.features_, CollectionEventType.ADD,\n    this.handleFeatureAdd_, this);\n  _ol_events_.listen(this.features_, CollectionEventType.REMOVE,\n    this.handleFeatureRemove_, this);\n\n  /**\n   * @type {ol.MapBrowserPointerEvent}\n   * @private\n   */\n  this.lastPointerEvent_ = null;\n\n};\n\ninherits(Modify, PointerInteraction);\n\n\n/**\n * @define {number} The segment index assigned to a circle's center when\n * breaking up a cicrle into ModifySegmentDataType segments.\n */\nModify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX = 0;\n\n/**\n * @define {number} The segment index assigned to a circle's circumference when\n * breaking up a circle into ModifySegmentDataType segments.\n */\nModify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX = 1;\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nModify.prototype.addFeature_ = function(feature) {\n  const geometry = feature.getGeometry();\n  if (geometry && geometry.getType() in this.SEGMENT_WRITERS_) {\n    this.SEGMENT_WRITERS_[geometry.getType()].call(this, feature, geometry);\n  }\n  const map = this.getMap();\n  if (map && map.isRendered() && this.getActive()) {\n    this.handlePointerAtPixel_(this.lastPixel_, map);\n  }\n  _ol_events_.listen(feature, EventType.CHANGE,\n    this.handleFeatureChange_, this);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Map browser event\n * @private\n */\nModify.prototype.willModifyFeatures_ = function(evt) {\n  if (!this.modified_) {\n    this.modified_ = true;\n    this.dispatchEvent(new Modify.Event(\n      ModifyEventType.MODIFYSTART, this.features_, evt));\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nModify.prototype.removeFeature_ = function(feature) {\n  this.removeFeatureSegmentData_(feature);\n  // Remove the vertex feature if the collection of canditate features\n  // is empty.\n  if (this.vertexFeature_ && this.features_.getLength() === 0) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n  _ol_events_.unlisten(feature, EventType.CHANGE,\n    this.handleFeatureChange_, this);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nModify.prototype.removeFeatureSegmentData_ = function(feature) {\n  const rBush = this.rBush_;\n  const /** @type {Array.<ol.ModifySegmentDataType>} */ nodesToRemove = [];\n  rBush.forEach(\n    /**\n       * @param {ol.ModifySegmentDataType} node RTree node.\n       */\n    function(node) {\n      if (feature === node.feature) {\n        nodesToRemove.push(node);\n      }\n    });\n  for (let i = nodesToRemove.length - 1; i >= 0; --i) {\n    rBush.remove(nodesToRemove[i]);\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nModify.prototype.setActive = function(active) {\n  if (this.vertexFeature_ && !active) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n  PointerInteraction.prototype.setActive.call(this, active);\n};\n\n\n/**\n * @inheritDoc\n */\nModify.prototype.setMap = function(map) {\n  this.overlay_.setMap(map);\n  PointerInteraction.prototype.setMap.call(this, map);\n};\n\n\n/**\n * @param {ol.source.Vector.Event} event Event.\n * @private\n */\nModify.prototype.handleSourceAdd_ = function(event) {\n  if (event.feature) {\n    this.features_.push(event.feature);\n  }\n};\n\n\n/**\n * @param {ol.source.Vector.Event} event Event.\n * @private\n */\nModify.prototype.handleSourceRemove_ = function(event) {\n  if (event.feature) {\n    this.features_.remove(event.feature);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nModify.prototype.handleFeatureAdd_ = function(evt) {\n  this.addFeature_(/** @type {ol.Feature} */ (evt.element));\n};\n\n\n/**\n * @param {ol.events.Event} evt Event.\n * @private\n */\nModify.prototype.handleFeatureChange_ = function(evt) {\n  if (!this.changingFeature_) {\n    const feature = /** @type {ol.Feature} */ (evt.target);\n    this.removeFeature_(feature);\n    this.addFeature_(feature);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nModify.prototype.handleFeatureRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Point} geometry Geometry.\n * @private\n */\nModify.prototype.writePointGeometry_ = function(feature, geometry) {\n  const coordinates = geometry.getCoordinates();\n  const segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    segment: [coordinates, coordinates]\n  });\n  this.rBush_.insert(geometry.getExtent(), segmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPoint} geometry Geometry.\n * @private\n */\nModify.prototype.writeMultiPointGeometry_ = function(feature, geometry) {\n  const points = geometry.getCoordinates();\n  let coordinates, i, ii, segmentData;\n  for (i = 0, ii = points.length; i < ii; ++i) {\n    coordinates = points[i];\n    segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n      feature: feature,\n      geometry: geometry,\n      depth: [i],\n      index: i,\n      segment: [coordinates, coordinates]\n    });\n    this.rBush_.insert(geometry.getExtent(), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.LineString} geometry Geometry.\n * @private\n */\nModify.prototype.writeLineStringGeometry_ = function(feature, geometry) {\n  const coordinates = geometry.getCoordinates();\n  let i, ii, segment, segmentData;\n  for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n    segment = coordinates.slice(i, i + 2);\n    segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n      feature: feature,\n      geometry: geometry,\n      index: i,\n      segment: segment\n    });\n    this.rBush_.insert(boundingExtent(segment), segmentData);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiLineString} geometry Geometry.\n * @private\n */\nModify.prototype.writeMultiLineStringGeometry_ = function(feature, geometry) {\n  const lines = geometry.getCoordinates();\n  let coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = lines.length; j < jj; ++j) {\n    coordinates = lines[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Polygon} geometry Geometry.\n * @private\n */\nModify.prototype.writePolygonGeometry_ = function(feature, geometry) {\n  const rings = geometry.getCoordinates();\n  let coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = rings.length; j < jj; ++j) {\n    coordinates = rings[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.MultiPolygon} geometry Geometry.\n * @private\n */\nModify.prototype.writeMultiPolygonGeometry_ = function(feature, geometry) {\n  const polygons = geometry.getCoordinates();\n  let coordinates, i, ii, j, jj, k, kk, rings, segment, segmentData;\n  for (k = 0, kk = polygons.length; k < kk; ++k) {\n    rings = polygons[k];\n    for (j = 0, jj = rings.length; j < jj; ++j) {\n      coordinates = rings[j];\n      for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        segment = coordinates.slice(i, i + 2);\n        segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n          feature: feature,\n          geometry: geometry,\n          depth: [j, k],\n          index: i,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    }\n  }\n};\n\n\n/**\n * We convert a circle into two segments.  The segment at index\n * {@link ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX} is the\n * circle's center (a point).  The segment at index\n * {@link ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX} is\n * the circumference, and is not a line segment.\n *\n * @param {ol.Feature} feature Feature.\n * @param {ol.geom.Circle} geometry Geometry.\n * @private\n */\nModify.prototype.writeCircleGeometry_ = function(feature, geometry) {\n  const coordinates = geometry.getCenter();\n  const centerSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    index: Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,\n    segment: [coordinates, coordinates]\n  });\n  const circumferenceSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    feature: feature,\n    geometry: geometry,\n    index: Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,\n    segment: [coordinates, coordinates]\n  });\n  const featureSegments = [centerSegmentData, circumferenceSegmentData];\n  centerSegmentData.featureSegments = circumferenceSegmentData.featureSegments = featureSegments;\n  this.rBush_.insert(createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n  this.rBush_.insert(geometry.getExtent(), circumferenceSegmentData);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.GeometryCollection} geometry Geometry.\n * @private\n */\nModify.prototype.writeGeometryCollectionGeometry_ = function(feature, geometry) {\n  const geometries = geometry.getGeometriesArray();\n  for (let i = 0; i < geometries.length; ++i) {\n    this.SEGMENT_WRITERS_[geometries[i].getType()].call(\n      this, feature, geometries[i]);\n  }\n};\n\n\n/**\n * @param {ol.Coordinate} coordinates Coordinates.\n * @return {ol.Feature} Vertex feature.\n * @private\n */\nModify.prototype.createOrUpdateVertexFeature_ = function(coordinates) {\n  let vertexFeature = this.vertexFeature_;\n  if (!vertexFeature) {\n    vertexFeature = new Feature(new Point(coordinates));\n    this.vertexFeature_ = vertexFeature;\n    this.overlay_.getSource().addFeature(vertexFeature);\n  } else {\n    const geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    geometry.setCoordinates(coordinates);\n  }\n  return vertexFeature;\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} a The first segment data.\n * @param {ol.ModifySegmentDataType} b The second segment data.\n * @return {number} The difference in indexes.\n * @private\n */\nModify.compareIndexes_ = function(a, b) {\n  return a.index - b.index;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Modify}\n * @private\n */\nModify.handleDownEvent_ = function(evt) {\n  if (!this.condition_(evt)) {\n    return false;\n  }\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n  const pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\n  this.dragSegments_.length = 0;\n  this.modified_ = false;\n  const vertexFeature = this.vertexFeature_;\n  if (vertexFeature) {\n    const insertVertices = [];\n    const geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    const vertex = geometry.getCoordinates();\n    const vertexExtent = boundingExtent([vertex]);\n    const segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\n    const componentSegments = {};\n    segmentDataMatches.sort(Modify.compareIndexes_);\n    for (let i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\n      const segmentDataMatch = segmentDataMatches[i];\n      const segment = segmentDataMatch.segment;\n      let uid = getUid(segmentDataMatch.feature);\n      const depth = segmentDataMatch.depth;\n      if (depth) {\n        uid += '-' + depth.join('-'); // separate feature components\n      }\n      if (!componentSegments[uid]) {\n        componentSegments[uid] = new Array(2);\n      }\n      if (segmentDataMatch.geometry.getType() === GeometryType.CIRCLE &&\n      segmentDataMatch.index === Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n\n        const closestVertex = Modify.closestOnSegmentData_(pixelCoordinate, segmentDataMatch);\n        if (_ol_coordinate_.equals(closestVertex, vertex) && !componentSegments[uid][0]) {\n          this.dragSegments_.push([segmentDataMatch, 0]);\n          componentSegments[uid][0] = segmentDataMatch;\n        }\n      } else if (_ol_coordinate_.equals(segment[0], vertex) &&\n          !componentSegments[uid][0]) {\n        this.dragSegments_.push([segmentDataMatch, 0]);\n        componentSegments[uid][0] = segmentDataMatch;\n      } else if (_ol_coordinate_.equals(segment[1], vertex) &&\n          !componentSegments[uid][1]) {\n\n        // prevent dragging closed linestrings by the connecting node\n        if ((segmentDataMatch.geometry.getType() ===\n            GeometryType.LINE_STRING ||\n            segmentDataMatch.geometry.getType() ===\n            GeometryType.MULTI_LINE_STRING) &&\n            componentSegments[uid][0] &&\n            componentSegments[uid][0].index === 0) {\n          continue;\n        }\n\n        this.dragSegments_.push([segmentDataMatch, 1]);\n        componentSegments[uid][1] = segmentDataMatch;\n      } else if (this.insertVertexCondition_(evt) && getUid(segment) in this.vertexSegments_ &&\n          (!componentSegments[uid][0] && !componentSegments[uid][1])) {\n        insertVertices.push([segmentDataMatch, vertex]);\n      }\n    }\n    if (insertVertices.length) {\n      this.willModifyFeatures_(evt);\n    }\n    for (let j = insertVertices.length - 1; j >= 0; --j) {\n      this.insertVertex_.apply(this, insertVertices[j]);\n    }\n  }\n  return !!this.vertexFeature_;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @this {ol.interaction.Modify}\n * @private\n */\nModify.handleDragEvent_ = function(evt) {\n  this.ignoreNextSingleClick_ = false;\n  this.willModifyFeatures_(evt);\n\n  const vertex = evt.coordinate;\n  for (let i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\n    const dragSegment = this.dragSegments_[i];\n    const segmentData = dragSegment[0];\n    const depth = segmentData.depth;\n    const geometry = segmentData.geometry;\n    let coordinates;\n    const segment = segmentData.segment;\n    const index = dragSegment[1];\n\n    while (vertex.length < geometry.getStride()) {\n      vertex.push(segment[index][vertex.length]);\n    }\n\n    switch (geometry.getType()) {\n      case GeometryType.POINT:\n        coordinates = vertex;\n        segment[0] = segment[1] = vertex;\n        break;\n      case GeometryType.MULTI_POINT:\n        coordinates = geometry.getCoordinates();\n        coordinates[segmentData.index] = vertex;\n        segment[0] = segment[1] = vertex;\n        break;\n      case GeometryType.LINE_STRING:\n        coordinates = geometry.getCoordinates();\n        coordinates[segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case GeometryType.MULTI_LINE_STRING:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case GeometryType.POLYGON:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case GeometryType.MULTI_POLYGON:\n        coordinates = geometry.getCoordinates();\n        coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\n        segment[index] = vertex;\n        break;\n      case GeometryType.CIRCLE:\n        segment[0] = segment[1] = vertex;\n        if (segmentData.index === Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX) {\n          this.changingFeature_ = true;\n          geometry.setCenter(vertex);\n          this.changingFeature_ = false;\n        } else { // We're dragging the circle's circumference:\n          this.changingFeature_ = true;\n          geometry.setRadius(_ol_coordinate_.distance(geometry.getCenter(), vertex));\n          this.changingFeature_ = false;\n        }\n        break;\n      default:\n        // pass\n    }\n\n    if (coordinates) {\n      this.setGeometryCoordinates_(geometry, coordinates);\n    }\n  }\n  this.createOrUpdateVertexFeature_(vertex);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Modify}\n * @private\n */\nModify.handleUpEvent_ = function(evt) {\n  let segmentData;\n  let geometry;\n  for (let i = this.dragSegments_.length - 1; i >= 0; --i) {\n    segmentData = this.dragSegments_[i][0];\n    geometry = segmentData.geometry;\n    if (geometry.getType() === GeometryType.CIRCLE) {\n      // Update a circle object in the R* bush:\n      const coordinates = geometry.getCenter();\n      const centerSegmentData = segmentData.featureSegments[0];\n      const circumferenceSegmentData = segmentData.featureSegments[1];\n      centerSegmentData.segment[0] = centerSegmentData.segment[1] = coordinates;\n      circumferenceSegmentData.segment[0] = circumferenceSegmentData.segment[1] = coordinates;\n      this.rBush_.update(createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n      this.rBush_.update(geometry.getExtent(), circumferenceSegmentData);\n    } else {\n      this.rBush_.update(boundingExtent(segmentData.segment),\n        segmentData);\n    }\n  }\n  if (this.modified_) {\n    this.dispatchEvent(new Modify.Event(\n      ModifyEventType.MODIFYEND, this.features_, evt));\n    this.modified_ = false;\n  }\n  return false;\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may modify the\n * geometry.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ol.interaction.Modify}\n * @api\n */\nModify.handleEvent = function(mapBrowserEvent) {\n  if (!(mapBrowserEvent instanceof MapBrowserPointerEvent)) {\n    return true;\n  }\n  this.lastPointerEvent_ = mapBrowserEvent;\n\n  let handled;\n  if (!mapBrowserEvent.map.getView().getInteracting() &&\n      mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE &&\n      !this.handlingDownUpSequence) {\n    this.handlePointerMove_(mapBrowserEvent);\n  }\n  if (this.vertexFeature_ && this.deleteCondition_(mapBrowserEvent)) {\n    if (mapBrowserEvent.type != MapBrowserEventType.SINGLECLICK ||\n        !this.ignoreNextSingleClick_) {\n      handled = this.removePoint();\n    } else {\n      handled = true;\n    }\n  }\n\n  if (mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK) {\n    this.ignoreNextSingleClick_ = false;\n  }\n\n  return PointerInteraction.handleEvent.call(this, mapBrowserEvent) &&\n      !handled;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @private\n */\nModify.prototype.handlePointerMove_ = function(evt) {\n  this.lastPixel_ = evt.pixel;\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n};\n\n\n/**\n * @param {ol.Pixel} pixel Pixel\n * @param {ol.PluggableMap} map Map.\n * @private\n */\nModify.prototype.handlePointerAtPixel_ = function(pixel, map) {\n  const pixelCoordinate = map.getCoordinateFromPixel(pixel);\n  const sortByDistance = function(a, b) {\n    return Modify.pointDistanceToSegmentDataSquared_(pixelCoordinate, a) -\n        Modify.pointDistanceToSegmentDataSquared_(pixelCoordinate, b);\n  };\n\n  const box = buffer(createOrUpdateFromCoordinate(pixelCoordinate),\n    map.getView().getResolution() * this.pixelTolerance_);\n\n  const rBush = this.rBush_;\n  const nodes = rBush.getInExtent(box);\n  if (nodes.length > 0) {\n    nodes.sort(sortByDistance);\n    const node = nodes[0];\n    const closestSegment = node.segment;\n    let vertex = Modify.closestOnSegmentData_(pixelCoordinate, node);\n    const vertexPixel = map.getPixelFromCoordinate(vertex);\n    let dist = _ol_coordinate_.distance(pixel, vertexPixel);\n    if (dist <= this.pixelTolerance_) {\n      const vertexSegments = {};\n\n      if (node.geometry.getType() === GeometryType.CIRCLE &&\n      node.index === Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n\n        this.snappedToVertex_ = true;\n        this.createOrUpdateVertexFeature_(vertex);\n      } else {\n        const pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n        const pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n        const squaredDist1 = _ol_coordinate_.squaredDistance(vertexPixel, pixel1);\n        const squaredDist2 = _ol_coordinate_.squaredDistance(vertexPixel, pixel2);\n        dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n        this.snappedToVertex_ = dist <= this.pixelTolerance_;\n        if (this.snappedToVertex_) {\n          vertex = squaredDist1 > squaredDist2 ?\n            closestSegment[1] : closestSegment[0];\n        }\n        this.createOrUpdateVertexFeature_(vertex);\n        let segment;\n        for (let i = 1, ii = nodes.length; i < ii; ++i) {\n          segment = nodes[i].segment;\n          if ((_ol_coordinate_.equals(closestSegment[0], segment[0]) &&\n              _ol_coordinate_.equals(closestSegment[1], segment[1]) ||\n              (_ol_coordinate_.equals(closestSegment[0], segment[1]) &&\n              _ol_coordinate_.equals(closestSegment[1], segment[0])))) {\n            vertexSegments[getUid(segment)] = true;\n          } else {\n            break;\n          }\n        }\n      }\n\n      vertexSegments[getUid(closestSegment)] = true;\n      this.vertexSegments_ = vertexSegments;\n      return;\n    }\n  }\n  if (this.vertexFeature_) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n};\n\n\n/**\n * Returns the distance from a point to a line segment.\n *\n * @param {ol.Coordinate} pointCoordinates The coordinates of the point from\n *        which to calculate the distance.\n * @param {ol.ModifySegmentDataType} segmentData The object describing the line\n *        segment we are calculating the distance to.\n * @return {number} The square of the distance between a point and a line segment.\n */\nModify.pointDistanceToSegmentDataSquared_ = function(pointCoordinates, segmentData) {\n  const geometry = segmentData.geometry;\n\n  if (geometry.getType() === GeometryType.CIRCLE) {\n    const circleGeometry = /** @type {ol.geom.Circle} */ (geometry);\n\n    if (segmentData.index === Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n      const distanceToCenterSquared =\n            _ol_coordinate_.squaredDistance(circleGeometry.getCenter(), pointCoordinates);\n      const distanceToCircumference =\n            Math.sqrt(distanceToCenterSquared) - circleGeometry.getRadius();\n      return distanceToCircumference * distanceToCircumference;\n    }\n  }\n  return _ol_coordinate_.squaredDistanceToSegment(pointCoordinates, segmentData.segment);\n};\n\n/**\n * Returns the point closest to a given line segment.\n *\n * @param {ol.Coordinate} pointCoordinates The point to which a closest point\n *        should be found.\n * @param {ol.ModifySegmentDataType} segmentData The object describing the line\n *        segment which should contain the closest point.\n * @return {ol.Coordinate} The point closest to the specified line segment.\n */\nModify.closestOnSegmentData_ = function(pointCoordinates, segmentData) {\n  const geometry = segmentData.geometry;\n\n  if (geometry.getType() === GeometryType.CIRCLE &&\n  segmentData.index === Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX) {\n    return geometry.getClosestPoint(pointCoordinates);\n  }\n  return _ol_coordinate_.closestOnSegment(pointCoordinates, segmentData.segment);\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} segmentData Segment data.\n * @param {ol.Coordinate} vertex Vertex.\n * @private\n */\nModify.prototype.insertVertex_ = function(segmentData, vertex) {\n  const segment = segmentData.segment;\n  const feature = segmentData.feature;\n  const geometry = segmentData.geometry;\n  const depth = segmentData.depth;\n  const index = /** @type {number} */ (segmentData.index);\n  let coordinates;\n\n  while (vertex.length < geometry.getStride()) {\n    vertex.push(0);\n  }\n\n  switch (geometry.getType()) {\n    case GeometryType.MULTI_LINE_STRING:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case GeometryType.POLYGON:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case GeometryType.MULTI_POLYGON:\n      coordinates = geometry.getCoordinates();\n      coordinates[depth[1]][depth[0]].splice(index + 1, 0, vertex);\n      break;\n    case GeometryType.LINE_STRING:\n      coordinates = geometry.getCoordinates();\n      coordinates.splice(index + 1, 0, vertex);\n      break;\n    default:\n      return;\n  }\n\n  this.setGeometryCoordinates_(geometry, coordinates);\n  const rTree = this.rBush_;\n  rTree.remove(segmentData);\n  this.updateSegmentIndices_(geometry, index, depth, 1);\n  const newSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n    segment: [segment[0], vertex],\n    feature: feature,\n    geometry: geometry,\n    depth: depth,\n    index: index\n  });\n  rTree.insert(boundingExtent(newSegmentData.segment),\n    newSegmentData);\n  this.dragSegments_.push([newSegmentData, 1]);\n\n  const newSegmentData2 = /** @type {ol.ModifySegmentDataType} */ ({\n    segment: [vertex, segment[1]],\n    feature: feature,\n    geometry: geometry,\n    depth: depth,\n    index: index + 1\n  });\n  rTree.insert(boundingExtent(newSegmentData2.segment),\n    newSegmentData2);\n  this.dragSegments_.push([newSegmentData2, 0]);\n  this.ignoreNextSingleClick_ = true;\n};\n\n/**\n * Removes the vertex currently being pointed.\n * @return {boolean} True when a vertex was removed.\n * @api\n */\nModify.prototype.removePoint = function() {\n  if (this.lastPointerEvent_ && this.lastPointerEvent_.type != MapBrowserEventType.POINTERDRAG) {\n    const evt = this.lastPointerEvent_;\n    this.willModifyFeatures_(evt);\n    this.removeVertex_();\n    this.dispatchEvent(new Modify.Event(\n      ModifyEventType.MODIFYEND, this.features_, evt));\n    this.modified_ = false;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes a vertex from all matching features.\n * @return {boolean} True when a vertex was removed.\n * @private\n */\nModify.prototype.removeVertex_ = function() {\n  const dragSegments = this.dragSegments_;\n  const segmentsByFeature = {};\n  let deleted = false;\n  let component, coordinates, dragSegment, geometry, i, index, left;\n  let newIndex, right, segmentData, uid;\n  for (i = dragSegments.length - 1; i >= 0; --i) {\n    dragSegment = dragSegments[i];\n    segmentData = dragSegment[0];\n    uid = getUid(segmentData.feature);\n    if (segmentData.depth) {\n      // separate feature components\n      uid += '-' + segmentData.depth.join('-');\n    }\n    if (!(uid in segmentsByFeature)) {\n      segmentsByFeature[uid] = {};\n    }\n    if (dragSegment[1] === 0) {\n      segmentsByFeature[uid].right = segmentData;\n      segmentsByFeature[uid].index = segmentData.index;\n    } else if (dragSegment[1] == 1) {\n      segmentsByFeature[uid].left = segmentData;\n      segmentsByFeature[uid].index = segmentData.index + 1;\n    }\n\n  }\n  for (uid in segmentsByFeature) {\n    right = segmentsByFeature[uid].right;\n    left = segmentsByFeature[uid].left;\n    index = segmentsByFeature[uid].index;\n    newIndex = index - 1;\n    if (left !== undefined) {\n      segmentData = left;\n    } else {\n      segmentData = right;\n    }\n    if (newIndex < 0) {\n      newIndex = 0;\n    }\n    geometry = segmentData.geometry;\n    coordinates = geometry.getCoordinates();\n    component = coordinates;\n    deleted = false;\n    switch (geometry.getType()) {\n      case GeometryType.MULTI_LINE_STRING:\n        if (coordinates[segmentData.depth[0]].length > 2) {\n          coordinates[segmentData.depth[0]].splice(index, 1);\n          deleted = true;\n        }\n        break;\n      case GeometryType.LINE_STRING:\n        if (coordinates.length > 2) {\n          coordinates.splice(index, 1);\n          deleted = true;\n        }\n        break;\n      case GeometryType.MULTI_POLYGON:\n        component = component[segmentData.depth[1]];\n        /* falls through */\n      case GeometryType.POLYGON:\n        component = component[segmentData.depth[0]];\n        if (component.length > 4) {\n          if (index == component.length - 1) {\n            index = 0;\n          }\n          component.splice(index, 1);\n          deleted = true;\n          if (index === 0) {\n            // close the ring again\n            component.pop();\n            component.push(component[0]);\n            newIndex = component.length - 1;\n          }\n        }\n        break;\n      default:\n        // pass\n    }\n\n    if (deleted) {\n      this.setGeometryCoordinates_(geometry, coordinates);\n      const segments = [];\n      if (left !== undefined) {\n        this.rBush_.remove(left);\n        segments.push(left.segment[0]);\n      }\n      if (right !== undefined) {\n        this.rBush_.remove(right);\n        segments.push(right.segment[1]);\n      }\n      if (left !== undefined && right !== undefined) {\n        const newSegmentData = /** @type {ol.ModifySegmentDataType} */ ({\n          depth: segmentData.depth,\n          feature: segmentData.feature,\n          geometry: segmentData.geometry,\n          index: newIndex,\n          segment: segments\n        });\n        this.rBush_.insert(boundingExtent(newSegmentData.segment),\n          newSegmentData);\n      }\n      this.updateSegmentIndices_(geometry, index, segmentData.depth, -1);\n      if (this.vertexFeature_) {\n        this.overlay_.getSource().removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      dragSegments.length = 0;\n    }\n\n  }\n  return deleted;\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {Array} coordinates Coordinates.\n * @private\n */\nModify.prototype.setGeometryCoordinates_ = function(geometry, coordinates) {\n  this.changingFeature_ = true;\n  geometry.setCoordinates(coordinates);\n  this.changingFeature_ = false;\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {number} index Index.\n * @param {Array.<number>|undefined} depth Depth.\n * @param {number} delta Delta (1 or -1).\n * @private\n */\nModify.prototype.updateSegmentIndices_ = function(\n  geometry, index, depth, delta) {\n  this.rBush_.forEachInExtent(geometry.getExtent(), function(segmentDataMatch) {\n    if (segmentDataMatch.geometry === geometry &&\n        (depth === undefined || segmentDataMatch.depth === undefined ||\n        equals(segmentDataMatch.depth, depth)) &&\n        segmentDataMatch.index > index) {\n      segmentDataMatch.index += delta;\n    }\n  });\n};\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\nModify.getDefaultStyleFunction = function() {\n  const style = Style.createDefaultEditing();\n  return function(feature, resolution) {\n    return style[GeometryType.POINT];\n  };\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Modify} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.ModifyEvent}\n * @param {ol.interaction.ModifyEventType} type Type.\n * @param {ol.Collection.<ol.Feature>} features The features modified.\n * @param {ol.MapBrowserPointerEvent} mapBrowserPointerEvent Associated\n *     {@link ol.MapBrowserPointerEvent}.\n */\nModify.Event = function(type, features, mapBrowserPointerEvent) {\n\n  Event.call(this, type);\n\n  /**\n   * The features being modified.\n   * @type {ol.Collection.<ol.Feature>}\n   * @api\n   */\n  this.features = features;\n\n  /**\n   * Associated {@link ol.MapBrowserEvent}.\n   * @type {ol.MapBrowserEvent}\n   * @api\n   */\n  this.mapBrowserEvent = mapBrowserPointerEvent;\n};\ninherits(Modify.Event, Event);\nexport default Modify;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/Modify.js\n// module id = null\n// module chunks = ","/**\n * @module ngeo.rule.Geometry\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoRuleRule from 'ngeo/rule/Rule.js';\nimport olObject from 'ol/Object.js';\nimport olEvents from 'ol/events.js';\nimport olObservable from 'ol/Observable.js';\nimport olFeature from 'ol/Feature.js';\nimport olFormatGeoJSON from 'ol/format/GeoJSON.js';\nimport olGeomGeometry from 'ol/geom/Geometry.js';\n\nconst exports = class extends ngeoRuleRule {\n\n  /**\n   * A rule bound to the geometry of a `ol.Feature` object. Changes made\n   * to the geometry are applied to the `expression` property of the rule.\n   *\n   * @struct\n   * @param {!ngeox.rule.GeometryOptions} options Options.\n   */\n  constructor(options) {\n\n    options.type = ngeoFormatAttributeType.GEOMETRY;\n\n    super(options);\n\n    // === STATIC properties ===\n\n    const properties = options.featureProperties || {};\n\n    /**\n     * @type {!ol.Feature}\n     * @private\n     */\n    this.feature_ = new olFeature(properties);\n\n    /**\n     * @type {!ol.format.GeoJSON}\n     * @private\n     */\n    this.format_ = new olFormatGeoJSON();\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.updatingExpression_ = false;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.updatingGeometry_ = false;\n\n    /**\n     * @type {?ol.EventsKey}\n     * @private\n     */\n    this.geometryChangeListenerKey_ = null;\n\n    this.listenerKeys.push(\n      olEvents.listen(\n        this.feature_,\n        olObject.getChangeEventType(this.feature.getGeometryName()),\n        this.handleFeatureGeometryChange_,\n        this\n      )\n    );\n\n    this.setGeometryFromExpression_();\n\n  }\n\n  // === Static property getters/setters ===\n\n  /**\n   * @return {!ol.Feature} Feature.\n   * @export\n   */\n  get feature() {\n    return this.feature_;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  setExpression(expression) {\n    this.updatingExpression_ = true;\n    super.setExpression(expression);\n\n    if (!this.updatingGeometry_) {\n      this.setGeometryFromExpression_();\n    }\n\n    this.registerGeometryChange_();\n\n    this.updatingExpression_ = false;\n  }\n\n  // === Calculated property getters/setters ===\n\n  /**\n   * @return {?ol.geom.Geometry} Geometry\n   * @export\n   */\n  get geometry() {\n    return this.feature_.getGeometry() || null;\n  }\n\n  /**\n   * @param {?ol.geom.Geometry} geometry Geometry\n   * @export\n   */\n  set geometry(geometry) {\n    this.feature_.setGeometry(geometry);\n  }\n\n  // === Other methods ===\n\n  /**\n   * Called when the geometry property in the feature changes. Update the\n   * expression accordingly.\n   * @private\n   */\n  handleFeatureGeometryChange_() {\n    if (this.updatingExpression_) {\n      return;\n    }\n\n    this.updatingGeometry_ = true;\n\n    const geometry = this.feature_.getGeometry();\n    if (geometry) {\n      this.expression = this.format_.writeGeometry(geometry);\n    } else {\n      this.expression = null;\n    }\n\n    this.registerGeometryChange_();\n\n    this.updatingGeometry_ = false;\n  }\n\n  /**\n   * Called when the geometry of the features changes. Update the expression\n   * accordingly.\n   * @param {ol.Object.Event} evt Event\n   * @private\n   */\n  handleGeometryChange_(evt) {\n    const geometry = googAsserts.assertInstanceof(\n      evt.target, olGeomGeometry\n    );\n    this.updatingGeometry_ = true;\n    this.expression = this.format_.writeGeometry(geometry);\n    this.updatingGeometry_ = false;\n  }\n\n  /**\n   * Set geometry property using the expression property.\n   * @private\n   */\n  setGeometryFromExpression_() {\n    let geometry = null;\n    if (this.expression) {\n      // An expression can only have a string value with a geometry rule.\n      const expression = googAsserts.assertString(this.expression);\n      geometry = this.format_.readGeometry(expression);\n    }\n    this.geometry = geometry;\n  }\n\n  /**\n   * Unlisten the feature geometry change event, then listen to it if the\n   * feature has a geometry.\n   * @private\n   */\n  registerGeometryChange_() {\n\n    // (1) Unlisten\n    if (this.geometryChangeListenerKey_ !== null) {\n      olObservable.unByKey(this.geometryChangeListenerKey_);\n      this.geometryChangeListenerKey_ = null;\n    }\n\n    // (2) Listen, if geom\n    const geometry = this.feature_.getGeometry();\n    if (geometry) {\n      this.geometryChangeListenerKey_ = olEvents.listen(\n        geometry,\n        'change',\n        this.handleGeometryChange_,\n        this\n      );\n    }\n  }\n\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rule/Geometry.js","/**\n * @module ngeo.rule.Select\n */\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoRuleRule from 'ngeo/rule/Rule.js';\n\nconst exports = class extends ngeoRuleRule {\n\n  /**\n   * A select rule, which allows the selection of multiple values among a list\n   * of choices.\n   *\n   * The expression property holds the list of selected choices, which is\n   * comma-separated.\n   *\n   * @struct\n   * @param {!ngeox.rule.SelectOptions} options Options.\n   */\n  constructor(options) {\n\n    options.operator = ngeoRuleRule.OperatorType.EQUAL_TO;\n    options.type = ngeoFormatAttributeType.SELECT;\n\n    super(options);\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n    this.choices_ = options.choices;\n\n  }\n\n  // === Static property getters/setters ===\n\n  /**\n   * @return {Array.<string>} Choices\n   * @export\n   */\n  get choices() {\n    return this.choices_;\n  }\n\n  // === Calculated property getters ===\n\n  /**\n   * @return {Array.<string>} Selected choices\n   * @export\n   */\n  get selectedChoices() {\n    let selectedChoices;\n    if (this.expression) {\n      const stringExpression = String(this.expression);\n      selectedChoices = stringExpression.split(',');\n    } else {\n      selectedChoices = [];\n    }\n    return selectedChoices;\n  }\n\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rule/Select.js","/**\n * @module ngeo.misc.ToolActivateMgr\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscToolActivate from 'ngeo/misc/ToolActivate.js';\n\n/**\n * Provides a service to manage the activation of `ngeo.misc.ToolActivate` objects.\n *\n * Example:\n *\n * Each tool must be registered before using it.\n *\n *     let tool = new ngeo.misc.ToolActivate(interaction, 'active');\n *     ngeoToolActivateMgr.registerTool('mapTools', tool);\n *\n * A tool will be registered in a group identified by a group name.\n * Once registered a tool can be activated and deactivated. When activating a\n * tool, all others tools in the same group will be deactivated.\n *\n *     ngeoToolActivateMgr.activateTool(tool);\n *     ngeoToolActivateMgr.deactivateTool(tool);\n *\n * See our live examples:\n * [../examples/mapquery.html](../examples/mapquery.html)\n * [../examples/toolActivate.html](../examples/toolActivate.html)\n *\n * @param {angular.Scope} $rootScope The rootScope provider.\n * @constructor\n * @struct\n * @ngdoc service\n * @ngname ngeoToolActivateMgr\n * @ngInject\n */\nconst exports = function($rootScope) {\n\n  /**\n   * @type {!Object.<string, Array.<ngeox.miscToolActivateMgrEntry>>}\n   * @private\n   */\n  this.groups_ = {};\n\n  /**\n   * The scope.\n   * @type {angular.Scope}\n   * @private\n   */\n  this.scope_ = $rootScope;\n};\n\n\n/**\n * Register a tool.\n * @param {string} groupName Name of the group of this tool.\n * @param {ngeo.misc.ToolActivate} tool Tool to register.\n * @param {boolean=} opt_defaultActivate If true, this tool will be activated\n *     when all other tools in the group are deactivated.\n * @export\n */\nexports.prototype.registerTool = function(groupName, tool,\n  opt_defaultActivate) {\n  let entries = this.groups_[groupName];\n  if (!entries) {\n    entries = this.groups_[groupName] = [];\n  }\n\n  const unlisten = this.scope_.$watch(\n    tool.getActive,\n    (newVal, oldVal) => {\n      if (newVal === oldVal) {\n        return;\n      }\n      if (newVal) {\n        this.deactivateTools_(groupName, tool);\n      } else {\n        this.activateDefault_(groupName);\n      }\n    });\n\n  entries.push({\n    tool: tool,\n    defaultTool: opt_defaultActivate || false,\n    unlisten: unlisten\n  });\n\n  if (googAsserts.ENABLE_ASSERTS) {\n    // check that only one default tool per group exists\n    let defaultTools = 0;\n    entries.forEach((entry) => {\n      if (entry.defaultTool) {\n        defaultTools++;\n      }\n    });\n    googAsserts.assert(\n      defaultTools <= 1, `more than one default tool in group ${groupName}`);\n  }\n};\n\n\n/**\n * Unregister a tool from a group.\n * @param {string} groupName Name of the group of this tool.\n * @param {ngeo.misc.ToolActivate} tool Tool to unregister.\n * @export\n */\nexports.prototype.unregisterTool = function(groupName, tool) {\n  const entries = this.groups_[groupName];\n  if (entries) {\n    for (let i = 0; i < entries.length; i++) {\n      if (entries[i].tool == tool) {\n        entries[i].unlisten();\n        entries.splice(i, 1);\n        break;\n      }\n    }\n  }\n};\n\n\n/**\n * Unregister each tool from a group.\n * @param {string} groupName Name of the group of tools to unregister.\n * @export\n */\nexports.prototype.unregisterGroup = function(groupName) {\n  const entries = this.groups_[groupName];\n  if (entries) {\n    for (let i = 0; i < entries.length; i++) {\n      entries[i].unlisten();\n    }\n    delete this.groups_[groupName];\n  }\n};\n\n\n/**\n * Activate a tool.\n * @param {ngeo.misc.ToolActivate} tool Tool to activate.\n * @export\n */\nexports.prototype.activateTool = function(tool) {\n  tool.setActive(true);\n};\n\n\n/**\n * Deactivate a tool.\n * @param {ngeo.misc.ToolActivate} tool Tool to deactivate.\n * @export\n */\nexports.prototype.deactivateTool = function(tool) {\n  tool.setActive(false);\n};\n\n\n/**\n * Deactivate all tools except the given one.\n *\n * @param {string} groupName Name of the group.\n * @param {ngeo.misc.ToolActivate} tool Tool to activate.\n * @private\n */\nexports.prototype.deactivateTools_ = function(groupName, tool) {\n  const entries = this.groups_[groupName];\n  for (let i = 0; i < entries.length; i++) {\n    if (tool != entries[i].tool) {\n      entries[i].tool.setActive(false);\n    }\n  }\n};\n\n\n/**\n * Activate the default tool in the given group if no other tool is active.\n *\n * @param {string} groupName Name of the group.\n * @private\n */\nexports.prototype.activateDefault_ = function(groupName) {\n  const entries = this.groups_[groupName];\n  let defaultTool = null;\n  let hasActiveTool = false;\n\n  for (let i = 0; i < entries.length; i++) {\n    hasActiveTool = hasActiveTool || entries[i].tool.getActive();\n\n    if (entries[i].defaultTool) {\n      defaultTool = entries[i].tool;\n    }\n  }\n\n  if (!hasActiveTool && defaultTool !== null) {\n    defaultTool.setActive(true);\n  }\n};\n\n\nexports.module = angular.module('ngeoToolActivateMgr', []);\nexports.module.service('ngeoToolActivateMgr', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/ToolActivateMgr.js","/**\n * @module ngeo.message.modalComponent\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * @type {angular.Module}\n */\nconst exports = angular.module('ngeoModal', []);\n\n/**\n * Provides the \"ngeoModal\" component.\n *\n * This component shows a Bootstrap modal when the `ngModel` expression\n * evaluates to `true`, and it hides it when the `ngModel` expression\n * evaluates to `false`.\n *\n * The components also changes the `ngModel` value when the user manually\n * closes the modal.\n *\n * This component is based on Bootstrap's `modal` classes and associated\n * jQuery plugin.\n *\n *     <ngeo-modal ng-model=\"modalShown\">\n *       <div class=\"modal-header\">\n *         <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\n *                 aria-hidden=\"true\">&times;</button>\n *         <h4 class=\"modal-title\">The Title</h4>\n *       </div>\n *       <div class=\"modal-body\">Some content</div>\n *     </ngeo-modal>\n *\n * Note: for z-indexing purpose, the modal DOM element is automatically moved\n * to document body element.\n *\n * See our live example: [../examples/modal.html](../examples/modal.html)\n *\n * @htmlAttribute {boolean} ngeo-modal-resizable Whether the modal can be\n *     resized or not. Defaults to `false`.\n * @ngdoc component\n * @ngname ngeoModal\n * @type {!angular.Component}\n */\nexports.component_ = {\n  template: `<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <ng-transclude></ng-transclude>\n      </div>\n    </div>\n  </div>`,\n  require: {\n    'ngModel': 'ngModel'\n  },\n  transclude: true,\n  controller: 'ngeoModalController',\n  bindings: {\n    'resizable': '<ngeoModalResizable'\n  }\n};\n\nexports.component('ngeoModal', exports.component_);\n\nexports.Controller_ = class {\n  /**\n   * @ngInject\n   * @param {!angular.Scope} $scope Scope.\n   * @param {!jQuery} $element Element.\n   */\n  constructor($scope, $element) {\n    /**\n     * @private\n     * @type {!jQuery}\n     */\n    this.$element_ = $element;\n\n    /**\n     * @private\n     * @type {!angular.Scope}\n     */\n    this.$scope_ = $scope;\n\n    /**\n     * @private\n     * @type {jQuery}\n     */\n    this.modal_;\n\n    /**\n     * @export\n     * @type {boolean}\n     */\n    this.resizable;\n\n    /**\n     * @export\n     * @type {angular.NgModelController|null}\n     */\n    this.ngModel;\n  }\n\n  $onInit() {\n    this.modal_ = this.$element_.children();\n\n    this.resizable = !!this.resizable;\n\n    const dialog = this.modal_.find('.modal-dialog');\n    dialog.draggable();\n    if (this.resizable) {\n      dialog.resizable();\n    }\n\n    this.ngModel.$render = () => {\n      this.modal_.modal(this.ngModel.$viewValue ? 'show' : 'hide');\n    };\n\n    this.modal_.on('shown.bs.modal hidden.bs.modal', (e) => {\n      const type = e.type;\n      googAsserts.assert(type == 'shown' || type == 'hidden');\n      this.$scope_.$apply(() => {\n        this.ngModel.$setViewValue(type == 'shown');\n      });\n    });\n  }\n\n  $onDestroy() {\n    const dialog = this.modal_.find('.modal-dialog');\n    dialog.draggable('destroy');\n    if (this.resizable) {\n      dialog.resizable('destroy');\n    }\n  }\n};\n\nexports.controller('ngeoModalController', exports.Controller_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/modalComponent.js","/**\n * @module ngeo.format.WFSAttribute\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoFormatAttribute from 'ngeo/format/Attribute.js';\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\n\nconst exports = class {\n\n\n  /**\n   * A format that reads the complexType from a WFS DescribeFeatureType\n   * response for a single set of attributes and return an array of\n   * `ngeox.Attribute`.\n   */\n\n\n  /**\n   * @param {Array.<Object>} complexTypeElements Complex type element\n   * @return {Array.<ngeox.Attribute>} Attributes\n   */\n  read(complexTypeElements) {\n    return complexTypeElements.map(this.readFromComplexTypeElement_);\n  }\n\n\n  /**\n   * @param {Object} object Complex type element\n   * @return {ngeox.Attribute} Attribute\n   * @private\n   */\n  readFromComplexTypeElement_(object) {\n\n    const name = googAsserts.assertString(object['name']);\n    const alias = 'alias' in object ?\n      googAsserts.assertString(object['alias']) : null;\n    const required = object['minOccurs'] != '0';\n\n    const attribute = {\n      name,\n      alias,\n      required\n    };\n\n    const type = googAsserts.assertString(object['type']);\n\n    if (!ngeoFormatAttribute.setGeometryType(attribute, type)) {\n      if (type === 'gml:TimeInstantType') {\n        attribute.type = ngeoFormatAttributeType.DATETIME;\n      } else if (type === 'double') {\n        attribute.type = ngeoFormatAttributeType.NUMBER;\n      } else {\n        attribute.type = ngeoFormatAttributeType.TEXT;\n      }\n    }\n\n    return attribute;\n  }\n\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/WFSAttribute.js","/**\n * @module ngeo.rule.Date\n */\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoRuleRule from 'ngeo/rule/Rule.js';\n\nconst exports = class extends ngeoRuleRule {\n\n  /**\n   * A date rule.\n   *\n   * @struct\n   * @param {!ngeox.rule.DateOptions} options Options.\n   */\n  constructor(options) {\n\n    options.type = options.type || ngeoFormatAttributeType.DATE;\n\n    super(options);\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rule/Date.js","/**\n * @module ngeo.rule.Text\n */\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoRuleRule from 'ngeo/rule/Rule.js';\n\nconst exports = class extends ngeoRuleRule {\n\n  /**\n   * A text rule, which always compares the value with the LIKE operator, by\n   * default.\n   *\n   * @struct\n   * @param {!ngeox.rule.TextOptions} options Options.\n   */\n  constructor(options) {\n\n    options.operator = options.operator || ngeoRuleRule.OperatorType.LIKE;\n    options.type = ngeoFormatAttributeType.TEXT;\n\n    super(options);\n\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rule/Text.js","import { deprecate } from '../utils/deprecate';\nimport isArray from '../utils/is-array';\nimport { createLocal } from '../create/local';\nimport { createInvalid } from '../create/valid';\n\nexport var prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nexport var prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nexport function min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nexport function max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/min-max.js\n// module id = null\n// module chunks = ","export var now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/now.js\n// module id = null\n// module chunks = ","import toInt from '../utils/to-int';\nimport indexOf from '../utils/index-of';\nimport {Duration} from './constructor';\nimport {createDuration} from './create';\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nexport default function isDurationValid(m) {\n    for (var key in m) {\n        if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nexport function isValid() {\n    return this._isValid;\n}\n\nexport function createInvalid() {\n    return createDuration(NaN);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/valid.js\n// module id = null\n// module chunks = ","import { normalizeObjectUnits } from '../units/aliases';\nimport { getLocale } from '../locale/locales';\nimport isDurationValid from './valid.js';\n\nexport function Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible to translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nexport function isDuration (obj) {\n    return obj instanceof Duration;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/constructor.js\n// module id = null\n// module chunks = ","export default function absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/abs-round.js\n// module id = null\n// module chunks = ","import zeroFill from '../utils/zero-fill';\nimport { createDuration } from '../duration/create';\nimport { addSubtract } from '../moment/add-subtract';\nimport { isMoment, copyConfig } from '../moment/constructor';\nimport { addFormatToken } from '../format/format';\nimport { addRegexToken, matchOffset, matchShortOffset } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { createLocal } from '../create/local';\nimport { prepareConfig } from '../create/from-anything';\nimport { createUTC } from '../create/utc';\nimport isDate from '../utils/is-date';\nimport toInt from '../utils/to-int';\nimport isUndefined from '../utils/is-undefined';\nimport compareArrays from '../utils/compare-arrays';\nimport { hooks } from '../utils/hooks';\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nexport function cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nexport function getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nexport function getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nexport function setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nexport function setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nexport function setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nexport function hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nexport function isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nexport function isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nexport function isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nexport function isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nexport function isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/offset.js\n// module id = null\n// module chunks = ","import { Duration, isDuration } from './constructor';\nimport isNumber from '../utils/is-number';\nimport toInt from '../utils/to-int';\nimport absRound from '../utils/abs-round';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { DATE, HOUR, MINUTE, SECOND, MILLISECOND } from '../units/constants';\nimport { cloneWithOffset } from '../units/offset';\nimport { createLocal } from '../create/local';\nimport { createInvalid as invalid } from './valid';\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\nexport function createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = invalid;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/create.js\n// module id = null\n// module chunks = ","import { get, set } from './get-set';\nimport { setMonth } from '../units/month';\nimport { createDuration } from '../duration/create';\nimport { deprecateSimple } from '../utils/deprecate';\nimport { hooks } from '../utils/hooks';\nimport absRound from '../utils/abs-round';\n\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nexport function addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (days) {\n        set(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nexport var add      = createAdder(1, 'add');\nexport var subtract = createAdder(-1, 'subtract');\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/add-subtract.js\n// module id = null\n// module chunks = ","import absFloor from '../utils/abs-floor';\nimport { cloneWithOffset } from '../units/offset';\nimport { normalizeUnits } from '../units/aliases';\n\nexport function diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    switch (units) {\n        case 'year': output = monthDiff(this, that) / 12; break;\n        case 'month': output = monthDiff(this, that); break;\n        case 'quarter': output = monthDiff(this, that) / 3; break;\n        case 'second': output = (this - that) / 1e3; break; // 1000\n        case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n        case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n        case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n        case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n        default: output = this - that;\n    }\n\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/diff.js\n// module id = null\n// module chunks = ","import { getLocale } from '../locale/locales';\nimport { deprecate } from '../utils/deprecate';\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nexport function locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nexport var lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nexport function localeData () {\n    return this._locale;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/locale.js\n// module id = null\n// module chunks = ","import { formatMoment } from '../format/format';\nimport { hooks } from '../utils/hooks';\nimport isFunction from '../utils/is-function';\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nexport function toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nexport function toISOString(keepOffset) {\n    if (!this.isValid()) {\n        return null;\n    }\n    var utc = keepOffset !== true;\n    var m = utc ? this.clone().utc() : this;\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        if (utc) {\n            return this.toDate().toISOString();\n        } else {\n            return new Date(this._d.valueOf()).toISOString().replace('Z', formatMoment(m, 'Z'));\n        }\n    }\n    return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nexport function inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nexport function format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/format.js\n// module id = null\n// module chunks = ","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match1to4, match1to6, match2, match4, match6, matchSigned } from '../parse/regex';\nimport { addWeekParseToken } from '../parse/token';\nimport { weekOfYear, weeksInYear, dayOfYearFromWeeks } from './week-calendar-utils';\nimport toInt from '../utils/to-int';\nimport { hooks } from '../utils/hooks';\nimport { createLocal } from '../create/local';\nimport { createUTCDate } from '../create/date-from-array';\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nexport function getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nexport function getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nexport function getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nexport function getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/week-year.js\n// module id = null\n// module chunks = ","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { MONTH } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nexport function getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/quarter.js\n// module id = null\n// module chunks = ","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { DATE } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0]);\n});\n\n// MOMENTS\n\nexport var getSetDayOfMonth = makeGetSet('Date', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/day-of-month.js\n// module id = null\n// module chunks = ","import { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match3, match1to3 } from '../parse/regex';\nimport { daysInYear } from './year';\nimport { createUTCDate } from '../create/date-from-array';\nimport { addParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nexport function getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/day-of-year.js\n// module id = null\n// module chunks = ","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { MINUTE } from './constants';\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nexport var getSetMinute = makeGetSet('Minutes', false);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/minute.js\n// module id = null\n// module chunks = ","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1to2, match2 } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { SECOND } from './constants';\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nexport var getSetSecond = makeGetSet('Seconds', false);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/second.js\n// module id = null\n// module chunks = ","import { makeGetSet } from '../moment/get-set';\nimport { addFormatToken } from '../format/format';\nimport { addUnitAlias } from './aliases';\nimport { addUnitPriority } from './priorities';\nimport { addRegexToken, match1, match2, match3, match1to3, matchUnsigned } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport { MILLISECOND } from './constants';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nexport var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/millisecond.js\n// module id = null\n// module chunks = ","import { addFormatToken } from '../format/format';\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nexport function getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nexport function getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/timezone.js\n// module id = null\n// module chunks = ","import { Moment } from './constructor';\n\nvar proto = Moment.prototype;\n\nimport { add, subtract } from './add-subtract';\nimport { calendar, getCalendarFormat } from './calendar';\nimport { clone } from './clone';\nimport { isBefore, isBetween, isSame, isAfter, isSameOrAfter, isSameOrBefore } from './compare';\nimport { diff } from './diff';\nimport { format, toString, toISOString, inspect } from './format';\nimport { from, fromNow } from './from';\nimport { to, toNow } from './to';\nimport { stringGet, stringSet } from './get-set';\nimport { locale, localeData, lang } from './locale';\nimport { prototypeMin, prototypeMax } from './min-max';\nimport { startOf, endOf } from './start-end-of';\nimport { valueOf, toDate, toArray, toObject, toJSON, unix } from './to-type';\nimport { isValid, parsingFlags, invalidAt } from './valid';\nimport { creationData } from './creation-data';\n\nproto.add               = add;\nproto.calendar          = calendar;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nimport { getSetYear, getIsLeapYear } from '../units/year';\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nimport { getSetWeekYear, getSetISOWeekYear, getWeeksInYear, getISOWeeksInYear } from '../units/week-year';\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nimport { getSetQuarter } from '../units/quarter';\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nimport { getSetMonth, getDaysInMonth } from '../units/month';\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nimport { getSetWeek, getSetISOWeek } from '../units/week';\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nimport { getSetDayOfMonth } from '../units/day-of-month';\nimport { getSetDayOfWeek, getSetISODayOfWeek, getSetLocaleDayOfWeek } from '../units/day-of-week';\nimport { getSetDayOfYear } from '../units/day-of-year';\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nimport { getSetHour } from '../units/hour';\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nimport { getSetMinute } from '../units/minute';\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nimport { getSetSecond } from '../units/second';\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nimport { getSetMillisecond } from '../units/millisecond';\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nimport {\n    getSetOffset,\n    setOffsetToUTC,\n    setOffsetToLocal,\n    setOffsetToParsedOffset,\n    hasAlignedHourOffset,\n    isDaylightSavingTime,\n    isDaylightSavingTimeShifted,\n    getSetZone,\n    isLocal,\n    isUtcOffset,\n    isUtc\n} from '../units/offset';\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nimport { getZoneAbbr, getZoneName } from '../units/timezone';\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nimport { deprecate } from '../utils/deprecate';\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nexport default proto;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/prototype.js\n// module id = null\n// module chunks = ","import { createLocal } from '../create/local';\nimport { cloneWithOffset } from '../units/offset';\nimport isFunction from '../utils/is-function';\nimport { hooks } from '../utils/hooks';\n\nexport function getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nexport function calendar (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/calendar.js\n// module id = null\n// module chunks = ","import { Moment } from './constructor';\n\nexport function clone () {\n    return new Moment(this);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/clone.js\n// module id = null\n// module chunks = ","import { normalizeUnits } from '../units/aliases';\n\nexport function startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nexport function endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/start-end-of.js\n// module id = null\n// module chunks = ","import { createDuration } from '../duration/create';\nimport { createLocal } from '../create/local';\nimport { isMoment } from '../moment/constructor';\n\nexport function from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nexport function fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/from.js\n// module id = null\n// module chunks = ","import { createDuration } from '../duration/create';\nimport { createLocal } from '../create/local';\nimport { isMoment } from '../moment/constructor';\n\nexport function to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nexport function toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/to.js\n// module id = null\n// module chunks = ","import { isValid as _isValid } from '../create/valid';\nimport extend from '../utils/extend';\nimport getParsingFlags from '../create/parsing-flags';\n\nexport function isValid () {\n    return _isValid(this);\n}\n\nexport function parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nexport function invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/valid.js\n// module id = null\n// module chunks = ","import { isMoment } from './constructor';\nimport { normalizeUnits } from '../units/aliases';\nimport { createLocal } from '../create/local';\nimport isUndefined from '../utils/is-undefined';\n\nexport function isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nexport function isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nexport function isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nexport function isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nexport function isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nexport function isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/compare.js\n// module id = null\n// module chunks = ","export function valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nexport function unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nexport function toDate () {\n    return new Date(this.valueOf());\n}\n\nexport function toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nexport function toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nexport function toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/to-type.js\n// module id = null\n// module chunks = ","export function creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/creation-data.js\n// module id = null\n// module chunks = ","export function preParsePostFormat (string) {\n    return string;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/pre-post-format.js\n// module id = null\n// module chunks = ","import { Locale } from './constructor';\n\nvar proto = Locale.prototype;\n\nimport { calendar } from './calendar';\nimport { longDateFormat } from './formats';\nimport { invalidDate } from './invalid';\nimport { ordinal } from './ordinal';\nimport { preParsePostFormat } from './pre-post-format';\nimport { relativeTime, pastFuture } from './relative';\nimport { set } from './set';\n\nproto.calendar        = calendar;\nproto.longDateFormat  = longDateFormat;\nproto.invalidDate     = invalidDate;\nproto.ordinal         = ordinal;\nproto.preparse        = preParsePostFormat;\nproto.postformat      = preParsePostFormat;\nproto.relativeTime    = relativeTime;\nproto.pastFuture      = pastFuture;\nproto.set             = set;\n\n// Month\nimport {\n    localeMonthsParse,\n    localeMonths,\n    localeMonthsShort,\n    monthsRegex,\n    monthsShortRegex\n} from '../units/month';\n\nproto.months            =        localeMonths;\nproto.monthsShort       =        localeMonthsShort;\nproto.monthsParse       =        localeMonthsParse;\nproto.monthsRegex       = monthsRegex;\nproto.monthsShortRegex  = monthsShortRegex;\n\n// Week\nimport { localeWeek, localeFirstDayOfYear, localeFirstDayOfWeek } from '../units/week';\nproto.week = localeWeek;\nproto.firstDayOfYear = localeFirstDayOfYear;\nproto.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nimport {\n    localeWeekdaysParse,\n    localeWeekdays,\n    localeWeekdaysMin,\n    localeWeekdaysShort,\n\n    weekdaysRegex,\n    weekdaysShortRegex,\n    weekdaysMinRegex\n} from '../units/day-of-week';\n\nproto.weekdays       =        localeWeekdays;\nproto.weekdaysMin    =        localeWeekdaysMin;\nproto.weekdaysShort  =        localeWeekdaysShort;\nproto.weekdaysParse  =        localeWeekdaysParse;\n\nproto.weekdaysRegex       =        weekdaysRegex;\nproto.weekdaysShortRegex  =        weekdaysShortRegex;\nproto.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nimport { localeIsPM, localeMeridiem } from '../units/hour';\n\nproto.isPM = localeIsPM;\nproto.meridiem = localeMeridiem;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/prototype.js\n// module id = null\n// module chunks = ","import isNumber from '../utils/is-number';\nimport { getLocale } from './locales';\nimport { createUTC } from '../create/utc';\n\nfunction get (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nexport function listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nexport function listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nexport function listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nexport function listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nexport function listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/lists.js\n// module id = null\n// module chunks = ","import './prototype';\nimport { getSetGlobalLocale } from './locales';\nimport toInt from '../utils/to-int';\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/en.js\n// module id = null\n// module chunks = ","// Side effect imports\nimport './prototype';\n\nimport {\n    getSetGlobalLocale,\n    defineLocale,\n    updateLocale,\n    getLocale,\n    listLocales\n} from './locales';\n\nimport {\n    listMonths,\n    listMonthsShort,\n    listWeekdays,\n    listWeekdaysShort,\n    listWeekdaysMin\n} from './lists';\n\nexport {\n    getSetGlobalLocale,\n    defineLocale,\n    updateLocale,\n    getLocale,\n    listLocales,\n    listMonths,\n    listMonthsShort,\n    listWeekdays,\n    listWeekdaysShort,\n    listWeekdaysMin\n};\n\nimport { deprecate } from '../utils/deprecate';\nimport { hooks } from '../utils/hooks';\n\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nimport './en';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/locale.js\n// module id = null\n// module chunks = ","var mathAbs = Math.abs;\n\nexport function abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/abs.js\n// module id = null\n// module chunks = ","import { createDuration } from './create';\n\nfunction addSubtract (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nexport function add (input, value) {\n    return addSubtract(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nexport function subtract (input, value) {\n    return addSubtract(this, input, value, -1);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/add-subtract.js\n// module id = null\n// module chunks = ","export default function absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/abs-ceil.js\n// module id = null\n// module chunks = ","import absFloor from '../utils/abs-floor';\nimport absCeil from '../utils/abs-ceil';\nimport { createUTCDate } from '../create/date-from-array';\n\nexport function bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nexport function daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nexport function monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/bubble.js\n// module id = null\n// module chunks = ","import { daysToMonths, monthsToDays } from './bubble';\nimport { normalizeUnits } from '../units/aliases';\nimport toInt from '../utils/to-int';\n\nexport function as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nexport function valueOf () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nexport var asMilliseconds = makeAs('ms');\nexport var asSeconds      = makeAs('s');\nexport var asMinutes      = makeAs('m');\nexport var asHours        = makeAs('h');\nexport var asDays         = makeAs('d');\nexport var asWeeks        = makeAs('w');\nexport var asMonths       = makeAs('M');\nexport var asYears        = makeAs('y');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/as.js\n// module id = null\n// module chunks = ","import { normalizeUnits } from '../units/aliases';\nimport absFloor from '../utils/abs-floor';\n\nexport function get (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nexport var milliseconds = makeGetter('milliseconds');\nexport var seconds      = makeGetter('seconds');\nexport var minutes      = makeGetter('minutes');\nexport var hours        = makeGetter('hours');\nexport var days         = makeGetter('days');\nexport var months       = makeGetter('months');\nexport var years        = makeGetter('years');\n\nexport function weeks () {\n    return absFloor(this.days() / 7);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/get.js\n// module id = null\n// module chunks = ","import { createDuration } from './create';\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nexport function getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nexport function getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nexport function humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/humanize.js\n// module id = null\n// module chunks = ","import absFloor from '../utils/abs-floor';\nvar abs = Math.abs;\n\nfunction sign(x) {\n    return ((x > 0) - (x < 0)) || +x;\n}\n\nexport function toISOString() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs(this._milliseconds) / 1000;\n    var days         = abs(this._days);\n    var months       = abs(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    var totalSign = total < 0 ? '-' : '';\n    var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n    var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n    var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n    return totalSign + 'P' +\n        (Y ? ymSign + Y + 'Y' : '') +\n        (M ? ymSign + M + 'M' : '') +\n        (D ? daysSign + D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? hmsSign + h + 'H' : '') +\n        (m ? hmsSign + m + 'M' : '') +\n        (s ? hmsSign + s + 'S' : '');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/iso-string.js\n// module id = null\n// module chunks = ","import { Duration } from './constructor';\n\nvar proto = Duration.prototype;\n\nimport { abs } from './abs';\nimport { add, subtract } from './add-subtract';\nimport { as, asMilliseconds, asSeconds, asMinutes, asHours, asDays, asWeeks, asMonths, asYears, valueOf } from './as';\nimport { bubble } from './bubble';\nimport { clone } from './clone';\nimport { get, milliseconds, seconds, minutes, hours, days, months, years, weeks } from './get';\nimport { humanize } from './humanize';\nimport { toISOString } from './iso-string';\nimport { lang, locale, localeData } from '../moment/locale';\nimport { isValid } from './valid';\n\nproto.isValid        = isValid;\nproto.abs            = abs;\nproto.add            = add;\nproto.subtract       = subtract;\nproto.as             = as;\nproto.asMilliseconds = asMilliseconds;\nproto.asSeconds      = asSeconds;\nproto.asMinutes      = asMinutes;\nproto.asHours        = asHours;\nproto.asDays         = asDays;\nproto.asWeeks        = asWeeks;\nproto.asMonths       = asMonths;\nproto.asYears        = asYears;\nproto.valueOf        = valueOf;\nproto._bubble        = bubble;\nproto.clone          = clone;\nproto.get            = get;\nproto.milliseconds   = milliseconds;\nproto.seconds        = seconds;\nproto.minutes        = minutes;\nproto.hours          = hours;\nproto.days           = days;\nproto.weeks          = weeks;\nproto.months         = months;\nproto.years          = years;\nproto.humanize       = humanize;\nproto.toISOString    = toISOString;\nproto.toString       = toISOString;\nproto.toJSON         = toISOString;\nproto.locale         = locale;\nproto.localeData     = localeData;\n\n// Deprecations\nimport { deprecate } from '../utils/deprecate';\n\nproto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString);\nproto.lang = lang;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/prototype.js\n// module id = null\n// module chunks = ","import { createDuration } from './create';\n\nexport function clone () {\n    return createDuration(this);\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/duration/clone.js\n// module id = null\n// module chunks = ","import { addFormatToken } from '../format/format';\nimport { addRegexToken, matchTimestamp, matchSigned } from '../parse/regex';\nimport { addParseToken } from '../parse/token';\nimport toInt from '../utils/to-int';\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/units/timestamp.js\n// module id = null\n// module chunks = ","//! moment.js\n//! version : 2.20.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\nimport { hooks as moment, setHookCallback } from './lib/utils/hooks';\n\nmoment.version = '2.20.1';\n\nimport {\n    min,\n    max,\n    now,\n    isMoment,\n    momentPrototype as fn,\n    createUTC       as utc,\n    createUnix      as unix,\n    createLocal     as local,\n    createInvalid   as invalid,\n    createInZone    as parseZone\n} from './lib/moment/moment';\n\nimport {\n    getCalendarFormat\n} from './lib/moment/calendar';\n\nimport {\n    defineLocale,\n    updateLocale,\n    getSetGlobalLocale as locale,\n    getLocale          as localeData,\n    listLocales        as locales,\n    listMonths         as months,\n    listMonthsShort    as monthsShort,\n    listWeekdays       as weekdays,\n    listWeekdaysMin    as weekdaysMin,\n    listWeekdaysShort  as weekdaysShort\n} from './lib/locale/locale';\n\nimport {\n    isDuration,\n    createDuration              as duration,\n    getSetRelativeTimeRounding  as relativeTimeRounding,\n    getSetRelativeTimeThreshold as relativeTimeThreshold\n} from './lib/duration/duration';\n\nimport { normalizeUnits } from './lib/units/units';\n\nimport isDate from './lib/utils/is-date';\n\nsetHookCallback(local);\n\nmoment.fn                    = fn;\nmoment.min                   = min;\nmoment.max                   = max;\nmoment.now                   = now;\nmoment.utc                   = utc;\nmoment.unix                  = unix;\nmoment.months                = months;\nmoment.isDate                = isDate;\nmoment.locale                = locale;\nmoment.invalid               = invalid;\nmoment.duration              = duration;\nmoment.isMoment              = isMoment;\nmoment.weekdays              = weekdays;\nmoment.parseZone             = parseZone;\nmoment.localeData            = localeData;\nmoment.isDuration            = isDuration;\nmoment.monthsShort           = monthsShort;\nmoment.weekdaysMin           = weekdaysMin;\nmoment.defineLocale          = defineLocale;\nmoment.updateLocale          = updateLocale;\nmoment.locales               = locales;\nmoment.weekdaysShort         = weekdaysShort;\nmoment.normalizeUnits        = normalizeUnits;\nmoment.relativeTimeRounding  = relativeTimeRounding;\nmoment.relativeTimeThreshold = relativeTimeThreshold;\nmoment.calendarFormat        = getCalendarFormat;\nmoment.prototype             = fn;\n\n// currently HTML5 input type only supports 24-hour formats\nmoment.HTML5_FMT = {\n    DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n    DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n    DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n    DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n    TIME: 'HH:mm',                                  // <input type=\"time\" />\n    TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n    TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n    WEEK: 'YYYY-[W]WW',                             // <input type=\"week\" />\n    MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n};\n\nexport default moment;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/moment.js\n// module id = null\n// module chunks = ","import { createLocal } from '../create/local';\nimport { createUTC } from '../create/utc';\nimport { createInvalid } from '../create/valid';\nimport { isMoment } from './constructor';\nimport { min, max } from './min-max';\nimport { now } from './now';\nimport momentPrototype from './prototype';\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nexport {\n    now,\n    min,\n    max,\n    isMoment,\n    createUTC,\n    createUnix,\n    createLocal,\n    createInZone,\n    createInvalid,\n    momentPrototype\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/moment/moment.js\n// module id = null\n// module chunks = ","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 256\n// module chunks = 0 1 2 3 4 5","import hasOwnProp from './has-own-prop';\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nexport { keys as default };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/utils/keys.js\n// module id = 257\n// module chunks = 0 1 2 3 4 5","import { defaultCalendar } from './calendar';\nimport { defaultLongDateFormat } from './formats';\nimport { defaultInvalidDate } from './invalid';\nimport { defaultOrdinal, defaultDayOfMonthOrdinalParse } from './ordinal';\nimport { defaultRelativeTime } from './relative';\n\n// months\nimport {\n    defaultLocaleMonths,\n    defaultLocaleMonthsShort,\n} from '../units/month';\n\n// week\nimport { defaultLocaleWeek } from '../units/week';\n\n// weekdays\nimport {\n    defaultLocaleWeekdays,\n    defaultLocaleWeekdaysMin,\n    defaultLocaleWeekdaysShort,\n} from '../units/day-of-week';\n\n// meridiem\nimport { defaultLocaleMeridiemParse } from '../units/hour';\n\nexport var baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/src/lib/locale/base-config.js\n// module id = 258\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.WFSDescribeFeatureType\n */\nimport googAsserts from 'goog/asserts.js';\nimport * as olBase from 'ol/index.js';\nimport olFormatXML from 'ol/format/XML.js';\nimport olXml from 'ol/xml.js';\n\n/**\n * @classdesc\n * Format for reading WFS DescribeFeatureType data.\n *\n * @constructor\n * @extends {ol.format.XML}\n * @api\n */\nconst exports = function() {\n\n  olFormatXML.call(this);\n\n};\n\nolBase.inherits(exports, olFormatXML);\n\n\n/**\n * Read a WFS DescribeFeatureType document.\n *\n * @function\n * @param {Document|Node|string} source The XML source.\n * @return {Object} An object representing the WFS DescribeFeatureType.\n * @api\n */\nexports.prototype.read;\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.readFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.readFromNode = function(node) {\n  let result = {};\n  result = olXml.pushParseAndPop(\n    result,\n    exports.PARSERS_,\n    node,\n    []\n  );\n  return result;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {!Object.<string, string>} Attributes.\n */\nexports.readElement_ = function(node, objectStack) {\n  const attributes = {};\n  for (let i = 0, len = node.attributes.length; i < len; i++) {\n    const attribute = node.attributes.item(i);\n    attributes[attribute.name] = attribute.value;\n  }\n  if (objectStack.length === 1) {\n    // remove namespace from type\n    attributes['type'] = attributes['type'].split(':').pop();\n  }\n  return attributes;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {!Object.<string, string>} Object.\n */\nexports.readComplexType_ = function(node, objectStack) {\n  const name = node.getAttribute('name');\n  const object = olXml.pushParseAndPop(\n    {'name': name},\n    exports.COMPLEX_TYPE_PARSERS_,\n    node, objectStack\n  );\n  // flatten\n  object['complexContent'] =\n    object['complexContent']['extension']['sequence']['element'];\n  return object;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {!Object.<string, string>} Object.\n */\nexports.readComplexContent_ = function(\n  node, objectStack\n) {\n  return olXml.pushParseAndPop(\n    {},\n    exports.COMPLEX_CONTENT_PARSERS_,\n    node,\n    objectStack\n  );\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {!Object.<string, string>} Object.\n */\nexports.readExtension_ = function(node, objectStack) {\n  return olXml.pushParseAndPop(\n    {},\n    exports.EXTENSION_PARSERS_,\n    node,\n    objectStack\n  );\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {!Object.<string, string>} Object.\n */\nexports.readSequence_ = function(node, objectStack) {\n  return olXml.pushParseAndPop(\n    {},\n    exports.SEQUENCE_PARSERS_,\n    node,\n    objectStack\n  );\n};\n\n\n/**\n * @const\n * @private\n * @type {Array.<string>}\n */\nexports.NAMESPACE_URIS_ = [\n  null,\n  'http://www.w3.org/2001/XMLSchema'\n];\n\n\n/**\n * @const\n * @type {!Object.<string, !Object.<string, !ol.XmlParser>>}\n * @private\n */\nexports.PARSERS_ = googAsserts.assert(olXml.makeStructureNS(\n  exports.NAMESPACE_URIS_, {\n    'element': olXml.makeObjectPropertyPusher(\n      exports.readElement_\n    ),\n    'complexType': olXml.makeObjectPropertyPusher(\n      exports.readComplexType_\n    )\n  }));\n\n\n/**\n * @const\n * @type {!Object.<string, !Object.<string, !ol.XmlParser>>}\n * @private\n */\nexports.COMPLEX_TYPE_PARSERS_ = googAsserts.assert(olXml.makeStructureNS(\n  exports.NAMESPACE_URIS_, {\n    'complexContent': olXml.makeObjectPropertySetter(\n      exports.readComplexContent_\n    )\n  }));\n\n\n/**\n * @const\n * @type {!Object.<string, !Object.<string, !ol.XmlParser>>}\n * @private\n */\nexports.COMPLEX_CONTENT_PARSERS_ = googAsserts.assert(olXml.makeStructureNS(\n  exports.NAMESPACE_URIS_, {\n    'extension': olXml.makeObjectPropertySetter(\n      exports.readExtension_\n    )\n  }));\n\n\n/**\n * @const\n * @type {!Object.<string, !Object.<string, !ol.XmlParser>>}\n * @private\n */\nexports.EXTENSION_PARSERS_ = googAsserts.assert(olXml.makeStructureNS(\n  exports.NAMESPACE_URIS_, {\n    'sequence': olXml.makeObjectPropertySetter(\n      exports.readSequence_\n    )\n  }));\n\n\n/**\n * @const\n * @type {!Object.<string, !Object.<string, !ol.XmlParser>>}\n * @private\n */\nexports.SEQUENCE_PARSERS_ = googAsserts.assert(olXml.makeStructureNS(\n  exports.NAMESPACE_URIS_, {\n    'element': olXml.makeObjectPropertyPusher(\n      exports.readElement_\n    )\n  }));\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/WFSDescribeFeatureType.js","/**\n * @module ol/format/WMSCapabilities\n */\nimport {inherits} from '../index.js';\nimport XLink from '../format/XLink.js';\nimport XML from '../format/XML.js';\nimport XSD from '../format/XSD.js';\nimport _ol_xml_ from '../xml.js';\n\n/**\n * @classdesc\n * Format for reading WMS capabilities data\n *\n * @constructor\n * @extends {ol.format.XML}\n * @api\n */\nconst WMSCapabilities = function() {\n\n  XML.call(this);\n\n  /**\n   * @type {string|undefined}\n   */\n  this.version = undefined;\n};\n\ninherits(WMSCapabilities, XML);\n\n\n/**\n * Read a WMS capabilities document.\n *\n * @function\n * @param {Document|Node|string} source The XML source.\n * @return {Object} An object representing the WMS capabilities.\n * @api\n */\nWMSCapabilities.prototype.read;\n\n\n/**\n * @inheritDoc\n */\nWMSCapabilities.prototype.readFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nWMSCapabilities.prototype.readFromNode = function(node) {\n  this.version = node.getAttribute('version').trim();\n  const wmsCapabilityObject = _ol_xml_.pushParseAndPop({\n    'version': this.version\n  }, WMSCapabilities.PARSERS_, node, []);\n  return wmsCapabilityObject ? wmsCapabilityObject : null;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nWMSCapabilities.readAttribution_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.ATTRIBUTION_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Bounding box object.\n */\nWMSCapabilities.readBoundingBox_ = function(node, objectStack) {\n  const extent = [\n    XSD.readDecimalString(node.getAttribute('minx')),\n    XSD.readDecimalString(node.getAttribute('miny')),\n    XSD.readDecimalString(node.getAttribute('maxx')),\n    XSD.readDecimalString(node.getAttribute('maxy'))\n  ];\n\n  const resolutions = [\n    XSD.readDecimalString(node.getAttribute('resx')),\n    XSD.readDecimalString(node.getAttribute('resy'))\n  ];\n\n  return {\n    'crs': node.getAttribute('CRS'),\n    'extent': extent,\n    'res': resolutions\n  };\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Extent|undefined} Bounding box object.\n */\nWMSCapabilities.readEXGeographicBoundingBox_ = function(node, objectStack) {\n  const geographicBoundingBox = _ol_xml_.pushParseAndPop(\n    {},\n    WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,\n    node, objectStack);\n  if (!geographicBoundingBox) {\n    return undefined;\n  }\n  const westBoundLongitude = /** @type {number|undefined} */\n        (geographicBoundingBox['westBoundLongitude']);\n  const southBoundLatitude = /** @type {number|undefined} */\n        (geographicBoundingBox['southBoundLatitude']);\n  const eastBoundLongitude = /** @type {number|undefined} */\n        (geographicBoundingBox['eastBoundLongitude']);\n  const northBoundLatitude = /** @type {number|undefined} */\n        (geographicBoundingBox['northBoundLatitude']);\n  if (westBoundLongitude === undefined || southBoundLatitude === undefined ||\n        eastBoundLongitude === undefined || northBoundLatitude === undefined) {\n    return undefined;\n  }\n  return [\n    westBoundLongitude, southBoundLatitude,\n    eastBoundLongitude, northBoundLatitude\n  ];\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Capability object.\n */\nWMSCapabilities.readCapability_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.CAPABILITY_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Service object.\n */\nWMSCapabilities.readService_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.SERVICE_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Contact information object.\n */\nWMSCapabilities.readContactInformation_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.CONTACT_INFORMATION_PARSERS_,\n    node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Contact person object.\n */\nWMSCapabilities.readContactPersonPrimary_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.CONTACT_PERSON_PARSERS_,\n    node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Contact address object.\n */\nWMSCapabilities.readContactAddress_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.CONTACT_ADDRESS_PARSERS_,\n    node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<string>|undefined} Format array.\n */\nWMSCapabilities.readException_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    [], WMSCapabilities.EXCEPTION_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Layer object.\n */\nWMSCapabilities.readCapabilityLayer_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.LAYER_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nWMSCapabilities.readLayer_ = function(node, objectStack) {\n  const parentLayerObject = /**  @type {Object.<string,*>} */\n        (objectStack[objectStack.length - 1]);\n\n  const layerObject = _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.LAYER_PARSERS_, node, objectStack);\n\n  if (!layerObject) {\n    return undefined;\n  }\n  let queryable =\n        XSD.readBooleanString(node.getAttribute('queryable'));\n  if (queryable === undefined) {\n    queryable = parentLayerObject['queryable'];\n  }\n  layerObject['queryable'] = queryable !== undefined ? queryable : false;\n\n  let cascaded = XSD.readNonNegativeIntegerString(\n    node.getAttribute('cascaded'));\n  if (cascaded === undefined) {\n    cascaded = parentLayerObject['cascaded'];\n  }\n  layerObject['cascaded'] = cascaded;\n\n  let opaque = XSD.readBooleanString(node.getAttribute('opaque'));\n  if (opaque === undefined) {\n    opaque = parentLayerObject['opaque'];\n  }\n  layerObject['opaque'] = opaque !== undefined ? opaque : false;\n\n  let noSubsets =\n        XSD.readBooleanString(node.getAttribute('noSubsets'));\n  if (noSubsets === undefined) {\n    noSubsets = parentLayerObject['noSubsets'];\n  }\n  layerObject['noSubsets'] = noSubsets !== undefined ? noSubsets : false;\n\n  let fixedWidth =\n        XSD.readDecimalString(node.getAttribute('fixedWidth'));\n  if (!fixedWidth) {\n    fixedWidth = parentLayerObject['fixedWidth'];\n  }\n  layerObject['fixedWidth'] = fixedWidth;\n\n  let fixedHeight =\n        XSD.readDecimalString(node.getAttribute('fixedHeight'));\n  if (!fixedHeight) {\n    fixedHeight = parentLayerObject['fixedHeight'];\n  }\n  layerObject['fixedHeight'] = fixedHeight;\n\n  // See 7.2.4.8\n  const addKeys = ['Style', 'CRS', 'AuthorityURL'];\n  addKeys.forEach(function(key) {\n    if (key in parentLayerObject) {\n      const childValue = layerObject[key] || [];\n      layerObject[key] = childValue.concat(parentLayerObject[key]);\n    }\n  });\n\n  const replaceKeys = ['EX_GeographicBoundingBox', 'BoundingBox', 'Dimension',\n    'Attribution', 'MinScaleDenominator', 'MaxScaleDenominator'];\n  replaceKeys.forEach(function(key) {\n    if (!(key in layerObject)) {\n      const parentValue = parentLayerObject[key];\n      layerObject[key] = parentValue;\n    }\n  });\n\n  return layerObject;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Dimension object.\n */\nWMSCapabilities.readDimension_ = function(node, objectStack) {\n  const dimensionObject = {\n    'name': node.getAttribute('name'),\n    'units': node.getAttribute('units'),\n    'unitSymbol': node.getAttribute('unitSymbol'),\n    'default': node.getAttribute('default'),\n    'multipleValues': XSD.readBooleanString(\n      node.getAttribute('multipleValues')),\n    'nearestValue': XSD.readBooleanString(\n      node.getAttribute('nearestValue')),\n    'current': XSD.readBooleanString(node.getAttribute('current')),\n    'values': XSD.readString(node)\n  };\n  return dimensionObject;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nWMSCapabilities.readFormatOnlineresource_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,\n    node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Request object.\n */\nWMSCapabilities.readRequest_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.REQUEST_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} DCP type object.\n */\nWMSCapabilities.readDCPType_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.DCPTYPE_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} HTTP object.\n */\nWMSCapabilities.readHTTP_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.HTTP_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Operation type object.\n */\nWMSCapabilities.readOperationType_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.OPERATIONTYPE_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nWMSCapabilities.readSizedFormatOnlineresource_ = function(node, objectStack) {\n  const formatOnlineresource =\n        WMSCapabilities.readFormatOnlineresource_(node, objectStack);\n  if (formatOnlineresource) {\n    const size = [\n      XSD.readNonNegativeIntegerString(node.getAttribute('width')),\n      XSD.readNonNegativeIntegerString(node.getAttribute('height'))\n    ];\n    formatOnlineresource['size'] = size;\n    return formatOnlineresource;\n  }\n  return undefined;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Authority URL object.\n */\nWMSCapabilities.readAuthorityURL_ = function(node, objectStack) {\n  const authorityObject =\n        WMSCapabilities.readFormatOnlineresource_(node, objectStack);\n  if (authorityObject) {\n    authorityObject['name'] = node.getAttribute('name');\n    return authorityObject;\n  }\n  return undefined;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Metadata URL object.\n */\nWMSCapabilities.readMetadataURL_ = function(node, objectStack) {\n  const metadataObject =\n        WMSCapabilities.readFormatOnlineresource_(node, objectStack);\n  if (metadataObject) {\n    metadataObject['type'] = node.getAttribute('type');\n    return metadataObject;\n  }\n  return undefined;\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nWMSCapabilities.readStyle_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    {}, WMSCapabilities.STYLE_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Keyword list.\n */\nWMSCapabilities.readKeywordList_ = function(node, objectStack) {\n  return _ol_xml_.pushParseAndPop(\n    [], WMSCapabilities.KEYWORDLIST_PARSERS_, node, objectStack);\n};\n\n\n/**\n * @const\n * @private\n * @type {Array.<string>}\n */\nWMSCapabilities.NAMESPACE_URIS_ = [\n  null,\n  'http://www.opengis.net/wms'\n];\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Service': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readService_),\n    'Capability': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readCapability_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.CAPABILITY_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Request': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readRequest_),\n    'Exception': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readException_),\n    'Layer': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readCapabilityLayer_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.SERVICE_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Title': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Abstract': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'KeywordList': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readKeywordList_),\n    'OnlineResource': _ol_xml_.makeObjectPropertySetter(\n      XLink.readHref),\n    'ContactInformation': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readContactInformation_),\n    'Fees': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'AccessConstraints': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'LayerLimit': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MaxWidth': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger),\n    'MaxHeight': _ol_xml_.makeObjectPropertySetter(\n      XSD.readNonNegativeInteger)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.CONTACT_INFORMATION_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'ContactPersonPrimary': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readContactPersonPrimary_),\n    'ContactPosition': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'ContactAddress': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readContactAddress_),\n    'ContactVoiceTelephone': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'ContactFacsimileTelephone': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'ContactElectronicMailAddress': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.CONTACT_PERSON_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'ContactPerson': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'ContactOrganization': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.CONTACT_ADDRESS_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'AddressType': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Address': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'City': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'StateOrProvince': _ol_xml_.makeObjectPropertySetter(\n      XSD.readString),\n    'PostCode': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Country': _ol_xml_.makeObjectPropertySetter(XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.EXCEPTION_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Format': _ol_xml_.makeArrayPusher(XSD.readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.LAYER_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Title': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Abstract': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'KeywordList': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readKeywordList_),\n    'CRS': _ol_xml_.makeObjectPropertyPusher(XSD.readString),\n    'EX_GeographicBoundingBox': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readEXGeographicBoundingBox_),\n    'BoundingBox': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readBoundingBox_),\n    'Dimension': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readDimension_),\n    'Attribution': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readAttribution_),\n    'AuthorityURL': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readAuthorityURL_),\n    'Identifier': _ol_xml_.makeObjectPropertyPusher(XSD.readString),\n    'MetadataURL': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readMetadataURL_),\n    'DataURL': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readFormatOnlineresource_),\n    'FeatureListURL': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readFormatOnlineresource_),\n    'Style': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readStyle_),\n    'MinScaleDenominator': _ol_xml_.makeObjectPropertySetter(\n      XSD.readDecimal),\n    'MaxScaleDenominator': _ol_xml_.makeObjectPropertySetter(\n      XSD.readDecimal),\n    'Layer': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readLayer_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.ATTRIBUTION_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Title': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'OnlineResource': _ol_xml_.makeObjectPropertySetter(\n      XLink.readHref),\n    'LogoURL': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readSizedFormatOnlineresource_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_ =\n    _ol_xml_.makeStructureNS(WMSCapabilities.NAMESPACE_URIS_, {\n      'westBoundLongitude': _ol_xml_.makeObjectPropertySetter(\n        XSD.readDecimal),\n      'eastBoundLongitude': _ol_xml_.makeObjectPropertySetter(\n        XSD.readDecimal),\n      'southBoundLatitude': _ol_xml_.makeObjectPropertySetter(\n        XSD.readDecimal),\n      'northBoundLatitude': _ol_xml_.makeObjectPropertySetter(\n        XSD.readDecimal)\n    });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.REQUEST_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'GetCapabilities': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readOperationType_),\n    'GetMap': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readOperationType_),\n    'GetFeatureInfo': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readOperationType_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.OPERATIONTYPE_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Format': _ol_xml_.makeObjectPropertyPusher(XSD.readString),\n    'DCPType': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readDCPType_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.DCPTYPE_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'HTTP': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readHTTP_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.HTTP_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Get': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readFormatOnlineresource_),\n    'Post': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readFormatOnlineresource_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.STYLE_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Name': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Title': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'Abstract': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n    'LegendURL': _ol_xml_.makeObjectPropertyPusher(\n      WMSCapabilities.readSizedFormatOnlineresource_),\n    'StyleSheetURL': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readFormatOnlineresource_),\n    'StyleURL': _ol_xml_.makeObjectPropertySetter(\n      WMSCapabilities.readFormatOnlineresource_)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_ =\n    _ol_xml_.makeStructureNS(WMSCapabilities.NAMESPACE_URIS_, {\n      'Format': _ol_xml_.makeObjectPropertySetter(XSD.readString),\n      'OnlineResource': _ol_xml_.makeObjectPropertySetter(\n        XLink.readHref)\n    });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, ol.XmlParser>>}\n * @private\n */\nWMSCapabilities.KEYWORDLIST_PARSERS_ = _ol_xml_.makeStructureNS(\n  WMSCapabilities.NAMESPACE_URIS_, {\n    'Keyword': _ol_xml_.makeArrayPusher(XSD.readString)\n  });\nexport default WMSCapabilities;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/format/WMSCapabilities.js\n// module id = 260\n// module chunks = 0 1 2 3 4 5","/**\n * @module ngeo.draw.Controller\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDrawFeatures from 'ngeo/draw/features.js';\n\nimport ngeoFormatFeatureProperties from 'ngeo/format/FeatureProperties.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMiscBtnComponent from 'ngeo/misc/btnComponent.js';\n\nimport ngeoMiscDecorate from 'ngeo/misc/decorate.js';\nimport ngeoMiscFeatureHelper from 'ngeo/misc/FeatureHelper.js';\nimport olFeature from 'ol/Feature.js';\n\n/**\n * @param {!angular.Scope} $scope Scope.\n * @param {angular.$sce} $sce Angular sce service.\n * @param {angularGettext.Catalog} gettextCatalog Gettext service.\n * @param {ngeo.misc.FeatureHelper} ngeoFeatureHelper Ngeo feature helper service.\n * @param {ol.Collection.<ol.Feature>} ngeoFeatures Collection of features.\n * @constructor\n * @private\n * @struct\n * @ngInject\n * @ngdoc controller\n * @ngname ngeoDrawfeatureController\n */\nconst exports = function($scope, $sce, gettextCatalog,\n  ngeoFeatureHelper, ngeoFeatures) {\n\n  /**\n   * @type {boolean}\n   * @export\n   */\n  this.active;\n\n  if (this.active === undefined) {\n    this.active = false;\n  }\n\n  /**\n   * Alternate collection of features in which to push the drawn features.\n   * If not defined, then `ngeoFeatures` is used instead.\n   * @type {!ol.Collection.<!ol.Feature>|undefined}\n   * @export\n   */\n  this.features;\n\n  /**\n   * @type {ol.Map}\n   * @export\n   */\n  this.map;\n\n  /**\n   * @type {boolean}\n   * @export\n   */\n  this.showMeasure;\n\n  /**\n   * @type {angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog_ = gettextCatalog;\n  // Fill the string collection\n  gettextCatalog.getString('Point');\n  gettextCatalog.getString('LineString');\n  gettextCatalog.getString('Polygon');\n  gettextCatalog.getString('Circle');\n  gettextCatalog.getString('Rectangle');\n  gettextCatalog.getString('Text');\n\n  /**\n   * @type {ngeo.misc.FeatureHelper}\n   * @private\n   */\n  this.featureHelper_ = ngeoFeatureHelper;\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.ngeoFeatures_ = ngeoFeatures;\n\n  /**\n   * @type {Array.<ol.interaction.Interaction>}\n   * @private\n   */\n  this.interactions_ = [];\n\n  /**\n   * @type {ol.interaction.Draw}\n   * @export\n   */\n  this.drawPoint;\n\n  /**\n   * @type {ngeo.interaction.MeasureLength}\n   * @export\n   */\n  this.measureLength;\n\n  /**\n   * @type {ngeo.interaction.MeasureArea}\n   * @export\n   */\n  this.measureArea;\n\n  /**\n   * @type {ngeo.interaction.MeasureAzimut}\n   * @export\n   */\n  this.measureAzimut;\n\n  /**\n   * @type {ol.interaction.Draw}\n   * @export\n   */\n  this.drawRectangle;\n\n  /**\n   * @type {ol.interaction.Draw}\n   * @export\n   */\n  this.drawText;\n\n\n  // Watch the \"active\" property, and disable the draw interactions\n  // when \"active\" gets set to false.\n  $scope.$watch(\n    () => this.active,\n    (newVal) => {\n      if (newVal === false) {\n        this.interactions_.forEach((interaction) => {\n          interaction.setActive(false);\n        }, this);\n      }\n    }\n  );\n\n};\n\n\n/**\n * Register a draw|measure interaction by setting it inactive, decorating it\n * and adding it to the map\n * @param {ol.interaction.Interaction} interaction Interaction to register.\n * @export\n */\nexports.prototype.registerInteraction = function(\n  interaction) {\n  this.interactions_.push(interaction);\n  interaction.setActive(false);\n  ngeoMiscDecorate.interaction(interaction);\n  this.map.addInteraction(interaction);\n};\n\n\n/**\n * Called when any of the draw or measure interaction active property changes.\n * Set the active property of this directive accordingly, i.e. if at least\n * one of the draw or measure is active then the active property is set to true.\n * @param {ol.Object.Event} event Event.\n * @export\n */\nexports.prototype.handleActiveChange = function(event) {\n  this.active = this.interactions_.some(interaction => interaction.getActive(), this);\n};\n\n\n/**\n * Called when a feature is finished being drawn. Set the default properties\n * for its style, then set its style and add it to the features collection.\n * @param {string} type Type of geometry being drawn.\n * @param {ol.interaction.Draw.Event|ngeox.MeasureEvent} event Event.\n * @export\n */\nexports.prototype.handleDrawEnd = function(type, event) {\n  let sketch;\n  if (event.feature) {\n    // ol.interaction.Draw.Event\n    sketch = event.feature;\n  } else {\n    // ngeox.MeasureEvent\n    sketch = event.detail.feature;\n  }\n  googAsserts.assert(sketch);\n\n  const azimut = sketch.get('azimut');\n\n  const features = this.features || this.ngeoFeatures_;\n\n  const feature = new olFeature(sketch.getGeometry());\n\n  const prop = ngeoFormatFeatureProperties;\n\n  switch (type) {\n    case ngeoGeometryType.CIRCLE:\n      feature.set(prop.IS_CIRCLE, true);\n      if (azimut !== undefined) {\n        feature.set(prop.AZIMUT, azimut);\n      }\n      break;\n    case ngeoGeometryType.TEXT:\n      feature.set(prop.IS_TEXT, true);\n      break;\n    case ngeoGeometryType.RECTANGLE:\n      feature.set(prop.IS_RECTANGLE, true);\n      break;\n    default:\n      break;\n  }\n\n  /**\n   * @type {string}\n   */\n  const name = this.gettextCatalog_.getString(type);\n  feature.set(prop.NAME, `${name} ${features.getLength() + 1}`);\n\n  /**\n   * @type {string}\n   */\n  const color = type !== ngeoGeometryType.TEXT ? '#DB4436' : '#000000';\n  feature.set(prop.COLOR, color);\n\n  feature.set(prop.ANGLE, 0);\n  feature.set(prop.OPACITY, 0.2);\n  feature.set(prop.SHOW_MEASURE, this.showMeasure ? true : false);\n  feature.set(prop.SHOW_LABEL, false);\n  feature.set(prop.SIZE, 10);\n  feature.set(prop.STROKE, 2);\n\n  // set style\n  this.featureHelper_.setStyle(feature);\n\n  // push in collection\n  features.push(feature);\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoDrawfeatureController', [\n  ngeoDrawFeatures.name,\n  ngeoMiscFeatureHelper.module.name,\n]);\nexports.module.controller('ngeoDrawfeatureController', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/Controller.js","/**\n * @module ngeo.interaction.MeasureLength\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoInteractionMeasure from 'ngeo/interaction/Measure.js';\nimport * as olBase from 'ol/index.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olInteractionDraw from 'ol/interaction/Draw.js';\n\n/**\n * @classdesc\n * Interaction dedicated to measure length.\n *\n * See our live example: [../examples/measure.html](../examples/measure.html)\n *\n * @constructor\n * @struct\n * @extends {ngeo.interaction.Measure}\n * @param {ngeox.unitPrefix} format The format function\n * @param {ngeox.interaction.MeasureOptions=} opt_options Options\n */\nconst exports = function(format, opt_options) {\n\n  const options = opt_options !== undefined ? opt_options : {};\n\n  ngeoInteractionMeasure.call(this, options);\n\n\n  /**\n   * Message to show after the first point is clicked.\n   * @type {Element}\n   */\n  this.continueMsg;\n  if (options.continueMsg !== undefined) {\n    this.continueMsg = options.continueMsg;\n  } else {\n    this.continueMsg = document.createElement('span');\n    this.continueMsg.textContent = 'Click to continue drawing the line.';\n    const br = document.createElement('br');\n    br.textContent = 'Double-click or click last point to finish.';\n    this.continueMsg.appendChild(br);\n  }\n\n  /**\n   * The format function\n   * @type {ngeox.unitPrefix}\n   */\n  this.format = format;\n\n};\n\nolBase.inherits(exports, ngeoInteractionMeasure);\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.createDrawInteraction = function(style, source) {\n  return new olInteractionDraw({\n    type: /** @type {ol.geom.GeometryType} */ ('LineString'),\n    source: source,\n    style: style\n  });\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.handleMeasure = function(callback) {\n  const geom = googAsserts.assertInstanceof(this.sketchFeature.getGeometry(), olGeomLineString);\n  const proj = this.getMap().getView().getProjection();\n  googAsserts.assert(proj);\n  const output = ngeoInteractionMeasure.getFormattedLength(geom, proj, this.precision, this.format);\n  const coord = geom.getLastCoordinate();\n  callback(output, coord);\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/MeasureLength.js","/**\n * @module gmf.datasource.OGC\n */\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\n\nconst exports = class extends ngeoDatasourceOGC {\n\n  /**\n   * A `gmf.datasource.OGC` extends a `ngeo.datasource.OGC` and\n   * adds some properties that are proper to GMF only.\n   *\n   * @struct\n   * @param {gmfx.datasource.OGCOptions} options Options.\n   */\n  constructor(options) {\n\n    super(options);\n\n    // === STATIC properties (i.e. that never change) ===\n\n    /**\n     * @type {gmfThemes.GmfLayer}\n     * @private\n     */\n    this.gmfLayer_ = options.gmfLayer;\n\n  }\n\n  // === Static property getters/setters ===\n\n  /**\n   * @return {gmfThemes.GmfLayer} GMF layer\n   * @export\n   */\n  get gmfLayer() {\n    return this.gmfLayer_;\n  }\n\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/datasource/OGC.js","/**\n * @module gmf.authentication.module\n */\nimport gmfAuthenticationComponent from 'gmf/authentication/component.js';\n\n/** @suppress {extraRequire} */\nimport gmfAuthenticationService from 'gmf/authentication/Service.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('gmfAuthenticationModule', [\n  gmfAuthenticationComponent.name,\n  gmfAuthenticationService.module.name\n]);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/authentication/module.js","/**\n * @module gmf.authentication.component\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfAuthenticationService from 'gmf/authentication/Service.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMessageMessage from 'ngeo/message/Message.js';\nimport ngeoMessageNotification from 'ngeo/message/Notification.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMessageModalComponent from 'ngeo/message/modalComponent.js';\n\nimport olEvents from 'ol/events.js';\n\n/**\n * @type {angular.Module}\n */\nconst exports = angular.module('gmfAuthentication', [\n  gmfAuthenticationService.module.name,\n  ngeoMessageNotification.module.name,\n  ngeoMessageModalComponent.name,\n]);\n\n/**\n * @param {angular.JQLite} element Element.\n * @param {angular.Attributes} attrs Attributes.\n * @return {string} Template URL.\n */\nexports.gmfAuthenticationTemplateUrl_ = (element, attrs) => {\n  const templateUrl = attrs['gmfAuthenticationTemplateurl'];\n  return templateUrl !== undefined ? templateUrl :\n    `${gmfBase.baseModuleTemplateUrl}/authentication/component.html`;\n};\n\n\n/**\n * @param {!angular.JQLite} $element Element.\n * @param {!angular.Attributes} $attrs Attributes.\n * @param {!function(!angular.JQLite, !angular.Attributes): string} gmfAuthenticationTemplateUrl Template function.\n * @return {string} Template URL.\n * @ngInject\n */\nfunction gmfAuthenticationTemplateUrl($element, $attrs, gmfAuthenticationTemplateUrl) {\n  return gmfAuthenticationTemplateUrl($element, $attrs);\n}\n\n\n/**\n * An \"authentication\" component for a GeoMapFish application. With the\n * use of the \"authentication\" service, it features a complete interface\n * for the user to be able to login, logout, change or reset his or her\n * password.  The `gmfUser` angular value is also used to keep track of\n * the user information. When empty, that means that the user isn't connected\n * yet.\n *\n * While not logged in, the \"login\" form is shown, which allows the user to\n * either log in or ask for a password reset.\n *\n * Once logged in, the \"logout\" form is shown, which allows the user to either\n * log out or change his or her password.\n *\n * Example:\n *\n *      <gmf-authentication\n *        gmf-authentication-allow-password-change=\"::true\">\n *      </gmf-authentication>\n *\n * @htmlAttribute {boolean} gmf-authentication-allow-password-reset Whether to\n *     show the password forgotten link. Default to true.\n * @htmlAttribute {boolean} gmf-authentication-allow-password-change Whether to\n *     show the change password button. Default to true.\n * @htmlAttribute {boolean} gmf-authentication-force-password-change Force the\n *     user to change its password. Default to false. If you set it to true, you\n *     should also allow the user to change its password.\n * @ngdoc component\n * @ngname gmfAuthentication\n */\nexports.component_ = {\n  bindings: {\n    'allowPasswordChange': '<?gmfAuthenticationAllowPasswordChange',\n    'forcePasswordChange': '<?gmfAuthenticationForcePasswordChange'\n  },\n  controller: 'GmfAuthenticationController',\n  templateUrl: gmfAuthenticationTemplateUrl\n};\n\nexports.value('gmfAuthenticationTemplateUrl',\n  exports.gmfAuthenticationTemplateUrl_);\n\nexports.component('gmfAuthentication', exports.component_);\n\n\n/**\n * @private\n */\nexports.AuthenticationController_ = class {\n  /**\n   * @private\n   * @param {angularGettext.Catalog} gettextCatalog Gettext catalog.\n   * @param {angular.Scope} $scope The directive's scope.\n   * @param {gmf.authentication.Service} gmfAuthenticationService GMF Authentication service\n   * @param {gmfx.User} gmfUser User.\n   * @param {ngeo.message.Notification} ngeoNotification Ngeo notification service.\n   * @ngInject\n   * @ngdoc controller\n   * @ngname GmfAuthenticationController\n   */\n  constructor(gettextCatalog, $scope, gmfAuthenticationService, gmfUser, ngeoNotification) {\n\n    /**\n     * @type {gmfx.User}\n     * @export\n     */\n    this.gmfUser = gmfUser;\n\n    /**\n     * @type {angular.Scope}\n     * @private\n     */\n    this.$scope_ = $scope;\n\n    /**\n     * @type {angularGettext.Catalog}\n     * @private\n     */\n    this.gettextCatalog = gettextCatalog;\n\n    /**\n     * @type {gmf.authentication.Service}\n     * @private\n     */\n    this.gmfAuthenticationService_ = gmfAuthenticationService;\n\n    /**\n     * @type {ngeo.message.Notification}\n     * @private\n     */\n    this.notification_ = ngeoNotification;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.allowPasswordReset;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.allowPasswordChange;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.forcePasswordChange;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.changingPassword = false;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.changePasswordModalShown = false;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.resetPasswordModalShown = false;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.error = false;\n\n    // LOGIN form values\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.loginVal = '';\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.pwdVal = '';\n\n    // CHANGE PASSWORD form values\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.oldPwdVal = '';\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.newPwdVal = '';\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.newPwdConfVal = '';\n\n    olEvents.listen(gmfAuthenticationService, 'ready', this.onLoginReady_.bind(this));\n  }\n\n  /**\n   * Initialise the controller.\n   */\n  $onInit() {\n    this.allowPasswordReset = this.allowPasswordReset !== false;\n    this.allowPasswordChange = this.allowPasswordChange !== false;\n    this.forcePasswordChange = this.forcePasswordChange === true;\n  }\n\n\n  // METHODS THAT CALL THE AUTHENTICATION SERVICE METHODS\n\n  /**\n   * Calls the authentication service changePassword method.\n   * @export\n   */\n  changePassword() {\n    const gettextCatalog = this.gettextCatalog;\n\n    const oldPwd = this.oldPwdVal;\n    const newPwd = this.newPwdVal;\n    const confPwd = this.newPwdConfVal;\n\n    const errors = [];\n    // (1) validation - passwords are required\n    if (oldPwd === '') {\n      errors.push(gettextCatalog.getString('The old password is required.'));\n    }\n    if (newPwd === '') {\n      errors.push(gettextCatalog.getString('The new password is required.'));\n    }\n    if (confPwd === '') {\n      errors.push(gettextCatalog.getString('The password confirmation is required.'));\n    }\n\n    if (errors.length) {\n      this.setError_(errors);\n    } else {\n      // (2) validation - passwords must be new and must also match\n      if (oldPwd === newPwd) {\n        errors.push(gettextCatalog.getString('The old and new passwords are the same.'));\n      }\n      if (newPwd !== confPwd) {\n        errors.push(gettextCatalog.getString('The passwords don\\'t match.'));\n      }\n\n      if (errors.length) {\n        this.setError_(errors);\n      } else {\n        // (3) send request with current credentials, which may fail if\n        //     the old password given is incorrect.\n        const error = gettextCatalog.getString('Incorrect old password.');\n        this.gmfAuthenticationService_.changePassword(oldPwd, newPwd, confPwd).then(\n          () => {\n            this.changePasswordModalShown = true;\n            this.changePasswordReset();\n          },\n          this.setError_.bind(this, error));\n      }\n    }\n  }\n\n  /**\n   * Calls the authentication service login method.\n   * @export\n   */\n  login() {\n    const gettextCatalog = this.gettextCatalog;\n\n    const errors = [];\n    if (this.loginVal === '') {\n      errors.push(gettextCatalog.getString('The username is required.'));\n    }\n    if (this.pwdVal === '') {\n      errors.push(gettextCatalog.getString('The password is required.'));\n    }\n    if (errors.length) {\n      this.setError_(errors);\n    } else {\n      const error = gettextCatalog.getString('Incorrect username or password.');\n      this.gmfAuthenticationService_.login(this.loginVal, this.pwdVal).then(\n        this.resetError_.bind(this),\n        this.setError_.bind(this, error));\n    }\n  }\n\n  /**\n   * Calls the authentication service logout method.\n   * @export\n   */\n  logout() {\n    const gettextCatalog = this.gettextCatalog;\n    const error = gettextCatalog.getString('Could not log out.');\n    this.gmfAuthenticationService_.logout().then(\n      this.resetError_.bind(this),\n      this.setError_.bind(this, error));\n  }\n\n  /**\n   * Calls the authentication service resetPassword method.\n   * @export\n   */\n  resetPassword() {\n    const gettextCatalog = this.gettextCatalog;\n\n    if (!this.loginVal) {\n      this.setError_(gettextCatalog.getString('Please, input a login...'));\n      return;\n    }\n\n    const error = gettextCatalog.getString('An error occured while reseting the password.');\n\n    /**\n     * @param {gmfx.AuthenticationDefaultResponse} respData Response.\n     */\n    const resetPasswordSuccessFn = function(respData) {\n      this.resetPasswordModalShown = true;\n      this.resetError_();\n    }.bind(this);\n\n    this.gmfAuthenticationService_.resetPassword(this.loginVal).then(\n      resetPasswordSuccessFn,\n      this.setError_.bind(this, error)\n    );\n  }\n\n\n  // OTHER METHODS\n\n  /**\n   * Reset the changePassword values and error.\n   * @export\n   */\n  changePasswordReset() {\n    this.resetError_();\n    this.changingPassword = false;\n    this.oldPwdVal = '';\n    this.newPwdVal = '';\n    this.newPwdConfVal = '';\n  }\n\n\n  /**\n   * @param {gmfx.AuthenticationEvent} e GMF Authentication event.\n   * @private\n   */\n  onLoginReady_(e) {\n    if (e.detail.user.is_password_changed === false && this.forcePasswordChange) {\n      const gettextCatalog = this.gettextCatalog;\n      const msg = gettextCatalog.getString('You must change your password.');\n      this.notification_.notify({\n        msg: msg,\n        type: ngeoMessageMessage.Type.WARNING\n      });\n    }\n  }\n\n\n  /**\n   * @param {string|Array.<string>} errors Errors.\n   * @private\n   */\n  setError_(errors) {\n    if (this.error) {\n      this.resetError_();\n    }\n\n    this.error = true;\n\n    const container = angular.element('.gmf-authentication-error');\n\n    if (!Array.isArray(errors)) {\n      errors = [errors];\n    }\n\n    errors.forEach(function(error) {\n      this.notification_.notify({\n        msg: error,\n        target: container,\n        type: ngeoMessageMessage.Type.ERROR\n      });\n    }, this);\n  }\n\n  /**\n   * @private\n   */\n  resetError_() {\n    this.notification_.clear();\n    this.error = false;\n  }\n};\n\nexports.controller('GmfAuthenticationController',\n  exports.AuthenticationController_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/authentication/component.js","/**\n * @module gmf.datasource.Manager\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfDatasourceOGC from 'gmf/datasource/OGC.js';\nimport gmfDatasourceWFSAliases from 'gmf/datasource/WFSAliases.js';\nimport gmfLayertreeSyncLayertreeMap from 'gmf/layertree/SyncLayertreeMap.js';\nimport gmfLayertreeTreeManager from 'gmf/layertree/TreeManager.js';\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport googAsserts from 'goog/asserts.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDatasourceDataSources from 'ngeo/datasource/DataSources.js';\n\nimport ngeoDatasourceOGC from 'ngeo/datasource/OGC.js';\n\n/** @suppress {extraRequire} */\nimport ngeoFilterRuleHelper from 'ngeo/filter/RuleHelper.js';\n\nimport ngeoMapBackgroundLayerMgr from 'ngeo/map/BackgroundLayerMgr.js';\nimport ngeoMapLayerHelper from 'ngeo/map/LayerHelper.js';\nimport ngeoMiscWMSTime from 'ngeo/misc/WMSTime.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\nimport olLayerTile from 'ol/layer/Tile.js';\nimport * as olObj from 'ol/obj.js';\nimport olLayerImage from 'ol/layer/Image.js';\nimport olSourceImageWMS from 'ol/source/ImageWMS.js';\nimport olSourceTileWMS from 'ol/source/TileWMS.js';\n\nconst exports = class {\n\n  /**\n   * The GeoMapFish DataSources Manager is responsible of listenening to the\n   * c2cgeoportal's themes to create instances of `ngeo.datasource.DataSource`\n   * objects with the layer definitions found and push them in the\n   * `ngeox.datasource.DataSources` collection. The Manager must be initialized\n   * with the app's map using the setDatasourcseMap() method.\n   *\n   * When changing theme, these data sources are cleared then re-created.\n   *\n   * @struct\n   * @param {angular.$q} $q Angular q service\n   * @param {!angular.Scope} $rootScope Angular rootScope.\n   * @param {angular.$timeout} $timeout Angular timeout service.\n   * @param {gmf.theme.Themes} gmfThemes The gmf Themes service.\n   * @param {gmf.layertree.TreeManager} gmfTreeManager The gmf TreeManager service.\n   * @param {!ngeo.map.BackgroundLayerMgr} ngeoBackgroundLayerMgr Background layer\n   *     manager.\n   * @param {ngeo.datasource.DataSources} ngeoDataSources Ngeo data sources service.\n   *     data sources service.\n   * @param {!ngeo.map.LayerHelper} ngeoLayerHelper Ngeo Layer Helper.\n   * @param {!ngeo.filter.RuleHelper} ngeoRuleHelper Ngeo rule helper service.\n   * @param {!ngeo.misc.WMSTime} ngeoWMSTime wms time service.\n   * @param {!gmf.datasource.WFSAliases} gmfWFSAliases Gmf WFS aliases service.\n   * @ngInject\n   * @ngdoc service\n   * @ngname gmfDataSourcesManager\n   */\n  constructor($q, $rootScope, $timeout, gmfThemes, gmfTreeManager,\n    ngeoBackgroundLayerMgr, ngeoDataSources, ngeoLayerHelper, ngeoRuleHelper,\n    ngeoWMSTime, gmfWFSAliases\n  ) {\n\n    // === Injected properties ===\n\n    /**\n     * @type {angular.$q}\n     * @private\n     */\n    this.q_ = $q;\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.rootScope_ = $rootScope;\n\n    /**\n     * @type {angular.$timeout}\n     * @private\n     */\n    this.timeout_ = $timeout;\n\n    /**\n     * @type {gmf.theme.Themes}\n     * @private\n     */\n    this.gmfThemes_ = gmfThemes;\n\n    /**\n     * @type {gmf.layertree.TreeManager}\n     * @private\n     */\n    this.gmfTreeManager_ = gmfTreeManager;\n\n    /**\n     * @type {!ngeo.map.BackgroundLayerMgr}\n     * @private\n     */\n    this.ngeoBackgroundLayerMgr_ = ngeoBackgroundLayerMgr;\n\n    /**\n     * @type {ngeo.datasource.DataSources}\n     * @private\n     */\n    this.ngeoDataSources_ = ngeoDataSources;\n\n    /**\n     * The collection of DataSources from ngeo, which gets updated by this\n     * service. When the theme changes, first we remove all data sources, then\n     * the 'active' data source are added here.\n     * @type {ngeox.datasource.DataSources}\n     * @private\n     */\n    this.dataSources_ = ngeoDataSources.collection;\n\n    /**\n     * @type {!ngeo.map.LayerHelper}\n     * @private\n     */\n    this.ngeoLayerHelper_ = ngeoLayerHelper;\n\n    /**\n     * @type {!ngeo.filter.RuleHelper}\n     * @private\n     */\n    this.ngeoRuleHelper_ = ngeoRuleHelper;\n\n    /**\n     * @type {!ngeo.misc.WMSTime}\n     * @private\n     */\n    this.ngeoWMSTime_ = ngeoWMSTime;\n\n    /**\n     * @type {!gmf.datasource.WFSAliases}\n     * @private\n     */\n    this.gmfWFSAliases_ = gmfWFSAliases;\n\n\n    // === Inner properties ===\n\n    /**\n     * While loading a new theme, this is where all of the created data sources\n     * are put using the id as key for easier find in the future.\n     * @type {Object.<number, gmf.datasource.OGC>}\n     * @private\n     */\n    this.dataSourcesCache_ = {};\n\n    /**\n     * A reference to the dimensions object.\n     * @type {ngeox.Dimensions|undefined}\n     * @private\n     */\n    this.dimensions_;\n\n    /**\n     * The cache of layertree leaf controller, i.e. those that are added to\n     * the tree manager. When treeCtrl is added in this cache, it's given\n     * a reference to its according data source.\n     * @type {gmfx.datasource.ManagerTreeCtrlCache}\n     * @private\n     */\n    this.treeCtrlCache_ = {};\n\n    /**\n     * The function to call to unregister the `watchCollection` event on\n     * the root layer tree controller children.\n     * @type {?Function}\n     * @private\n     */\n    this.treeCtrlsUnregister_ = null;\n\n    // === Events ===\n\n    olEvents.listen(\n      this.ngeoBackgroundLayerMgr_,\n      'change',\n      this.handleNgeoBackgroundLayerChange_,\n      this\n    );\n    olEvents.listen(this.gmfThemes_, 'change', this.handleThemesChange_, this);\n  }\n\n\n  /**\n   * Set the map to use with your datasources.\n   * @param {!ol.Map} map The map to use.\n   * @export\n   */\n  setDatasourceMap(map) {\n    this.ngeoDataSources_.map = map;\n  }\n\n  /**\n   * @param {!ngeox.Dimensions} dimensions A reference to the dimensions\n   *     object to keep a reference of in this service.\n   */\n  setDimensions(dimensions) {\n    this.dimensions_ = dimensions;\n  }\n\n  /**\n   * Called when the themes change. Remove any existing data sources first,\n   * then create and add data sources from the loaded themes.\n   * @private\n   */\n  handleThemesChange_() {\n    // (1) Clear\n    this.clearDataSources_();\n    if (this.treeCtrlsUnregister_) {\n      this.treeCtrlsUnregister_();\n    }\n    this.clearTreeCtrlCache_();\n\n    // (2) Re-create data sources and event listeners\n    this.gmfThemes_.getOgcServersObject().then((ogcServers) => {\n      const promiseThemes = this.gmfThemes_.getThemesObject().then((themes) => {\n        // Create a DataSources for each theme\n        for (const theme of themes) {\n          for (const child of theme.children) {\n            googAsserts.assert(child);\n            this.createDataSource_(child, child, ogcServers);\n          }\n        }\n      });\n\n      const promiseBgLayers = this.gmfThemes_.getBackgroundLayersObject().then(\n        (backgroundLayers) => {\n          // Create a DataSource for each background layer\n          for (const backgroundLayer of backgroundLayers) {\n            this.createDataSource_(null, backgroundLayer, ogcServers);\n          }\n        }\n      );\n\n      // Then add the data sources that are active in the ngeo collection\n      this.q_.all([promiseThemes, promiseBgLayers]).then(() => {\n        this.treeCtrlsUnregister_ = this.rootScope_.$watchCollection(\n          () => {\n            if (this.gmfTreeManager_.rootCtrl) {\n              return this.gmfTreeManager_.rootCtrl.children;\n            }\n          },\n          this.handleTreeManagerRootChildrenChange_.bind(this)\n        );\n      });\n    });\n  }\n\n  /**\n   * Called when the list of tree controllers within the tree manager\n   * root controller changes. In other words, this method is called\n   * after nodes are being added added or removed from the tree,\n   * i.e. from the child nodes collection.\n   *\n   * A timeout is required  because the collection event is fired before\n   * the leaf nodes are created and they are the ones we're looking for here.\n   *\n   * This method handles the registration/unregistration of tree nodes that\n   * are added or removed, pushing it to the cache or removing it from the\n   * cache.\n   *\n   * @param {Array.<ngeo.layertree.Controller>|undefined} value List of tree\n   *     controllers.\n   * @private\n   */\n  handleTreeManagerRootChildrenChange_(value) {\n\n    this.timeout_(() => {\n\n      // (1) No need to do anything if the value is not set\n      if (!value) {\n        return;\n      }\n\n      // (2) Collect 'leaf' treeCtrls\n      const newTreeCtrls = [];\n      const visitor = (treeCtrls, treeCtrl) => {\n        const node = /** @type {!gmfThemes.GmfGroup|!gmfThemes.GmfLayer} */ (\n          treeCtrl.node);\n        const children = node.children;\n        if (!children) {\n          treeCtrls.push(treeCtrl);\n        }\n      };\n      for (let i = 0, ii = value.length; i < ii; i++) {\n        value[i].traverseDepthFirst(visitor.bind(this, newTreeCtrls));\n      }\n\n      // (3) Add new 'treeCtrls'\n      for (let i = 0, ii = newTreeCtrls.length; i < ii; i++) {\n        const newTreeCtrl = newTreeCtrls[i];\n        const cacheItem = this.getTreeCtrlCacheItem_(newTreeCtrl);\n        if (!cacheItem) {\n          this.addTreeCtrlToCache_(newTreeCtrl);\n        }\n      }\n\n      // (4) Remove treeCtrls that are no longer in the newTreeCtrl\n      const cache = this.treeCtrlCache_;\n      for (const id in this.treeCtrlCache_) {\n        const item = cache[id];\n        if (!newTreeCtrls.includes(item.treeCtrl)) {\n          this.removeTreeCtrlCacheItem_(item);\n        }\n      }\n    });\n  }\n\n  /**\n   * Remove the data sources from the ngeo collection that are in the cache,\n   * i.e. those created by this service, then clear the cache.\n   * @private\n   */\n  clearDataSources_() {\n\n    // (1) Remove data sources from ngeo collection\n    const dataSources = this.dataSources_.getArray();\n    for (let i = dataSources.length - 1, ii = 0; i >= ii; i--) {\n      if (this.dataSourcesCache_[dataSources[i].id]) {\n        // Use the `remove` method of the `ol.Collection` object for it\n        // to update its length accordingly and trigger the REMOVE event as\n        // well.\n        this.dataSources_.remove(dataSources[i]);\n      }\n    }\n\n    // (2) Clear the cache\n    olObj.clear(this.dataSourcesCache_);\n  }\n\n  /**\n   * Create a data source using the information on the node, group node\n   * and OGC servers. If the node has children, then we loop in those to get\n   * leaf nodes. Only leaf nodes end up creating a data source. If a data\n   * source with the same id already exists, then the node is skipped.\n   *\n   * Once a data source is created, it is added to the data sources cache.\n   *\n   * @param {gmfThemes.GmfGroup} firstLevelGroup The first level group node.\n   * @param {!gmfThemes.GmfGroup|!gmfThemes.GmfLayer} node The node, which\n   *     may have children or not.\n   * @param {!gmfThemes.GmfOgcServers} ogcServers OGC servers.\n   * @private\n   */\n  createDataSource_(firstLevelGroup, node, ogcServers) {\n\n    const children = node.children;\n\n    // (1) Group node (node that has children). Loop in the children\n    //     individually and create a data source for each one of them. The\n    //     group node itself is **skipped**.\n    if (children) {\n      for (const child of children) {\n        googAsserts.assert(child);\n        this.createDataSource_(firstLevelGroup, child, ogcServers);\n      }\n      return;\n    }\n\n    // From there on, the node is a layer node.\n    const gmfLayer = /** @type gmfThemes.GmfLayer */ (node);\n\n    // (2) Skip layer node if a data source with the same id exists\n    const id = olBase.getUid(gmfLayer);\n    if (this.dataSourcesCache_[id]) {\n      return;\n    }\n\n    // From there on, a data source will be created\n    const meta = gmfLayer.metadata;\n    const ogcType = gmfLayer.type;\n    let maxResolution;\n    let minResolution;\n    let ogcLayers;\n    let ogcServer;\n    let wmtsLayer;\n    let wmtsUrl;\n    let ogcImageType;\n    let timeProperty;\n\n    if (ogcType === gmfThemeThemes.NodeType.WMTS) {\n      // (3) Manage WMTS\n      const gmfLayerWMTS = /** @type {gmfThemes.GmfLayerWMTS} */ (gmfLayer);\n\n      // Common options for WMTS\n      wmtsLayer = gmfLayerWMTS.layer;\n      wmtsUrl = gmfLayerWMTS.url;\n      maxResolution = meta.maxResolution;\n      minResolution = meta.minResolution;\n\n      // OGC Layers\n      const layers = meta.queryLayers || meta.wmsLayers;\n      if (layers) {\n        ogcLayers = layers.split(',').map((layer) => {\n          return {\n            maxResolution: maxResolution,\n            minResolution: minResolution,\n            name: layer,\n            queryable: true\n          };\n        });\n      }\n\n      // OGC Server\n      if (meta.ogcServer && ogcServers[meta.ogcServer]) {\n        ogcServer = ogcServers[meta.ogcServer];\n      }\n      ogcImageType = gmfLayerWMTS.imageType;\n    } else if (ogcType === gmfThemeThemes.NodeType.WMS) {\n      // (4) Manage WMS\n      const gmfLayerWMS = /** @type {gmfThemes.GmfLayerWMS} */ (gmfLayer);\n\n      // Common options for WMS\n      maxResolution = gmfLayerWMS.maxResolutionHint;\n      minResolution = gmfLayerWMS.minResolutionHint;\n\n      // OGC Layers\n      ogcLayers = gmfLayerWMS.childLayers.map((childLayer) => {\n        return {\n          maxResolution: childLayer.maxResolutionHint,\n          minResolution: childLayer.minResolutionHint,\n          name: childLayer.name,\n          queryable: childLayer.queryable\n        };\n      });\n\n      // OGC Server\n      const ogcServerName = (!firstLevelGroup || firstLevelGroup.mixed) ?\n        gmfLayerWMS.ogcServer : firstLevelGroup.ogcServer;\n      googAsserts.assert(ogcServerName);\n      ogcServer = ogcServers[ogcServerName];\n      ogcImageType = ogcServer.imageType;\n\n      // Time property\n      if (gmfLayerWMS.time) {\n        timeProperty = gmfLayerWMS.time;\n      } else if (firstLevelGroup && firstLevelGroup.time) {\n        timeProperty = firstLevelGroup.time;\n      }\n    }\n\n    // (5) ogcServer\n    const ogcServerType = ogcServer ? ogcServer.type : undefined;\n    const wmsIsSingleTile = ogcServer ? ogcServer.isSingleTile : undefined;\n    const wfsUrl = ogcServer && ogcServer.wfsSupport ?\n      ogcServer.urlWfs : undefined;\n    const wmsUrl = ogcServer ? ogcServer.url : undefined;\n\n    let wfsOutputFormat = ngeoDatasourceOGC.WFSOutputFormat.GML3;\n    // qgis server only supports GML2 output\n    if (ogcServerType === ngeoDatasourceOGC.ServerType.QGISSERVER) {\n      wfsOutputFormat = ngeoDatasourceOGC.WFSOutputFormat.GML2;\n    }\n\n    // (6) Snapping\n    const snappable = !!meta.snappingConfig;\n    const snappingTolerance = meta.snappingConfig ?\n      meta.snappingConfig.tolerance : undefined;\n    const snappingToEdges = meta.snappingConfig ?\n      meta.snappingConfig.edge : undefined;\n    const snappingToVertice = meta.snappingConfig ?\n      meta.snappingConfig.vertex : undefined;\n\n    // (7) Dimensions\n    const dimensions = this.dimensions_;\n    const dimensionsConfig = node.dimensions || firstLevelGroup.dimensions;\n\n    // (8) Time values (lower or lower/upper)\n    let timeLowerValue;\n    let timeUpperValue;\n    if (timeProperty) {\n      const timeValues = this.ngeoWMSTime_.getOptions(timeProperty)['values'];\n      if (Array.isArray(timeValues)) {\n        timeLowerValue = timeValues[0];\n        timeUpperValue = timeValues[1];\n      } else {\n        timeLowerValue = timeValues;\n      }\n    }\n\n    // (9) Common options\n    const copyable = meta.copyable;\n    const identifierAttribute = meta.identifierAttributeField;\n    const name = gmfLayer.name;\n    const timeAttributeName = meta.timeAttribute;\n    const visible = meta.isChecked === true;\n\n    // Create the data source and add it to the cache\n    this.dataSourcesCache_[id] = new gmfDatasourceOGC({\n      copyable,\n      dimensions,\n      dimensionsConfig,\n      gmfLayer,\n      id,\n      identifierAttribute,\n      maxResolution,\n      minResolution,\n      name,\n      ogcImageType,\n      ogcLayers,\n      ogcServerType,\n      ogcType,\n      snappable,\n      snappingTolerance,\n      snappingToEdges,\n      snappingToVertice,\n      timeAttributeName,\n      timeLowerValue,\n      timeProperty,\n      timeUpperValue,\n      visible,\n      wfsOutputFormat,\n      wfsUrl,\n      wmsIsSingleTile,\n      wmsUrl,\n      wmtsLayer,\n      wmtsUrl\n    });\n  }\n\n  /**\n   * If the given Layertree controller is a 'leaf', add it to the cache.\n   * Also, set its according data source. Finally, add the data source to\n   * the ngeo collection.\n   *\n   * @param {ngeo.layertree.Controller} treeCtrl Layertree controller to add\n   * @private\n   */\n  addTreeCtrlToCache_(treeCtrl) {\n\n    const id = olBase.getUid(treeCtrl.node);\n    const dataSource = this.dataSourcesCache_[id];\n    googAsserts.assert(dataSource, 'DataSource should be set');\n    treeCtrl.setDataSource(dataSource);\n\n    const stateWatcherUnregister = this.rootScope_.$watch(\n      () => treeCtrl.getState(),\n      this.handleTreeCtrlStateChange_.bind(this, treeCtrl)\n    );\n\n    const filterRulesWatcherUnregister = this.rootScope_.$watch(\n      () => {\n        const hasFilters = dataSource.filterRules !== null;\n        const isVisible = dataSource.visible;\n        return hasFilters && isVisible;\n      },\n      this.handleDataSourceFilterRulesChange_.bind(this, dataSource)\n    );\n\n    // Watch for time values change to update the WMS layer\n    let timeLowerValueWatcherUnregister;\n    let timeUpperValueWatcherUnregister;\n    let wmsLayer;\n    if (dataSource.timeProperty &&\n        dataSource.ogcType === ngeoDatasourceOGC.Type.WMS\n    ) {\n      timeLowerValueWatcherUnregister = this.rootScope_.$watch(\n        () => dataSource.timeLowerValue,\n        this.handleDataSourceTimeValueChange_.bind(this, dataSource)\n      );\n\n      if (dataSource.timeProperty.mode === 'range') {\n        timeUpperValueWatcherUnregister = this.rootScope_.$watch(\n          () => dataSource.timeUpperValue,\n          this.handleDataSourceTimeValueChange_.bind(this, dataSource)\n        );\n      }\n\n      wmsLayer = googAsserts.assertInstanceof(\n        gmfLayertreeSyncLayertreeMap.getLayer(treeCtrl),\n        olLayerImage\n      );\n    }\n\n    this.treeCtrlCache_[id] = {\n      filterRulesWatcherUnregister,\n      stateWatcherUnregister,\n      timeLowerValueWatcherUnregister,\n      timeUpperValueWatcherUnregister,\n      treeCtrl,\n      wmsLayer\n    };\n\n    this.dataSources_.push(dataSource);\n\n    this.gmfWFSAliases_.describe(dataSource);\n  }\n\n  /**\n   * Remove a treeCtrl cache item. Unregister event listeners and remove the\n   * data source from the ngeo collection.\n   *\n   * @param {gmfx.datasource.ManagerTreeCtrlCacheItem} item Layertree\n   *     controller cache item\n   * @private\n   */\n  removeTreeCtrlCacheItem_(item) {\n\n    // (1) Remove data source\n    const dataSource = item.treeCtrl.getDataSource();\n    googAsserts.assert(dataSource, 'DataSource should be set');\n    this.dataSources_.remove(dataSource);\n\n    // (2) Remove item and clear event listeners\n    item.treeCtrl.setDataSource(null);\n    item.filterRulesWatcherUnregister();\n    item.stateWatcherUnregister();\n    if (item.timeLowerValueWatcherUnregister) {\n      item.timeLowerValueWatcherUnregister();\n    }\n    if (item.timeUpperValueWatcherUnregister) {\n      item.timeUpperValueWatcherUnregister();\n    }\n    delete this.treeCtrlCache_[olBase.getUid(item.treeCtrl.node)];\n  }\n\n  /**\n   * Clears the layer tree controller cache. At the same time, each item gets\n   * its data source reference unset and state watcher unregistered.\n   *\n   * The data source gets also removed from the ngeo data sources collection.\n   * @private\n   */\n  clearTreeCtrlCache_() {\n    for (const id in this.treeCtrlCache_) {\n      this.removeTreeCtrlCacheItem_(this.treeCtrlCache_[id]);\n    }\n  }\n\n  /**\n   * Called when the state of a 'leaf' layertree controller changes.\n   * Update the `visible` property of the data source according to the\n   * state of the layertree controller.\n   *\n   * Note: The possible states can only be 'on' or 'off', because the\n   * layertree controller being a 'leaf'.\n   *\n   * @param {ngeo.layertree.Controller} treeCtrl The layer tree controller\n   * @param {string|undefined} newVal New state value\n   * @private\n   */\n  handleTreeCtrlStateChange_(treeCtrl, newVal) {\n    const treeDataSource = treeCtrl.getDataSource();\n    googAsserts.assert(treeDataSource, 'DataSource should be set');\n    const visible = newVal === 'on';\n    treeDataSource.visible = visible;\n\n    // In GMF, multiple data sources can be combined into one ol.layer.Layer\n    // object. When changing the state of a data source, we need to make\n    // sure that the FILTER param match order of the current LAYERS param.\n    //\n    // Note: we only need to do this ONCE, as there can be only one\n    // data source being filtered at a time\n    const siblingDataSourceIds = gmfLayertreeSyncLayertreeMap.getLayer(\n      treeCtrl).get('querySourceIds');\n    if (Array.isArray(siblingDataSourceIds)) {\n      const dataSources = this.dataSources_.getArray();\n      for (const dataSource of dataSources) {\n        if (dataSource instanceof gmfDatasourceOGC &&\n            dataSource.filterRules !== null &&\n            dataSource.id !== treeDataSource.id &&\n            siblingDataSourceIds.includes(dataSource.id) &&\n            dataSource.visible\n        ) {\n          this.handleDataSourceFilterRulesChange_(dataSource, true);\n          break;\n        }\n      }\n    }\n  }\n\n  /**\n   * Returns a layertree controller cache item, if it exists.\n   *\n   * @param {ngeo.layertree.Controller} treeCtrl The layer tree controller\n   * @return {gmfx.datasource.ManagerTreeCtrlCacheItem} Cache item\n   * @private\n   */\n  getTreeCtrlCacheItem_(treeCtrl) {\n    return this.treeCtrlCache_[olBase.getUid(treeCtrl.node)] || null;\n  }\n\n  /**\n   * Called when both the 'visible' and 'filterRules' properties of a data\n   * source change.\n   *\n   * If the data source is filtrable, then make sure that when it gets rules\n   * set to apply them as OGC filters to the OpenLayers layer, more precisely\n   * as a `FILTER` parameter in the layer's source parameters.\n   *\n   * @param {!gmf.datasource.OGC} dataSource Data source.\n   * @param {boolean} value Value.\n   * @private\n   */\n  handleDataSourceFilterRulesChange_(dataSource, value) {\n\n    // Skip data sources that are not filtrables OR those that do not have\n    // the WMS ogcType, i.e. those that do not have an OpenLayers layer\n    // to update\n    if (dataSource.filtrable !== true ||\n        dataSource.ogcType !== ngeoDatasourceOGC.Type.WMS\n    ) {\n      return;\n    }\n\n    const id = olBase.getUid(dataSource.gmfLayer);\n    const item = this.treeCtrlCache_[id];\n    googAsserts.assert(item);\n    const treeCtrl = item.treeCtrl;\n\n    const layer = gmfLayertreeSyncLayertreeMap.getLayer(treeCtrl);\n    googAsserts.assert(\n      layer instanceof olLayerImage ||\n      layer instanceof olLayerTile\n    );\n\n    const source = layer.getSource();\n    googAsserts.assert(\n      source instanceof olSourceImageWMS ||\n      source instanceof olSourceTileWMS\n    );\n\n    const filtrableLayerName = dataSource.getFiltrableOGCLayerName();\n    const projCode = treeCtrl.map.getView().getProjection().getCode();\n    const filterString = dataSource.visible ?\n      this.ngeoRuleHelper_.createFilterString({\n        dataSource,\n        projCode\n      }) :\n      null;\n\n    const filterParam = 'FILTER';\n    let filterParamValue = null;\n\n    if (filterString) {\n      const params = source.getParams();\n      const layersParam = params['LAYERS'];\n      const layersList = layersParam.split(',');\n      googAsserts.assert(layersList.length >= 1);\n\n      if (layersList.length === 1) {\n        // When there's only one layer in the `LAYERS` parameters, then\n        // the filter string is given as-is.\n        filterParamValue = filterString;\n      } else {\n        // When there's more then one layer, then each filter must be wrapped\n        // between parenthesis and the order must also match the `LAYERS`\n        // parameter as well.\n        const filterParamValues = [];\n        for (let i = 0, ii = layersList.length; i < ii; i++) {\n          if (layersList[i] === filtrableLayerName) {\n            filterParamValues.push(`(${filterString})`);\n          } else {\n            filterParamValues.push('()');\n          }\n        }\n        filterParamValue = filterParamValues.join('');\n      }\n    }\n\n    source.updateParams({\n      [filterParam]: filterParamValue\n    });\n  }\n\n  /**\n   * Called when either the `timeLowerValue` or `timeUpperValue` property of a\n   * data source changes.\n   *\n   * Get the range value from the data source, then update the WMS layer\n   * thereafter.\n   *\n   * @param {!gmf.datasource.OGC} dataSource Data source.\n   * @private\n   */\n  handleDataSourceTimeValueChange_(dataSource) {\n\n    const id = olBase.getUid(dataSource.gmfLayer);\n    const item = this.treeCtrlCache_[id];\n    googAsserts.assert(item);\n    const wmsLayer = googAsserts.assert(item.wmsLayer);\n    const wmsSource = googAsserts.assertInstanceof(\n      wmsLayer.getSource(),\n      olSourceImageWMS\n    );\n\n    const timeProperty = googAsserts.assert(dataSource.timeProperty);\n    let timeParam;\n    const range = dataSource.timeRangeValue;\n    if (range) {\n      timeParam = this.ngeoWMSTime_.formatWMSTimeParam(timeProperty, range);\n    }\n\n    // No need to update the TIME param if already the same value;\n    const params = wmsSource.getParams();\n    const currentTimeParam = params['TIME'];\n    if (currentTimeParam === timeParam) {\n      return;\n    }\n\n    // The `timeParam` can be undefined, which means that the TIME property\n    // gets reset.\n    this.ngeoLayerHelper_.updateWMSLayerState(\n      wmsLayer,\n      wmsSource.getParams()['LAYERS'],\n      timeParam\n    );\n  }\n\n  /**\n   * Called when the background layer changes. Add/Remove the according data\n   * sources to/from the ngeo data sources collection. Update the data source\n   * `visible` property as well.\n   *\n   * The `querySourceIds` property in the layer is used to determine the\n   * data sources that are bound to the layer.\n   *\n   * @param {!ngeox.BackgroundEvent} evt Event.\n   * @private\n   */\n  handleNgeoBackgroundLayerChange_(evt) {\n\n    const previousBackgroundLayer = evt.detail.previous;\n    const currentBackgroundLayer = evt.detail.current;\n    const cache = this.dataSourcesCache_;\n\n    // Remove data sources linked to previous background layer\n    if (previousBackgroundLayer) {\n      const ids = previousBackgroundLayer.get('querySourceIds');\n      if (Array.isArray(ids)) {\n        for (const id of ids) {\n          const dataSource = cache[id];\n          if (dataSource) {\n            dataSource.visible = false;\n            this.dataSources_.remove(dataSource);\n          }\n        }\n      }\n    }\n\n    // Add data sources linked to current background layer\n    if (currentBackgroundLayer) {\n      const ids = currentBackgroundLayer.get('querySourceIds');\n      if (Array.isArray(ids)) {\n        for (const id of ids) {\n          const dataSource = cache[id];\n          if (dataSource) {\n            dataSource.visible = true;\n            this.dataSources_.push(dataSource);\n          }\n        }\n      }\n    }\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfDataSourcesManager', [\n  gmfDatasourceWFSAliases.module.name,\n  gmfLayertreeSyncLayertreeMap.module.name,\n  gmfLayertreeTreeManager.module.name,\n  gmfThemeThemes.module.name,\n  ngeoFilterRuleHelper.module.name,\n  ngeoDatasourceDataSources.module.name,\n  ngeoMapBackgroundLayerMgr.module.name,\n  ngeoMapLayerHelper.module.name,\n  ngeoMiscWMSTime.module.name,\n]);\nexports.module.service('gmfDataSourcesManager', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/datasource/Manager.js","/**\n * @module gmf.datasource.WFSAliases\n */\nimport gmfBase from 'gmf/index.js';\nimport ngeoDatasourceHelper from 'ngeo/datasource/Helper.js';\n\nconst exports = class {\n\n  /**\n   * Service that provides methods to get additional information and actions\n   * when perfoming WFS requests.\n   *\n   * @struct\n   * @param {ngeo.datasource.Helper} ngeoDataSourcesHelper Ngeo data\n   *     source helper service.\n   * @ngdoc service\n   * @ngname gmfWFSAliases\n   * @ngInject\n   */\n  constructor(ngeoDataSourcesHelper) {\n\n    // === Injected properties ===\n\n    /**\n     * @type {ngeo.datasource.Helper}\n     * @private\n     */\n    this.ngeoDataSourcesHelper_ = ngeoDataSourcesHelper;\n  }\n\n\n  /**\n   * @param {ngeo.datasource.OGC} dataSource Data source.\n   * @export\n   */\n  describe(dataSource) {\n    // Only QGIS Server supports WFS aliases\n    if (dataSource.ogcServerType === 'qgisserver' && !dataSource.attributes) {\n      // Trigger an additional WFS DescribeFeatureType request to get\n      // datasource attributes, including aliases.\n      this.ngeoDataSourcesHelper_.getDataSourceAttributes(dataSource);\n    }\n  }\n};\n\n\nexports.module = angular.module('gmfDatasourceWFSAliases', []);\nexports.module.service('gmfWFSAliases', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/datasource/WFSAliases.js","/**\n * @module ngeo.query.bboxQueryComponent\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/** @suppress {extraRequire} */\nimport ngeoQueryMapQuerent from 'ngeo/query/MapQuerent.js';\n\nimport olInteractionDragBox from 'ol/interaction/DragBox.js';\nimport olEventsCondition from 'ol/events/condition.js';\n\nconst exports = angular.module('ngeoBboxQuery', [\n  ngeoQueryMapQuerent.module.name,\n]);\n\n\n/**\n * Provides a \"bbox query\" directive.\n *\n * This directive is responsible of binding a map and the ngeo query service\n * together. While active, drawing a bbox while CTRL or the 'meta' key is pressed\n * issues a request to the query service.\n *\n * This directive doesn't require to be rendered in a visible DOM element, but\n * it could be used with a ngeo-btn to manage the activation of the directive.\n * See below an example without any use of UI:\n *\n * Example:\n *\n *      <span\n *        ngeo-bbox-query=\"\"\n *        ngeo-bbox-query-map=\"::ctrl.map\"\n *        ngeo-bbox-query-limit=\"50\"\n *        ngeo-bbox-query-active=\"ctrl.queryActive\">\n *        ngeo-bbox-query-autoclear=\"ctrl.queryAutoClear\">\n *      </span>\n *\n * See the live example: [../examples/bboxquery.html](../examples/bboxquery.html)\n *\n * @param {ngeo.query.MapQuerent} ngeoMapQuerent The ngeo map querent service.\n * @return {angular.Directive} The Directive Definition Object.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoBboxQuery\n */\nexports.directive_ = function(ngeoMapQuerent) {\n  return {\n    restrict: 'A',\n    scope: false,\n    link: (scope, elem, attrs) => {\n      /**\n       * @type {ol.Map}\n       */\n      const map = scope.$eval(attrs['ngeoBboxQueryMap']);\n\n      const interaction = new olInteractionDragBox({\n        condition: olEventsCondition.platformModifierKeyOnly\n      });\n\n      /**\n       * Called when a bbox is drawn while this controller is active. Issue\n       * a request to the query service using the extent that was drawn.\n       * @param {ol.interaction.DragBox.Event} evt Event.\n       */\n      const handleBoxEnd = function(evt) {\n        const extent = interaction.getGeometry().getExtent();\n        ngeoMapQuerent.issue({\n          limit: scope.$eval(attrs['ngeoBboxQueryLimit']),\n          extent: extent,\n          map: map\n        });\n      };\n      interaction.on('boxend', handleBoxEnd);\n\n      // watch 'active' property -> activate/deactivate accordingly\n      scope.$watch(attrs['ngeoBboxQueryActive'],\n        (newVal, oldVal) => {\n          if (newVal) {\n            // activate\n            map.addInteraction(interaction);\n          } else {\n            // deactivate\n            map.removeInteraction(interaction);\n            if (scope.$eval(attrs['ngeoBboxQueryAutoclear']) !== false) {\n              ngeoMapQuerent.clear();\n            }\n          }\n        }\n      );\n    }\n  };\n};\n\nexports.directive('ngeoBboxQuery', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/query/bboxQueryComponent.js","/**\n * @module ngeo.query.mapQueryComponent\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/** @suppress {extraRequire} */\nimport ngeoQueryMapQuerent from 'ngeo/query/MapQuerent.js';\n\nimport olEvents from 'ol/events.js';\n\nconst exports = angular.module('ngeoMapQuery', [\n  ngeoQueryMapQuerent.module.name,\n]);\n\n\n/**\n * Provides a \"map query\" directive.\n *\n * This directive is responsible of binding a map and the ngeo query service\n * together. While active, clicks made on the map are listened by the directive\n * and a request gets issued to the query service.\n *\n * This directive doesn't require to be rendered in a visible DOM element, but\n * it could be used with a ngeo-btn to manage the activation of the directive.\n * See below an example without any use of UI:\n *\n * Example:\n *\n *      <span\n *        ngeo-map-query=\"\"\n *        ngeo-map-query-map=\"::ctrl.map\"\n *        ngeo-map-query-active=\"ctrl.queryActive\"\n *        ngeo-map-query-autoclear=\"ctrl.queryAutoClear\">\n *      </span>\n *\n * See our live example: [../examples/mapquery.html](../examples/mapquery.html)\n *\n * @param {ngeo.query.MapQuerent} ngeoMapQuerent The ngeo map querent service.\n * @param {angular.$injector} $injector Main injector.\n * @return {angular.Directive} The Directive Definition Object.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoMapQuery\n */\nexports.directive_ = function(ngeoMapQuerent, $injector) {\n  return {\n    restrict: 'A',\n    scope: false,\n    link: (scope, elem, attrs) => {\n      const map = scope.$eval(attrs['ngeoMapQueryMap']);\n      let clickEventKey_ = null;\n      let pointerMoveEventKey_ = null;\n\n      /**\n       * Called when the map is clicked while this controller is active. Issue\n       * a request to the query service using the coordinate that was clicked.\n       * @param {ol.MapBrowserEvent} evt The map browser event being fired.\n       */\n      const handleMapClick_ = function(evt) {\n        const coordinate = evt.coordinate;\n        ngeoMapQuerent.issue({\n          coordinate,\n          map\n        });\n      };\n\n      /**\n       * Called when the pointer is moved while this controller is active.\n       * Change the mouse pointer when hovering a non-transparent pixel on the\n       * map.\n       * @param {ol.MapBrowserEvent} evt The map browser event being fired.\n       */\n      const handlePointerMove_ = function(evt) {\n        if (!evt.dragging) {\n          const pixel = map.getEventPixel(evt.originalEvent);\n          const queryable = function(layer) {\n            const visible = layer.get('visible');\n            const sourceids = layer.get('querySourceIds');\n            return visible && !!sourceids;\n          };\n          const hit = map.forEachLayerAtPixel(pixel, () => true, undefined, queryable);\n          map.getTargetElement().style.cursor = hit ? 'pointer' : '';\n        }\n      };\n\n      /**\n       * Listen to the map events.\n       */\n      const activate_ = function() {\n        clickEventKey_ = olEvents.listen(map, 'singleclick', handleMapClick_);\n        const queryOptions = /** @type {ngeox.QueryOptions} */ (\n          $injector.has('ngeoQueryOptions') ? $injector.get('ngeoQueryOptions') : {}\n        );\n        if (queryOptions.cursorHover) {\n          pointerMoveEventKey_ = olEvents.listen(map, 'pointermove', handlePointerMove_);\n        }\n      };\n\n      /**\n       * Unlisten the map events.\n       */\n      const deactivate_ = function() {\n        if (clickEventKey_ !== null) {\n          olEvents.unlistenByKey(clickEventKey_);\n          clickEventKey_ = null;\n        }\n        if (pointerMoveEventKey_ !== null) {\n          olEvents.unlistenByKey(pointerMoveEventKey_);\n          pointerMoveEventKey_ = null;\n        }\n        if (scope.$eval(attrs['ngeoMapQueryAutoclear']) !== false) {\n          ngeoMapQuerent.clear();\n        }\n      };\n\n      // watch 'active' property -> activate/deactivate accordingly\n      scope.$watch(attrs['ngeoMapQueryActive'],\n        (newVal, oldVal) => {\n          if (newVal) {\n            activate_();\n          } else {\n            deactivate_();\n          }\n        }\n      );\n    }\n  };\n};\n\nexports.directive('ngeoMapQuery', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/query/mapQueryComponent.js","/**\n * @module ngeo.interaction.MeasureArea\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoInteractionMeasure from 'ngeo/interaction/Measure.js';\nimport * as olBase from 'ol/index.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olInteractionDraw from 'ol/interaction/Draw.js';\n\n/**\n * @classdesc\n * Interaction dedicated to measure length.\n *\n * See our live example: [../examples/measure.html](../examples/measure.html)\n *\n * @constructor\n * @struct\n * @extends {ngeo.interaction.Measure}\n * @param {ngeox.unitPrefix} format The format function\n * @param {ngeox.interaction.MeasureOptions=} opt_options Options\n */\nconst exports = function(format, opt_options) {\n\n  const options = opt_options !== undefined ? opt_options : {};\n\n  ngeoInteractionMeasure.call(this, options);\n\n\n  /**\n   * Message to show after the first point is clicked.\n   * @type {Element}\n   */\n  this.continueMsg;\n  if (options.continueMsg !== undefined) {\n    this.continueMsg = options.continueMsg;\n  } else {\n    this.continueMsg = document.createElement('span');\n    this.continueMsg.textContent = 'Click to continue drawing the polygon.';\n    const br = document.createElement('br');\n    br.textContent = 'Double-click or click starting point to finish.';\n    this.continueMsg.appendChild(br);\n  }\n\n  /**\n   * The format function\n   * @type {ngeox.unitPrefix}\n   */\n  this.format = format;\n\n};\n\nolBase.inherits(exports, ngeoInteractionMeasure);\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.createDrawInteraction = function(style, source) {\n  return new olInteractionDraw({\n    type: /** @type {ol.geom.GeometryType} */ ('Polygon'),\n    source: source,\n    style: style\n  });\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.handleMeasure = function(callback) {\n  const geom = googAsserts.assertInstanceof(this.sketchFeature.getGeometry(), olGeomPolygon);\n  const proj = this.getMap().getView().getProjection();\n  googAsserts.assert(proj);\n  const output = ngeoInteractionMeasure.getFormattedArea(geom, proj, this.precision, this.format);\n  const verticesCount = geom.getCoordinates()[0].length;\n  let coord = null;\n  if (verticesCount > 3) {\n    coord = geom.getInteriorPoint().getCoordinates();\n  }\n  callback(output, coord);\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/MeasureArea.js","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n$.ui = $.ui || {};\n\nreturn $.ui.version = \"1.12.1\";\n\n} ) );\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jquery-ui/ui/version.js\n// module id = 292\n// module chunks = 0 26","/**\n * @module ngeo.Menu\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoCustomEvent from 'ngeo/CustomEvent.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\nimport olOverlay from 'ol/Overlay.js';\nimport olOverlayPositioning from 'ol/OverlayPositioning.js';\n\n/**\n * @classdesc\n * An OpenLayers overlay that shows a contextual menu with configurable actions\n * anchored from its top left to a specific location. An event is fired when\n * any of the action is clicked.\n *\n * @constructor\n * @extends {ol.Overlay}\n * @param {ngeox.MenuOptions=} menuOptions Menu options.\n * @param {olx.OverlayOptions=} opt_overlayOptions Overlay options.\n */\nconst exports = function(menuOptions, opt_overlayOptions) {\n\n  const options = opt_overlayOptions !== undefined ? opt_overlayOptions : {};\n\n  options.positioning = olOverlayPositioning.TOP_LEFT;\n\n  /**\n   * @type {Array.<ol.EventsKey>}\n   * @private\n   */\n  this.listenerKeys_ = [];\n\n  /**\n   * @type {?ol.EventsKey}\n   * @private\n   */\n  this.clickOutListenerKey_ = null;\n\n  const contentEl = $('<div/>', {\n    'class': 'panel panel-default'\n  });\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.autoClose_ = menuOptions.autoClose !== undefined ?\n    menuOptions.autoClose : true;\n\n  // titleEl\n  if (menuOptions.title) {\n    const headerEl = $('<div>', {\n      'class': 'panel-heading'\n    }).appendTo(contentEl);\n\n    $('<span>', {\n      text: menuOptions.title\n    }).appendTo(headerEl);\n  }\n\n  // actionsEl\n  const actionsEl = $('<div>', {\n    'class': 'list-group'\n  }).appendTo(contentEl);\n\n  /**\n   * @type {Array.<jQuery>}\n   * @private\n   */\n  this.actions_ = [];\n\n  menuOptions.actions.forEach((action) => {\n    this.actions_.push(\n      $('<button>', {\n        'class': 'list-group-item',\n        'data-name': action.name,\n        'text': [\n          ' ',\n          (action.label) !== undefined ? action.label : action.name\n        ].join('')\n      })\n        .appendTo(actionsEl)\n        .prepend($('<span>', {\n          'class': action.cls !== undefined ? action.cls : ''\n        }))\n    );\n  });\n\n  options.element = contentEl[0];\n\n  olOverlay.call(this, options);\n\n};\n\nolBase.inherits(exports, olOverlay);\n\n\n/**\n * @param {ol.PluggableMap|undefined} map Map.\n * @export\n * @override\n */\nexports.prototype.setMap = function(map) {\n\n  const currentMap = this.getMap();\n  if (currentMap) {\n    this.listenerKeys_.forEach(olEvents.unlistenByKey);\n    this.listenerKeys_.length = 0;\n  }\n\n  olOverlay.prototype.setMap.call(this, map);\n\n  if (map) {\n    this.actions_.forEach((action) => {\n      const data = action.data();\n      this.listenerKeys_.push(\n        olEvents.listen(\n          action[0],\n          'click',\n          this.handleActionClick_.bind(this, data.name)\n        )\n      );\n    });\n\n    // Autoclose the menu when clicking anywhere else than the menu\n    this.listenerKeys_.push(\n      olEvents.listen(\n        map,\n        'pointermove',\n        this.handleMapPointerMove_,\n        this\n      )\n    );\n  }\n\n};\n\n\n/**\n * Opens the menu at the desited coordinate. Also starts listening for the\n * clickout if autoClose is enabled.\n * @param {ol.Coordinate} coordinate Where to open the menu.\n * @export\n */\nexports.prototype.open = function(coordinate) {\n  this.setPosition(coordinate);\n  if (this.autoClose_) {\n    this.clickOutListenerKey_ = olEvents.listen(\n      document.documentElement,\n      'mousedown',\n      this.handleClickOut_,\n      this\n    );\n  }\n\n};\n\n\n/**\n * @export\n */\nexports.prototype.close = function() {\n  this.setPosition(undefined);\n\n  if (this.clickOutListenerKey_ !== null) {\n    olEvents.unlistenByKey(this.clickOutListenerKey_);\n  }\n};\n\n\n/**\n * @param {string} action The action name that was clicked.\n * @param {Event} evt Event.\n * @private\n */\nexports.prototype.handleActionClick_ = function(action, evt) {\n\n  this.dispatchEvent(new ngeoCustomEvent('actionclick', {\n    action: action\n  }));\n\n  if (this.autoClose_) {\n    this.close();\n  }\n\n  evt.stopPropagation();\n};\n\n\n/**\n * Handles clicks out of the menu. If the menu is visible, close it.\n * @param {Event} evt Event.\n * @private\n */\nexports.prototype.handleClickOut_ = function(evt) {\n  const element = this.getElement();\n  if (element && $(evt.target).closest(element).length === 0) {\n    this.close();\n  }\n};\n\n\n/**\n * When the mouse is hovering the menu, set the event coordinate and pixel\n * values to Infinity to do as if the mouse had been move out of range of the\n * map. This prevents behaviours such as vertex still appearing while mouse\n * hovering edges of features bound to an active modify control while the\n * cursor is on top of the menu.\n * @param {ol.MapBrowserEvent} evt Event.\n * @private\n */\nexports.prototype.handleMapPointerMove_ = function(evt) {\n  const target = evt.originalEvent.target;\n  googAsserts.assertInstanceof(target, Element);\n\n  const element = this.getElement();\n  googAsserts.assertInstanceof(element, Element);\n\n  if (element.contains(target)) {\n    evt.coordinate = [Infinity, Infinity];\n    evt.pixel = [Infinity, Infinity];\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Menu.js","/**\n * @module ngeo.interaction.Rotate\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoCustomEvent from 'ngeo/CustomEvent.js';\nimport * as olBase from 'ol/index.js';\nimport * as olExtent from 'ol/extent.js';\nimport olCollection from 'ol/Collection.js';\nimport olFeature from 'ol/Feature.js';\nimport olMapBrowserPointerEvent from 'ol/MapBrowserPointerEvent.js';\nimport olEvents from 'ol/events.js';\nimport olInteractionModify from 'ol/interaction/Modify.js';\nimport olInteractionPointer from 'ol/interaction/Pointer.js';\nimport olGeomGeometry from 'ol/geom/Geometry.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olSourceVector from 'ol/source/Vector.js';\n\n/**\n * @classdesc\n * Interaction to rotate features.\n *\n * @constructor\n * @struct\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.ModifyOptions} options Options.\n * @fires ngeo.interaction.ModifyCircleEvent\n * @api\n */\nconst exports = function(options) {\n\n  googAsserts.assert(options.features);\n\n  /**\n   * @type {Array.<ol.EventsKey>}\n   * @private\n   */\n  this.listenerKeys_ = [];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.modified_ = false;\n\n  /**\n   * @type {?ol.EventsKey}\n   * @private\n   */\n  this.keyPressListenerKey_ = null;\n\n  /**\n   * Indicate whether the interaction is currently changing a feature's\n   * coordinates.\n   * @type {boolean}\n   * @private\n   */\n  this.changingFeature_ = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n    options.pixelTolerance : 10;\n\n  /**\n   * @type {!ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features;\n\n  /**\n   * The feature currently modified.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.feature_ = null;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.coordinate_ = null;\n\n  /**\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.centerCoordinate_ = null;\n\n  const style = options.style ? options.style : olInteractionModify.getDefaultStyleFunction();\n\n  /**\n   * Draw overlay where sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new olLayerVector({\n    source: new olSourceVector({\n      useSpatialIndex: false,\n      wrapX: !!options.wrapX\n    }),\n    style: style,\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n   * @type {!Object.<number, ol.Feature>}\n   * @private\n   */\n  this.centerFeatures_ = {};\n\n  olInteractionPointer.call(this, {\n    handleDownEvent: this.handleDown_,\n    handleDragEvent: this.handleDrag_,\n    handleUpEvent: this.handleUp_\n  });\n\n};\n\nolBase.inherits(exports, olInteractionPointer);\n\n\n/**\n * Activate or deactivate the interaction.\n * @param {boolean} active Active.\n * @override\n */\nexports.prototype.setActive = function(active) {\n\n  if (this.keyPressListenerKey_) {\n    olEvents.unlistenByKey(this.keyPressListenerKey_);\n    this.keyPressListenerKey_ = null;\n  }\n\n  olInteractionPointer.prototype.setActive.call(this, active);\n\n  if (active) {\n    this.keyPressListenerKey_ = olEvents.listen(\n      document,\n      'keyup',\n      this.handleKeyUp_,\n      this\n    );\n    this.features_.forEach(this.addFeature_, this);\n    this.listenerKeys_.push(\n      olEvents.listen(this.features_, 'add', this.handleFeatureAdd_, this),\n      olEvents.listen(this.features_, 'remove', this.handleFeatureRemove_, this)\n    );\n\n  } else {\n    this.listenerKeys_.forEach(olEvents.unlistenByKey);\n    this.listenerKeys_.length = 0;\n    this.features_.forEach(this.removeFeature_, this);\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.addFeature_ = function(feature) {\n  const geometry = feature.getGeometry();\n  googAsserts.assertInstanceof(geometry, olGeomGeometry);\n\n  feature.set('angle', 0);\n\n  // Add the center icon to the overlay\n  const uid = olBase.getUid(feature);\n  const point = new olGeomPoint(this.getCenterCoordinate_(geometry));\n  const centerFeature = new olFeature(point);\n  this.centerFeatures_[uid] = centerFeature;\n  this.overlay_.getSource().addFeature(centerFeature);\n\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Map browser event\n * @private\n */\nexports.prototype.willModifyFeatures_ = function(evt) {\n  if (!this.modified_) {\n    this.modified_ = true;\n    this.dispatchEvent(new olInteractionModify.Event(\n      /** @type {ol.interaction.ModifyEventType} */ ('modifystart'), this.features_, evt));\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeFeature_ = function(feature) {\n  this.feature_ = null;\n  //this.overlay_.getSource().removeFeature(feature);\n\n  if (feature) {\n    const uid = olBase.getUid(feature);\n\n    if (this.centerFeatures_[uid]) {\n      this.overlay_.getSource().removeFeature(this.centerFeatures_[uid]);\n      delete this.centerFeatures_[uid];\n    }\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.setMap = function(map) {\n  this.overlay_.setMap(map);\n  olInteractionPointer.prototype.setMap.call(this, map);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeatureAdd_ = function(evt) {\n  const feature = evt.element;\n  googAsserts.assertInstanceof(feature, olFeature,\n    'feature should be an ol.Feature');\n  this.addFeature_(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeatureRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Start drag sequence?\n * @private\n */\nexports.prototype.handleDown_ = function(evt) {\n  const map = evt.map;\n\n  let feature = map.forEachFeatureAtPixel(evt.pixel,\n    (feature, layer) => feature, undefined);\n\n  if (feature) {\n    let found = false;\n    this.features_.forEach((f) => {\n      if (olBase.getUid(f) == olBase.getUid(feature)) {\n        found = true;\n      }\n    });\n    if (!found) {\n      feature = null;\n    }\n  }\n\n  if (feature) {\n    this.coordinate_ = evt.coordinate;\n    this.feature_ = feature;\n    const geometry = (this.feature_.getGeometry());\n    if (geometry !== undefined) {\n      this.centerCoordinate_ = this.getCenterCoordinate_(geometry);\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\n\n/**\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {ol.Coordinate} The center coordinate of the geometry.\n * @private\n */\nexports.prototype.getCenterCoordinate_ = function(\n  geometry) {\n\n  let center;\n\n  if (geometry instanceof olGeomLineString) {\n    center = geometry.getFlatMidpoint();\n  } else if (geometry instanceof olGeomPolygon) {\n    center = geometry.getFlatInteriorPoint();\n  } else {\n    const extent = geometry.getExtent();\n    center = olExtent.getCenter(extent);\n  }\n\n  return center;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @private\n */\nexports.prototype.handleDrag_ = function(evt) {\n  this.willModifyFeatures_(evt);\n\n  const geometry = /** @type {ol.geom.SimpleGeometry} */\n      (this.feature_.getGeometry());\n\n  const oldX = this.coordinate_[0];\n  const oldY = this.coordinate_[1];\n\n  const centerX = this.centerCoordinate_[0];\n  const centerY = this.centerCoordinate_[1];\n\n  const dx1 = oldX - centerX;\n  const dy1 = oldY - centerY;\n  const dx0 = evt.coordinate[0] - centerX;\n  const dy0 = evt.coordinate[1] - centerY;\n\n  this.coordinate_[0] = evt.coordinate[0];\n  this.coordinate_[1] = evt.coordinate[1];\n\n  const a0 = Math.atan2(dy0, dx0);\n  const a1 = Math.atan2(dy1, dx1);\n  const angle = a1 - a0;\n\n  geometry.rotate(-angle, [centerX, centerY]);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @private\n */\nexports.prototype.handleUp_ = function(evt) {\n  if (this.modified_) {\n    /** @type {ngeox.RotateEvent} */\n    const event = new ngeoCustomEvent('rotateend', {feature: this.feature_});\n    this.dispatchEvent(event);\n    this.modified_ = false;\n    this.setActive(false);\n  }\n  return false;\n};\n\n\n/**\n * Deactivate this interaction if the ESC key is pressed.\n * @param {KeyboardEvent} evt Event.\n * @private\n */\nexports.prototype.handleKeyUp_ = function(evt) {\n  // 27 == ESC key\n  if (evt.keyCode === 27) {\n    this.setActive(false);\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/Rotate.js","/**\n * @module ngeo.interaction.Translate\n */\nimport googAsserts from 'goog/asserts.js';\nimport * as olBase from 'ol/index.js';\nimport olFeature from 'ol/Feature.js';\nimport olEvents from 'ol/events.js';\nimport olGeomGeometry from 'ol/geom/Geometry.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olInteractionTranslate from 'ol/interaction/Translate.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olSourceVector from 'ol/source/Vector.js';\n\n/**\n * An extension of the OpenLayers Translate interaction that adds the following\n * features to it:\n *\n * - show a small arrow icon in the middle of the features allowing a visual\n *   aspect that tells the user \"this feature can be moved\"\n * - pressing the ESC key automatically deactivate the interaction.\n *\n * @constructor\n * @struct\n * @extends {ol.interaction.Translate}\n * @param {ngeox.interaction.TranslateOptions} options Options.\n */\nconst exports = function(options) {\n\n  /**\n   * @type {!Array.<ol.EventsKey>}\n   * @private\n   */\n  this.listenerKeys_ = [];\n\n  /**\n   * @type {!Object.<number, ol.EventsKey>}\n   * @private\n   */\n  this.featureListenerKeys_ = {};\n\n  /**\n   * @type {?ol.EventsKey}\n   * @private\n   */\n  this.keyPressListenerKey_ = null;\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.myFeatures_ = options.features !== undefined ? options.features : null;\n\n  /**\n   * @type {ol.source.Vector}\n   * @private\n   */\n  this.vectorSource_ = new olSourceVector({\n    useSpatialIndex: false\n  });\n\n  /**\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.vectorLayer_ = new olLayerVector({\n    source: this.vectorSource_,\n    style: options.style,\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n   * @type {!Object.<number, ol.Feature>}\n   * @private\n   */\n  this.centerFeatures_ = {};\n\n  olInteractionTranslate.call(\n    this, /** @type {olx.interaction.TranslateOptions} */ (options));\n};\n\nolBase.inherits(exports, olInteractionTranslate);\n\n\n/**\n * Activate or deactivate the interaction.\n * @param {boolean} active Active.\n * @override\n */\nexports.prototype.setActive = function(active) {\n\n  if (this.keyPressListenerKey_) {\n    olEvents.unlistenByKey(this.keyPressListenerKey_);\n    this.keyPressListenerKey_ = null;\n  }\n\n  olInteractionTranslate.prototype.setActive.call(this, active);\n\n  if (active) {\n    this.keyPressListenerKey_ = olEvents.listen(\n      document,\n      'keyup',\n      this.handleKeyUp_,\n      this\n    );\n  }\n\n  this.setState_();\n};\n\n\n/**\n * Remove the interaction from its current map and attach it to the new map.\n * Subclasses may set up event handlers to get notified about changes to\n * the map here.\n * @param {ol.PluggableMap} map Map.\n * @override\n */\nexports.prototype.setMap = function(map) {\n\n  const currentMap = this.getMap();\n  if (currentMap) {\n    this.vectorLayer_.setMap(null);\n  }\n\n  olInteractionTranslate.prototype.setMap.call(this, map);\n\n  if (map) {\n    this.vectorLayer_.setMap(map);\n  }\n\n  this.setState_();\n};\n\n\n/**\n * @private\n */\nexports.prototype.setState_ = function() {\n  const map = this.getMap();\n  const active = this.getActive();\n  const features = this.myFeatures_;\n  const keys = this.listenerKeys_;\n\n  if (map && active && features) {\n    features.forEach(this.addFeature_, this);\n    keys.push(\n      olEvents.listen(features, 'add', this.handleFeaturesAdd_, this),\n      olEvents.listen(features, 'remove', this.handleFeaturesRemove_, this)\n    );\n  } else {\n\n    if (map) {\n      const elem = map.getTargetElement();\n      elem.style.cursor = 'default';\n    }\n\n    keys.forEach(olEvents.unlistenByKey);\n    keys.length = 0;\n    features.forEach(this.removeFeature_, this);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeaturesAdd_ = function(evt) {\n  const feature = evt.element;\n  googAsserts.assertInstanceof(feature, olFeature,\n    'feature should be an ol.Feature');\n  this.addFeature_(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeaturesRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.addFeature_ = function(feature) {\n  const uid = olBase.getUid(feature);\n  const geometry = feature.getGeometry();\n  googAsserts.assertInstanceof(geometry, olGeomGeometry);\n\n  this.featureListenerKeys_[uid] = olEvents.listen(\n    geometry,\n    'change',\n    this.handleGeometryChange_.bind(this, feature),\n    this\n  );\n\n  const point = this.getGeometryCenterPoint_(geometry);\n  const centerFeature = new olFeature(point);\n  this.centerFeatures_[uid] = centerFeature;\n  this.vectorSource_.addFeature(centerFeature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeFeature_ = function(feature) {\n  const uid = olBase.getUid(feature);\n  if (this.featureListenerKeys_[uid]) {\n    olEvents.unlistenByKey(this.featureListenerKeys_[uid]);\n    delete this.featureListenerKeys_[uid];\n\n    this.vectorSource_.removeFeature(this.centerFeatures_[uid]);\n    delete this.centerFeatures_[uid];\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature being moved.\n * @param {ol.events.Event} evt Event.\n * @private\n */\nexports.prototype.handleGeometryChange_ = function(feature,\n  evt) {\n  const geometry = evt.target;\n  googAsserts.assertInstanceof(geometry, olGeomGeometry);\n\n  const point = this.getGeometryCenterPoint_(geometry);\n  const uid = olBase.getUid(feature);\n  this.centerFeatures_[uid].setGeometry(point);\n};\n\n\n/**\n * @param {ol.geom.Geometry} geometry Geometry.\n * @return {ol.geom.Point} The center point of the geometry.\n * @private\n */\nexports.prototype.getGeometryCenterPoint_ = function(\n  geometry) {\n\n  let center;\n  let point;\n\n  if (geometry instanceof olGeomPolygon) {\n    point = geometry.getInteriorPoint();\n  } else if (geometry instanceof olGeomLineString) {\n    center = geometry.getCoordinateAt(0.5);\n  } else {\n    const extent = geometry.getExtent();\n    center = olBase.extent.getCenter(extent);\n  }\n\n  if (!point && center) {\n    point = new olGeomPoint(center);\n  }\n\n  googAsserts.assert(point, 'Point should be thruthy');\n\n  return point;\n};\n\n\n/**\n * Deactivate this interaction if the ESC key is pressed.\n * @param {KeyboardEvent} evt Event.\n * @private\n */\nexports.prototype.handleKeyUp_ = function(evt) {\n  // 27 == ESC key\n  if (evt.keyCode === 27) {\n    this.setActive(false);\n  }\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/Translate.js","/**\n * @module ol/interaction/TranslateEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered upon feature translation start.\n   * @event ol.interaction.Translate.Event#translatestart\n   * @api\n   */\n  TRANSLATESTART: 'translatestart',\n  /**\n   * Triggered upon feature translation.\n   * @event ol.interaction.Translate.Event#translating\n   * @api\n   */\n  TRANSLATING: 'translating',\n  /**\n   * Triggered upon feature translation end.\n   * @event ol.interaction.Translate.Event#translateend\n   * @api\n   */\n  TRANSLATEEND: 'translateend'\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/TranslateEventType.js\n// module id = null\n// module chunks = ","/**\n * @module ol/interaction/Translate\n */\nimport {inherits} from '../index.js';\nimport Collection from '../Collection.js';\nimport BaseObject from '../Object.js';\nimport _ol_events_ from '../events.js';\nimport Event from '../events/Event.js';\nimport {TRUE} from '../functions.js';\nimport {includes} from '../array.js';\nimport PointerInteraction from '../interaction/Pointer.js';\nimport InteractionProperty from '../interaction/Property.js';\nimport TranslateEventType from '../interaction/TranslateEventType.js';\n\n/**\n * @classdesc\n * Interaction for translating (moving) features.\n *\n * @constructor\n * @extends {ol.interaction.Pointer}\n * @fires ol.interaction.Translate.Event\n * @param {olx.interaction.TranslateOptions=} opt_options Options.\n * @api\n */\nconst Translate = function(opt_options) {\n  PointerInteraction.call(this, {\n    handleDownEvent: Translate.handleDownEvent_,\n    handleDragEvent: Translate.handleDragEvent_,\n    handleMoveEvent: Translate.handleMoveEvent_,\n    handleUpEvent: Translate.handleUpEvent_\n  });\n\n  const options = opt_options ? opt_options : {};\n\n  /**\n   * The last position we translated to.\n   * @type {ol.Coordinate}\n   * @private\n   */\n  this.lastCoordinate_ = null;\n\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features !== undefined ? options.features : null;\n\n  /** @type {function(ol.layer.Layer): boolean} */\n  let layerFilter;\n  if (options.layers) {\n    if (typeof options.layers === 'function') {\n      layerFilter = options.layers;\n    } else {\n      const layers = options.layers;\n      layerFilter = function(layer) {\n        return includes(layers, layer);\n      };\n    }\n  } else {\n    layerFilter = TRUE;\n  }\n\n  /**\n   * @private\n   * @type {function(ol.layer.Layer): boolean}\n   */\n  this.layerFilter_ = layerFilter;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n  /**\n   * @type {ol.Feature}\n   * @private\n   */\n  this.lastFeature_ = null;\n\n  _ol_events_.listen(this,\n    BaseObject.getChangeEventType(InteractionProperty.ACTIVE),\n    this.handleActiveChanged_, this);\n\n};\n\ninherits(Translate, PointerInteraction);\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Start drag sequence?\n * @this {ol.interaction.Translate}\n * @private\n */\nTranslate.handleDownEvent_ = function(event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (!this.lastCoordinate_ && this.lastFeature_) {\n    this.lastCoordinate_ = event.coordinate;\n    Translate.handleMoveEvent_.call(this, event);\n\n    const features = this.features_ || new Collection([this.lastFeature_]);\n\n    this.dispatchEvent(\n      new Translate.Event(\n        TranslateEventType.TRANSLATESTART, features,\n        event.coordinate));\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @return {boolean} Stop drag sequence?\n * @this {ol.interaction.Translate}\n * @private\n */\nTranslate.handleUpEvent_ = function(event) {\n  if (this.lastCoordinate_) {\n    this.lastCoordinate_ = null;\n    Translate.handleMoveEvent_.call(this, event);\n\n    const features = this.features_ || new Collection([this.lastFeature_]);\n\n    this.dispatchEvent(\n      new Translate.Event(\n        TranslateEventType.TRANSLATEEND, features,\n        event.coordinate));\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} event Event.\n * @this {ol.interaction.Translate}\n * @private\n */\nTranslate.handleDragEvent_ = function(event) {\n  if (this.lastCoordinate_) {\n    const newCoordinate = event.coordinate;\n    const deltaX = newCoordinate[0] - this.lastCoordinate_[0];\n    const deltaY = newCoordinate[1] - this.lastCoordinate_[1];\n\n    const features = this.features_ || new Collection([this.lastFeature_]);\n\n    features.forEach(function(feature) {\n      const geom = feature.getGeometry();\n      geom.translate(deltaX, deltaY);\n      feature.setGeometry(geom);\n    });\n\n    this.lastCoordinate_ = newCoordinate;\n    this.dispatchEvent(\n      new Translate.Event(\n        TranslateEventType.TRANSLATING, features,\n        newCoordinate));\n  }\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} event Event.\n * @this {ol.interaction.Translate}\n * @private\n */\nTranslate.handleMoveEvent_ = function(event) {\n  const elem = event.map.getViewport();\n\n  // Change the cursor to grab/grabbing if hovering any of the features managed\n  // by the interaction\n  if (this.featuresAtPixel_(event.pixel, event.map)) {\n    elem.classList.remove(this.lastCoordinate_ ? 'ol-grab' : 'ol-grabbing');\n    elem.classList.add(this.lastCoordinate_ ? 'ol-grabbing' : 'ol-grab');\n  } else {\n    elem.classList.remove('ol-grab', 'ol-grabbing');\n  }\n};\n\n\n/**\n * Tests to see if the given coordinates intersects any of our selected\n * features.\n * @param {ol.Pixel} pixel Pixel coordinate to test for intersection.\n * @param {ol.PluggableMap} map Map to test the intersection on.\n * @return {ol.Feature} Returns the feature found at the specified pixel\n * coordinates.\n * @private\n */\nTranslate.prototype.featuresAtPixel_ = function(pixel, map) {\n  return map.forEachFeatureAtPixel(pixel,\n    function(feature) {\n      if (!this.features_ || includes(this.features_.getArray(), feature)) {\n        return feature;\n      }\n    }.bind(this), {\n      layerFilter: this.layerFilter_,\n      hitTolerance: this.hitTolerance_\n    });\n};\n\n\n/**\n * Returns the Hit-detection tolerance.\n * @returns {number} Hit tolerance in pixels.\n * @api\n */\nTranslate.prototype.getHitTolerance = function() {\n  return this.hitTolerance_;\n};\n\n\n/**\n * Hit-detection tolerance. Pixels inside the radius around the given position\n * will be checked for features. This only works for the canvas renderer and\n * not for WebGL.\n * @param {number} hitTolerance Hit tolerance in pixels.\n * @api\n */\nTranslate.prototype.setHitTolerance = function(hitTolerance) {\n  this.hitTolerance_ = hitTolerance;\n};\n\n\n/**\n * @inheritDoc\n */\nTranslate.prototype.setMap = function(map) {\n  const oldMap = this.getMap();\n  PointerInteraction.prototype.setMap.call(this, map);\n  this.updateState_(oldMap);\n};\n\n\n/**\n * @private\n */\nTranslate.prototype.handleActiveChanged_ = function() {\n  this.updateState_(null);\n};\n\n\n/**\n * @param {ol.PluggableMap} oldMap Old map.\n * @private\n */\nTranslate.prototype.updateState_ = function(oldMap) {\n  let map = this.getMap();\n  const active = this.getActive();\n  if (!map || !active) {\n    map = map || oldMap;\n    if (map) {\n      const elem = map.getViewport();\n      elem.classList.remove('ol-grab', 'ol-grabbing');\n    }\n  }\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link ol.interaction.Translate} instances are instances of\n * this type.\n *\n * @constructor\n * @extends {ol.events.Event}\n * @implements {oli.interaction.TranslateEvent}\n * @param {ol.interaction.TranslateEventType} type Type.\n * @param {ol.Collection.<ol.Feature>} features The features translated.\n * @param {ol.Coordinate} coordinate The event coordinate.\n */\nTranslate.Event = function(type, features, coordinate) {\n\n  Event.call(this, type);\n\n  /**\n   * The features being translated.\n   * @type {ol.Collection.<ol.Feature>}\n   * @api\n   */\n  this.features = features;\n\n  /**\n   * The coordinate of the drag event.\n   * @const\n   * @type {ol.Coordinate}\n   * @api\n   */\n  this.coordinate = coordinate;\n};\ninherits(Translate.Event, Event);\nexport default Translate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/interaction/Translate.js\n// module id = null\n// module chunks = ","/**\n * @module ngeo.misc.datepickerComponent\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscTime from 'ngeo/misc/Time.js';\n\nimport 'angular-ui-date';\n\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDatePicker', [\n  ngeoMiscTime.module.name,\n  'ui.date',\n]);\n\n\nexports.value('ngeoDatePickerTemplateUrl',\n  /**\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @return {string} Template URL.\n     */\n  (element, attrs) => {\n    const templateUrl = attrs['ngeoDatePickerTemplateUrl'];\n    return templateUrl !== undefined ? templateUrl :\n      `${ngeoBase.baseModuleTemplateUrl}/misc/datepickerComponent.html`;\n  });\n\n\n/**\n * Provide a directive to select a signle date or a range of dates. Requires\n * jQuery UI for the 'datepicker' widget.\n *\n * @param {string|function(!angular.JQLite=, !angular.Attributes=)}\n * ngeoDatePickerTemplateUrl Template for the directive.\n * @param  {angular.$timeout} $timeout angular timeout service\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDatePicker\n */\nexports.component_ = function(ngeoDatePickerTemplateUrl,  $timeout) {\n  return {\n    scope: {\n      onDateSelected: '&',\n      time: '='\n    },\n    bindToController: true,\n    controller: 'ngeoDatePickerController as datepickerCtrl',\n    restrict: 'AE',\n    templateUrl: ngeoDatePickerTemplateUrl,\n    link: (scope, element, attrs, ctrl) => {\n      ctrl.init();\n\n      const lang =  ctrl.gettextCatalog_.getCurrentLanguage();\n      $['datepicker']['setDefaults']($['datepicker']['regional'][lang]);\n\n      ctrl.sdateOptions = angular.extend({}, ctrl.sdateOptions, {\n        'onClose': (selectedDate) => {\n          if (selectedDate) {\n            $(element[0]).find('input[name=\"edate\"]').datepicker('option', 'minDate', selectedDate);\n          }\n        }\n      });\n\n      ctrl.edateOptions = angular.extend({}, ctrl.edateOptions, {\n        'onClose': (selectedDate) => {\n          if (selectedDate) {\n            $(element[0]).find('input[name=\"sdate\"]').datepicker('option', 'maxDate', selectedDate);\n          }\n        }\n      });\n\n      angular.element('body').on('hidden.bs.popover', () => {\n        const dp = angular.element('#ui-datepicker-div');\n        if (dp && dp.css('display') === 'block') {\n          $(element[0]).find('input[name$=\"date\"]').datepicker('hide');\n        }\n      });\n\n      $timeout(() => {\n        angular.element('#ui-datepicker-div').on('mousedown', (e) => {\n          e.stopPropagation();\n        });\n      });\n    }\n  };\n};\n\nexports.directive('ngeoDatePicker', exports.component_);\n\n\n/**\n * DatePickerController - directive conttroller\n * @param {!angular.Scope} $scope Angular scope.\n * @param {!angular.$injector} $injector injector.\n * @param {!ngeo.misc.Time} ngeoTime time service.\n * @param {!angularGettext.Catalog} gettextCatalog service.\n * @constructor\n * @private\n * @struct\n * @ngInject\n * @ngdoc controller\n * @ngname ngeoDatePickerController\n */\nexports.Controller_ = function($scope, $injector,\n  ngeoTime, gettextCatalog) {\n\n  /**\n   * @type {!ngeo.misc.Time}\n   * @private\n   */\n  this.ngeoTime_ = ngeoTime;\n\n  /**\n   * @type {!ngeox.TimeProperty}\n   * @export\n   */\n  this.time;\n\n  /**\n   * The gettext catalog\n   * @type {!angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog_ = gettextCatalog;\n\n\n  /**\n   * If the component is used to select a date range\n   * @type {boolean}\n   * @export\n   */\n  this.isModeRange;\n\n\n  /**\n   * Function called after date(s) changed/selected\n   * @type {function({time: {start: number, end: number}})}\n   * @export\n   */\n  this.onDateSelected;\n\n\n  /**\n   * Initial min date for the datepicker\n   * @type {!Date}\n   */\n  this.initialMinDate;\n\n  /**\n   * Initial max date for the datepickeronDateSelected\n   * @type {!Date}\n   */\n  this.initialMaxDate;\n\n  /**\n   * Datepicker options for the second datepicker (only for range mode)\n   * @type {Object}\n   * @export\n   */\n  this.edateOptions = {\n    'minDate': this.initialMinDate,\n    'maxDate': this.initialMaxDate,\n    'changeMonth': true,\n    'changeYear': true\n  };\n\n  /**\n   * Datepicker options for the first datepicker\n   * @type {Object}\n   * @export\n   */\n  this.sdateOptions = {\n    'minDate': this.initialMinDate,\n    'maxDate': this.initialMaxDate,\n    'changeMonth': true,\n    'changeYear': true\n  };\n\n  /**\n   * Start date model for the first date picker\n   * @type {Date}\n   * @export\n   */\n  this.sdate;\n\n  /**\n   * End date model for the second datepicker (only for range mode)\n   * @type {Date}\n   * @export\n   */\n  this.edate;\n\n  $scope.$watchGroup(['datepickerCtrl.sdate', 'datepickerCtrl.edate'], (newDates, oldDates) => {\n    const sDate = newDates[0];\n    const eDate = newDates[1];\n\n    if (angular.isDate(sDate) && (!this.isModeRange || angular.isDate(eDate))) {\n      this.onDateSelected({\n        time: {\n          start: sDate.getTime(),\n          end: eDate ? eDate.getTime() : null\n        }\n      });\n    }\n  });\n};\n\n/**\n * Initialise the controller.\n */\nexports.Controller_.prototype.init = function() {\n  //fetch the initial options for the component\n  const initialOptions_ = this.ngeoTime_.getOptions(this.time);\n  this.initialMinDate = new Date(initialOptions_.minDate);\n  this.initialMaxDate = new Date(initialOptions_.maxDate);\n  this.isModeRange = this.time.mode === 'range';\n\n  if (this.isModeRange) {\n    googAsserts.assertArray(initialOptions_.values);\n    this.sdate = new Date(initialOptions_.values[0]);\n    this.edate = new Date(initialOptions_.values[1]);\n  } else {\n    googAsserts.assertNumber(initialOptions_.values);\n    this.sdate = new Date(initialOptions_.values);\n  }\n};\n\nexports.controller('ngeoDatePickerController',\n  exports.Controller_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/datepickerComponent.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"angular\"), require(\"jquery-ui/datepicker\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"angular\", \"jquery-ui/datepicker\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angularUiDate\"] = factory(require(\"jquery\"), require(\"angular\"), require(\"jquery-ui/datepicker\"));\n\telse\n\t\troot[\"angularUiDate\"] = factory(root[\"jQuery\"], root[\"angular\"], root[\"jquery-ui/datepicker\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"assets\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _jquery = __webpack_require__(1);\n\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\n\tvar _angular = __webpack_require__(2);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _datepicker = __webpack_require__(3);\n\n\tvar _datepicker2 = _interopRequireDefault(_datepicker);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\t// sets up jQuery with the datepicker plugin\n\n\texports.default = _angular2.default.module('ui.date', []).constant('uiDateConfig', {}).constant('uiDateFormatConfig', '').factory('uiDateConverter', ['uiDateFormatConfig', function (uiDateFormatConfig) {\n\t  return {\n\t    stringToDate: stringToDate,\n\t    dateToString: dateToString\n\t  };\n\n\t  function dateToString(uiDateFormat, value) {\n\t    var dateFormat = uiDateFormat || uiDateFormatConfig;\n\t    if (value) {\n\t      if (dateFormat) {\n\t        try {\n\t          return _jquery2.default.datepicker.formatDate(dateFormat, value);\n\t        } catch (formatException) {\n\t          return undefined;\n\t        }\n\t      }\n\n\t      if (value.toISOString) {\n\t        return value.toISOString();\n\t      }\n\t    }\n\t    return null;\n\t  }\n\n\t  function stringToDate(dateFormat, valueToParse) {\n\t    dateFormat = dateFormat || uiDateFormatConfig;\n\n\t    if (_angular2.default.isDate(valueToParse) && !isNaN(valueToParse)) {\n\t      return valueToParse;\n\t    }\n\n\t    if (_angular2.default.isString(valueToParse)) {\n\t      if (dateFormat) {\n\t        return _jquery2.default.datepicker.parseDate(dateFormat, valueToParse);\n\t      }\n\n\t      var isoDate = new Date(valueToParse);\n\t      return isNaN(isoDate.getTime()) ? null : isoDate;\n\t    }\n\n\t    if (_angular2.default.isNumber(valueToParse)) {\n\t      // presumably timestamp to date object\n\t      return new Date(valueToParse);\n\t    }\n\n\t    return null;\n\t  }\n\t}]).directive('uiDate', ['uiDateConfig', 'uiDateConverter', function uiDateDirective(uiDateConfig, uiDateConverter) {\n\n\t  return {\n\t    require: '?ngModel',\n\t    link: function link(scope, element, attrs, controller) {\n\n\t      var $element = (0, _jquery2.default)(element);\n\n\t      var getOptions = function getOptions() {\n\t        return _angular2.default.extend({}, uiDateConfig, scope.$eval(attrs.uiDate));\n\t      };\n\t      var initDateWidget = function initDateWidget() {\n\t        var showing = false;\n\t        var opts = getOptions();\n\n\t        function setVal(forcedUpdate) {\n\t          var keys = ['Hours', 'Minutes', 'Seconds', 'Milliseconds'];\n\t          var isDate = _angular2.default.isDate(controller.$modelValue);\n\t          var preserve = {};\n\n\t          if (!forcedUpdate && isDate && controller.$modelValue.toDateString() === $element.datepicker('getDate').toDateString()) {\n\t            return;\n\t          }\n\n\t          if (isDate) {\n\t            _angular2.default.forEach(keys, function (key) {\n\t              preserve[key] = controller.$modelValue['get' + key]();\n\t            });\n\t          }\n\n\t          var newViewValue = $element.datepicker('getDate');\n\n\t          if (isDate) {\n\t            _angular2.default.forEach(keys, function (key) {\n\t              newViewValue['set' + key](preserve[key]);\n\t            });\n\t          }\n\n\t          controller.$setViewValue(newViewValue);\n\t        }\n\n\t        // If we have a controller (i.e. ngModelController) then wire it up\n\t        if (controller) {\n\t          // Set the view value in a $apply block when users selects\n\t          // (calling directive user's function too if provided)\n\t          var _onSelect = opts.onSelect || _angular2.default.noop;\n\t          opts.onSelect = function (value, picker) {\n\t            scope.$apply(function () {\n\t              showing = true;\n\t              setVal();\n\t              $element.blur();\n\t              _onSelect(value, picker, $element);\n\t            });\n\t          };\n\n\t          var _beforeShow = opts.beforeShow || _angular2.default.noop;\n\t          opts.beforeShow = function (input, picker) {\n\t            showing = true;\n\t            _beforeShow(input, picker, $element);\n\t          };\n\n\t          var _onClose = opts.onClose || _angular2.default.noop;\n\t          opts.onClose = function (value, picker) {\n\t            showing = false;\n\t            _onClose(value, picker, $element);\n\t          };\n\n\t          element.on('focus', function (focusEvent) {\n\t            if (attrs.readonly) {\n\t              focusEvent.stopImmediatePropagation();\n\t            }\n\t          });\n\n\t          $element.off('blur.datepicker').on('blur.datepicker', function () {\n\t            if (!showing) {\n\t              scope.$apply(function () {\n\t                $element.datepicker('setDate', $element.datepicker('getDate'));\n\t                setVal();\n\t              });\n\t            }\n\t          });\n\n\t          controller.$validators.uiDateValidator = function uiDateValidator(modelValue, viewValue) {\n\t            return viewValue === null || viewValue === '' || _angular2.default.isDate(uiDateConverter.stringToDate(attrs.uiDateFormat, viewValue));\n\t          };\n\n\t          controller.$parsers.push(function uiDateParser(valueToParse) {\n\t            return uiDateConverter.stringToDate(attrs.uiDateFormat, valueToParse);\n\t          });\n\n\t          // Update the date picker when the model changes\n\t          controller.$render = function () {\n\t            // Force a render to override whatever is in the input text box\n\t            if (_angular2.default.isDate(controller.$modelValue) === false && _angular2.default.isString(controller.$modelValue)) {\n\t              controller.$modelValue = uiDateConverter.stringToDate(attrs.uiDateFormat, controller.$modelValue);\n\t            }\n\t            $element.datepicker('setDate', controller.$modelValue);\n\t          };\n\t        }\n\t        // Check if the $element already has a datepicker.\n\t        //\n\n\t        if ($element.data('datepicker')) {\n\t          // Updates the datepicker options\n\t          $element.datepicker('option', opts);\n\t          $element.datepicker('refresh');\n\t        } else {\n\t          // Creates the new datepicker widget\n\t          $element.datepicker(opts);\n\n\t          // Cleanup on destroy, prevent memory leaking\n\t          $element.on('$destroy', function () {\n\t            $element.datepicker('hide');\n\t            $element.datepicker('destroy');\n\t          });\n\t        }\n\n\t        if (controller) {\n\t          controller.$render();\n\t          // Update the model with the value from the datepicker after parsed\n\t          setVal(true);\n\t        }\n\t      };\n\n\t      // Watch for changes to the directives options\n\t      scope.$watch(getOptions, initDateWidget, true);\n\t    }\n\t  };\n\t}]).directive('uiDateFormat', ['uiDateConverter', function (uiDateConverter) {\n\t  return {\n\t    require: 'ngModel',\n\t    link: function link(scope, element, attrs, modelCtrl) {\n\t      var dateFormat = attrs.uiDateFormat;\n\n\t      // Use the datepicker with the attribute value as the dateFormat string to convert to and from a string\n\t      modelCtrl.$formatters.unshift(function (value) {\n\t        return uiDateConverter.stringToDate(dateFormat, value);\n\t      });\n\n\t      modelCtrl.$parsers.push(function (value) {\n\t        return uiDateConverter.dateToString(dateFormat, value);\n\t      });\n\t    }\n\t  };\n\t}]);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=date.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/angular-ui-date/dist/date.js\n// module id = 320\n// module chunks = 0 26","// jscs:disable maximumLineLength\n/* jscs:disable requireCamelCaseOrUpperCaseIdentifiers */\n/*!\n * jQuery UI Datepicker 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Datepicker\n//>>group: Widgets\n//>>description: Displays a calendar from an input or inline for selecting dates.\n//>>docs: http://api.jqueryui.com/datepicker/\n//>>demos: http://jqueryui.com/datepicker/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/datepicker.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../version\",\n\t\t\t\"../keycode\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.extend( $.ui, { datepicker: { version: \"1.12.1\" } } );\n\nvar datepicker_instActive;\n\nfunction datepicker_getZindex( elem ) {\n\tvar position, value;\n\twhile ( elem.length && elem[ 0 ] !== document ) {\n\n\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t// This makes behavior of this function consistent across browsers\n\t\t// WebKit always returns auto if the element is positioned\n\t\tposition = elem.css( \"position\" );\n\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\n\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t// other browsers return a string\n\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t\telem = elem.parent();\n\t}\n\n\treturn 0;\n}\n/* Date picker manager.\n   Use the singleton instance of this class, $.datepicker, to interact with the date picker.\n   Settings for (groups of) date pickers are maintained in an instance object,\n   allowing multiple different settings on the same page. */\n\nfunction Datepicker() {\n\tthis._curInst = null; // The current instance in use\n\tthis._keyEvent = false; // If the last event was a key event\n\tthis._disabledInputs = []; // List of date picker inputs that have been disabled\n\tthis._datepickerShowing = false; // True if the popup picker is showing , false if not\n\tthis._inDialog = false; // True if showing within a \"dialog\", false if not\n\tthis._mainDivId = \"ui-datepicker-div\"; // The ID of the main datepicker division\n\tthis._inlineClass = \"ui-datepicker-inline\"; // The name of the inline marker class\n\tthis._appendClass = \"ui-datepicker-append\"; // The name of the append marker class\n\tthis._triggerClass = \"ui-datepicker-trigger\"; // The name of the trigger marker class\n\tthis._dialogClass = \"ui-datepicker-dialog\"; // The name of the dialog marker class\n\tthis._disableClass = \"ui-datepicker-disabled\"; // The name of the disabled covering marker class\n\tthis._unselectableClass = \"ui-datepicker-unselectable\"; // The name of the unselectable cell marker class\n\tthis._currentClass = \"ui-datepicker-current-day\"; // The name of the current day marker class\n\tthis._dayOverClass = \"ui-datepicker-days-cell-over\"; // The name of the day hover marker class\n\tthis.regional = []; // Available regional settings, indexed by language code\n\tthis.regional[ \"\" ] = { // Default regional settings\n\t\tcloseText: \"Done\", // Display text for close link\n\t\tprevText: \"Prev\", // Display text for previous month link\n\t\tnextText: \"Next\", // Display text for next month link\n\t\tcurrentText: \"Today\", // Display text for current month link\n\t\tmonthNames: [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\n\t\t\t\"July\",\"August\",\"September\",\"October\",\"November\",\"December\" ], // Names of months for drop-down and formatting\n\t\tmonthNamesShort: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ], // For formatting\n\t\tdayNames: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ], // For formatting\n\t\tdayNamesShort: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ], // For formatting\n\t\tdayNamesMin: [ \"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\" ], // Column headings for days starting at Sunday\n\t\tweekHeader: \"Wk\", // Column header for week of the year\n\t\tdateFormat: \"mm/dd/yy\", // See format options on parseDate\n\t\tfirstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...\n\t\tisRTL: false, // True if right-to-left language, false if left-to-right\n\t\tshowMonthAfterYear: false, // True if the year select precedes month, false for month then year\n\t\tyearSuffix: \"\" // Additional text to append to the year in the month headers\n\t};\n\tthis._defaults = { // Global defaults for all the date picker instances\n\t\tshowOn: \"focus\", // \"focus\" for popup on focus,\n\t\t\t// \"button\" for trigger button, or \"both\" for either\n\t\tshowAnim: \"fadeIn\", // Name of jQuery animation for popup\n\t\tshowOptions: {}, // Options for enhanced animations\n\t\tdefaultDate: null, // Used when field is blank: actual date,\n\t\t\t// +/-number for offset from today, null for today\n\t\tappendText: \"\", // Display text following the input box, e.g. showing the format\n\t\tbuttonText: \"...\", // Text for trigger button\n\t\tbuttonImage: \"\", // URL for trigger button image\n\t\tbuttonImageOnly: false, // True if the image appears alone, false if it appears on a button\n\t\thideIfNoPrevNext: false, // True to hide next/previous month links\n\t\t\t// if not applicable, false to just disable them\n\t\tnavigationAsDateFormat: false, // True if date formatting applied to prev/today/next links\n\t\tgotoCurrent: false, // True if today link goes back to current selection instead\n\t\tchangeMonth: false, // True if month can be selected directly, false if only prev/next\n\t\tchangeYear: false, // True if year can be selected directly, false if only prev/next\n\t\tyearRange: \"c-10:c+10\", // Range of years to display in drop-down,\n\t\t\t// either relative to today's year (-nn:+nn), relative to currently displayed year\n\t\t\t// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)\n\t\tshowOtherMonths: false, // True to show dates in other months, false to leave blank\n\t\tselectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable\n\t\tshowWeek: false, // True to show week of the year, false to not show it\n\t\tcalculateWeek: this.iso8601Week, // How to calculate the week of the year,\n\t\t\t// takes a Date and returns the number of the week for it\n\t\tshortYearCutoff: \"+10\", // Short year values < this are in the current century,\n\t\t\t// > this are in the previous century,\n\t\t\t// string value starting with \"+\" for current year + value\n\t\tminDate: null, // The earliest selectable date, or null for no limit\n\t\tmaxDate: null, // The latest selectable date, or null for no limit\n\t\tduration: \"fast\", // Duration of display/closure\n\t\tbeforeShowDay: null, // Function that takes a date and returns an array with\n\t\t\t// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or \"\",\n\t\t\t// [2] = cell title (optional), e.g. $.datepicker.noWeekends\n\t\tbeforeShow: null, // Function that takes an input field and\n\t\t\t// returns a set of custom settings for the date picker\n\t\tonSelect: null, // Define a callback function when a date is selected\n\t\tonChangeMonthYear: null, // Define a callback function when the month or year is changed\n\t\tonClose: null, // Define a callback function when the datepicker is closed\n\t\tnumberOfMonths: 1, // Number of months to show at a time\n\t\tshowCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)\n\t\tstepMonths: 1, // Number of months to step back/forward\n\t\tstepBigMonths: 12, // Number of months to step back/forward for the big links\n\t\taltField: \"\", // Selector for an alternate field to store selected dates into\n\t\taltFormat: \"\", // The date format to use for the alternate field\n\t\tconstrainInput: true, // The input is constrained by the current date format\n\t\tshowButtonPanel: false, // True to show button panel, false to not show it\n\t\tautoSize: false, // True to size the input for the date format, false to leave as is\n\t\tdisabled: false // The initial disabled state\n\t};\n\t$.extend( this._defaults, this.regional[ \"\" ] );\n\tthis.regional.en = $.extend( true, {}, this.regional[ \"\" ] );\n\tthis.regional[ \"en-US\" ] = $.extend( true, {}, this.regional.en );\n\tthis.dpDiv = datepicker_bindHover( $( \"<div id='\" + this._mainDivId + \"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\" ) );\n}\n\n$.extend( Datepicker.prototype, {\n\t/* Class name added to elements to indicate already configured with a date picker. */\n\tmarkerClassName: \"hasDatepicker\",\n\n\t//Keep track of the maximum number of rows displayed (see #7043)\n\tmaxRows: 4,\n\n\t// TODO rename to \"widget\" when switching to widget factory\n\t_widgetDatepicker: function() {\n\t\treturn this.dpDiv;\n\t},\n\n\t/* Override the default settings for all instances of the date picker.\n\t * @param  settings  object - the new settings to use as defaults (anonymous object)\n\t * @return the manager object\n\t */\n\tsetDefaults: function( settings ) {\n\t\tdatepicker_extendRemove( this._defaults, settings || {} );\n\t\treturn this;\n\t},\n\n\t/* Attach the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t * @param  settings  object - the new settings to use for this date picker instance (anonymous)\n\t */\n\t_attachDatepicker: function( target, settings ) {\n\t\tvar nodeName, inline, inst;\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tinline = ( nodeName === \"div\" || nodeName === \"span\" );\n\t\tif ( !target.id ) {\n\t\t\tthis.uuid += 1;\n\t\t\ttarget.id = \"dp\" + this.uuid;\n\t\t}\n\t\tinst = this._newInst( $( target ), inline );\n\t\tinst.settings = $.extend( {}, settings || {} );\n\t\tif ( nodeName === \"input\" ) {\n\t\t\tthis._connectDatepicker( target, inst );\n\t\t} else if ( inline ) {\n\t\t\tthis._inlineDatepicker( target, inst );\n\t\t}\n\t},\n\n\t/* Create a new instance object. */\n\t_newInst: function( target, inline ) {\n\t\tvar id = target[ 0 ].id.replace( /([^A-Za-z0-9_\\-])/g, \"\\\\\\\\$1\" ); // escape jQuery meta chars\n\t\treturn { id: id, input: target, // associated target\n\t\t\tselectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection\n\t\t\tdrawMonth: 0, drawYear: 0, // month being drawn\n\t\t\tinline: inline, // is datepicker inline or not\n\t\t\tdpDiv: ( !inline ? this.dpDiv : // presentation div\n\t\t\tdatepicker_bindHover( $( \"<div class='\" + this._inlineClass + \" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\" ) ) ) };\n\t},\n\n\t/* Attach the date picker to an input field. */\n\t_connectDatepicker: function( target, inst ) {\n\t\tvar input = $( target );\n\t\tinst.append = $( [] );\n\t\tinst.trigger = $( [] );\n\t\tif ( input.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\t\tthis._attachments( input, inst );\n\t\tinput.addClass( this.markerClassName ).on( \"keydown\", this._doKeyDown ).\n\t\t\ton( \"keypress\", this._doKeyPress ).on( \"keyup\", this._doKeyUp );\n\t\tthis._autoSize( inst );\n\t\t$.data( target, \"datepicker\", inst );\n\n\t\t//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)\n\t\tif ( inst.settings.disabled ) {\n\t\t\tthis._disableDatepicker( target );\n\t\t}\n\t},\n\n\t/* Make attachments based on settings. */\n\t_attachments: function( input, inst ) {\n\t\tvar showOn, buttonText, buttonImage,\n\t\t\tappendText = this._get( inst, \"appendText\" ),\n\t\t\tisRTL = this._get( inst, \"isRTL\" );\n\n\t\tif ( inst.append ) {\n\t\t\tinst.append.remove();\n\t\t}\n\t\tif ( appendText ) {\n\t\t\tinst.append = $( \"<span class='\" + this._appendClass + \"'>\" + appendText + \"</span>\" );\n\t\t\tinput[ isRTL ? \"before\" : \"after\" ]( inst.append );\n\t\t}\n\n\t\tinput.off( \"focus\", this._showDatepicker );\n\n\t\tif ( inst.trigger ) {\n\t\t\tinst.trigger.remove();\n\t\t}\n\n\t\tshowOn = this._get( inst, \"showOn\" );\n\t\tif ( showOn === \"focus\" || showOn === \"both\" ) { // pop-up date picker when in the marked field\n\t\t\tinput.on( \"focus\", this._showDatepicker );\n\t\t}\n\t\tif ( showOn === \"button\" || showOn === \"both\" ) { // pop-up date picker when button clicked\n\t\t\tbuttonText = this._get( inst, \"buttonText\" );\n\t\t\tbuttonImage = this._get( inst, \"buttonImage\" );\n\t\t\tinst.trigger = $( this._get( inst, \"buttonImageOnly\" ) ?\n\t\t\t\t$( \"<img/>\" ).addClass( this._triggerClass ).\n\t\t\t\t\tattr( { src: buttonImage, alt: buttonText, title: buttonText } ) :\n\t\t\t\t$( \"<button type='button'></button>\" ).addClass( this._triggerClass ).\n\t\t\t\t\thtml( !buttonImage ? buttonText : $( \"<img/>\" ).attr(\n\t\t\t\t\t{ src:buttonImage, alt:buttonText, title:buttonText } ) ) );\n\t\t\tinput[ isRTL ? \"before\" : \"after\" ]( inst.trigger );\n\t\t\tinst.trigger.on( \"click\", function() {\n\t\t\t\tif ( $.datepicker._datepickerShowing && $.datepicker._lastInput === input[ 0 ] ) {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t} else if ( $.datepicker._datepickerShowing && $.datepicker._lastInput !== input[ 0 ] ) {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t\t$.datepicker._showDatepicker( input[ 0 ] );\n\t\t\t\t} else {\n\t\t\t\t\t$.datepicker._showDatepicker( input[ 0 ] );\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t}\n\t},\n\n\t/* Apply the maximum length for the date format. */\n\t_autoSize: function( inst ) {\n\t\tif ( this._get( inst, \"autoSize\" ) && !inst.inline ) {\n\t\t\tvar findMax, max, maxI, i,\n\t\t\t\tdate = new Date( 2009, 12 - 1, 20 ), // Ensure double digits\n\t\t\t\tdateFormat = this._get( inst, \"dateFormat\" );\n\n\t\t\tif ( dateFormat.match( /[DM]/ ) ) {\n\t\t\t\tfindMax = function( names ) {\n\t\t\t\t\tmax = 0;\n\t\t\t\t\tmaxI = 0;\n\t\t\t\t\tfor ( i = 0; i < names.length; i++ ) {\n\t\t\t\t\t\tif ( names[ i ].length > max ) {\n\t\t\t\t\t\t\tmax = names[ i ].length;\n\t\t\t\t\t\t\tmaxI = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn maxI;\n\t\t\t\t};\n\t\t\t\tdate.setMonth( findMax( this._get( inst, ( dateFormat.match( /MM/ ) ?\n\t\t\t\t\t\"monthNames\" : \"monthNamesShort\" ) ) ) );\n\t\t\t\tdate.setDate( findMax( this._get( inst, ( dateFormat.match( /DD/ ) ?\n\t\t\t\t\t\"dayNames\" : \"dayNamesShort\" ) ) ) + 20 - date.getDay() );\n\t\t\t}\n\t\t\tinst.input.attr( \"size\", this._formatDate( inst, date ).length );\n\t\t}\n\t},\n\n\t/* Attach an inline date picker to a div. */\n\t_inlineDatepicker: function( target, inst ) {\n\t\tvar divSpan = $( target );\n\t\tif ( divSpan.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\t\tdivSpan.addClass( this.markerClassName ).append( inst.dpDiv );\n\t\t$.data( target, \"datepicker\", inst );\n\t\tthis._setDate( inst, this._getDefaultDate( inst ), true );\n\t\tthis._updateDatepicker( inst );\n\t\tthis._updateAlternate( inst );\n\n\t\t//If disabled option is true, disable the datepicker before showing it (see ticket #5665)\n\t\tif ( inst.settings.disabled ) {\n\t\t\tthis._disableDatepicker( target );\n\t\t}\n\n\t\t// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements\n\t\t// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height\n\t\tinst.dpDiv.css( \"display\", \"block\" );\n\t},\n\n\t/* Pop-up the date picker in a \"dialog\" box.\n\t * @param  input element - ignored\n\t * @param  date\tstring or Date - the initial date to display\n\t * @param  onSelect  function - the function to call when a date is selected\n\t * @param  settings  object - update the dialog date picker instance's settings (anonymous object)\n\t * @param  pos int[2] - coordinates for the dialog's position within the screen or\n\t *\t\t\t\t\tevent - with x/y coordinates or\n\t *\t\t\t\t\tleave empty for default (screen centre)\n\t * @return the manager object\n\t */\n\t_dialogDatepicker: function( input, date, onSelect, settings, pos ) {\n\t\tvar id, browserWidth, browserHeight, scrollX, scrollY,\n\t\t\tinst = this._dialogInst; // internal instance\n\n\t\tif ( !inst ) {\n\t\t\tthis.uuid += 1;\n\t\t\tid = \"dp\" + this.uuid;\n\t\t\tthis._dialogInput = $( \"<input type='text' id='\" + id +\n\t\t\t\t\"' style='position: absolute; top: -100px; width: 0px;'/>\" );\n\t\t\tthis._dialogInput.on( \"keydown\", this._doKeyDown );\n\t\t\t$( \"body\" ).append( this._dialogInput );\n\t\t\tinst = this._dialogInst = this._newInst( this._dialogInput, false );\n\t\t\tinst.settings = {};\n\t\t\t$.data( this._dialogInput[ 0 ], \"datepicker\", inst );\n\t\t}\n\t\tdatepicker_extendRemove( inst.settings, settings || {} );\n\t\tdate = ( date && date.constructor === Date ? this._formatDate( inst, date ) : date );\n\t\tthis._dialogInput.val( date );\n\n\t\tthis._pos = ( pos ? ( pos.length ? pos : [ pos.pageX, pos.pageY ] ) : null );\n\t\tif ( !this._pos ) {\n\t\t\tbrowserWidth = document.documentElement.clientWidth;\n\t\t\tbrowserHeight = document.documentElement.clientHeight;\n\t\t\tscrollX = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t\t\tscrollY = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\tthis._pos = // should use actual width/height below\n\t\t\t\t[ ( browserWidth / 2 ) - 100 + scrollX, ( browserHeight / 2 ) - 150 + scrollY ];\n\t\t}\n\n\t\t// Move input on screen for focus, but hidden behind dialog\n\t\tthis._dialogInput.css( \"left\", ( this._pos[ 0 ] + 20 ) + \"px\" ).css( \"top\", this._pos[ 1 ] + \"px\" );\n\t\tinst.settings.onSelect = onSelect;\n\t\tthis._inDialog = true;\n\t\tthis.dpDiv.addClass( this._dialogClass );\n\t\tthis._showDatepicker( this._dialogInput[ 0 ] );\n\t\tif ( $.blockUI ) {\n\t\t\t$.blockUI( this.dpDiv );\n\t\t}\n\t\t$.data( this._dialogInput[ 0 ], \"datepicker\", inst );\n\t\treturn this;\n\t},\n\n\t/* Detach a datepicker from its control.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_destroyDatepicker: function( target ) {\n\t\tvar nodeName,\n\t\t\t$target = $( target ),\n\t\t\tinst = $.data( target, \"datepicker\" );\n\n\t\tif ( !$target.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\t$.removeData( target, \"datepicker\" );\n\t\tif ( nodeName === \"input\" ) {\n\t\t\tinst.append.remove();\n\t\t\tinst.trigger.remove();\n\t\t\t$target.removeClass( this.markerClassName ).\n\t\t\t\toff( \"focus\", this._showDatepicker ).\n\t\t\t\toff( \"keydown\", this._doKeyDown ).\n\t\t\t\toff( \"keypress\", this._doKeyPress ).\n\t\t\t\toff( \"keyup\", this._doKeyUp );\n\t\t} else if ( nodeName === \"div\" || nodeName === \"span\" ) {\n\t\t\t$target.removeClass( this.markerClassName ).empty();\n\t\t}\n\n\t\tif ( datepicker_instActive === inst ) {\n\t\t\tdatepicker_instActive = null;\n\t\t}\n\t},\n\n\t/* Enable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_enableDatepicker: function( target ) {\n\t\tvar nodeName, inline,\n\t\t\t$target = $( target ),\n\t\t\tinst = $.data( target, \"datepicker\" );\n\n\t\tif ( !$target.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tif ( nodeName === \"input\" ) {\n\t\t\ttarget.disabled = false;\n\t\t\tinst.trigger.filter( \"button\" ).\n\t\t\t\teach( function() { this.disabled = false; } ).end().\n\t\t\t\tfilter( \"img\" ).css( { opacity: \"1.0\", cursor: \"\" } );\n\t\t} else if ( nodeName === \"div\" || nodeName === \"span\" ) {\n\t\t\tinline = $target.children( \".\" + this._inlineClass );\n\t\t\tinline.children().removeClass( \"ui-state-disabled\" );\n\t\t\tinline.find( \"select.ui-datepicker-month, select.ui-datepicker-year\" ).\n\t\t\t\tprop( \"disabled\", false );\n\t\t}\n\t\tthis._disabledInputs = $.map( this._disabledInputs,\n\t\t\tfunction( value ) { return ( value === target ? null : value ); } ); // delete entry\n\t},\n\n\t/* Disable the date picker to a jQuery selection.\n\t * @param  target\telement - the target input field or division or span\n\t */\n\t_disableDatepicker: function( target ) {\n\t\tvar nodeName, inline,\n\t\t\t$target = $( target ),\n\t\t\tinst = $.data( target, \"datepicker\" );\n\n\t\tif ( !$target.hasClass( this.markerClassName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnodeName = target.nodeName.toLowerCase();\n\t\tif ( nodeName === \"input\" ) {\n\t\t\ttarget.disabled = true;\n\t\t\tinst.trigger.filter( \"button\" ).\n\t\t\t\teach( function() { this.disabled = true; } ).end().\n\t\t\t\tfilter( \"img\" ).css( { opacity: \"0.5\", cursor: \"default\" } );\n\t\t} else if ( nodeName === \"div\" || nodeName === \"span\" ) {\n\t\t\tinline = $target.children( \".\" + this._inlineClass );\n\t\t\tinline.children().addClass( \"ui-state-disabled\" );\n\t\t\tinline.find( \"select.ui-datepicker-month, select.ui-datepicker-year\" ).\n\t\t\t\tprop( \"disabled\", true );\n\t\t}\n\t\tthis._disabledInputs = $.map( this._disabledInputs,\n\t\t\tfunction( value ) { return ( value === target ? null : value ); } ); // delete entry\n\t\tthis._disabledInputs[ this._disabledInputs.length ] = target;\n\t},\n\n\t/* Is the first field in a jQuery collection disabled as a datepicker?\n\t * @param  target\telement - the target input field or division or span\n\t * @return boolean - true if disabled, false if enabled\n\t */\n\t_isDisabledDatepicker: function( target ) {\n\t\tif ( !target ) {\n\t\t\treturn false;\n\t\t}\n\t\tfor ( var i = 0; i < this._disabledInputs.length; i++ ) {\n\t\t\tif ( this._disabledInputs[ i ] === target ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t/* Retrieve the instance data for the target control.\n\t * @param  target  element - the target input field or division or span\n\t * @return  object - the associated instance data\n\t * @throws  error if a jQuery problem getting data\n\t */\n\t_getInst: function( target ) {\n\t\ttry {\n\t\t\treturn $.data( target, \"datepicker\" );\n\t\t}\n\t\tcatch ( err ) {\n\t\t\tthrow \"Missing instance data for this datepicker\";\n\t\t}\n\t},\n\n\t/* Update or retrieve the settings for a date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t * @param  name\tobject - the new settings to update or\n\t *\t\t\t\tstring - the name of the setting to change or retrieve,\n\t *\t\t\t\twhen retrieving also \"all\" for all instance settings or\n\t *\t\t\t\t\"defaults\" for all global defaults\n\t * @param  value   any - the new value for the setting\n\t *\t\t\t\t(omit if above is an object or to retrieve a value)\n\t */\n\t_optionDatepicker: function( target, name, value ) {\n\t\tvar settings, date, minDate, maxDate,\n\t\t\tinst = this._getInst( target );\n\n\t\tif ( arguments.length === 2 && typeof name === \"string\" ) {\n\t\t\treturn ( name === \"defaults\" ? $.extend( {}, $.datepicker._defaults ) :\n\t\t\t\t( inst ? ( name === \"all\" ? $.extend( {}, inst.settings ) :\n\t\t\t\tthis._get( inst, name ) ) : null ) );\n\t\t}\n\n\t\tsettings = name || {};\n\t\tif ( typeof name === \"string\" ) {\n\t\t\tsettings = {};\n\t\t\tsettings[ name ] = value;\n\t\t}\n\n\t\tif ( inst ) {\n\t\t\tif ( this._curInst === inst ) {\n\t\t\t\tthis._hideDatepicker();\n\t\t\t}\n\n\t\t\tdate = this._getDateDatepicker( target, true );\n\t\t\tminDate = this._getMinMaxDate( inst, \"min\" );\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" );\n\t\t\tdatepicker_extendRemove( inst.settings, settings );\n\n\t\t\t// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided\n\t\t\tif ( minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined ) {\n\t\t\t\tinst.settings.minDate = this._formatDate( inst, minDate );\n\t\t\t}\n\t\t\tif ( maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined ) {\n\t\t\t\tinst.settings.maxDate = this._formatDate( inst, maxDate );\n\t\t\t}\n\t\t\tif ( \"disabled\" in settings ) {\n\t\t\t\tif ( settings.disabled ) {\n\t\t\t\t\tthis._disableDatepicker( target );\n\t\t\t\t} else {\n\t\t\t\t\tthis._enableDatepicker( target );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._attachments( $( target ), inst );\n\t\t\tthis._autoSize( inst );\n\t\t\tthis._setDate( inst, date );\n\t\t\tthis._updateAlternate( inst );\n\t\t\tthis._updateDatepicker( inst );\n\t\t}\n\t},\n\n\t// Change method deprecated\n\t_changeDatepicker: function( target, name, value ) {\n\t\tthis._optionDatepicker( target, name, value );\n\t},\n\n\t/* Redraw the date picker attached to an input field or division.\n\t * @param  target  element - the target input field or division or span\n\t */\n\t_refreshDatepicker: function( target ) {\n\t\tvar inst = this._getInst( target );\n\t\tif ( inst ) {\n\t\t\tthis._updateDatepicker( inst );\n\t\t}\n\t},\n\n\t/* Set the dates for a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  date\tDate - the new date\n\t */\n\t_setDateDatepicker: function( target, date ) {\n\t\tvar inst = this._getInst( target );\n\t\tif ( inst ) {\n\t\t\tthis._setDate( inst, date );\n\t\t\tthis._updateDatepicker( inst );\n\t\t\tthis._updateAlternate( inst );\n\t\t}\n\t},\n\n\t/* Get the date(s) for the first entry in a jQuery selection.\n\t * @param  target element - the target input field or division or span\n\t * @param  noDefault boolean - true if no default date is to be used\n\t * @return Date - the current date\n\t */\n\t_getDateDatepicker: function( target, noDefault ) {\n\t\tvar inst = this._getInst( target );\n\t\tif ( inst && !inst.inline ) {\n\t\t\tthis._setDateFromField( inst, noDefault );\n\t\t}\n\t\treturn ( inst ? this._getDate( inst ) : null );\n\t},\n\n\t/* Handle keystrokes. */\n\t_doKeyDown: function( event ) {\n\t\tvar onSelect, dateStr, sel,\n\t\t\tinst = $.datepicker._getInst( event.target ),\n\t\t\thandled = true,\n\t\t\tisRTL = inst.dpDiv.is( \".ui-datepicker-rtl\" );\n\n\t\tinst._keyEvent = true;\n\t\tif ( $.datepicker._datepickerShowing ) {\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase 9: $.datepicker._hideDatepicker();\n\t\t\t\t\t\thandled = false;\n\t\t\t\t\t\tbreak; // hide on tab out\n\t\t\t\tcase 13: sel = $( \"td.\" + $.datepicker._dayOverClass + \":not(.\" +\n\t\t\t\t\t\t\t\t\t$.datepicker._currentClass + \")\", inst.dpDiv );\n\t\t\t\t\t\tif ( sel[ 0 ] ) {\n\t\t\t\t\t\t\t$.datepicker._selectDay( event.target, inst.selectedMonth, inst.selectedYear, sel[ 0 ] );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tonSelect = $.datepicker._get( inst, \"onSelect\" );\n\t\t\t\t\t\tif ( onSelect ) {\n\t\t\t\t\t\t\tdateStr = $.datepicker._formatDate( inst );\n\n\t\t\t\t\t\t\t// Trigger custom callback\n\t\t\t\t\t\t\tonSelect.apply( ( inst.input ? inst.input[ 0 ] : null ), [ dateStr, inst ] );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false; // don't submit the form\n\t\t\t\tcase 27: $.datepicker._hideDatepicker();\n\t\t\t\t\t\tbreak; // hide on escape\n\t\t\t\tcase 33: $.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\tbreak; // previous month/year on page up/+ ctrl\n\t\t\t\tcase 34: $.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\tbreak; // next month/year on page down/+ ctrl\n\t\t\t\tcase 35: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._clearDate( event.target );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // clear on ctrl or command +end\n\t\t\t\tcase 36: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._gotoToday( event.target );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // current on ctrl or command +home\n\t\t\t\tcase 37: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( isRTL ? +1 : -1 ), \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\n\t\t\t\t\t\t// -1 day on ctrl or command +left\n\t\t\t\t\t\tif ( event.originalEvent.altKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t\t-$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// next month/year on alt +left on Mac\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 38: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, -7, \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // -1 week on ctrl or command +up\n\t\t\t\tcase 39: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( isRTL ? -1 : +1 ), \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\n\t\t\t\t\t\t// +1 day on ctrl or command +right\n\t\t\t\t\t\tif ( event.originalEvent.altKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, ( event.ctrlKey ?\n\t\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepBigMonths\" ) :\n\t\t\t\t\t\t\t\t+$.datepicker._get( inst, \"stepMonths\" ) ), \"M\" );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// next month/year on alt +right\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 40: if ( event.ctrlKey || event.metaKey ) {\n\t\t\t\t\t\t\t$.datepicker._adjustDate( event.target, +7, \"D\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thandled = event.ctrlKey || event.metaKey;\n\t\t\t\t\t\tbreak; // +1 week on ctrl or command +down\n\t\t\t\tdefault: handled = false;\n\t\t\t}\n\t\t} else if ( event.keyCode === 36 && event.ctrlKey ) { // display the date picker on ctrl+home\n\t\t\t$.datepicker._showDatepicker( this );\n\t\t} else {\n\t\t\thandled = false;\n\t\t}\n\n\t\tif ( handled ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t},\n\n\t/* Filter entered characters - based on date format. */\n\t_doKeyPress: function( event ) {\n\t\tvar chars, chr,\n\t\t\tinst = $.datepicker._getInst( event.target );\n\n\t\tif ( $.datepicker._get( inst, \"constrainInput\" ) ) {\n\t\t\tchars = $.datepicker._possibleChars( $.datepicker._get( inst, \"dateFormat\" ) );\n\t\t\tchr = String.fromCharCode( event.charCode == null ? event.keyCode : event.charCode );\n\t\t\treturn event.ctrlKey || event.metaKey || ( chr < \" \" || !chars || chars.indexOf( chr ) > -1 );\n\t\t}\n\t},\n\n\t/* Synchronise manual entry and field/alternate field. */\n\t_doKeyUp: function( event ) {\n\t\tvar date,\n\t\t\tinst = $.datepicker._getInst( event.target );\n\n\t\tif ( inst.input.val() !== inst.lastVal ) {\n\t\t\ttry {\n\t\t\t\tdate = $.datepicker.parseDate( $.datepicker._get( inst, \"dateFormat\" ),\n\t\t\t\t\t( inst.input ? inst.input.val() : null ),\n\t\t\t\t\t$.datepicker._getFormatConfig( inst ) );\n\n\t\t\t\tif ( date ) { // only if valid\n\t\t\t\t\t$.datepicker._setDateFromField( inst );\n\t\t\t\t\t$.datepicker._updateAlternate( inst );\n\t\t\t\t\t$.datepicker._updateDatepicker( inst );\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch ( err ) {\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/* Pop-up the date picker for a given input field.\n\t * If false returned from beforeShow event handler do not show.\n\t * @param  input  element - the input field attached to the date picker or\n\t *\t\t\t\t\tevent - if triggered by focus\n\t */\n\t_showDatepicker: function( input ) {\n\t\tinput = input.target || input;\n\t\tif ( input.nodeName.toLowerCase() !== \"input\" ) { // find from button/image trigger\n\t\t\tinput = $( \"input\", input.parentNode )[ 0 ];\n\t\t}\n\n\t\tif ( $.datepicker._isDisabledDatepicker( input ) || $.datepicker._lastInput === input ) { // already here\n\t\t\treturn;\n\t\t}\n\n\t\tvar inst, beforeShow, beforeShowSettings, isFixed,\n\t\t\toffset, showAnim, duration;\n\n\t\tinst = $.datepicker._getInst( input );\n\t\tif ( $.datepicker._curInst && $.datepicker._curInst !== inst ) {\n\t\t\t$.datepicker._curInst.dpDiv.stop( true, true );\n\t\t\tif ( inst && $.datepicker._datepickerShowing ) {\n\t\t\t\t$.datepicker._hideDatepicker( $.datepicker._curInst.input[ 0 ] );\n\t\t\t}\n\t\t}\n\n\t\tbeforeShow = $.datepicker._get( inst, \"beforeShow\" );\n\t\tbeforeShowSettings = beforeShow ? beforeShow.apply( input, [ input, inst ] ) : {};\n\t\tif ( beforeShowSettings === false ) {\n\t\t\treturn;\n\t\t}\n\t\tdatepicker_extendRemove( inst.settings, beforeShowSettings );\n\n\t\tinst.lastVal = null;\n\t\t$.datepicker._lastInput = input;\n\t\t$.datepicker._setDateFromField( inst );\n\n\t\tif ( $.datepicker._inDialog ) { // hide cursor\n\t\t\tinput.value = \"\";\n\t\t}\n\t\tif ( !$.datepicker._pos ) { // position below input\n\t\t\t$.datepicker._pos = $.datepicker._findPos( input );\n\t\t\t$.datepicker._pos[ 1 ] += input.offsetHeight; // add the height\n\t\t}\n\n\t\tisFixed = false;\n\t\t$( input ).parents().each( function() {\n\t\t\tisFixed |= $( this ).css( \"position\" ) === \"fixed\";\n\t\t\treturn !isFixed;\n\t\t} );\n\n\t\toffset = { left: $.datepicker._pos[ 0 ], top: $.datepicker._pos[ 1 ] };\n\t\t$.datepicker._pos = null;\n\n\t\t//to avoid flashes on Firefox\n\t\tinst.dpDiv.empty();\n\n\t\t// determine sizing offscreen\n\t\tinst.dpDiv.css( { position: \"absolute\", display: \"block\", top: \"-1000px\" } );\n\t\t$.datepicker._updateDatepicker( inst );\n\n\t\t// fix width for dynamic number of date pickers\n\t\t// and adjust position before showing\n\t\toffset = $.datepicker._checkOffset( inst, offset, isFixed );\n\t\tinst.dpDiv.css( { position: ( $.datepicker._inDialog && $.blockUI ?\n\t\t\t\"static\" : ( isFixed ? \"fixed\" : \"absolute\" ) ), display: \"none\",\n\t\t\tleft: offset.left + \"px\", top: offset.top + \"px\" } );\n\n\t\tif ( !inst.inline ) {\n\t\t\tshowAnim = $.datepicker._get( inst, \"showAnim\" );\n\t\t\tduration = $.datepicker._get( inst, \"duration\" );\n\t\t\tinst.dpDiv.css( \"z-index\", datepicker_getZindex( $( input ) ) + 1 );\n\t\t\t$.datepicker._datepickerShowing = true;\n\n\t\t\tif ( $.effects && $.effects.effect[ showAnim ] ) {\n\t\t\t\tinst.dpDiv.show( showAnim, $.datepicker._get( inst, \"showOptions\" ), duration );\n\t\t\t} else {\n\t\t\t\tinst.dpDiv[ showAnim || \"show\" ]( showAnim ? duration : null );\n\t\t\t}\n\n\t\t\tif ( $.datepicker._shouldFocusInput( inst ) ) {\n\t\t\t\tinst.input.trigger( \"focus\" );\n\t\t\t}\n\n\t\t\t$.datepicker._curInst = inst;\n\t\t}\n\t},\n\n\t/* Generate the date picker content. */\n\t_updateDatepicker: function( inst ) {\n\t\tthis.maxRows = 4; //Reset the max number of rows being displayed (see #7043)\n\t\tdatepicker_instActive = inst; // for delegate hover events\n\t\tinst.dpDiv.empty().append( this._generateHTML( inst ) );\n\t\tthis._attachHandlers( inst );\n\n\t\tvar origyearshtml,\n\t\t\tnumMonths = this._getNumberOfMonths( inst ),\n\t\t\tcols = numMonths[ 1 ],\n\t\t\twidth = 17,\n\t\t\tactiveCell = inst.dpDiv.find( \".\" + this._dayOverClass + \" a\" );\n\n\t\tif ( activeCell.length > 0 ) {\n\t\t\tdatepicker_handleMouseover.apply( activeCell.get( 0 ) );\n\t\t}\n\n\t\tinst.dpDiv.removeClass( \"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\" ).width( \"\" );\n\t\tif ( cols > 1 ) {\n\t\t\tinst.dpDiv.addClass( \"ui-datepicker-multi-\" + cols ).css( \"width\", ( width * cols ) + \"em\" );\n\t\t}\n\t\tinst.dpDiv[ ( numMonths[ 0 ] !== 1 || numMonths[ 1 ] !== 1 ? \"add\" : \"remove\" ) +\n\t\t\t\"Class\" ]( \"ui-datepicker-multi\" );\n\t\tinst.dpDiv[ ( this._get( inst, \"isRTL\" ) ? \"add\" : \"remove\" ) +\n\t\t\t\"Class\" ]( \"ui-datepicker-rtl\" );\n\n\t\tif ( inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput( inst ) ) {\n\t\t\tinst.input.trigger( \"focus\" );\n\t\t}\n\n\t\t// Deffered render of the years select (to avoid flashes on Firefox)\n\t\tif ( inst.yearshtml ) {\n\t\t\torigyearshtml = inst.yearshtml;\n\t\t\tsetTimeout( function() {\n\n\t\t\t\t//assure that inst.yearshtml didn't change.\n\t\t\t\tif ( origyearshtml === inst.yearshtml && inst.yearshtml ) {\n\t\t\t\t\tinst.dpDiv.find( \"select.ui-datepicker-year:first\" ).replaceWith( inst.yearshtml );\n\t\t\t\t}\n\t\t\t\torigyearshtml = inst.yearshtml = null;\n\t\t\t}, 0 );\n\t\t}\n\t},\n\n\t// #6694 - don't focus the input if it's already focused\n\t// this breaks the change event in IE\n\t// Support: IE and jQuery <1.9\n\t_shouldFocusInput: function( inst ) {\n\t\treturn inst.input && inst.input.is( \":visible\" ) && !inst.input.is( \":disabled\" ) && !inst.input.is( \":focus\" );\n\t},\n\n\t/* Check positioning to remain on screen. */\n\t_checkOffset: function( inst, offset, isFixed ) {\n\t\tvar dpWidth = inst.dpDiv.outerWidth(),\n\t\t\tdpHeight = inst.dpDiv.outerHeight(),\n\t\t\tinputWidth = inst.input ? inst.input.outerWidth() : 0,\n\t\t\tinputHeight = inst.input ? inst.input.outerHeight() : 0,\n\t\t\tviewWidth = document.documentElement.clientWidth + ( isFixed ? 0 : $( document ).scrollLeft() ),\n\t\t\tviewHeight = document.documentElement.clientHeight + ( isFixed ? 0 : $( document ).scrollTop() );\n\n\t\toffset.left -= ( this._get( inst, \"isRTL\" ) ? ( dpWidth - inputWidth ) : 0 );\n\t\toffset.left -= ( isFixed && offset.left === inst.input.offset().left ) ? $( document ).scrollLeft() : 0;\n\t\toffset.top -= ( isFixed && offset.top === ( inst.input.offset().top + inputHeight ) ) ? $( document ).scrollTop() : 0;\n\n\t\t// Now check if datepicker is showing outside window viewport - move to a better place if so.\n\t\toffset.left -= Math.min( offset.left, ( offset.left + dpWidth > viewWidth && viewWidth > dpWidth ) ?\n\t\t\tMath.abs( offset.left + dpWidth - viewWidth ) : 0 );\n\t\toffset.top -= Math.min( offset.top, ( offset.top + dpHeight > viewHeight && viewHeight > dpHeight ) ?\n\t\t\tMath.abs( dpHeight + inputHeight ) : 0 );\n\n\t\treturn offset;\n\t},\n\n\t/* Find an object's position on the screen. */\n\t_findPos: function( obj ) {\n\t\tvar position,\n\t\t\tinst = this._getInst( obj ),\n\t\t\tisRTL = this._get( inst, \"isRTL\" );\n\n\t\twhile ( obj && ( obj.type === \"hidden\" || obj.nodeType !== 1 || $.expr.filters.hidden( obj ) ) ) {\n\t\t\tobj = obj[ isRTL ? \"previousSibling\" : \"nextSibling\" ];\n\t\t}\n\n\t\tposition = $( obj ).offset();\n\t\treturn [ position.left, position.top ];\n\t},\n\n\t/* Hide the date picker from view.\n\t * @param  input  element - the input field attached to the date picker\n\t */\n\t_hideDatepicker: function( input ) {\n\t\tvar showAnim, duration, postProcess, onClose,\n\t\t\tinst = this._curInst;\n\n\t\tif ( !inst || ( input && inst !== $.data( input, \"datepicker\" ) ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this._datepickerShowing ) {\n\t\t\tshowAnim = this._get( inst, \"showAnim\" );\n\t\t\tduration = this._get( inst, \"duration\" );\n\t\t\tpostProcess = function() {\n\t\t\t\t$.datepicker._tidyDialog( inst );\n\t\t\t};\n\n\t\t\t// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed\n\t\t\tif ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {\n\t\t\t\tinst.dpDiv.hide( showAnim, $.datepicker._get( inst, \"showOptions\" ), duration, postProcess );\n\t\t\t} else {\n\t\t\t\tinst.dpDiv[ ( showAnim === \"slideDown\" ? \"slideUp\" :\n\t\t\t\t\t( showAnim === \"fadeIn\" ? \"fadeOut\" : \"hide\" ) ) ]( ( showAnim ? duration : null ), postProcess );\n\t\t\t}\n\n\t\t\tif ( !showAnim ) {\n\t\t\t\tpostProcess();\n\t\t\t}\n\t\t\tthis._datepickerShowing = false;\n\n\t\t\tonClose = this._get( inst, \"onClose\" );\n\t\t\tif ( onClose ) {\n\t\t\t\tonClose.apply( ( inst.input ? inst.input[ 0 ] : null ), [ ( inst.input ? inst.input.val() : \"\" ), inst ] );\n\t\t\t}\n\n\t\t\tthis._lastInput = null;\n\t\t\tif ( this._inDialog ) {\n\t\t\t\tthis._dialogInput.css( { position: \"absolute\", left: \"0\", top: \"-100px\" } );\n\t\t\t\tif ( $.blockUI ) {\n\t\t\t\t\t$.unblockUI();\n\t\t\t\t\t$( \"body\" ).append( this.dpDiv );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._inDialog = false;\n\t\t}\n\t},\n\n\t/* Tidy up after a dialog display. */\n\t_tidyDialog: function( inst ) {\n\t\tinst.dpDiv.removeClass( this._dialogClass ).off( \".ui-datepicker-calendar\" );\n\t},\n\n\t/* Close date picker if clicked elsewhere. */\n\t_checkExternalClick: function( event ) {\n\t\tif ( !$.datepicker._curInst ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar $target = $( event.target ),\n\t\t\tinst = $.datepicker._getInst( $target[ 0 ] );\n\n\t\tif ( ( ( $target[ 0 ].id !== $.datepicker._mainDivId &&\n\t\t\t\t$target.parents( \"#\" + $.datepicker._mainDivId ).length === 0 &&\n\t\t\t\t!$target.hasClass( $.datepicker.markerClassName ) &&\n\t\t\t\t!$target.closest( \".\" + $.datepicker._triggerClass ).length &&\n\t\t\t\t$.datepicker._datepickerShowing && !( $.datepicker._inDialog && $.blockUI ) ) ) ||\n\t\t\t( $target.hasClass( $.datepicker.markerClassName ) && $.datepicker._curInst !== inst ) ) {\n\t\t\t\t$.datepicker._hideDatepicker();\n\t\t}\n\t},\n\n\t/* Adjust one of the date sub-fields. */\n\t_adjustDate: function( id, offset, period ) {\n\t\tvar target = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tif ( this._isDisabledDatepicker( target[ 0 ] ) ) {\n\t\t\treturn;\n\t\t}\n\t\tthis._adjustInstDate( inst, offset +\n\t\t\t( period === \"M\" ? this._get( inst, \"showCurrentAtPos\" ) : 0 ), // undo positioning\n\t\t\tperiod );\n\t\tthis._updateDatepicker( inst );\n\t},\n\n\t/* Action for current link. */\n\t_gotoToday: function( id ) {\n\t\tvar date,\n\t\t\ttarget = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tif ( this._get( inst, \"gotoCurrent\" ) && inst.currentDay ) {\n\t\t\tinst.selectedDay = inst.currentDay;\n\t\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth;\n\t\t\tinst.drawYear = inst.selectedYear = inst.currentYear;\n\t\t} else {\n\t\t\tdate = new Date();\n\t\t\tinst.selectedDay = date.getDate();\n\t\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\t}\n\t\tthis._notifyChange( inst );\n\t\tthis._adjustDate( target );\n\t},\n\n\t/* Action for selecting a new month/year. */\n\t_selectMonthYear: function( id, select, period ) {\n\t\tvar target = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tinst[ \"selected\" + ( period === \"M\" ? \"Month\" : \"Year\" ) ] =\n\t\tinst[ \"draw\" + ( period === \"M\" ? \"Month\" : \"Year\" ) ] =\n\t\t\tparseInt( select.options[ select.selectedIndex ].value, 10 );\n\n\t\tthis._notifyChange( inst );\n\t\tthis._adjustDate( target );\n\t},\n\n\t/* Action for selecting a day. */\n\t_selectDay: function( id, month, year, td ) {\n\t\tvar inst,\n\t\t\ttarget = $( id );\n\n\t\tif ( $( td ).hasClass( this._unselectableClass ) || this._isDisabledDatepicker( target[ 0 ] ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tinst = this._getInst( target[ 0 ] );\n\t\tinst.selectedDay = inst.currentDay = $( \"a\", td ).html();\n\t\tinst.selectedMonth = inst.currentMonth = month;\n\t\tinst.selectedYear = inst.currentYear = year;\n\t\tthis._selectDate( id, this._formatDate( inst,\n\t\t\tinst.currentDay, inst.currentMonth, inst.currentYear ) );\n\t},\n\n\t/* Erase the input field and hide the date picker. */\n\t_clearDate: function( id ) {\n\t\tvar target = $( id );\n\t\tthis._selectDate( target, \"\" );\n\t},\n\n\t/* Update the input field with the selected date. */\n\t_selectDate: function( id, dateStr ) {\n\t\tvar onSelect,\n\t\t\ttarget = $( id ),\n\t\t\tinst = this._getInst( target[ 0 ] );\n\n\t\tdateStr = ( dateStr != null ? dateStr : this._formatDate( inst ) );\n\t\tif ( inst.input ) {\n\t\t\tinst.input.val( dateStr );\n\t\t}\n\t\tthis._updateAlternate( inst );\n\n\t\tonSelect = this._get( inst, \"onSelect\" );\n\t\tif ( onSelect ) {\n\t\t\tonSelect.apply( ( inst.input ? inst.input[ 0 ] : null ), [ dateStr, inst ] );  // trigger custom callback\n\t\t} else if ( inst.input ) {\n\t\t\tinst.input.trigger( \"change\" ); // fire the change event\n\t\t}\n\n\t\tif ( inst.inline ) {\n\t\t\tthis._updateDatepicker( inst );\n\t\t} else {\n\t\t\tthis._hideDatepicker();\n\t\t\tthis._lastInput = inst.input[ 0 ];\n\t\t\tif ( typeof( inst.input[ 0 ] ) !== \"object\" ) {\n\t\t\t\tinst.input.trigger( \"focus\" ); // restore focus\n\t\t\t}\n\t\t\tthis._lastInput = null;\n\t\t}\n\t},\n\n\t/* Update any alternate field to synchronise with the main field. */\n\t_updateAlternate: function( inst ) {\n\t\tvar altFormat, date, dateStr,\n\t\t\taltField = this._get( inst, \"altField\" );\n\n\t\tif ( altField ) { // update alternate field too\n\t\t\taltFormat = this._get( inst, \"altFormat\" ) || this._get( inst, \"dateFormat\" );\n\t\t\tdate = this._getDate( inst );\n\t\t\tdateStr = this.formatDate( altFormat, date, this._getFormatConfig( inst ) );\n\t\t\t$( altField ).val( dateStr );\n\t\t}\n\t},\n\n\t/* Set as beforeShowDay function to prevent selection of weekends.\n\t * @param  date  Date - the date to customise\n\t * @return [boolean, string] - is this date selectable?, what is its CSS class?\n\t */\n\tnoWeekends: function( date ) {\n\t\tvar day = date.getDay();\n\t\treturn [ ( day > 0 && day < 6 ), \"\" ];\n\t},\n\n\t/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.\n\t * @param  date  Date - the date to get the week for\n\t * @return  number - the number of the week within the year that contains this date\n\t */\n\tiso8601Week: function( date ) {\n\t\tvar time,\n\t\t\tcheckDate = new Date( date.getTime() );\n\n\t\t// Find Thursday of this week starting on Monday\n\t\tcheckDate.setDate( checkDate.getDate() + 4 - ( checkDate.getDay() || 7 ) );\n\n\t\ttime = checkDate.getTime();\n\t\tcheckDate.setMonth( 0 ); // Compare with Jan 1\n\t\tcheckDate.setDate( 1 );\n\t\treturn Math.floor( Math.round( ( time - checkDate ) / 86400000 ) / 7 ) + 1;\n\t},\n\n\t/* Parse a string value into a date object.\n\t * See formatDate below for the possible formats.\n\t *\n\t * @param  format string - the expected format of the date\n\t * @param  value string - the date in the above format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tshortYearCutoff  number - the cutoff year for determining the century (optional)\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  Date - the extracted date value or null if value is blank\n\t */\n\tparseDate: function( format, value, settings ) {\n\t\tif ( format == null || value == null ) {\n\t\t\tthrow \"Invalid arguments\";\n\t\t}\n\n\t\tvalue = ( typeof value === \"object\" ? value.toString() : value + \"\" );\n\t\tif ( value === \"\" ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar iFormat, dim, extra,\n\t\t\tiValue = 0,\n\t\t\tshortYearCutoffTemp = ( settings ? settings.shortYearCutoff : null ) || this._defaults.shortYearCutoff,\n\t\t\tshortYearCutoff = ( typeof shortYearCutoffTemp !== \"string\" ? shortYearCutoffTemp :\n\t\t\t\tnew Date().getFullYear() % 100 + parseInt( shortYearCutoffTemp, 10 ) ),\n\t\t\tdayNamesShort = ( settings ? settings.dayNamesShort : null ) || this._defaults.dayNamesShort,\n\t\t\tdayNames = ( settings ? settings.dayNames : null ) || this._defaults.dayNames,\n\t\t\tmonthNamesShort = ( settings ? settings.monthNamesShort : null ) || this._defaults.monthNamesShort,\n\t\t\tmonthNames = ( settings ? settings.monthNames : null ) || this._defaults.monthNames,\n\t\t\tyear = -1,\n\t\t\tmonth = -1,\n\t\t\tday = -1,\n\t\t\tdoy = -1,\n\t\t\tliteral = false,\n\t\t\tdate,\n\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function( match ) {\n\t\t\t\tvar matches = ( iFormat + 1 < format.length && format.charAt( iFormat + 1 ) === match );\n\t\t\t\tif ( matches ) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t},\n\n\t\t\t// Extract a number from the string value\n\t\t\tgetNumber = function( match ) {\n\t\t\t\tvar isDoubled = lookAhead( match ),\n\t\t\t\t\tsize = ( match === \"@\" ? 14 : ( match === \"!\" ? 20 :\n\t\t\t\t\t( match === \"y\" && isDoubled ? 4 : ( match === \"o\" ? 3 : 2 ) ) ) ),\n\t\t\t\t\tminSize = ( match === \"y\" ? size : 1 ),\n\t\t\t\t\tdigits = new RegExp( \"^\\\\d{\" + minSize + \",\" + size + \"}\" ),\n\t\t\t\t\tnum = value.substring( iValue ).match( digits );\n\t\t\t\tif ( !num ) {\n\t\t\t\t\tthrow \"Missing number at position \" + iValue;\n\t\t\t\t}\n\t\t\t\tiValue += num[ 0 ].length;\n\t\t\t\treturn parseInt( num[ 0 ], 10 );\n\t\t\t},\n\n\t\t\t// Extract a name from the string value and convert to an index\n\t\t\tgetName = function( match, shortNames, longNames ) {\n\t\t\t\tvar index = -1,\n\t\t\t\t\tnames = $.map( lookAhead( match ) ? longNames : shortNames, function( v, k ) {\n\t\t\t\t\t\treturn [ [ k, v ] ];\n\t\t\t\t\t} ).sort( function( a, b ) {\n\t\t\t\t\t\treturn -( a[ 1 ].length - b[ 1 ].length );\n\t\t\t\t\t} );\n\n\t\t\t\t$.each( names, function( i, pair ) {\n\t\t\t\t\tvar name = pair[ 1 ];\n\t\t\t\t\tif ( value.substr( iValue, name.length ).toLowerCase() === name.toLowerCase() ) {\n\t\t\t\t\t\tindex = pair[ 0 ];\n\t\t\t\t\t\tiValue += name.length;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tif ( index !== -1 ) {\n\t\t\t\t\treturn index + 1;\n\t\t\t\t} else {\n\t\t\t\t\tthrow \"Unknown name at position \" + iValue;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Confirm that a literal character matches the string value\n\t\t\tcheckLiteral = function() {\n\t\t\t\tif ( value.charAt( iValue ) !== format.charAt( iFormat ) ) {\n\t\t\t\t\tthrow \"Unexpected literal at position \" + iValue;\n\t\t\t\t}\n\t\t\t\tiValue++;\n\t\t\t};\n\n\t\tfor ( iFormat = 0; iFormat < format.length; iFormat++ ) {\n\t\t\tif ( literal ) {\n\t\t\t\tif ( format.charAt( iFormat ) === \"'\" && !lookAhead( \"'\" ) ) {\n\t\t\t\t\tliteral = false;\n\t\t\t\t} else {\n\t\t\t\t\tcheckLiteral();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch ( format.charAt( iFormat ) ) {\n\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tday = getNumber( \"d\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\tgetName( \"D\", dayNamesShort, dayNames );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"o\":\n\t\t\t\t\t\tdoy = getNumber( \"o\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\tmonth = getNumber( \"m\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\tmonth = getName( \"M\", monthNamesShort, monthNames );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tyear = getNumber( \"y\" );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"@\":\n\t\t\t\t\t\tdate = new Date( getNumber( \"@\" ) );\n\t\t\t\t\t\tyear = date.getFullYear();\n\t\t\t\t\t\tmonth = date.getMonth() + 1;\n\t\t\t\t\t\tday = date.getDate();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"!\":\n\t\t\t\t\t\tdate = new Date( ( getNumber( \"!\" ) - this._ticksTo1970 ) / 10000 );\n\t\t\t\t\t\tyear = date.getFullYear();\n\t\t\t\t\t\tmonth = date.getMonth() + 1;\n\t\t\t\t\t\tday = date.getDate();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\tif ( lookAhead( \"'\" ) ) {\n\t\t\t\t\t\t\tcheckLiteral();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcheckLiteral();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( iValue < value.length ) {\n\t\t\textra = value.substr( iValue );\n\t\t\tif ( !/^\\s+/.test( extra ) ) {\n\t\t\t\tthrow \"Extra/unparsed characters found in date: \" + extra;\n\t\t\t}\n\t\t}\n\n\t\tif ( year === -1 ) {\n\t\t\tyear = new Date().getFullYear();\n\t\t} else if ( year < 100 ) {\n\t\t\tyear += new Date().getFullYear() - new Date().getFullYear() % 100 +\n\t\t\t\t( year <= shortYearCutoff ? 0 : -100 );\n\t\t}\n\n\t\tif ( doy > -1 ) {\n\t\t\tmonth = 1;\n\t\t\tday = doy;\n\t\t\tdo {\n\t\t\t\tdim = this._getDaysInMonth( year, month - 1 );\n\t\t\t\tif ( day <= dim ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmonth++;\n\t\t\t\tday -= dim;\n\t\t\t} while ( true );\n\t\t}\n\n\t\tdate = this._daylightSavingAdjust( new Date( year, month - 1, day ) );\n\t\tif ( date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day ) {\n\t\t\tthrow \"Invalid date\"; // E.g. 31/02/00\n\t\t}\n\t\treturn date;\n\t},\n\n\t/* Standard date formats. */\n\tATOM: \"yy-mm-dd\", // RFC 3339 (ISO 8601)\n\tCOOKIE: \"D, dd M yy\",\n\tISO_8601: \"yy-mm-dd\",\n\tRFC_822: \"D, d M y\",\n\tRFC_850: \"DD, dd-M-y\",\n\tRFC_1036: \"D, d M y\",\n\tRFC_1123: \"D, d M yy\",\n\tRFC_2822: \"D, d M yy\",\n\tRSS: \"D, d M y\", // RFC 822\n\tTICKS: \"!\",\n\tTIMESTAMP: \"@\",\n\tW3C: \"yy-mm-dd\", // ISO 8601\n\n\t_ticksTo1970: ( ( ( 1970 - 1 ) * 365 + Math.floor( 1970 / 4 ) - Math.floor( 1970 / 100 ) +\n\t\tMath.floor( 1970 / 400 ) ) * 24 * 60 * 60 * 10000000 ),\n\n\t/* Format a date object into a string value.\n\t * The format can be combinations of the following:\n\t * d  - day of month (no leading zero)\n\t * dd - day of month (two digit)\n\t * o  - day of year (no leading zeros)\n\t * oo - day of year (three digit)\n\t * D  - day name short\n\t * DD - day name long\n\t * m  - month of year (no leading zero)\n\t * mm - month of year (two digit)\n\t * M  - month name short\n\t * MM - month name long\n\t * y  - year (two digit)\n\t * yy - year (four digit)\n\t * @ - Unix timestamp (ms since 01/01/1970)\n\t * ! - Windows ticks (100ns since 01/01/0001)\n\t * \"...\" - literal text\n\t * '' - single quote\n\t *\n\t * @param  format string - the desired format of the date\n\t * @param  date Date - the date value to format\n\t * @param  settings Object - attributes include:\n\t *\t\t\t\t\tdayNamesShort\tstring[7] - abbreviated names of the days from Sunday (optional)\n\t *\t\t\t\t\tdayNames\t\tstring[7] - names of the days from Sunday (optional)\n\t *\t\t\t\t\tmonthNamesShort string[12] - abbreviated names of the months (optional)\n\t *\t\t\t\t\tmonthNames\t\tstring[12] - names of the months (optional)\n\t * @return  string - the date in the above format\n\t */\n\tformatDate: function( format, date, settings ) {\n\t\tif ( !date ) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar iFormat,\n\t\t\tdayNamesShort = ( settings ? settings.dayNamesShort : null ) || this._defaults.dayNamesShort,\n\t\t\tdayNames = ( settings ? settings.dayNames : null ) || this._defaults.dayNames,\n\t\t\tmonthNamesShort = ( settings ? settings.monthNamesShort : null ) || this._defaults.monthNamesShort,\n\t\t\tmonthNames = ( settings ? settings.monthNames : null ) || this._defaults.monthNames,\n\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function( match ) {\n\t\t\t\tvar matches = ( iFormat + 1 < format.length && format.charAt( iFormat + 1 ) === match );\n\t\t\t\tif ( matches ) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t},\n\n\t\t\t// Format a number, with leading zero if necessary\n\t\t\tformatNumber = function( match, value, len ) {\n\t\t\t\tvar num = \"\" + value;\n\t\t\t\tif ( lookAhead( match ) ) {\n\t\t\t\t\twhile ( num.length < len ) {\n\t\t\t\t\t\tnum = \"0\" + num;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn num;\n\t\t\t},\n\n\t\t\t// Format a name, short or long as requested\n\t\t\tformatName = function( match, value, shortNames, longNames ) {\n\t\t\t\treturn ( lookAhead( match ) ? longNames[ value ] : shortNames[ value ] );\n\t\t\t},\n\t\t\toutput = \"\",\n\t\t\tliteral = false;\n\n\t\tif ( date ) {\n\t\t\tfor ( iFormat = 0; iFormat < format.length; iFormat++ ) {\n\t\t\t\tif ( literal ) {\n\t\t\t\t\tif ( format.charAt( iFormat ) === \"'\" && !lookAhead( \"'\" ) ) {\n\t\t\t\t\t\tliteral = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt( iFormat );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch ( format.charAt( iFormat ) ) {\n\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\t\toutput += formatNumber( \"d\", date.getDate(), 2 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"D\":\n\t\t\t\t\t\t\toutput += formatName( \"D\", date.getDay(), dayNamesShort, dayNames );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"o\":\n\t\t\t\t\t\t\toutput += formatNumber( \"o\",\n\t\t\t\t\t\t\t\tMath.round( ( new Date( date.getFullYear(), date.getMonth(), date.getDate() ).getTime() - new Date( date.getFullYear(), 0, 0 ).getTime() ) / 86400000 ), 3 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\t\toutput += formatNumber( \"m\", date.getMonth() + 1, 2 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\t\toutput += formatName( \"M\", date.getMonth(), monthNamesShort, monthNames );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\t\toutput += ( lookAhead( \"y\" ) ? date.getFullYear() :\n\t\t\t\t\t\t\t\t( date.getFullYear() % 100 < 10 ? \"0\" : \"\" ) + date.getFullYear() % 100 );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"@\":\n\t\t\t\t\t\t\toutput += date.getTime();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"!\":\n\t\t\t\t\t\t\toutput += date.getTime() * 10000 + this._ticksTo1970;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif ( lookAhead( \"'\" ) ) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt( iFormat );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t},\n\n\t/* Extract all possible characters from the date format. */\n\t_possibleChars: function( format ) {\n\t\tvar iFormat,\n\t\t\tchars = \"\",\n\t\t\tliteral = false,\n\n\t\t\t// Check whether a format character is doubled\n\t\t\tlookAhead = function( match ) {\n\t\t\t\tvar matches = ( iFormat + 1 < format.length && format.charAt( iFormat + 1 ) === match );\n\t\t\t\tif ( matches ) {\n\t\t\t\t\tiFormat++;\n\t\t\t\t}\n\t\t\t\treturn matches;\n\t\t\t};\n\n\t\tfor ( iFormat = 0; iFormat < format.length; iFormat++ ) {\n\t\t\tif ( literal ) {\n\t\t\t\tif ( format.charAt( iFormat ) === \"'\" && !lookAhead( \"'\" ) ) {\n\t\t\t\t\tliteral = false;\n\t\t\t\t} else {\n\t\t\t\t\tchars += format.charAt( iFormat );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch ( format.charAt( iFormat ) ) {\n\t\t\t\t\tcase \"d\": case \"m\": case \"y\": case \"@\":\n\t\t\t\t\t\tchars += \"0123456789\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"D\": case \"M\":\n\t\t\t\t\t\treturn null; // Accept anything\n\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\tif ( lookAhead( \"'\" ) ) {\n\t\t\t\t\t\t\tchars += \"'\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tchars += format.charAt( iFormat );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn chars;\n\t},\n\n\t/* Get a setting value, defaulting if necessary. */\n\t_get: function( inst, name ) {\n\t\treturn inst.settings[ name ] !== undefined ?\n\t\t\tinst.settings[ name ] : this._defaults[ name ];\n\t},\n\n\t/* Parse existing date and initialise date picker. */\n\t_setDateFromField: function( inst, noDefault ) {\n\t\tif ( inst.input.val() === inst.lastVal ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar dateFormat = this._get( inst, \"dateFormat\" ),\n\t\t\tdates = inst.lastVal = inst.input ? inst.input.val() : null,\n\t\t\tdefaultDate = this._getDefaultDate( inst ),\n\t\t\tdate = defaultDate,\n\t\t\tsettings = this._getFormatConfig( inst );\n\n\t\ttry {\n\t\t\tdate = this.parseDate( dateFormat, dates, settings ) || defaultDate;\n\t\t} catch ( event ) {\n\t\t\tdates = ( noDefault ? \"\" : dates );\n\t\t}\n\t\tinst.selectedDay = date.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\tinst.currentDay = ( dates ? date.getDate() : 0 );\n\t\tinst.currentMonth = ( dates ? date.getMonth() : 0 );\n\t\tinst.currentYear = ( dates ? date.getFullYear() : 0 );\n\t\tthis._adjustInstDate( inst );\n\t},\n\n\t/* Retrieve the default date shown on opening. */\n\t_getDefaultDate: function( inst ) {\n\t\treturn this._restrictMinMax( inst,\n\t\t\tthis._determineDate( inst, this._get( inst, \"defaultDate\" ), new Date() ) );\n\t},\n\n\t/* A date may be specified as an exact value or a relative one. */\n\t_determineDate: function( inst, date, defaultDate ) {\n\t\tvar offsetNumeric = function( offset ) {\n\t\t\t\tvar date = new Date();\n\t\t\t\tdate.setDate( date.getDate() + offset );\n\t\t\t\treturn date;\n\t\t\t},\n\t\t\toffsetString = function( offset ) {\n\t\t\t\ttry {\n\t\t\t\t\treturn $.datepicker.parseDate( $.datepicker._get( inst, \"dateFormat\" ),\n\t\t\t\t\t\toffset, $.datepicker._getFormatConfig( inst ) );\n\t\t\t\t}\n\t\t\t\tcatch ( e ) {\n\n\t\t\t\t\t// Ignore\n\t\t\t\t}\n\n\t\t\t\tvar date = ( offset.toLowerCase().match( /^c/ ) ?\n\t\t\t\t\t$.datepicker._getDate( inst ) : null ) || new Date(),\n\t\t\t\t\tyear = date.getFullYear(),\n\t\t\t\t\tmonth = date.getMonth(),\n\t\t\t\t\tday = date.getDate(),\n\t\t\t\t\tpattern = /([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,\n\t\t\t\t\tmatches = pattern.exec( offset );\n\n\t\t\t\twhile ( matches ) {\n\t\t\t\t\tswitch ( matches[ 2 ] || \"d\" ) {\n\t\t\t\t\t\tcase \"d\" : case \"D\" :\n\t\t\t\t\t\t\tday += parseInt( matches[ 1 ], 10 ); break;\n\t\t\t\t\t\tcase \"w\" : case \"W\" :\n\t\t\t\t\t\t\tday += parseInt( matches[ 1 ], 10 ) * 7; break;\n\t\t\t\t\t\tcase \"m\" : case \"M\" :\n\t\t\t\t\t\t\tmonth += parseInt( matches[ 1 ], 10 );\n\t\t\t\t\t\t\tday = Math.min( day, $.datepicker._getDaysInMonth( year, month ) );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"y\": case \"Y\" :\n\t\t\t\t\t\t\tyear += parseInt( matches[ 1 ], 10 );\n\t\t\t\t\t\t\tday = Math.min( day, $.datepicker._getDaysInMonth( year, month ) );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmatches = pattern.exec( offset );\n\t\t\t\t}\n\t\t\t\treturn new Date( year, month, day );\n\t\t\t},\n\t\t\tnewDate = ( date == null || date === \"\" ? defaultDate : ( typeof date === \"string\" ? offsetString( date ) :\n\t\t\t\t( typeof date === \"number\" ? ( isNaN( date ) ? defaultDate : offsetNumeric( date ) ) : new Date( date.getTime() ) ) ) );\n\n\t\tnewDate = ( newDate && newDate.toString() === \"Invalid Date\" ? defaultDate : newDate );\n\t\tif ( newDate ) {\n\t\t\tnewDate.setHours( 0 );\n\t\t\tnewDate.setMinutes( 0 );\n\t\t\tnewDate.setSeconds( 0 );\n\t\t\tnewDate.setMilliseconds( 0 );\n\t\t}\n\t\treturn this._daylightSavingAdjust( newDate );\n\t},\n\n\t/* Handle switch to/from daylight saving.\n\t * Hours may be non-zero on daylight saving cut-over:\n\t * > 12 when midnight changeover, but then cannot generate\n\t * midnight datetime, so jump to 1AM, otherwise reset.\n\t * @param  date  (Date) the date to check\n\t * @return  (Date) the corrected date\n\t */\n\t_daylightSavingAdjust: function( date ) {\n\t\tif ( !date ) {\n\t\t\treturn null;\n\t\t}\n\t\tdate.setHours( date.getHours() > 12 ? date.getHours() + 2 : 0 );\n\t\treturn date;\n\t},\n\n\t/* Set the date(s) directly. */\n\t_setDate: function( inst, date, noChange ) {\n\t\tvar clear = !date,\n\t\t\torigMonth = inst.selectedMonth,\n\t\t\torigYear = inst.selectedYear,\n\t\t\tnewDate = this._restrictMinMax( inst, this._determineDate( inst, date, new Date() ) );\n\n\t\tinst.selectedDay = inst.currentDay = newDate.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();\n\t\tinst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();\n\t\tif ( ( origMonth !== inst.selectedMonth || origYear !== inst.selectedYear ) && !noChange ) {\n\t\t\tthis._notifyChange( inst );\n\t\t}\n\t\tthis._adjustInstDate( inst );\n\t\tif ( inst.input ) {\n\t\t\tinst.input.val( clear ? \"\" : this._formatDate( inst ) );\n\t\t}\n\t},\n\n\t/* Retrieve the date(s) directly. */\n\t_getDate: function( inst ) {\n\t\tvar startDate = ( !inst.currentYear || ( inst.input && inst.input.val() === \"\" ) ? null :\n\t\t\tthis._daylightSavingAdjust( new Date(\n\t\t\tinst.currentYear, inst.currentMonth, inst.currentDay ) ) );\n\t\t\treturn startDate;\n\t},\n\n\t/* Attach the onxxx handlers.  These are declared statically so\n\t * they work with static code transformers like Caja.\n\t */\n\t_attachHandlers: function( inst ) {\n\t\tvar stepMonths = this._get( inst, \"stepMonths\" ),\n\t\t\tid = \"#\" + inst.id.replace( /\\\\\\\\/g, \"\\\\\" );\n\t\tinst.dpDiv.find( \"[data-handler]\" ).map( function() {\n\t\t\tvar handler = {\n\t\t\t\tprev: function() {\n\t\t\t\t\t$.datepicker._adjustDate( id, -stepMonths, \"M\" );\n\t\t\t\t},\n\t\t\t\tnext: function() {\n\t\t\t\t\t$.datepicker._adjustDate( id, +stepMonths, \"M\" );\n\t\t\t\t},\n\t\t\t\thide: function() {\n\t\t\t\t\t$.datepicker._hideDatepicker();\n\t\t\t\t},\n\t\t\t\ttoday: function() {\n\t\t\t\t\t$.datepicker._gotoToday( id );\n\t\t\t\t},\n\t\t\t\tselectDay: function() {\n\t\t\t\t\t$.datepicker._selectDay( id, +this.getAttribute( \"data-month\" ), +this.getAttribute( \"data-year\" ), this );\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tselectMonth: function() {\n\t\t\t\t\t$.datepicker._selectMonthYear( id, this, \"M\" );\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tselectYear: function() {\n\t\t\t\t\t$.datepicker._selectMonthYear( id, this, \"Y\" );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\t\t\t$( this ).on( this.getAttribute( \"data-event\" ), handler[ this.getAttribute( \"data-handler\" ) ] );\n\t\t} );\n\t},\n\n\t/* Generate the HTML for the current state of the date picker. */\n\t_generateHTML: function( inst ) {\n\t\tvar maxDraw, prevText, prev, nextText, next, currentText, gotoDate,\n\t\t\tcontrols, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,\n\t\t\tmonthNames, monthNamesShort, beforeShowDay, showOtherMonths,\n\t\t\tselectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,\n\t\t\tcornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,\n\t\t\tprintDate, dRow, tbody, daySettings, otherMonth, unselectable,\n\t\t\ttempDate = new Date(),\n\t\t\ttoday = this._daylightSavingAdjust(\n\t\t\t\tnew Date( tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate() ) ), // clear time\n\t\t\tisRTL = this._get( inst, \"isRTL\" ),\n\t\t\tshowButtonPanel = this._get( inst, \"showButtonPanel\" ),\n\t\t\thideIfNoPrevNext = this._get( inst, \"hideIfNoPrevNext\" ),\n\t\t\tnavigationAsDateFormat = this._get( inst, \"navigationAsDateFormat\" ),\n\t\t\tnumMonths = this._getNumberOfMonths( inst ),\n\t\t\tshowCurrentAtPos = this._get( inst, \"showCurrentAtPos\" ),\n\t\t\tstepMonths = this._get( inst, \"stepMonths\" ),\n\t\t\tisMultiMonth = ( numMonths[ 0 ] !== 1 || numMonths[ 1 ] !== 1 ),\n\t\t\tcurrentDate = this._daylightSavingAdjust( ( !inst.currentDay ? new Date( 9999, 9, 9 ) :\n\t\t\t\tnew Date( inst.currentYear, inst.currentMonth, inst.currentDay ) ) ),\n\t\t\tminDate = this._getMinMaxDate( inst, \"min\" ),\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" ),\n\t\t\tdrawMonth = inst.drawMonth - showCurrentAtPos,\n\t\t\tdrawYear = inst.drawYear;\n\n\t\tif ( drawMonth < 0 ) {\n\t\t\tdrawMonth += 12;\n\t\t\tdrawYear--;\n\t\t}\n\t\tif ( maxDate ) {\n\t\t\tmaxDraw = this._daylightSavingAdjust( new Date( maxDate.getFullYear(),\n\t\t\t\tmaxDate.getMonth() - ( numMonths[ 0 ] * numMonths[ 1 ] ) + 1, maxDate.getDate() ) );\n\t\t\tmaxDraw = ( minDate && maxDraw < minDate ? minDate : maxDraw );\n\t\t\twhile ( this._daylightSavingAdjust( new Date( drawYear, drawMonth, 1 ) ) > maxDraw ) {\n\t\t\t\tdrawMonth--;\n\t\t\t\tif ( drawMonth < 0 ) {\n\t\t\t\t\tdrawMonth = 11;\n\t\t\t\t\tdrawYear--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tinst.drawMonth = drawMonth;\n\t\tinst.drawYear = drawYear;\n\n\t\tprevText = this._get( inst, \"prevText\" );\n\t\tprevText = ( !navigationAsDateFormat ? prevText : this.formatDate( prevText,\n\t\t\tthis._daylightSavingAdjust( new Date( drawYear, drawMonth - stepMonths, 1 ) ),\n\t\t\tthis._getFormatConfig( inst ) ) );\n\n\t\tprev = ( this._canAdjustMonth( inst, -1, drawYear, drawMonth ) ?\n\t\t\t\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'\" +\n\t\t\t\" title='\" + prevText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"e\" : \"w\" ) + \"'>\" + prevText + \"</span></a>\" :\n\t\t\t( hideIfNoPrevNext ? \"\" : \"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\" + prevText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"e\" : \"w\" ) + \"'>\" + prevText + \"</span></a>\" ) );\n\n\t\tnextText = this._get( inst, \"nextText\" );\n\t\tnextText = ( !navigationAsDateFormat ? nextText : this.formatDate( nextText,\n\t\t\tthis._daylightSavingAdjust( new Date( drawYear, drawMonth + stepMonths, 1 ) ),\n\t\t\tthis._getFormatConfig( inst ) ) );\n\n\t\tnext = ( this._canAdjustMonth( inst, +1, drawYear, drawMonth ) ?\n\t\t\t\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'\" +\n\t\t\t\" title='\" + nextText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"w\" : \"e\" ) + \"'>\" + nextText + \"</span></a>\" :\n\t\t\t( hideIfNoPrevNext ? \"\" : \"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\" + nextText + \"'><span class='ui-icon ui-icon-circle-triangle-\" + ( isRTL ? \"w\" : \"e\" ) + \"'>\" + nextText + \"</span></a>\" ) );\n\n\t\tcurrentText = this._get( inst, \"currentText\" );\n\t\tgotoDate = ( this._get( inst, \"gotoCurrent\" ) && inst.currentDay ? currentDate : today );\n\t\tcurrentText = ( !navigationAsDateFormat ? currentText :\n\t\t\tthis.formatDate( currentText, gotoDate, this._getFormatConfig( inst ) ) );\n\n\t\tcontrols = ( !inst.inline ? \"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\" +\n\t\t\tthis._get( inst, \"closeText\" ) + \"</button>\" : \"\" );\n\n\t\tbuttonPanel = ( showButtonPanel ) ? \"<div class='ui-datepicker-buttonpane ui-widget-content'>\" + ( isRTL ? controls : \"\" ) +\n\t\t\t( this._isInRange( inst, gotoDate ) ? \"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'\" +\n\t\t\t\">\" + currentText + \"</button>\" : \"\" ) + ( isRTL ? \"\" : controls ) + \"</div>\" : \"\";\n\n\t\tfirstDay = parseInt( this._get( inst, \"firstDay\" ), 10 );\n\t\tfirstDay = ( isNaN( firstDay ) ? 0 : firstDay );\n\n\t\tshowWeek = this._get( inst, \"showWeek\" );\n\t\tdayNames = this._get( inst, \"dayNames\" );\n\t\tdayNamesMin = this._get( inst, \"dayNamesMin\" );\n\t\tmonthNames = this._get( inst, \"monthNames\" );\n\t\tmonthNamesShort = this._get( inst, \"monthNamesShort\" );\n\t\tbeforeShowDay = this._get( inst, \"beforeShowDay\" );\n\t\tshowOtherMonths = this._get( inst, \"showOtherMonths\" );\n\t\tselectOtherMonths = this._get( inst, \"selectOtherMonths\" );\n\t\tdefaultDate = this._getDefaultDate( inst );\n\t\thtml = \"\";\n\n\t\tfor ( row = 0; row < numMonths[ 0 ]; row++ ) {\n\t\t\tgroup = \"\";\n\t\t\tthis.maxRows = 4;\n\t\t\tfor ( col = 0; col < numMonths[ 1 ]; col++ ) {\n\t\t\t\tselectedDate = this._daylightSavingAdjust( new Date( drawYear, drawMonth, inst.selectedDay ) );\n\t\t\t\tcornerClass = \" ui-corner-all\";\n\t\t\t\tcalender = \"\";\n\t\t\t\tif ( isMultiMonth ) {\n\t\t\t\t\tcalender += \"<div class='ui-datepicker-group\";\n\t\t\t\t\tif ( numMonths[ 1 ] > 1 ) {\n\t\t\t\t\t\tswitch ( col ) {\n\t\t\t\t\t\t\tcase 0: calender += \" ui-datepicker-group-first\";\n\t\t\t\t\t\t\t\tcornerClass = \" ui-corner-\" + ( isRTL ? \"right\" : \"left\" ); break;\n\t\t\t\t\t\t\tcase numMonths[ 1 ] - 1: calender += \" ui-datepicker-group-last\";\n\t\t\t\t\t\t\t\tcornerClass = \" ui-corner-\" + ( isRTL ? \"left\" : \"right\" ); break;\n\t\t\t\t\t\t\tdefault: calender += \" ui-datepicker-group-middle\"; cornerClass = \"\"; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcalender += \"'>\";\n\t\t\t\t}\n\t\t\t\tcalender += \"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\" + cornerClass + \"'>\" +\n\t\t\t\t\t( /all|left/.test( cornerClass ) && row === 0 ? ( isRTL ? next : prev ) : \"\" ) +\n\t\t\t\t\t( /all|right/.test( cornerClass ) && row === 0 ? ( isRTL ? prev : next ) : \"\" ) +\n\t\t\t\t\tthis._generateMonthYearHeader( inst, drawMonth, drawYear, minDate, maxDate,\n\t\t\t\t\trow > 0 || col > 0, monthNames, monthNamesShort ) + // draw month headers\n\t\t\t\t\t\"</div><table class='ui-datepicker-calendar'><thead>\" +\n\t\t\t\t\t\"<tr>\";\n\t\t\t\tthead = ( showWeek ? \"<th class='ui-datepicker-week-col'>\" + this._get( inst, \"weekHeader\" ) + \"</th>\" : \"\" );\n\t\t\t\tfor ( dow = 0; dow < 7; dow++ ) { // days of the week\n\t\t\t\t\tday = ( dow + firstDay ) % 7;\n\t\t\t\t\tthead += \"<th scope='col'\" + ( ( dow + firstDay + 6 ) % 7 >= 5 ? \" class='ui-datepicker-week-end'\" : \"\" ) + \">\" +\n\t\t\t\t\t\t\"<span title='\" + dayNames[ day ] + \"'>\" + dayNamesMin[ day ] + \"</span></th>\";\n\t\t\t\t}\n\t\t\t\tcalender += thead + \"</tr></thead><tbody>\";\n\t\t\t\tdaysInMonth = this._getDaysInMonth( drawYear, drawMonth );\n\t\t\t\tif ( drawYear === inst.selectedYear && drawMonth === inst.selectedMonth ) {\n\t\t\t\t\tinst.selectedDay = Math.min( inst.selectedDay, daysInMonth );\n\t\t\t\t}\n\t\t\t\tleadDays = ( this._getFirstDayOfMonth( drawYear, drawMonth ) - firstDay + 7 ) % 7;\n\t\t\t\tcurRows = Math.ceil( ( leadDays + daysInMonth ) / 7 ); // calculate the number of rows to generate\n\t\t\t\tnumRows = ( isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows ); //If multiple months, use the higher number of rows (see #7043)\n\t\t\t\tthis.maxRows = numRows;\n\t\t\t\tprintDate = this._daylightSavingAdjust( new Date( drawYear, drawMonth, 1 - leadDays ) );\n\t\t\t\tfor ( dRow = 0; dRow < numRows; dRow++ ) { // create date picker rows\n\t\t\t\t\tcalender += \"<tr>\";\n\t\t\t\t\ttbody = ( !showWeek ? \"\" : \"<td class='ui-datepicker-week-col'>\" +\n\t\t\t\t\t\tthis._get( inst, \"calculateWeek\" )( printDate ) + \"</td>\" );\n\t\t\t\t\tfor ( dow = 0; dow < 7; dow++ ) { // create date picker days\n\t\t\t\t\t\tdaySettings = ( beforeShowDay ?\n\t\t\t\t\t\t\tbeforeShowDay.apply( ( inst.input ? inst.input[ 0 ] : null ), [ printDate ] ) : [ true, \"\" ] );\n\t\t\t\t\t\totherMonth = ( printDate.getMonth() !== drawMonth );\n\t\t\t\t\t\tunselectable = ( otherMonth && !selectOtherMonths ) || !daySettings[ 0 ] ||\n\t\t\t\t\t\t\t( minDate && printDate < minDate ) || ( maxDate && printDate > maxDate );\n\t\t\t\t\t\ttbody += \"<td class='\" +\n\t\t\t\t\t\t\t( ( dow + firstDay + 6 ) % 7 >= 5 ? \" ui-datepicker-week-end\" : \"\" ) + // highlight weekends\n\t\t\t\t\t\t\t( otherMonth ? \" ui-datepicker-other-month\" : \"\" ) + // highlight days from other months\n\t\t\t\t\t\t\t( ( printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent ) || // user pressed key\n\t\t\t\t\t\t\t( defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime() ) ?\n\n\t\t\t\t\t\t\t// or defaultDate is current printedDate and defaultDate is selectedDate\n\t\t\t\t\t\t\t\" \" + this._dayOverClass : \"\" ) + // highlight selected day\n\t\t\t\t\t\t\t( unselectable ? \" \" + this._unselectableClass + \" ui-state-disabled\" : \"\" ) +  // highlight unselectable days\n\t\t\t\t\t\t\t( otherMonth && !showOtherMonths ? \"\" : \" \" + daySettings[ 1 ] + // highlight custom dates\n\t\t\t\t\t\t\t( printDate.getTime() === currentDate.getTime() ? \" \" + this._currentClass : \"\" ) + // highlight selected day\n\t\t\t\t\t\t\t( printDate.getTime() === today.getTime() ? \" ui-datepicker-today\" : \"\" ) ) + \"'\" + // highlight today (if different)\n\t\t\t\t\t\t\t( ( !otherMonth || showOtherMonths ) && daySettings[ 2 ] ? \" title='\" + daySettings[ 2 ].replace( /'/g, \"&#39;\" ) + \"'\" : \"\" ) + // cell title\n\t\t\t\t\t\t\t( unselectable ? \"\" : \" data-handler='selectDay' data-event='click' data-month='\" + printDate.getMonth() + \"' data-year='\" + printDate.getFullYear() + \"'\" ) + \">\" + // actions\n\t\t\t\t\t\t\t( otherMonth && !showOtherMonths ? \"&#xa0;\" : // display for other months\n\t\t\t\t\t\t\t( unselectable ? \"<span class='ui-state-default'>\" + printDate.getDate() + \"</span>\" : \"<a class='ui-state-default\" +\n\t\t\t\t\t\t\t( printDate.getTime() === today.getTime() ? \" ui-state-highlight\" : \"\" ) +\n\t\t\t\t\t\t\t( printDate.getTime() === currentDate.getTime() ? \" ui-state-active\" : \"\" ) + // highlight selected day\n\t\t\t\t\t\t\t( otherMonth ? \" ui-priority-secondary\" : \"\" ) + // distinguish dates from other months\n\t\t\t\t\t\t\t\"' href='#'>\" + printDate.getDate() + \"</a>\" ) ) + \"</td>\"; // display selectable date\n\t\t\t\t\t\tprintDate.setDate( printDate.getDate() + 1 );\n\t\t\t\t\t\tprintDate = this._daylightSavingAdjust( printDate );\n\t\t\t\t\t}\n\t\t\t\t\tcalender += tbody + \"</tr>\";\n\t\t\t\t}\n\t\t\t\tdrawMonth++;\n\t\t\t\tif ( drawMonth > 11 ) {\n\t\t\t\t\tdrawMonth = 0;\n\t\t\t\t\tdrawYear++;\n\t\t\t\t}\n\t\t\t\tcalender += \"</tbody></table>\" + ( isMultiMonth ? \"</div>\" +\n\t\t\t\t\t\t\t( ( numMonths[ 0 ] > 0 && col === numMonths[ 1 ] - 1 ) ? \"<div class='ui-datepicker-row-break'></div>\" : \"\" ) : \"\" );\n\t\t\t\tgroup += calender;\n\t\t\t}\n\t\t\thtml += group;\n\t\t}\n\t\thtml += buttonPanel;\n\t\tinst._keyEvent = false;\n\t\treturn html;\n\t},\n\n\t/* Generate the month and year header. */\n\t_generateMonthYearHeader: function( inst, drawMonth, drawYear, minDate, maxDate,\n\t\t\tsecondary, monthNames, monthNamesShort ) {\n\n\t\tvar inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,\n\t\t\tchangeMonth = this._get( inst, \"changeMonth\" ),\n\t\t\tchangeYear = this._get( inst, \"changeYear\" ),\n\t\t\tshowMonthAfterYear = this._get( inst, \"showMonthAfterYear\" ),\n\t\t\thtml = \"<div class='ui-datepicker-title'>\",\n\t\t\tmonthHtml = \"\";\n\n\t\t// Month selection\n\t\tif ( secondary || !changeMonth ) {\n\t\t\tmonthHtml += \"<span class='ui-datepicker-month'>\" + monthNames[ drawMonth ] + \"</span>\";\n\t\t} else {\n\t\t\tinMinYear = ( minDate && minDate.getFullYear() === drawYear );\n\t\t\tinMaxYear = ( maxDate && maxDate.getFullYear() === drawYear );\n\t\t\tmonthHtml += \"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\";\n\t\t\tfor ( month = 0; month < 12; month++ ) {\n\t\t\t\tif ( ( !inMinYear || month >= minDate.getMonth() ) && ( !inMaxYear || month <= maxDate.getMonth() ) ) {\n\t\t\t\t\tmonthHtml += \"<option value='\" + month + \"'\" +\n\t\t\t\t\t\t( month === drawMonth ? \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + monthNamesShort[ month ] + \"</option>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tmonthHtml += \"</select>\";\n\t\t}\n\n\t\tif ( !showMonthAfterYear ) {\n\t\t\thtml += monthHtml + ( secondary || !( changeMonth && changeYear ) ? \"&#xa0;\" : \"\" );\n\t\t}\n\n\t\t// Year selection\n\t\tif ( !inst.yearshtml ) {\n\t\t\tinst.yearshtml = \"\";\n\t\t\tif ( secondary || !changeYear ) {\n\t\t\t\thtml += \"<span class='ui-datepicker-year'>\" + drawYear + \"</span>\";\n\t\t\t} else {\n\n\t\t\t\t// determine range of years to display\n\t\t\t\tyears = this._get( inst, \"yearRange\" ).split( \":\" );\n\t\t\t\tthisYear = new Date().getFullYear();\n\t\t\t\tdetermineYear = function( value ) {\n\t\t\t\t\tvar year = ( value.match( /c[+\\-].*/ ) ? drawYear + parseInt( value.substring( 1 ), 10 ) :\n\t\t\t\t\t\t( value.match( /[+\\-].*/ ) ? thisYear + parseInt( value, 10 ) :\n\t\t\t\t\t\tparseInt( value, 10 ) ) );\n\t\t\t\t\treturn ( isNaN( year ) ? thisYear : year );\n\t\t\t\t};\n\t\t\t\tyear = determineYear( years[ 0 ] );\n\t\t\t\tendYear = Math.max( year, determineYear( years[ 1 ] || \"\" ) );\n\t\t\t\tyear = ( minDate ? Math.max( year, minDate.getFullYear() ) : year );\n\t\t\t\tendYear = ( maxDate ? Math.min( endYear, maxDate.getFullYear() ) : endYear );\n\t\t\t\tinst.yearshtml += \"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\";\n\t\t\t\tfor ( ; year <= endYear; year++ ) {\n\t\t\t\t\tinst.yearshtml += \"<option value='\" + year + \"'\" +\n\t\t\t\t\t\t( year === drawYear ? \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + year + \"</option>\";\n\t\t\t\t}\n\t\t\t\tinst.yearshtml += \"</select>\";\n\n\t\t\t\thtml += inst.yearshtml;\n\t\t\t\tinst.yearshtml = null;\n\t\t\t}\n\t\t}\n\n\t\thtml += this._get( inst, \"yearSuffix\" );\n\t\tif ( showMonthAfterYear ) {\n\t\t\thtml += ( secondary || !( changeMonth && changeYear ) ? \"&#xa0;\" : \"\" ) + monthHtml;\n\t\t}\n\t\thtml += \"</div>\"; // Close datepicker_header\n\t\treturn html;\n\t},\n\n\t/* Adjust one of the date sub-fields. */\n\t_adjustInstDate: function( inst, offset, period ) {\n\t\tvar year = inst.selectedYear + ( period === \"Y\" ? offset : 0 ),\n\t\t\tmonth = inst.selectedMonth + ( period === \"M\" ? offset : 0 ),\n\t\t\tday = Math.min( inst.selectedDay, this._getDaysInMonth( year, month ) ) + ( period === \"D\" ? offset : 0 ),\n\t\t\tdate = this._restrictMinMax( inst, this._daylightSavingAdjust( new Date( year, month, day ) ) );\n\n\t\tinst.selectedDay = date.getDate();\n\t\tinst.drawMonth = inst.selectedMonth = date.getMonth();\n\t\tinst.drawYear = inst.selectedYear = date.getFullYear();\n\t\tif ( period === \"M\" || period === \"Y\" ) {\n\t\t\tthis._notifyChange( inst );\n\t\t}\n\t},\n\n\t/* Ensure a date is within any min/max bounds. */\n\t_restrictMinMax: function( inst, date ) {\n\t\tvar minDate = this._getMinMaxDate( inst, \"min\" ),\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" ),\n\t\t\tnewDate = ( minDate && date < minDate ? minDate : date );\n\t\treturn ( maxDate && newDate > maxDate ? maxDate : newDate );\n\t},\n\n\t/* Notify change of month/year. */\n\t_notifyChange: function( inst ) {\n\t\tvar onChange = this._get( inst, \"onChangeMonthYear\" );\n\t\tif ( onChange ) {\n\t\t\tonChange.apply( ( inst.input ? inst.input[ 0 ] : null ),\n\t\t\t\t[ inst.selectedYear, inst.selectedMonth + 1, inst ] );\n\t\t}\n\t},\n\n\t/* Determine the number of months to show. */\n\t_getNumberOfMonths: function( inst ) {\n\t\tvar numMonths = this._get( inst, \"numberOfMonths\" );\n\t\treturn ( numMonths == null ? [ 1, 1 ] : ( typeof numMonths === \"number\" ? [ 1, numMonths ] : numMonths ) );\n\t},\n\n\t/* Determine the current maximum date - ensure no time components are set. */\n\t_getMinMaxDate: function( inst, minMax ) {\n\t\treturn this._determineDate( inst, this._get( inst, minMax + \"Date\" ), null );\n\t},\n\n\t/* Find the number of days in a given month. */\n\t_getDaysInMonth: function( year, month ) {\n\t\treturn 32 - this._daylightSavingAdjust( new Date( year, month, 32 ) ).getDate();\n\t},\n\n\t/* Find the day of the week of the first of a month. */\n\t_getFirstDayOfMonth: function( year, month ) {\n\t\treturn new Date( year, month, 1 ).getDay();\n\t},\n\n\t/* Determines if we should allow a \"next/prev\" month display change. */\n\t_canAdjustMonth: function( inst, offset, curYear, curMonth ) {\n\t\tvar numMonths = this._getNumberOfMonths( inst ),\n\t\t\tdate = this._daylightSavingAdjust( new Date( curYear,\n\t\t\tcurMonth + ( offset < 0 ? offset : numMonths[ 0 ] * numMonths[ 1 ] ), 1 ) );\n\n\t\tif ( offset < 0 ) {\n\t\t\tdate.setDate( this._getDaysInMonth( date.getFullYear(), date.getMonth() ) );\n\t\t}\n\t\treturn this._isInRange( inst, date );\n\t},\n\n\t/* Is the given date in the accepted range? */\n\t_isInRange: function( inst, date ) {\n\t\tvar yearSplit, currentYear,\n\t\t\tminDate = this._getMinMaxDate( inst, \"min\" ),\n\t\t\tmaxDate = this._getMinMaxDate( inst, \"max\" ),\n\t\t\tminYear = null,\n\t\t\tmaxYear = null,\n\t\t\tyears = this._get( inst, \"yearRange\" );\n\t\t\tif ( years ) {\n\t\t\t\tyearSplit = years.split( \":\" );\n\t\t\t\tcurrentYear = new Date().getFullYear();\n\t\t\t\tminYear = parseInt( yearSplit[ 0 ], 10 );\n\t\t\t\tmaxYear = parseInt( yearSplit[ 1 ], 10 );\n\t\t\t\tif ( yearSplit[ 0 ].match( /[+\\-].*/ ) ) {\n\t\t\t\t\tminYear += currentYear;\n\t\t\t\t}\n\t\t\t\tif ( yearSplit[ 1 ].match( /[+\\-].*/ ) ) {\n\t\t\t\t\tmaxYear += currentYear;\n\t\t\t\t}\n\t\t\t}\n\n\t\treturn ( ( !minDate || date.getTime() >= minDate.getTime() ) &&\n\t\t\t( !maxDate || date.getTime() <= maxDate.getTime() ) &&\n\t\t\t( !minYear || date.getFullYear() >= minYear ) &&\n\t\t\t( !maxYear || date.getFullYear() <= maxYear ) );\n\t},\n\n\t/* Provide the configuration settings for formatting/parsing. */\n\t_getFormatConfig: function( inst ) {\n\t\tvar shortYearCutoff = this._get( inst, \"shortYearCutoff\" );\n\t\tshortYearCutoff = ( typeof shortYearCutoff !== \"string\" ? shortYearCutoff :\n\t\t\tnew Date().getFullYear() % 100 + parseInt( shortYearCutoff, 10 ) );\n\t\treturn { shortYearCutoff: shortYearCutoff,\n\t\t\tdayNamesShort: this._get( inst, \"dayNamesShort\" ), dayNames: this._get( inst, \"dayNames\" ),\n\t\t\tmonthNamesShort: this._get( inst, \"monthNamesShort\" ), monthNames: this._get( inst, \"monthNames\" ) };\n\t},\n\n\t/* Format the given date for display. */\n\t_formatDate: function( inst, day, month, year ) {\n\t\tif ( !day ) {\n\t\t\tinst.currentDay = inst.selectedDay;\n\t\t\tinst.currentMonth = inst.selectedMonth;\n\t\t\tinst.currentYear = inst.selectedYear;\n\t\t}\n\t\tvar date = ( day ? ( typeof day === \"object\" ? day :\n\t\t\tthis._daylightSavingAdjust( new Date( year, month, day ) ) ) :\n\t\t\tthis._daylightSavingAdjust( new Date( inst.currentYear, inst.currentMonth, inst.currentDay ) ) );\n\t\treturn this.formatDate( this._get( inst, \"dateFormat\" ), date, this._getFormatConfig( inst ) );\n\t}\n} );\n\n/*\n * Bind hover events for datepicker elements.\n * Done via delegate so the binding only occurs once in the lifetime of the parent div.\n * Global datepicker_instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.\n */\nfunction datepicker_bindHover( dpDiv ) {\n\tvar selector = \"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";\n\treturn dpDiv.on( \"mouseout\", selector, function() {\n\t\t\t$( this ).removeClass( \"ui-state-hover\" );\n\t\t\tif ( this.className.indexOf( \"ui-datepicker-prev\" ) !== -1 ) {\n\t\t\t\t$( this ).removeClass( \"ui-datepicker-prev-hover\" );\n\t\t\t}\n\t\t\tif ( this.className.indexOf( \"ui-datepicker-next\" ) !== -1 ) {\n\t\t\t\t$( this ).removeClass( \"ui-datepicker-next-hover\" );\n\t\t\t}\n\t\t} )\n\t\t.on( \"mouseover\", selector, datepicker_handleMouseover );\n}\n\nfunction datepicker_handleMouseover() {\n\tif ( !$.datepicker._isDisabledDatepicker( datepicker_instActive.inline ? datepicker_instActive.dpDiv.parent()[ 0 ] : datepicker_instActive.input[ 0 ] ) ) {\n\t\t$( this ).parents( \".ui-datepicker-calendar\" ).find( \"a\" ).removeClass( \"ui-state-hover\" );\n\t\t$( this ).addClass( \"ui-state-hover\" );\n\t\tif ( this.className.indexOf( \"ui-datepicker-prev\" ) !== -1 ) {\n\t\t\t$( this ).addClass( \"ui-datepicker-prev-hover\" );\n\t\t}\n\t\tif ( this.className.indexOf( \"ui-datepicker-next\" ) !== -1 ) {\n\t\t\t$( this ).addClass( \"ui-datepicker-next-hover\" );\n\t\t}\n\t}\n}\n\n/* jQuery extend now ignores nulls! */\nfunction datepicker_extendRemove( target, props ) {\n\t$.extend( target, props );\n\tfor ( var name in props ) {\n\t\tif ( props[ name ] == null ) {\n\t\t\ttarget[ name ] = props[ name ];\n\t\t}\n\t}\n\treturn target;\n}\n\n/* Invoke the datepicker functionality.\n   @param  options  string - a command, optionally followed by additional parameters or\n\t\t\t\t\tObject - settings for attaching new datepicker functionality\n   @return  jQuery object */\n$.fn.datepicker = function( options ) {\n\n\t/* Verify an empty collection wasn't passed - Fixes #6976 */\n\tif ( !this.length ) {\n\t\treturn this;\n\t}\n\n\t/* Initialise the date picker. */\n\tif ( !$.datepicker.initialized ) {\n\t\t$( document ).on( \"mousedown\", $.datepicker._checkExternalClick );\n\t\t$.datepicker.initialized = true;\n\t}\n\n\t/* Append datepicker main container to body if not exist. */\n\tif ( $( \"#\" + $.datepicker._mainDivId ).length === 0 ) {\n\t\t$( \"body\" ).append( $.datepicker.dpDiv );\n\t}\n\n\tvar otherArgs = Array.prototype.slice.call( arguments, 1 );\n\tif ( typeof options === \"string\" && ( options === \"isDisabled\" || options === \"getDate\" || options === \"widget\" ) ) {\n\t\treturn $.datepicker[ \"_\" + options + \"Datepicker\" ].\n\t\t\tapply( $.datepicker, [ this[ 0 ] ].concat( otherArgs ) );\n\t}\n\tif ( options === \"option\" && arguments.length === 2 && typeof arguments[ 1 ] === \"string\" ) {\n\t\treturn $.datepicker[ \"_\" + options + \"Datepicker\" ].\n\t\t\tapply( $.datepicker, [ this[ 0 ] ].concat( otherArgs ) );\n\t}\n\treturn this.each( function() {\n\t\ttypeof options === \"string\" ?\n\t\t\t$.datepicker[ \"_\" + options + \"Datepicker\" ].\n\t\t\t\tapply( $.datepicker, [ this ].concat( otherArgs ) ) :\n\t\t\t$.datepicker._attachDatepicker( this, options );\n\t} );\n};\n\n$.datepicker = new Datepicker(); // singleton instance\n$.datepicker.initialized = false;\n$.datepicker.uuid = new Date().getTime();\n$.datepicker.version = \"1.12.1\";\n\nreturn $.datepicker;\n\n} ) );\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jquery-ui/ui/widgets/datepicker.js\n// module id = 321\n// module chunks = 0 26","/*!\n * jQuery UI Keycode 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Keycode\n//>>group: Core\n//>>description: Provide keycodes as keynames\n//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.keyCode = {\n\tBACKSPACE: 8,\n\tCOMMA: 188,\n\tDELETE: 46,\n\tDOWN: 40,\n\tEND: 35,\n\tENTER: 13,\n\tESCAPE: 27,\n\tHOME: 36,\n\tLEFT: 37,\n\tPAGE_DOWN: 34,\n\tPAGE_UP: 33,\n\tPERIOD: 190,\n\tRIGHT: 39,\n\tSPACE: 32,\n\tTAB: 9,\n\tUP: 38\n};\n\n} ) );\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jquery-ui/ui/keycode.js\n// module id = 322\n// module chunks = 0 26","/**\n * @module ngeo.draw.component\n */\nimport ngeoDrawController from 'ngeo/draw/Controller.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDrawPoint from 'ngeo/draw/point.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDrawRectangle from 'ngeo/draw/rectangle.js';\n\n/** @suppress {extraRequire} */\nimport ngeoDrawText from 'ngeo/draw/text.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMeasureArea from 'ngeo/measure/area.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMeasureAzimut from 'ngeo/measure/azimut.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMeasureLength from 'ngeo/measure/length.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDrawfeature', [\n  ngeoDrawController.module.name,\n  ngeoDrawPoint.name,\n  ngeoDrawRectangle.name,\n  ngeoDrawText.name,\n  ngeoMeasureArea.name,\n  ngeoMeasureAzimut.name,\n  ngeoMeasureLength.name,\n]);\n\n\n/**\n * Directive used to draw vector features on a map.\n * Example:\n *\n *     <ngeo-drawfeature\n *         ngeo-btn-group\n *         class=\"btn-group\"\n *         ngeo-drawfeature-active=\"ctrl.drawActive\"\n *         ngeo-drawfeature-map=\"::ctrl.map\">\n *       <a\n *         href\n *         translate\n *         ngeo-btn\n *         ngeo-drawpoint\n *         class=\"btn btn-default ngeo-drawfeature-point\"\n *         ng-class=\"{active: dfCtrl.drawPoint.active}\"\n *         ng-model=\"dfCtrl.drawPoint.active\"></a>\n *       <a\n *         href\n *         translate\n *         ngeo-btn\n *         ngeo-measurelength\n *         class=\"btn btn-default ngeo-drawfeature-linestring\"\n *         ng-class=\"{active: dfCtrl.measureLength.active}\"\n *         ng-model=\"dfCtrl.measureLength.active\"></a>\n *       <a\n *         href\n *         translate\n *         ngeo-btn\n *         ngeo-measurearea\n *         class=\"btn btn-default ngeo-drawfeature-polygon\"\n *         ng-class=\"{active: dfCtrl.measureArea.active}\"\n *         ng-model=\"dfCtrl.measureArea.active\"></a>\n *       <a\n *         href\n *         translate\n *         ngeo-btn\n *         ngeo-measureazimut\n *         class=\"btn btn-default ngeo-drawfeature-circle\"\n *         ng-class=\"{active: dfCtrl.measureAzimut.active}\"\n *         ng-model=\"dfCtrl.measureAzimut.active\"></a>\n *       <a\n *         href\n *         translate\n *         ngeo-btn\n *         ngeo-drawrectangle\n *         class=\"btn btn-default ngeo-drawfeature-rectangle\"\n *         ng-class=\"{active: dfCtrl.drawRectangle.active}\"\n *         ng-model=\"dfCtrl.drawRectangle.active\"></a>\n *       <a\n *         href\n *         translate\n *         ngeo-btn\n *         ngeo-drawtext\n *         class=\"btn btn-default ngeo-drawfeature-text\"\n *         ng-class=\"{active: dfCtrl.drawText.active}\"\n *         ng-model=\"dfCtrl.drawText.active\"></a>\n *     </ngeo-drawfeature>\n *\n * @htmlAttribute {boolean} ngeo-drawfeature-active Whether the directive is\n *     active or not.\n * @htmlAttribute {!ol.Collection=} ngeo-drawfeature-features The features\n *     collection in which to push the drawn features. If none is provided,\n *     then the `ngeoFeatures` collection is used.\n * @htmlAttribute {ol.Map} ngeo-drawfeature-map The map.\n * @htmlAttribute {boolean} ngeo-drawfeature-showmeasure. Checks the\n *      checkbox in order to display the feature measurements as a label.\n *      Default to false.\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawfeature\n */\nexports.directive_ = function() {\n  return {\n    controller: 'ngeoDrawfeatureController as dfCtrl',\n    scope: true,\n    bindToController: {\n      'active': '=ngeoDrawfeatureActive',\n      'features': '=?ngeoDrawfeatureFeatures',\n      'map': '=ngeoDrawfeatureMap',\n      'showMeasure': '=?ngeoDrawfeatureShowmeasure'\n    }\n  };\n};\n\nexports.directive('ngeoDrawfeature', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/component.js","/**\n * @module ngeo.draw.point\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport olEvents from 'ol/events.js';\nimport olInteractionDraw from 'ol/interaction/Draw.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDrawpoint', []);\n\n\n/**\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawpoint\n */\nexports.directive_ = function() {\n  return {\n    restrict: 'A',\n    require: '^^ngeoDrawfeature',\n    /**\n     * @param {!angular.Scope} $scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @param {ngeo.draw.Controller} drawFeatureCtrl Controller.\n     */\n    link: ($scope, element, attrs, drawFeatureCtrl) => {\n\n      const drawPoint = new olInteractionDraw({\n        type: /** @type {ol.geom.GeometryType} */ ('Point')\n      });\n\n      drawFeatureCtrl.registerInteraction(drawPoint);\n      drawFeatureCtrl.drawPoint = drawPoint;\n\n      olEvents.listen(\n        drawPoint,\n        'drawend',\n        drawFeatureCtrl.handleDrawEnd.bind(\n          drawFeatureCtrl, ngeoGeometryType.POINT),\n        drawFeatureCtrl\n      );\n      olEvents.listen(\n        drawPoint,\n        'change:active',\n        drawFeatureCtrl.handleActiveChange,\n        drawFeatureCtrl\n      );\n    }\n  };\n};\n\n\nexports.directive('ngeoDrawpoint', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/point.js","/**\n * @module ngeo.draw.rectangle\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport olEvents from 'ol/events.js';\nimport olInteractionDraw from 'ol/interaction/Draw.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDrawrectangle', []);\n\n\n/**\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawrectangle\n */\nexports.directive_ = function() {\n  return {\n    restrict: 'A',\n    require: '^^ngeoDrawfeature',\n    /**\n     * @param {!angular.Scope} $scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @param {ngeo.draw.Controller} drawFeatureCtrl Controller.\n     */\n    link: ($scope, element, attrs, drawFeatureCtrl) => {\n\n      const drawRectangle = new olInteractionDraw({\n        type: /** @type {ol.geom.GeometryType} */ ('LineString'),\n        geometryFunction: (coordinates, geometry) => {\n          if (!geometry) {\n            geometry = new olGeomPolygon(null);\n          }\n          const start = coordinates[0];\n          const end = coordinates[1];\n          geometry.setCoordinates([\n            [start, [start[0], end[1]], end, [end[0], start[1]], start]\n          ]);\n          return geometry;\n        },\n        maxPoints: 2\n      });\n\n      drawFeatureCtrl.registerInteraction(drawRectangle);\n      drawFeatureCtrl.drawRectangle = drawRectangle;\n\n      olEvents.listen(\n        drawRectangle,\n        'drawend',\n        drawFeatureCtrl.handleDrawEnd.bind(\n          drawFeatureCtrl, ngeoGeometryType.RECTANGLE),\n        drawFeatureCtrl\n      );\n      olEvents.listen(\n        drawRectangle,\n        'change:active',\n        drawFeatureCtrl.handleActiveChange,\n        drawFeatureCtrl\n      );\n    }\n  };\n};\n\n\nexports.directive('ngeoDrawrectangle', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/rectangle.js","/**\n * @module ngeo.draw.text\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport olEvents from 'ol/events.js';\nimport olInteractionDraw from 'ol/interaction/Draw.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDrawtext', []);\n\n\n/**\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawtext\n */\nexports.directive_ = function() {\n  return {\n    restrict: 'A',\n    require: '^^ngeoDrawfeature',\n    /**\n     * @param {!angular.Scope} $scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @param {ngeo.draw.Controller} drawFeatureCtrl Controller.\n     */\n    link: ($scope, element, attrs, drawFeatureCtrl) => {\n\n      const drawText = new olInteractionDraw({\n        type: /** @type {ol.geom.GeometryType} */ ('Point')\n      });\n\n      drawFeatureCtrl.registerInteraction(drawText);\n      drawFeatureCtrl.drawText = drawText;\n\n      olEvents.listen(\n        drawText,\n        'drawend',\n        drawFeatureCtrl.handleDrawEnd.bind(\n          drawFeatureCtrl, ngeoGeometryType.TEXT),\n        drawFeatureCtrl\n      );\n      olEvents.listen(\n        drawText,\n        'change:active',\n        drawFeatureCtrl.handleActiveChange,\n        drawFeatureCtrl\n      );\n    }\n  };\n};\n\n\nexports.directive('ngeoDrawtext', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/text.js","/**\n * @module ngeo.measure.area\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDrawController from 'ngeo/draw/Controller.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport ngeoInteractionMeasureArea from 'ngeo/interaction/MeasureArea.js';\nimport olEvents from 'ol/events.js';\nimport olStyleStyle from 'ol/style/Style.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoMeasurearea', [\n  ngeoDrawController.module.name\n]);\n\n\n/**\n * @param {!angular.$compile} $compile Angular compile service.\n * @param {!angularGettext.Catalog} gettextCatalog Gettext service.\n * @param {!angular.$filter} $filter Angular filter\n * @param {!angular.$injector} $injector Main injector.\n * @return {!angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawpoint\n */\nexports.directive_ = function($compile, gettextCatalog, $filter, $injector) {\n  return {\n    restrict: 'A',\n    require: '^^ngeoDrawfeature',\n    /**\n     * @param {!angular.Scope} $scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @param {ngeo.draw.Controller} drawFeatureCtrl Controller.\n     */\n    link: ($scope, element, attrs, drawFeatureCtrl) => {\n\n      const helpMsg = gettextCatalog.getString('Click to start drawing polygon');\n      const contMsg = gettextCatalog.getString('Click to continue drawing<br/>' +\n          'Double-click or click starting point to finish');\n\n      const measureArea = new ngeoInteractionMeasureArea($filter('ngeoUnitPrefix'), {\n        style: new olStyleStyle(),\n        startMsg: $compile(`<div translate>${helpMsg}</div>`)($scope)[0],\n        continueMsg: $compile(`<div translate>${contMsg}</div>`)($scope)[0],\n        precision: $injector.has('ngeoMeasurePrecision') ? $injector.get('ngeoMeasurePrecision') : undefined\n      });\n\n      drawFeatureCtrl.registerInteraction(measureArea);\n      drawFeatureCtrl.measureArea = measureArea;\n\n      olEvents.listen(\n        measureArea,\n        'measureend',\n        drawFeatureCtrl.handleDrawEnd.bind(\n          drawFeatureCtrl, ngeoGeometryType.POLYGON),\n        drawFeatureCtrl\n      );\n      olEvents.listen(\n        measureArea,\n        'change:active',\n        drawFeatureCtrl.handleActiveChange,\n        drawFeatureCtrl\n      );\n    }\n  };\n};\n\n\nexports.directive('ngeoMeasurearea', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/measure/area.js","/**\n * @module ngeo.measure.azimut\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDrawController from 'ngeo/draw/Controller.js';\nimport ngeoMiscFilters from 'ngeo/misc/filters.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport ngeoInteractionMeasureAzimut from 'ngeo/interaction/MeasureAzimut.js';\nimport olEvents from 'ol/events.js';\nimport olFeature from 'ol/Feature.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olStyleStyle from 'ol/style/Style.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoMeasureazimut', [\n  ngeoDrawController.module.name,\n  ngeoMiscFilters.name,\n]);\n\n\n/**\n * @param {!angular.$compile} $compile Angular compile service.\n * @param {!angularGettext.Catalog} gettextCatalog Gettext catalog.\n * @param {!angular.$filter} $filter Angular filter\n * @param {!angular.$injector} $injector Main injector.\n * @return {!angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawpoint\n */\nexports.directive_ = function($compile, gettextCatalog, $filter, $injector) {\n  return {\n    restrict: 'A',\n    require: '^^ngeoDrawfeature',\n    /**\n     * @param {!angular.Scope} $scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @param {ngeo.draw.Controller} drawFeatureCtrl Controller.\n     */\n    link: ($scope, element, attrs, drawFeatureCtrl) => {\n\n      const helpMsg = gettextCatalog.getString('Click to start drawing circle');\n      const contMsg = gettextCatalog.getString('Click to finish');\n\n      const measureAzimut = new ngeoInteractionMeasureAzimut(\n        $filter('ngeoUnitPrefix'), $filter('number'), {\n          style: new olStyleStyle(),\n          startMsg: $compile(`<div translate>${helpMsg}</div>`)($scope)[0],\n          continueMsg: $compile(`<div translate>${contMsg}</div>`)($scope)[0],\n          precision: $injector.has('ngeoMeasurePrecision') ? $injector.get('ngeoMeasurePrecision') : undefined,\n          decimals: $injector.has('ngeoMeasureDecimals') ? $injector.get('ngeoMeasureDecimals') : undefined\n        });\n\n      drawFeatureCtrl.registerInteraction(measureAzimut);\n      drawFeatureCtrl.measureAzimut = measureAzimut;\n\n      olEvents.listen(\n        measureAzimut,\n        'measureend',\n        /**\n         * @param {ngeox.MeasureEvent} event Event.\n         */\n        (event) => {\n          // In the case of azimut measure interaction, the feature's\n          // geometry is actually a collection (line + circle)\n          // For our purpose here, we only need the circle, which gets\n          // transformed into a polygon with 64 sides.\n          const geometry = /** @type {ol.geom.GeometryCollection} */\n                (event.detail.feature.getGeometry());\n          const circle = /** @type {ol.geom.Circle} */ (\n            geometry.getGeometries()[1]);\n          const polygon = olGeomPolygon.fromCircle(circle, 64);\n          event.feature = new olFeature(polygon);\n          const azimut = ngeoInteractionMeasureAzimut.getAzimut(\n            /** @type {ol.geom.LineString} */ (geometry.getGeometries()[0])\n          );\n          event.detail.feature.set('azimut', azimut);\n\n          drawFeatureCtrl.handleDrawEnd(ngeoGeometryType.CIRCLE, event);\n        },\n        drawFeatureCtrl\n      );\n\n      olEvents.listen(\n        measureAzimut,\n        'change:active',\n        drawFeatureCtrl.handleActiveChange,\n        drawFeatureCtrl\n      );\n    }\n  };\n};\n\n\nexports.directive('ngeoMeasureazimut', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/measure/azimut.js","/**\n * @module ngeo.measure.length\n */\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDrawController from 'ngeo/draw/Controller.js';\nimport ngeoMiscFilters from 'ngeo/misc/filters.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport ngeoInteractionMeasureLength from 'ngeo/interaction/MeasureLength.js';\nimport olEvents from 'ol/events.js';\nimport olStyleStyle from 'ol/style/Style.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoMeasurelength', [\n  ngeoDrawController.module.name,\n  ngeoMiscFilters.name,\n]);\n\n\n/**\n * @param {!angular.$compile} $compile Angular compile service.\n * @param {!angularGettext.Catalog} gettextCatalog Gettext catalog.\n * @param {!angular.$filter} $filter Angular filter.\n * @param {!angular.$injector} $injector Main injector.\n * @return {!angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDrawpoint\n */\nexports.directive_ = function($compile, gettextCatalog, $filter, $injector) {\n  return {\n    restrict: 'A',\n    require: '^^ngeoDrawfeature',\n    /**\n     * @param {!angular.Scope} $scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @param {ngeo.draw.Controller} drawFeatureCtrl Controller.\n     */\n    link: ($scope, element, attrs, drawFeatureCtrl) => {\n\n      const helpMsg = gettextCatalog.getString('Click to start drawing line');\n      const contMsg = gettextCatalog.getString('Click to continue drawing<br/>' +\n          'Double-click or click last point to finish');\n\n      const measureLength = new ngeoInteractionMeasureLength($filter('ngeoUnitPrefix'), {\n        style: new olStyleStyle(),\n        startMsg: $compile(`<div translate>${helpMsg}</div>`)($scope)[0],\n        continueMsg: $compile(`<div translate>${contMsg}</div>`)($scope)[0],\n        precision: $injector.has('ngeoMeasurePrecision') ? $injector.get('ngeoMeasurePrecision') : undefined\n      });\n\n      drawFeatureCtrl.registerInteraction(measureLength);\n      drawFeatureCtrl.measureLength = measureLength;\n\n      olEvents.listen(\n        measureLength,\n        'measureend',\n        drawFeatureCtrl.handleDrawEnd.bind(\n          drawFeatureCtrl, ngeoGeometryType.LINE_STRING),\n        drawFeatureCtrl\n      );\n      olEvents.listen(\n        measureLength,\n        'change:active',\n        drawFeatureCtrl.handleActiveChange,\n        drawFeatureCtrl\n      );\n    }\n  };\n};\n\n\nexports.directive('ngeoMeasurelength', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/measure/length.js","/**\n * @module ngeo.interaction.Modify\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoUtils from 'ngeo/utils.js';\nimport ngeoFormatFeatureProperties from 'ngeo/format/FeatureProperties.js';\nimport ngeoInteractionModifyCircle from 'ngeo/interaction/ModifyCircle.js';\nimport ngeoInteractionModifyRectangle from 'ngeo/interaction/ModifyRectangle.js';\nimport * as olBase from 'ol/index.js';\nimport olEvents from 'ol/events.js';\nimport * as olFunctions from 'ol/functions.js';\nimport olInteractionInteraction from 'ol/interaction/Interaction.js';\nimport olCollection from 'ol/Collection.js';\nimport olInteractionModify from 'ol/interaction/Modify.js';\nimport olFeature from 'ol/Feature.js';\n\n/**\n * This interaction combines multiple kind of feature modification interactions\n * in order to be able to modify vector features depending on their geometry\n * type. The different kind of interactions supported are:\n *\n * - `ol.interaction.Modify`\n * - `ngeo.interaction.ModifyCircle`\n * - `ngeo.interaction.ModifyRectangle`\n *\n * This interaction receives a collection of features. Its job is to listen\n * to added/removed features to and from it and add them in the proper\n * collection that is uniquely used for each inner interaction. Those inner\n * interactions follow the `active` property of this interaction, i.e. when\n * this interaction is activated, so do the inner interactions. Since they will\n * never share the same feature, they don't collide with one an other.\n *\n * @constructor\n * @struct\n * @extends {ol.interaction.Interaction}\n * @param {olx.interaction.ModifyOptions} options Options.\n */\nconst exports = function(options) {\n\n  googAsserts.assert(options.features);\n\n  /**\n   * @type {!ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features;\n\n  /**\n   * @type {!Array.<ol.EventsKey>}\n   * @private\n   */\n  this.listenerKeys_ = [];\n\n  /**\n   * @type {Array.<ol.interaction.Interaction>}\n   * @private\n   */\n  this.interactions_ = [];\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.otherFeatures_ = new olCollection();\n\n  this.interactions_.push(new olInteractionModify({\n    deleteCondition: ngeoUtils.deleteCondition,\n    features: this.otherFeatures_,\n    pixelTolerance: options.pixelTolerance,\n    style: options.style,\n    wrapX: options.wrapX\n  }));\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.circleFeatures_ = new olCollection();\n\n  this.interactions_.push(new ngeoInteractionModifyCircle({\n    features: this.circleFeatures_,\n    pixelTolerance: options.pixelTolerance,\n    style: options.style,\n    wrapX: options.wrapX\n  }));\n\n  /**\n   * @type {ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.rectangleFeatures_ = new olCollection();\n\n  this.interactions_.push(new ngeoInteractionModifyRectangle({\n    features: this.rectangleFeatures_,\n    pixelTolerance: options.pixelTolerance,\n    style: options.style,\n    wrapX: options.wrapX\n  }));\n\n\n  olInteractionInteraction.call(this, {\n    handleEvent: olFunctions.TRUE\n  });\n\n};\n\nolBase.inherits(exports, olInteractionInteraction);\n\n\n/**\n * Activate or deactivate the interaction.\n * @param {boolean} active Active.\n * @override\n */\nexports.prototype.setActive = function(active) {\n  olInteractionInteraction.prototype.setActive.call(this, active);\n  this.setState_();\n};\n\n\n/**\n * Remove the interaction from its current map and attach it to the new map.\n * Subclasses may set up event handlers to get notified about changes to\n * the map here.\n * @param {ol.PluggableMap} map Map.\n * @override\n */\nexports.prototype.setMap = function(map) {\n\n  const interactions = this.interactions_;\n\n  const currentMap = this.getMap();\n  if (currentMap) {\n    interactions.forEach((interaction) => {\n      currentMap.removeInteraction(interaction);\n    }, this);\n  }\n\n  olInteractionInteraction.prototype.setMap.call(this, map);\n\n  if (map) {\n    interactions.forEach((interaction) => {\n      map.addInteraction(interaction);\n    }, this);\n  }\n\n  this.setState_();\n};\n\n\n/**\n * Toggle interactions.\n * @private\n */\nexports.prototype.setState_ = function() {\n  const map = this.getMap();\n  const active = this.getActive();\n  const interactions = this.interactions_;\n  const keys = this.listenerKeys_;\n\n  interactions.forEach((interaction) => {\n    interaction.setActive(active && !!map);\n  }, this);\n\n  if (active && map) {\n    this.features_.forEach(this.addFeature_, this);\n    keys.push(\n      olEvents.listen(this.features_, 'add', this.handleFeaturesAdd_, this),\n      olEvents.listen(this.features_, 'remove', this.handleFeaturesRemove_, this)\n    );\n  } else {\n    keys.forEach(olEvents.unlistenByKey);\n    keys.length = 0;\n    this.features_.forEach(this.removeFeature_, this);\n  }\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeaturesAdd_ = function(evt) {\n  const feature = evt.element;\n  googAsserts.assertInstanceof(feature, olFeature,\n    'feature should be an ol.Feature');\n  this.addFeature_(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeaturesRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.addFeature_ = function(feature) {\n  const collection = this.getFeatureCollection_(feature);\n  collection.push(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeFeature_ = function(feature) {\n  const collection = this.getFeatureCollection_(feature);\n  collection.remove(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @return {ol.Collection.<ol.Feature>} Collection of features for this feature.\n * @private\n */\nexports.prototype.getFeatureCollection_ = function(feature) {\n  let features;\n  const isCircle = feature.get(ngeoFormatFeatureProperties.IS_CIRCLE);\n  const isRectangle = feature.get(ngeoFormatFeatureProperties.IS_RECTANGLE);\n  if (isCircle === true || isCircle === 'true') {\n    features = this.circleFeatures_;\n  } else if (isRectangle === true || isRectangle === 'true') {\n    features = this.rectangleFeatures_;\n  } else {\n    features = this.otherFeatures_;\n  }\n  return features;\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/Modify.js","/**\n * @module ngeo.interaction.ModifyCircle\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoFormatFeatureProperties from 'ngeo/format/FeatureProperties.js';\nimport ngeoInteractionMeasureAzimut from 'ngeo/interaction/MeasureAzimut.js';\nimport * as olBase from 'ol/index.js';\nimport olCollection from 'ol/Collection.js';\nimport olFeature from 'ol/Feature.js';\nimport olMapBrowserPointerEvent from 'ol/MapBrowserPointerEvent.js';\nimport olCoordinate from 'ol/coordinate.js';\nimport olEvents from 'ol/events.js';\nimport * as olExtent from 'ol/extent.js';\nimport olGeomCircle from 'ol/geom/Circle.js';\nimport olGeomLineString from 'ol/geom/LineString.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olInteractionModify from 'ol/interaction/Modify.js';\nimport olInteractionPointer from 'ol/interaction/Pointer.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olSourceVector from 'ol/source/Vector.js';\nimport olStructsRBush from 'ol/structs/RBush.js';\nimport olStyleStyle from 'ol/style/Style.js';\n\n/**\n * @classdesc\n * Interaction for modifying feature geometries.\n *\n * @constructor\n * @struct\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.ModifyOptions} options Options.\n * @fires ngeo.interaction.ModifyCircleEvent\n * @api\n */\nconst exports = function(options) {\n\n  googAsserts.assert(options.features);\n\n  olInteractionPointer.call(this, {\n    handleDownEvent: exports.handleDownEvent_,\n    handleDragEvent: exports.handleDragEvent_,\n    handleEvent: exports.handleEvent,\n    handleUpEvent: exports.handleUpEvent_\n  });\n\n  /**\n   * Editing vertex.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.vertexFeature_ = null;\n\n  /**\n   * @type {ol.Pixel}\n   * @private\n   */\n  this.lastPixel_ = [0, 0];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.modified_ = false;\n\n  /**\n   * Segment RTree for each layer\n   * @type {ol.structs.RBush.<ol.ModifySegmentDataType>}\n   * @private\n   */\n  this.rBush_ = new olStructsRBush();\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n    options.pixelTolerance : 10;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.snappedToVertex_ = false;\n\n  /**\n   * Indicate whether the interaction is currently changing a feature's\n   * coordinates.\n   * @type {boolean}\n   * @private\n   */\n  this.changingFeature_ = false;\n\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.dragSegments_ = null;\n\n  /**\n   * Draw overlay where sketch features are drawn.\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.overlay_ = new olLayerVector({\n    source: new olSourceVector({\n      useSpatialIndex: false,\n      wrapX: !!options.wrapX\n    }),\n    style: options.style ? options.style :\n      exports.getDefaultStyleFunction(),\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n   * @type {!ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features;\n\n  this.features_.forEach(this.addFeature_, this);\n  olEvents.listen(this.features_, 'add', this.handleFeatureAdd_, this);\n  olEvents.listen(this.features_, 'remove', this.handleFeatureRemove_, this);\n\n};\n\nolBase.inherits(exports, olInteractionPointer);\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.addFeature_ = function(feature) {\n  if (feature.getGeometry().getType() === 'Polygon' &&\n      !!feature.get(ngeoFormatFeatureProperties.IS_CIRCLE)) {\n    const geometry = /** @type {ol.geom.Polygon}*/ (feature.getGeometry());\n    this.writeCircleGeometry_(feature, geometry);\n\n    const map = this.getMap();\n    if (map) {\n      this.handlePointerAtPixel_(this.lastPixel_, map);\n    }\n  }\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Map browser event\n * @private\n */\nexports.prototype.willModifyFeatures_ = function(evt) {\n  if (!this.modified_) {\n    this.modified_ = true;\n    this.dispatchEvent(new olInteractionModify.Event(\n      /** @type {ol.interaction.ModifyEventType} */ ('modifystart'), this.features_, evt));\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeFeature_ = function(feature) {\n  this.removeFeatureSegmentData_(feature);\n  // Remove the vertex feature if the collection of canditate features\n  // is empty.\n  if (this.vertexFeature_ && this.features_.getLength() === 0) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeFeatureSegmentData_ = function(feature) {\n  const rBush = this.rBush_;\n  const /** @type {Array.<ol.ModifySegmentDataType>} */ nodesToRemove = [];\n  rBush.forEach(\n    /**\n       * @param {ol.ModifySegmentDataType} node RTree node.\n       */\n    (node) => {\n      if (feature === node.feature) {\n        nodesToRemove.push(node);\n      }\n    });\n  for (let i = nodesToRemove.length - 1; i >= 0; --i) {\n    rBush.remove(nodesToRemove[i]);\n  }\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.setMap = function(map) {\n  this.overlay_.setMap(map);\n  olInteractionPointer.prototype.setMap.call(this, map);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeatureAdd_ = function(evt) {\n  const feature = evt.element;\n  googAsserts.assertInstanceof(feature, olFeature,\n    'feature should be an ol.Feature');\n  this.addFeature_(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeatureRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.Feature} feature Feature\n * @param {ol.geom.Polygon} geometry Geometry.\n * @private\n */\nexports.prototype.writeCircleGeometry_ = function(feature, geometry) {\n  const rings = geometry.getCoordinates();\n  let coordinates, i, ii, j, jj, segment, segmentData;\n  for (j = 0, jj = rings.length; j < jj; ++j) {\n    coordinates = rings[j];\n    for (i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      segment = coordinates.slice(i, i + 2);\n      segmentData = /** @type {ol.ModifySegmentDataType} */ ({\n        feature: feature,\n        geometry: geometry,\n        depth: [j],\n        index: i,\n        segment: segment\n      });\n      this.rBush_.insert(olExtent.boundingExtent(segment), segmentData);\n    }\n  }\n};\n\n\n/**\n * @param {ol.Coordinate} coordinates Coordinates.\n * @return {ol.Feature} Vertex feature.\n * @private\n */\nexports.prototype.createOrUpdateVertexFeature_ = function(coordinates) {\n  let vertexFeature = this.vertexFeature_;\n  if (!vertexFeature) {\n    vertexFeature = new olFeature(new olGeomPoint(coordinates));\n    this.vertexFeature_ = vertexFeature;\n    this.overlay_.getSource().addFeature(vertexFeature);\n  } else {\n    const geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    geometry.setCoordinates(coordinates);\n  }\n  return vertexFeature;\n};\n\n\n/**\n * @param {ol.ModifySegmentDataType} a The first segment data.\n * @param {ol.ModifySegmentDataType} b The second segment data.\n * @return {number} The difference in indexes.\n * @private\n */\nexports.compareIndexes_ = function(a, b) {\n  return a.index - b.index;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Start drag sequence?\n * @this {ngeo.interaction.ModifyCircle}\n * @private\n */\nexports.handleDownEvent_ = function(evt) {\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n  this.dragSegments_ = [];\n  this.modified_ = false;\n  const vertexFeature = this.vertexFeature_;\n  if (vertexFeature) {\n    const geometry = /** @type {ol.geom.Point} */ (vertexFeature.getGeometry());\n    const vertex = geometry.getCoordinates();\n    const vertexExtent = olExtent.boundingExtent([vertex]);\n    const segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\n    const componentSegments = {};\n    segmentDataMatches.sort(exports.compareIndexes_);\n    for (let i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\n      const segmentDataMatch = segmentDataMatches[i];\n      const segment = segmentDataMatch.segment;\n      let uid = olBase.getUid(segmentDataMatch.feature);\n      const depth = segmentDataMatch.depth;\n      if (depth) {\n        uid += `-${depth.join('-')}`; // separate feature components\n      }\n      if (!componentSegments[uid]) {\n        componentSegments[uid] = new Array(2);\n      }\n      if (olCoordinate.equals(segment[0], vertex) &&\n          !componentSegments[uid][0]) {\n        this.dragSegments_.push([segmentDataMatch, 0]);\n        componentSegments[uid][0] = segmentDataMatch;\n      } else if (olCoordinate.equals(segment[1], vertex) &&\n          !componentSegments[uid][1]) {\n        this.dragSegments_.push([segmentDataMatch, 1]);\n        componentSegments[uid][1] = segmentDataMatch;\n      }\n    }\n  }\n  return !!this.vertexFeature_;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @this {ngeo.interaction.ModifyCircle}\n * @private\n */\nexports.handleDragEvent_ = function(evt) {\n  this.willModifyFeatures_(evt);\n  const vertex = evt.coordinate;\n  const geometry =\n      /** @type {ol.geom.Polygon}*/ (this.dragSegments_[0][0].geometry);\n  const center = olExtent.getCenter(geometry.getExtent());\n\n  const line = new olGeomLineString([center, vertex]);\n\n\n  /**\n   * @type {ol.geom.Circle}\n   */\n  const circle = new olGeomCircle(center, line.getLength());\n  const coordinates = olGeomPolygon.fromCircle(circle, 64).getCoordinates();\n  this.setGeometryCoordinates_(geometry, coordinates);\n\n\n  const azimut = ngeoInteractionMeasureAzimut.getAzimut(line);\n  this.features_.getArray()[0].set(ngeoFormatFeatureProperties.AZIMUT, azimut);\n\n  this.createOrUpdateVertexFeature_(vertex);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @this {ngeo.interaction.ModifyCircle}\n * @private\n */\nexports.handleUpEvent_ = function(evt) {\n  this.rBush_.clear();\n  this.writeCircleGeometry_(this.dragSegments_[0][0].feature,\n    this.dragSegments_[0][0].geometry);\n\n  if (this.modified_) {\n    this.dispatchEvent(new olInteractionModify.Event(\n      /** @type {ol.interaction.ModifyEventType} */ ('modifyend'), this.features_, evt));\n    this.modified_ = false;\n  }\n  return false;\n};\n\n\n/**\n * Handles the {@link ol.MapBrowserEvent map browser event} and may modify the\n * geometry.\n * @param {ol.MapBrowserEvent} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {ngeo.interaction.ModifyCircle}\n * @api\n */\nexports.handleEvent = function(mapBrowserEvent) {\n  if (!(mapBrowserEvent instanceof olMapBrowserPointerEvent)) {\n    return true;\n  }\n\n  let handled;\n  if (!mapBrowserEvent.map.getView().getInteracting() &&\n      mapBrowserEvent.type == 'pointermove' && !this.handlingDownUpSequence) {\n    this.handlePointerMove_(mapBrowserEvent);\n  }\n\n  return olInteractionPointer.handleEvent.call(this, mapBrowserEvent) &&\n      !handled;\n};\n\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @private\n */\nexports.prototype.handlePointerMove_ = function(evt) {\n  this.lastPixel_ = evt.pixel;\n  this.handlePointerAtPixel_(evt.pixel, evt.map);\n};\n\n\n/**\n * @param {ol.Pixel} pixel Pixel\n * @param {ol.PluggableMap} map Map.\n * @private\n */\nexports.prototype.handlePointerAtPixel_ = function(pixel, map) {\n  const pixelCoordinate = map.getCoordinateFromPixel(pixel);\n  const sortByDistance = function(a, b) {\n    return olCoordinate.squaredDistanceToSegment(pixelCoordinate, a.segment) -\n        olCoordinate.squaredDistanceToSegment(pixelCoordinate, b.segment);\n  };\n\n  const lowerLeft = map.getCoordinateFromPixel(\n    [pixel[0] - this.pixelTolerance_, pixel[1] + this.pixelTolerance_]);\n  const upperRight = map.getCoordinateFromPixel(\n    [pixel[0] + this.pixelTolerance_, pixel[1] - this.pixelTolerance_]);\n  const box = olExtent.boundingExtent([lowerLeft, upperRight]);\n\n  const rBush = this.rBush_;\n  const nodes = rBush.getInExtent(box);\n  if (nodes.length > 0) {\n    nodes.sort(sortByDistance);\n    const node = nodes[0];\n    const closestSegment = node.segment;\n    let vertex = (olCoordinate.closestOnSegment(pixelCoordinate,\n      closestSegment));\n    const vertexPixel = map.getPixelFromCoordinate(vertex);\n    if (Math.sqrt(olCoordinate.squaredDistance(pixel, vertexPixel)) <=\n        this.pixelTolerance_) {\n      const pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n      const pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n      const squaredDist1 = olCoordinate.squaredDistance(vertexPixel, pixel1);\n      const squaredDist2 = olCoordinate.squaredDistance(vertexPixel, pixel2);\n      const dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n      this.snappedToVertex_ = dist <= this.pixelTolerance_;\n      if (this.snappedToVertex_) {\n        vertex = squaredDist1 > squaredDist2 ?\n          closestSegment[1] : closestSegment[0];\n        this.createOrUpdateVertexFeature_(vertex);\n        const vertexSegments = {};\n        vertexSegments[olBase.getUid(closestSegment)] = true;\n        let segment;\n        for (let i = 1, ii = nodes.length; i < ii; ++i) {\n          segment = nodes[i].segment;\n          if ((olCoordinate.equals(closestSegment[0], segment[0]) &&\n              olCoordinate.equals(closestSegment[1], segment[1]) ||\n              (olCoordinate.equals(closestSegment[0], segment[1]) &&\n              olCoordinate.equals(closestSegment[1], segment[0])))) {\n            vertexSegments[olBase.getUid(segment)] = true;\n          } else {\n            break;\n          }\n        }\n        return;\n      }\n    }\n  }\n  if (this.vertexFeature_) {\n    this.overlay_.getSource().removeFeature(this.vertexFeature_);\n    this.vertexFeature_ = null;\n  }\n};\n\n\n/**\n * @param {ol.geom.SimpleGeometry} geometry Geometry.\n * @param {Array} coordinates Coordinates.\n * @private\n */\nexports.prototype.setGeometryCoordinates_ = function(geometry, coordinates) {\n  this.changingFeature_ = true;\n  geometry.setCoordinates(coordinates);\n  this.changingFeature_ = false;\n};\n\n\n/**\n * @return {ol.StyleFunction} Styles.\n */\nexports.getDefaultStyleFunction = function() {\n  const style = olStyleStyle.createDefaultEditing();\n  return function(feature, resolution) {\n    return style[/**@type {ol.geom.GeometryType} */ ('Point')];\n  };\n};\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/ModifyCircle.js","/**\n * @module ngeo.interaction.ModifyRectangle\n */\nimport googAsserts from 'goog/asserts.js';\nimport * as olBase from 'ol/index.js';\nimport olCollection from 'ol/Collection.js';\nimport olFeature from 'ol/Feature.js';\nimport olMapBrowserPointerEvent from 'ol/MapBrowserPointerEvent.js';\nimport olEvents from 'ol/events.js';\nimport olGeomPoint from 'ol/geom/Point.js';\nimport olGeomPolygon from 'ol/geom/Polygon.js';\nimport olInteractionModify from 'ol/interaction/Modify.js';\nimport olInteractionPointer from 'ol/interaction/Pointer.js';\nimport olLayerVector from 'ol/layer/Vector.js';\nimport olSourceVector from 'ol/source/Vector.js';\n\n/**\n * @classdesc\n * Interaction for modifying feature geometries.\n *\n * @constructor\n * @struct\n * @extends {ol.interaction.Pointer}\n * @param {olx.interaction.ModifyOptions} options Options.\n * @fires ngeo.interaction.ModifyCircleEvent\n * @api\n */\nconst exports = function(options) {\n\n  googAsserts.assert(options.features);\n\n  olInteractionPointer.call(this, {\n    handleDownEvent: this.handleDown_,\n    handleDragEvent: this.handleDrag_,\n    handleUpEvent: this.handleUp_\n  });\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.modified_ = false;\n\n  // Get the style for the box and the points\n  const style = options.style ? options.style : olInteractionModify.getDefaultStyleFunction();\n\n  /**\n   * @type {ol.layer.Vector}\n   * @private\n   */\n  this.vectorPoints_ = new olLayerVector({\n    source: new olSourceVector({\n      wrapX: !!options.wrapX\n    }),\n    visible: this.getActive(),\n    style: style,\n    updateWhileAnimating: true,\n    updateWhileInteracting: true\n  });\n\n  /**\n   * @type {!ol.Collection.<ol.Feature>}\n   * @private\n   */\n  this.features_ = options.features;\n\n  /**\n   * The feature currently modified.\n   * @type {ol.Feature}\n   * @private\n   */\n  this.feature_ = null;\n\n  /**\n   * @type {Object.<number, ngeo.interaction.ModifyRectangle.CacheItem>}\n   * @private\n   */\n  this.cache_ = {};\n\n  /**\n   * @type {?ngeo.interaction.ModifyRectangle.ModifyParams}\n   * @private\n   */\n  this.params_ = null;\n\n  olEvents.listen(this.features_, 'add', this.handleFeatureAdd_, this);\n  olEvents.listen(this.features_, 'remove', this.handleFeatureRemove_, this);\n\n  this.features_.forEach(this.addFeature_, this);\n\n};\n\nolBase.inherits(exports, olInteractionPointer);\n\n\n/**\n * @param {boolean} active Active.\n * @override\n */\nexports.prototype.setActive = function(active) {\n  olInteractionPointer.prototype.setActive.call(this, active);\n  if (this.vectorPoints_) {\n    this.vectorPoints_.setVisible(active);\n  }\n};\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.addFeature_ = function(feature) {\n  const featureGeom = feature.getGeometry();\n  if (featureGeom instanceof olGeomPolygon) {\n\n    // If the feature's corners are already set, no need to set them again\n    const uid = olBase.getUid(feature);\n    let item = this.cache_[uid];\n    if (item) {\n      return;\n    }\n\n    const pointSource = this.vectorPoints_.getSource();\n\n    // from each corners, create a point feature and add it to the point layer.\n    // each point is then associated with 2 siblings in order to update the\n    // siblings geometry at the same time when a point gets dragged around.\n    // mark each one as 'corner'\n    const corners = featureGeom.getCoordinates()[0];\n    while (corners.length > 4) {\n      if (corners[0][0] < corners[1][0] && corners[0][1] <= corners[1][1]) {\n        corners.pop();\n      } else {\n        corners.shift();\n      }\n    }\n    const pointFeatures = [];\n    let cornerPoint;\n    let cornerFeature;\n    corners.forEach((corner) => {\n      cornerPoint = new olGeomPoint(corner);\n      cornerFeature = new olFeature({\n        'corner': true,\n        'geometry': cornerPoint,\n        'siblingX': null,\n        'siblingY': null,\n        'boxFeature': feature\n      });\n\n      pointFeatures.push(cornerFeature);\n    }, this);\n    item = /** @type {ngeo.interaction.ModifyRectangle.CacheItem} */ ({\n      corners: pointFeatures\n    });\n    this.cache_[uid] = item;\n\n    let previousFeature;\n    let nextFeature;\n    pointFeatures.forEach((cornerFeature, index) => {\n      previousFeature = pointFeatures[index - 1];\n      if (!previousFeature) {\n        previousFeature = pointFeatures[pointFeatures.length - 1];\n      }\n\n      nextFeature = pointFeatures[index + 1];\n      if (!nextFeature) {\n        nextFeature = pointFeatures[0];\n      }\n\n      if (index % 2 === 0) {\n        cornerFeature.set('siblingX', nextFeature);\n        cornerFeature.set('siblingY', previousFeature);\n      } else {\n        cornerFeature.set('siblingX', previousFeature);\n        cornerFeature.set('siblingY', nextFeature);\n      }\n\n    }, this);\n    pointSource.addFeatures(pointFeatures);\n  }\n\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Map browser event\n * @private\n */\nexports.prototype.willModifyFeatures_ = function(evt) {\n  if (!this.modified_) {\n    this.modified_ = true;\n    this.dispatchEvent(new olInteractionModify.Event(\n      /** @type {ol.interaction.ModifyEventType} */ ('modifystart'), this.features_, evt));\n    this.params_ = this.initializeParams_();\n  }\n};\n\n\n/**\n * @return {ngeo.interaction.ModifyRectangle.ModifyParams} The initialised params\n * @private\n */\nexports.prototype.initializeParams_ = function() {\n  const feature = this.feature_;\n\n  // 1. Find the origin (opposite) point for the modify operation\n  // siblingY relative to the origin is siblingX relative to the opposite\n  const siblingY = feature.get('siblingX');\n  googAsserts.assertInstanceof(siblingY, olFeature);\n\n  const origin = siblingY.get('siblingY');\n  googAsserts.assertInstanceof(origin, olFeature);\n  const originPoint = origin.getGeometry();\n  googAsserts.assertInstanceof(originPoint, olGeomPoint);\n  const originCoordinate = originPoint.getCoordinates();\n  const originPixel = this.getMap().getPixelFromCoordinate(originCoordinate);\n\n  // 2. Find the origin's X sibling and the normal vector from the origin to it\n  const siblingX = origin.get('siblingX');\n  googAsserts.assertInstanceof(siblingX, olFeature);\n  const siblingXPoint = siblingX.getGeometry();\n  googAsserts.assertInstanceof(siblingXPoint, olGeomPoint);\n  const siblingXCoordinate = siblingXPoint.getCoordinates();\n  const siblingXPixel = this.getMap().getPixelFromCoordinate(siblingXCoordinate);\n  let vectorX = [\n    siblingXPixel[0] - originPixel[0],\n    siblingXPixel[1] - originPixel[1]\n  ];\n  const vectorXMagnitude = Math.sqrt(vectorX[0] * vectorX[0] + vectorX[1] * vectorX[1]);\n  vectorX[0] /= vectorXMagnitude;\n  vectorX[1] /= vectorXMagnitude;\n\n  // 3. Find the origin's Y sibling and the normal vector from the origin to it\n  const siblingYPoint = siblingY.getGeometry();\n  googAsserts.assertInstanceof(siblingYPoint, olGeomPoint);\n  const siblingYCoordinate = siblingYPoint.getCoordinates();\n  const siblingYPixel = this.getMap().getPixelFromCoordinate(siblingYCoordinate);\n  let vectorY = [\n    siblingYPixel[0] - originPixel[0],\n    siblingYPixel[1] - originPixel[1]\n  ];\n  const vectorYMagnitude = Math.sqrt(vectorY[0] * vectorY[0] + vectorY[1] * vectorY[1]);\n  vectorY[0] /= vectorYMagnitude;\n  vectorY[1] /= vectorYMagnitude;\n\n  // 4. Validate the vectors.\n  if (isNaN(vectorX[0]) && isNaN(vectorY[0])) {\n    // Both vector are invalid. Rotation information has already been lost\n    vectorX = [0, 1];\n    vectorY = [1, 0];\n  } else if (isNaN(vectorX[0])) {\n    vectorX = [vectorY[1], -vectorY[0]];\n  } else if (isNaN(vectorY[0])) {\n    vectorY = [vectorX[1], -vectorX[0]];\n  }\n\n  return {\n    originCoordinate,\n    originPixel,\n    siblingXPoint,\n    siblingYPoint,\n    vectorX,\n    vectorY\n  };\n};\n\n\n/**\n * @param {ol.Feature} feature Feature.\n * @private\n */\nexports.prototype.removeFeature_ = function(feature) {\n  const uid = olBase.getUid(feature);\n  const item = this.cache_[uid];\n  const corners = item.corners;\n  for (let i = 0; i < corners.length; i++) {\n    this.vectorPoints_.getSource().removeFeature(corners[i]);\n  }\n  this.feature_ = null;\n  corners.length = 0;\n  delete this.cache_[uid];\n};\n\n\n/**\n * @inheritDoc\n */\nexports.prototype.setMap = function(map) {\n  this.vectorPoints_.setMap(map);\n  olInteractionPointer.prototype.setMap.call(this, map);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeatureAdd_ = function(evt) {\n  const feature = evt.element;\n  googAsserts.assertInstanceof(feature, olFeature,\n    'feature should be an ol.Feature');\n  this.addFeature_(feature);\n};\n\n\n/**\n * @param {ol.Collection.Event} evt Event.\n * @private\n */\nexports.prototype.handleFeatureRemove_ = function(evt) {\n  const feature = /** @type {ol.Feature} */ (evt.element);\n  this.removeFeature_(feature);\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Start drag sequence?\n * @this {ngeo.interaction.ModifyRectangle}\n * @private\n */\nexports.prototype.handleDown_ = function(evt) {\n  const map = evt.map;\n\n  const feature = map.forEachFeatureAtPixel(evt.pixel, feature =>\n    (feature.get('siblingX') && feature.get('siblingY') ? feature : undefined)\n  );\n\n  if (feature) {\n    this.feature_ = feature;\n\n    return true;\n  }\n\n  return false;\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @this {ngeo.interaction.ModifyRectangle}\n * @private\n */\nexports.prototype.handleDrag_ = function(evt) {\n  this.willModifyFeatures_(evt);\n  const feature = this.feature_;\n\n  const geometry = /** @type {ol.geom.SimpleGeometry} */\n      (feature.getGeometry());\n\n  if (geometry instanceof olGeomPoint) {\n    geometry.setCoordinates(evt.coordinate);\n\n    const destinationPixel = evt.pixel;\n\n    const originPixel = this.params_.originPixel;\n    const siblingXPoint = this.params_.siblingXPoint;\n    const siblingYPoint = this.params_.siblingYPoint;\n    const vectorX = this.params_.vectorX;\n    const vectorY = this.params_.vectorY;\n    const originCoordinate = this.params_.originCoordinate;\n\n    // Calculate new positions of siblings\n    const b2Pixel = this.calculateNewPixel_(\n      originPixel, destinationPixel, vectorX);\n    const b2Coordinate = this.getMap().getCoordinateFromPixel(b2Pixel);\n    siblingXPoint.setCoordinates(b2Coordinate);\n\n    const c2Pixel = this.calculateNewPixel_(\n      originPixel, destinationPixel, vectorY);\n    const c2Coordinate = this.getMap().getCoordinateFromPixel(c2Pixel);\n    siblingYPoint.setCoordinates(c2Coordinate);\n\n\n    // Resize the box\n    const boxFeature = feature.get('boxFeature');\n    const geom = boxFeature.getGeometry();\n    googAsserts.assertInstanceof(geom, olGeomPolygon);\n    geom.setCoordinates([[evt.coordinate, b2Coordinate, originCoordinate, c2Coordinate, evt.coordinate]]);\n  }\n};\n\n\n/**\n * Calculate the new position of a point as projected on a vector from origin to\n * destination.\n * @param {ol.Pixel} origin Pixel of origin (opposite of the drag handle)\n * @param {ol.Pixel} destination Pixel of destination (the handle we dragged)\n * @param {ol.Pixel} vector The normalized vector to the point\n * @return {ol.Pixel} The new pixel of the point\n * @private\n */\nexports.prototype.calculateNewPixel_ = function(\n  origin, destination, vector) {\n\n  const aVector = [destination[0] - origin[0], destination[1] - origin[1]];\n\n  const abScalarProduct = aVector[0] * vector[0] + aVector[1] * vector[1];\n\n  const deltaVector = [\n    (vector[0] * abScalarProduct),\n    (vector[1] * abScalarProduct)\n  ];\n\n  return [deltaVector[0] + origin[0], deltaVector[1] + origin[1]];\n};\n\n\n/**\n * @param {ol.MapBrowserPointerEvent} evt Event.\n * @return {boolean} Stop drag sequence?\n * @this {ngeo.interaction.ModifyRectangle}\n * @private\n */\nexports.prototype.handleUp_ = function(evt) {\n  if (this.modified_) {\n    this.dispatchEvent(new olInteractionModify.Event(\n      /** @type {ol.interaction.ModifyEventType} */ ('modifyend'), this.features_, evt));\n    this.params_ = null;\n    this.modified_ = false;\n  }\n  return false;\n};\n\n\n/**\n * @typedef {{\n *     corners: Array.<ol.Feature>\n * }}\n */\nexports.CacheItem;\n\n\n/**\n * @typedef {{\n *     originCoordinate: ol.Coordinate,\n *     originPixel: ol.Pixel,\n *     siblingXPoint: ol.geom.Point,\n *     siblingYPoint: ol.geom.Point,\n *     vectorX: Array.<number>,\n *     vectorY: Array.<number>\n * }}\n */\nexports.ModifyParams;\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/interaction/ModifyRectangle.js","/**\n * @module gmf.filters.SavedFilters\n */\nimport gmfBase from 'gmf/index.js';\nimport googAsserts from 'goog/asserts.js';\nimport * as olArray from 'ol/array.js';\n\nconst exports = class {\n\n  /**\n   * The GeoMapFish service responsible of storing filters that can be applied\n   * to data sources. A filter consists of:\n   *\n   * - a condition\n   * - a list of directed rules\n   * - a list of custom rules\n   * - a data source\n   * - a name\n   *\n   * The filters are saved in the browser local storage, if available.\n   * Otherwise, they are kept in this service for the duration of the visit.\n   *\n   * @param {!angular.Scope} $rootScope Angular rootScope.\n   * @struct\n   * @ngInject\n   * @ngdoc service\n   * @ngname gmfSavedFilters\n   */\n  constructor($rootScope) {\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.rootScope_ = $rootScope;\n\n    /**\n     * This service can have a data source id bound to it, which automatically\n     * populates an array of items that are only bound to this data source.\n     * @type {?number}\n     * @private\n     */\n    this.currentDataSourceId_ = null;\n\n    /**\n     * @type {!Array.<!gmf.filters.SavedFilters.Item>}\n     * @private\n     */\n    this.currentDataSourceItems_ = [];\n\n    /**\n     * The used by this service to save in the local storage.\n     * @type {string}\n     * @private\n     */\n    this.localStorageKey_ = 'gmf_savedfilters';\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.useLocalStorage_ = true;\n\n    try {\n      if ('localStorage' in window) {\n        window.localStorage['test'] = '';\n        delete window.localStorage['test'];\n      } else {\n        this.useLocalStorage_ = false;\n      }\n    } catch (err) {\n      console.error(err);\n      this.useLocalStorage_ = false;\n    }\n\n    /**\n     * @type {!Array.<!gmf.filters.SavedFilters.Item>}\n     * @private\n     */\n    this.items_ = [];\n\n    this.rootScope_.$watchCollection(\n      () => this.items,\n      () => {\n        this.rePopulateCurrentDataSourceItems_();\n      }\n    );\n\n    if (this.useLocalStorage_) {\n      this.loadItemsFromLocalStorage_();\n    }\n\n  }\n\n  /**\n   * @return {!Array.<!gmf.filters.SavedFilters.Item>} Items\n   * @export\n   */\n  get currentDataSourceItems() {\n    return this.currentDataSourceItems_;\n  }\n\n  /**\n   * @param {?number} id Current data source id.\n   * @export\n   */\n  set currentDataSourceId(id) {\n    this.currentDataSourceId_ = id;\n    this.rePopulateCurrentDataSourceItems_();\n  }\n\n  /**\n   * @return {!Array.<!gmf.filters.SavedFilters.Item>} Items\n   * @export\n   */\n  get items() {\n    return this.items_;\n  }\n\n  /**\n   * Read the filter items that are saved in the local storage and set them\n   * as this service's items.\n   * @private\n   */\n  loadItemsFromLocalStorage_() {\n    if (window.localStorage[this.localStorageKey_]) {\n      const items = JSON.parse(window.localStorage[this.localStorageKey_]);\n      googAsserts.assertArray(items);\n      this.items_ = items;\n    }\n  }\n\n  /**\n   * Search for an item using a given name and data source id. Returns the\n   * index if it exists, otherwise -1 is returned.\n   * @param {string} name Name.\n   * @param {number} id Data source id.\n   * @return {number} The index of the item, if it exists.\n   * @export\n   */\n  indexOfItem(name, id) {\n\n    let item;\n    let idx = -1;\n    for (let i = 0, ii = this.items_.length; i < ii; i++) {\n      item = this.items[i];\n      if (item.dataSourceId === id && item.name === name) {\n        idx = i;\n        break;\n      }\n    }\n\n    return idx;\n  }\n\n  /**\n   * @param {!gmf.filters.SavedFilters.Item} item Item.\n   * @export\n   */\n  save(item) {\n\n    // (1) Add or replace item\n    const idx = this.indexOfItem(item.name, item.dataSourceId);\n    if (idx !== -1) {\n      this.items[idx] = item;\n    } else {\n      this.items.push(item);\n    }\n\n    // (2) Update local storage\n    if (this.useLocalStorage_) {\n      this.saveItemsInLocalStorage_();\n    }\n  }\n\n  /**\n   * @param {!gmf.filters.SavedFilters.Item} item Item.\n   * @export\n   */\n  remove(item) {\n\n    // (1) Remove the item\n    const found = olArray.remove(this.items, item);\n\n    // (2) Update local storage\n    if (found && this.useLocalStorage_) {\n      this.saveItemsInLocalStorage_();\n    }\n  }\n\n  /**\n   * Save all items in the local storage.\n   * @private\n   */\n  saveItemsInLocalStorage_() {\n    window.localStorage[this.localStorageKey_] = JSON.stringify(this.items);\n  }\n\n  /**\n   * @private\n   */\n  rePopulateCurrentDataSourceItems_() {\n    // (1) Clear existing items\n    this.currentDataSourceItems_.length = 0;\n\n    // (2) Populate\n    if (this.currentDataSourceId_ !== null) {\n      for (const item of this.items) {\n        if (item.dataSourceId === this.currentDataSourceId_) {\n          this.currentDataSourceItems_.push(item);\n        }\n      }\n    }\n  }\n\n};\n\n\nexports.module = angular.module('gmfSavedFilters', []);\n\nexports.module.service('gmfSavedFilters', exports);\n\n\n/**\n * The definition of a saved filter item.\n * @constructor\n * @struct\n * @export\n */\nexports.Item = function() {};\n\n\n/**\n * The condition of the saved filter item.\n * @type {string}\n * @export\n */\nexports.Item.prototype.condition;\n\n\n/**\n * The list of custom rules of the saved filter item.\n * @type {!Array.<!ngeox.rule.AnyOptions>}\n * @export\n */\nexports.Item.prototype.customRules;\n\n\n/**\n * The data source id related to the filter.\n * @type {number}\n * @export\n */\nexports.Item.prototype.dataSourceId;\n\n\n/**\n * The list of directed rules of the saved filter item.\n * @type {!Array.<!ngeox.rule.AnyOptions>}\n * @export\n */\nexports.Item.prototype.directedRules;\n\n\n/**\n * A human-readable name given to the saved filter item.\n * @type {string}\n * @export\n */\nexports.Item.prototype.name;\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/filters/SavedFilters.js","/**\n * @module gmfapp.filterselector\n */\nconst exports = {};\n// Todo - use the 'Filter' theme instead if the 'Edit' theme\n\nimport './filterselector.css';\nimport './common_dependencies.js';\nimport gmfBase from 'gmf/index.js';\n\nimport gmfAuthenticationModule from 'gmf/authentication/module.js';\n\n/** @suppress {extraRequire} */\nimport gmfDatasourceManager from 'gmf/datasource/Manager.js';\n\nimport gmfFiltersModule from 'gmf/filters/module.js';\nimport gmfLayertreeComponent from 'gmf/layertree/component.js';\nimport gmfLayertreeTreeManager from 'gmf/layertree/TreeManager.js';\n\n/** @suppress {extraRequire} */\nimport gmfMapComponent from 'gmf/map/component.js';\n\nimport gmfThemeThemes from 'gmf/theme/Themes.js';\nimport ngeoDatasourceDataSources from 'ngeo/datasource/DataSources.js';\n\n/** @suppress {extraRequire} */\nimport ngeoQueryBboxQueryComponent from 'ngeo/query/bboxQueryComponent.js';\n\n/** @suppress {extraRequire} */\nimport ngeoQueryMapQueryComponent from 'ngeo/query/mapQueryComponent.js';\n\nimport ngeoMiscToolActivate from 'ngeo/misc/ToolActivate.js';\nimport ngeoMiscToolActivateMgr from 'ngeo/misc/ToolActivateMgr.js';\n\n/** @suppress {extraRequire} */\nimport ngeoProjEPSG21781 from 'ngeo/proj/EPSG21781.js';\n\nimport olMap from 'ol/Map.js';\nimport olView from 'ol/View.js';\nimport olLayerTile from 'ol/layer/Tile.js';\nimport olSourceOSM from 'ol/source/OSM.js';\n\n\n/** @type {!angular.Module} **/\nexports.module = angular.module('gmfapp', [\n  gmfAuthenticationModule.name,\n  gmfDatasourceManager.module.name,\n  gmfLayertreeComponent.name,\n  gmfFiltersModule.name,\n  gmfMapComponent.name,\n  gmfThemeThemes.module.name,\n  ngeoDatasourceDataSources.module.name,\n  ngeoMiscToolActivateMgr.module.name,\n]);\n\n\nexports.module.value('gmfTreeUrl',\n  'https://geomapfish-demo.camptocamp.net/2.2/wsgi/themes?version=2&background=background');\n\n\nexports.module.value(\n  'authenticationBaseUrl',\n  'https://geomapfish-demo.camptocamp.net/2.2/wsgi');\n\n\nexports.module.value('gmfTreeUrl',\n  'https://geomapfish-demo.camptocamp.net/2.2/wsgi/themes?version=2&background=background');\n\n\nexports.module.value('gmfLayersUrl',\n  'https://geomapfish-demo.camptocamp.net/2.2/wsgi/layers/');\n\nexports.constant('defaultTheme', 'Filters');\nexports.constant('angularLocaleScript', '../build/angular-locale_{{locale}}.js');\n\n\nexports.MainController = class {\n\n  /**\n   * @param {!angular.Scope} $scope Angular scope.\n   * @param {gmf.datasource.Manager} gmfDataSourcesManager The gmf\n   *     data sources manager service.\n   * @param {gmf.theme.Themes} gmfThemes The gmf themes service.\n   * @param {gmf.layertree.TreeManager} gmfTreeManager gmf Tree Manager service.\n   * @param {ngeo.datasource.DataSources} ngeoDataSources Ngeo data sources service.\n   * @param {ngeo.misc.ToolActivateMgr} ngeoToolActivateMgr Ngeo ToolActivate manager\n   *     service.\n   * @ngInject\n   */\n  constructor($scope, gmfDataSourcesManager, gmfThemes, gmfTreeManager,\n    ngeoDataSources, ngeoToolActivateMgr\n  ) {\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.scope_ = $scope;\n\n    gmfThemes.loadThemes();\n\n    /**\n     * @type {gmf.layertree.TreeManager}\n     * @export\n     */\n    this.gmfTreeManager = gmfTreeManager;\n\n    /**\n     * @type {ol.Map}\n     * @export\n     */\n    this.map = new olMap({\n      layers: [\n        new olLayerTile({\n          source: new olSourceOSM()\n        })\n      ],\n      view: new olView({\n        projection: 'EPSG:21781',\n        resolutions: [200, 100, 50, 20, 10, 5, 2.5, 2, 1, 0.5],\n        center: [537635, 152640],\n        zoom: 2\n      })\n    });\n\n    // Init the datasources with our map.\n    gmfDataSourcesManager.setDatasourceMap(this.map);\n\n    gmfThemes.getThemesObject().then((themes) => {\n      if (themes) {\n        // Set 'Filters' theme, i.e. the one with id 175\n        for (let i = 0, ii = themes.length; i < ii; i++) {\n          if (themes[i].id === 175) {\n            this.gmfTreeManager.setFirstLevelGroups(themes[i].children);\n            break;\n          }\n        }\n      }\n    });\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.toolGroup = 'mapTools';\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.filterSelectorActive = true;\n\n    const filterSelectorToolActivate = new ngeoMiscToolActivate(\n      this, 'filterSelectorActive');\n    ngeoToolActivateMgr.registerTool(\n      'dummyTools', filterSelectorToolActivate, true);\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.dummyActive = false;\n\n    const dummyToolActivate = new ngeoMiscToolActivate(\n      this, 'dummyActive');\n    ngeoToolActivateMgr.registerTool(\n      'dummyTools', dummyToolActivate, false);\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.queryActive = true;\n\n    const queryToolActivate = new ngeoMiscToolActivate(\n      this, 'queryActive');\n    ngeoToolActivateMgr.registerTool(\n      this.toolGroup, queryToolActivate, true);\n\n    // initialize tooltips\n    $('[data-toggle=\"tooltip\"]').tooltip({\n      container: 'body',\n      trigger: 'hover'\n    });\n\n  }\n};\n\n\nexports.module.controller('MainController', exports.MainController);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/examples/filterselector.js","/**\n * @module gmf.filters.module\n */\nimport gmfFiltersFilterselectorComponent from 'gmf/filters/filterselectorComponent.js';\nimport gmfFiltersSavedFilters from 'gmf/filters/SavedFilters.js';\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('gmfFiltersModule', [\n  gmfFiltersFilterselectorComponent.name,\n  gmfFiltersSavedFilters.module.name,\n]);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/filters/module.js","/**\n * @module gmf.filters.filterselectorComponent\n */\nimport gmfBase from 'gmf/index.js';\n\n/** @suppress {extraRequire} */\nimport gmfAuthenticationService from 'gmf/authentication/Service.js';\n\nimport gmfDatasourceDataSourceBeingFiltered from 'gmf/datasource/DataSourceBeingFiltered.js';\n\n/** @suppress {extraRequire} */\nimport gmfDatasourceHelper from 'gmf/datasource/Helper.js';\n\nimport gmfDatasourceOGC from 'gmf/datasource/OGC.js';\nimport gmfFiltersSavedFilters from 'gmf/filters/SavedFilters.js';\nimport googAsserts from 'goog/asserts.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMessageModalComponent from 'ngeo/message/modalComponent.js';\n\nimport ngeoMessageNotification from 'ngeo/message/Notification.js';\nimport ngeoMessageMessage from 'ngeo/message/Message.js';\n\n/** @suppress {extraRequire} */\nimport ngeoFilterRuleHelper from 'ngeo/filter/RuleHelper.js';\n\nimport ngeoFilterComponent from 'ngeo/filter/component.js';\nimport olEvents from 'ol/events.js';\nimport olObservable from 'ol/Observable.js';\nimport * as olArray from 'ol/array.js';\nimport ngeoMapFeatureOverlayMgr from 'ngeo/map/FeatureOverlayMgr.js';\n\nconst exports = angular.module('gmfFilterselector', [\n  gmfAuthenticationService.module.name,\n  gmfDatasourceDataSourceBeingFiltered.module.name,\n  gmfDatasourceHelper.module.name,\n  ngeoMapFeatureOverlayMgr.module.name,\n  ngeoMessageNotification.module.name,\n  ngeoMessageModalComponent.name,\n  ngeoFilterRuleHelper.module.name,\n  ngeoFilterComponent.name,\n  gmfFiltersSavedFilters.module.name,\n]);\n\n\n/**\n * @private\n */\nexports.Controller_ = class {\n\n  /**\n   * @param {!angular.Scope} $scope Angular scope.\n   * @param {!angular.$timeout} $timeout Angular timeout service.\n   * @param {angularGettext.Catalog} gettextCatalog Gettext catalog.\n   * @param {gmfx.datasource.DataSourceBeingFiltered} gmfDataSourceBeingFiltered\n   *     The Gmf value service that determines the data source currently being\n   *     filtered.\n   * @param {gmf.datasource.Helper} gmfDataSourcesHelper Gmf data\n   *     sources helper service.\n   * @param {gmf.filters.SavedFilters} gmfSavedFilters Gmf saved filters service.\n   * @param {gmfx.User} gmfUser User.\n   * @param {ngeo.message.Notification} ngeoNotification Ngeo notification service.\n   * @param {!ngeo.map.FeatureOverlayMgr} ngeoFeatureOverlayMgr Ngeo FeatureOverlay\n   *     manager\n   * @param {!ngeo.filter.RuleHelper} ngeoRuleHelper Ngeo rule helper service.\n   * @private\n   * @struct\n   * @ngInject\n   * @ngdoc controller\n   * @ngname GmfFilterselectorController\n   */\n  constructor($scope, $timeout, gettextCatalog, gmfDataSourceBeingFiltered,\n    gmfDataSourcesHelper, gmfSavedFilters, gmfUser, ngeoNotification,\n    ngeoFeatureOverlayMgr, ngeoRuleHelper\n  ) {\n\n    // Binding properties\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.active;\n\n    $scope.$watch(\n      () => this.active,\n      this.handleActiveChange_.bind(this)\n    );\n\n    /**\n     * @type {!ol.Map}\n     * @export\n     */\n    this.map;\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.toolGroup;\n\n\n    // Injected properties\n\n    /**\n     * @type {!angular.$timeout}\n     * @private\n     */\n    this.timeout_ = $timeout;\n\n    /**\n     * @type {angularGettext.Catalog}\n     * @private\n     */\n    this.gettextCatalog_ = gettextCatalog;\n\n    /**\n     * The data source that can either be selected from the list or have\n     * its value set from an external source (for example: the layertree)\n     * and that requires to be ready before it can be filtered.\n     * @type {gmfx.datasource.DataSourceBeingFiltered}\n     * @export\n     */\n    this.gmfDataSourceBeingFiltered = gmfDataSourceBeingFiltered;\n\n    $scope.$watch(\n      () => this.gmfDataSourceBeingFiltered.dataSource,\n      this.handleSelectedDataSourceChange_.bind(this)\n    );\n\n    /**\n     * @type {gmf.datasource.Helper}\n     * @private\n     */\n    this.gmfDataSourcesHelper_ = gmfDataSourcesHelper;\n\n    /**\n     * @type {gmf.filters.SavedFilters}\n     * @export\n     */\n    this.gmfSavedFilters = gmfSavedFilters;\n\n    // Close manage modal if the last item is removed.\n    $scope.$watchCollection(\n      () => this.gmfSavedFilters.currentDataSourceItems,\n      () => {\n        if (this.gmfSavedFilters.currentDataSourceItems.length === 0 &&\n           this.saveFilterManageModalShown) {\n          this.saveFilterManageModalShown = false;\n        }\n      }\n    );\n\n    /**\n     * @type {gmfx.User}\n     * @private\n     */\n    this.gmfUser_ = gmfUser;\n\n    $scope.$watch(\n      () => this.gmfUser_.functionalities,\n      this.handleGmfUserFunctionalitiesChange_.bind(this)\n    );\n\n    /**\n     * @type {ngeo.message.Notification}\n     * @private\n     */\n    this.ngeoNotification_ = ngeoNotification;\n\n    /**\n     * @type {!ngeo.map.FeatureOverlay}\n     * @export\n     */\n    this.featureOverlay = googAsserts.assert(\n      ngeoFeatureOverlayMgr.getFeatureOverlay()\n    );\n\n    /**\n     * @type {!ngeo.filter.RuleHelper}\n     * @private\n     */\n    this.ngeoRuleHelper_ = ngeoRuleHelper;\n\n\n    // Inner properties\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.aRuleIsActive = false;\n\n    /**\n     * @type {?Array.<!ngeo.rule.Rule>}\n     * @export\n     */\n    this.customRules = null;\n\n    /**\n     * @type {?Array.<!ngeo.rule.Rule>}\n     * @export\n     */\n    this.directedRules = null;\n\n    /**\n     * @type {Array.<gmf.datasource.OGC>}\n     * @export\n     */\n    this.filtrableDataSources = [];\n\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n    this.filtrableLayerNodeNames_ = null;\n\n    /**\n     * @type {gmfx.datasource.DataSources}\n     * @private\n     */\n    this.gmfDataSources_ = gmfDataSourcesHelper.collection;\n\n    /**\n     * @type {Array.<ol.EventsKey>}\n     * @private\n     */\n    this.listenerKeys_ = [];\n\n    /**\n     * The data source ready to be filtered, after it has been selected and\n     * prepared.\n     * @type {?gmf.datasource.OGC}\n     * @export\n     */\n    this.readyDataSource = null;\n\n    /**\n     * @type {!gmf.filters.filterselectorComponent.Controller_.RuleCache}\n     * @private\n     */\n    this.ruleCache_ = {};\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.saveFilterSaveModalShown = false;\n\n    // When the modal closes, reset name\n    $scope.$watch(\n      () => this.saveFilterSaveModalShown,\n      () => {\n        this.saveFilterName = '';\n      }\n    );\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.saveFilterName = '';\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.saveFilterManageModalShown = false;\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.enableDataSourceRegistration_ = false;\n\n    $scope.$watch(\n      () => this.enableDataSourceRegistration_,\n      this.handleEnableDataSourceRegistrationChange_.bind(this)\n    );\n\n    /**\n     * The name of the data source that should be automatically selected\n     * by this component.\n     * @type {string|undefined}\n     * @private\n     */\n    this.defaultFiltrableDataSourceName_;\n\n    // Initialize the data sources registration\n    this.toggleDataSourceRegistration_();\n  }\n\n\n  /**\n   * @private\n   */\n  handleGmfUserFunctionalitiesChange_() {\n    const usrFunc = this.gmfUser_.functionalities;\n    if (usrFunc && usrFunc['filterable_layers']) {\n      this.filtrableLayerNodeNames_ = usrFunc['filterable_layers'];\n    } else {\n      this.filtrableLayerNodeNames_ = null;\n    }\n    if (usrFunc &&\n        usrFunc['preset_layer_filter'] &&\n        usrFunc['preset_layer_filter'][0]\n    ) {\n      this.defaultFiltrableDataSourceName_ = usrFunc['preset_layer_filter'][0];\n    } else {\n      this.defaultFiltrableDataSourceName_ = undefined;\n    }\n    this.toggleDataSourceRegistration_();\n  }\n\n\n  /**\n   * @private\n   */\n  toggleDataSourceRegistration_() {\n    const newDataSourceRegistration = !!this.filtrableLayerNodeNames_;\n    if (this.enableDataSourceRegistration_ !== newDataSourceRegistration) {\n      this.enableDataSourceRegistration_ = newDataSourceRegistration;\n    }\n  }\n\n\n  /**\n   * Called when the active property changes. Toggle data source registration.\n   * Also, when deactivated, unselect data source.\n   * @param {boolean} active Active.\n   * @private\n   */\n  handleActiveChange_(active) {\n    if (!active) {\n      this.aRuleIsActive = false;\n      this.timeout_(() => {\n        this.gmfDataSourceBeingFiltered.dataSource = null;\n      });\n    }\n  }\n\n\n  /**\n   * @param {boolean} register Whether register the data sources or not.\n   * @private\n   */\n  handleEnableDataSourceRegistrationChange_(register) {\n    const keys = this.listenerKeys_;\n\n    if (register) {\n      // Listen to data sources being added/removed\n      keys.push(\n        olEvents.listen(this.gmfDataSources_, 'add', this.handleDataSourcesAdd_, this),\n        olEvents.listen(this.gmfDataSources_, 'remove', this.handleDataSourcesRemove_, this)\n      );\n\n      // Manage the data sources that are already in the collection\n      this.gmfDataSources_.forEach(this.registerDataSource_, this);\n\n    } else {\n      olObservable.unByKey(keys);\n      keys.length = 0;\n\n      // Remove data sources that are in the collection\n      this.filtrableDataSources.length = 0;\n    }\n  }\n\n\n  /**\n   * Called when a data source is added to the collection of ngeo data sources.\n   * If the data source is 'valid', add it to the list of filtrable data\n   * sources.\n   *\n   * @param {ol.Collection.Event} evt Collection event.\n   * @private\n   */\n  handleDataSourcesAdd_(evt) {\n    const dataSource = evt.element;\n    if (dataSource instanceof gmfDatasourceOGC) {\n      this.registerDataSource_(dataSource);\n    }\n  }\n\n\n  /**\n   * Called when a data source is removed from the collection of ngeo data\n   * sources. If the data source is 'valid', remove it from the list of\n   * filtrable data sources.\n   *\n   * @param {ol.Collection.Event} evt Collection event.\n   * @private\n   */\n  handleDataSourcesRemove_(evt) {\n    const dataSource = evt.element;\n    if (dataSource instanceof gmfDatasourceOGC) {\n      this.unregisterDataSource_(dataSource);\n    }\n  }\n\n\n  /**\n   * Register a data source if filtrable.  If it's the first time that the\n   * data source is about to be registered, then the `filtrable` property\n   * is set. Otherwise, it's used.\n   *\n   * @param {gmf.datasource.OGC} dataSource Data source\n   * @private\n   */\n  registerDataSource_(dataSource) {\n    if (dataSource.filtrable === null) {\n      dataSource.filtrable = this.isDataSourceFiltrable_(dataSource);\n    }\n\n    if (dataSource.filtrable) {\n      this.filtrableDataSources.push(dataSource);\n\n      if (this.defaultFiltrableDataSourceName_ !== undefined &&\n          dataSource.name === this.defaultFiltrableDataSourceName_\n      ) {\n        this.gmfDataSourceBeingFiltered.dataSource = dataSource;\n      }\n    }\n  }\n\n\n  /**\n   * Unregister a data source if it's filtrable. Also, if it's the one\n   * that was currently selected, unselect it.\n   * @param {gmf.datasource.OGC} dataSource Data source\n   * @private\n   */\n  unregisterDataSource_(dataSource) {\n    if (dataSource.filtrable) {\n      olArray.remove(this.filtrableDataSources, dataSource);\n\n      if (this.gmfDataSourceBeingFiltered.dataSource === dataSource) {\n        this.gmfDataSourceBeingFiltered.dataSource = null;\n      }\n    }\n  }\n\n\n  /**\n   * Determines whether the data source is valid for addition (or removal) to\n   * the list of filtrable data sources or not.\n   *\n   * To be filtrable, the data source must:\n   *\n   *  1) have its name in the list of filtrable layer node names\n   *  2) support WFS\n   *  3) have only one ogcLayers defined\n   *  4) the ogcLayer must be queryable\n   *\n   * If 1) is true but not any of the others, then the server has not been\n   * configured properly. In this case, a warning notification can be shown.\n   *\n   * @param {gmf.datasource.OGC} dataSource GMF data source object\n   * @param {boolean=} opt_notify Whether to show a warning notification or not\n   *     in case of a data source that has its name is in the list of\n   *     filtrable layer node names but it doesn't match the other requirements.\n   *     Defaults to `true.`\n   * @return {boolean} Whether the data source is valid to add to the list or\n   *     not.\n   * @private\n   */\n  isDataSourceFiltrable_(dataSource, opt_notify) {\n    let filtrable = true;\n    const gettext = this.gettextCatalog_;\n    const notify = opt_notify !== false;\n    const names = googAsserts.assert(this.filtrableLayerNodeNames_);\n    const msgs = [];\n\n    // (1) The name of the DS must be in list of filtrable layer node names\n    if (olArray.includes(names, dataSource.name)) {\n\n      // (2) The DS must support WFS\n      if (!dataSource.supportsWFS) {\n        msgs.push(gettext.getString(\n          'The data source doesn\\'t support WFS, which is required ' +\n          'to fetch the attributes to build the filter rules.'\n        ));\n      }\n\n      // (3) The DS must have only one ogcLayer\n      if (!dataSource.ogcLayers || !dataSource.ogcLayers.length) {\n        msgs.push(gettext.getString(\n          'The data source must have only 1 ogcLayer defined.'\n        ));\n      } else if (!dataSource.ogcLayers[0].queryable) {\n        // (4) The ogcLayer must be queryable\n        msgs.push(gettext.getString(\n          'The ogcLayer within the data source must be queryable.'\n        ));\n      }\n\n      filtrable = !msgs.length;\n\n      // Notify if the name is in list of filtrable layer node names but\n      // there are missing requirements.\n      if (notify && !filtrable) {\n        const p1 = gettext.getString(\n          `The following data source is marked as being filtrable,\n          but is missing some requirements: `\n        );\n        const p2 = `${dataSource.name} (${dataSource.id}).`;\n        const p3 = gettext.getString(\n          `Please, contact your administrator about this.\n          Here are the reasons: `\n        );\n        msgs.unshift(`${p1} ${p2} ${p3}`);\n        console.warn(msgs.join(' '));\n        this.ngeoNotification_.notify({\n          msg: msgs.join(' '),\n          type: ngeoMessageMessage.Type.WARNING\n        });\n      }\n    } else {\n      filtrable = false;\n    }\n\n    return filtrable;\n  }\n\n  /**\n   * @param {?gmf.datasource.OGC} dataSource Newly selected data source\n   *     object.\n   * @private\n   */\n  handleSelectedDataSourceChange_(dataSource) {\n\n    this.aRuleIsActive = false;\n    this.customRules = null;\n    this.directedRules = null;\n    this.readyDataSource = null;\n    this.gmfSavedFilters.currentDataSourceId = null;\n\n    // No need to do anything if no data source is selected\n    if (!dataSource) {\n      return;\n    }\n\n    // A data source has been selected. Make sure the component is active.\n    if (!this.active) {\n      this.active = true;\n    }\n\n    this.gmfDataSourcesHelper_.prepareFiltrableDataSource(\n      dataSource\n    ).then((dataSource) => {\n\n      // Data source is ready. Get any existing rules or create new ones from\n      // the attributes\n      let item = this.getRuleCacheItem_(dataSource);\n      if (!item) {\n        item = {\n          customRules: [],\n          directedRules: []\n        };\n        this.setRuleCacheItem_(dataSource, item);\n        if (dataSource.gmfLayer.metadata &&\n            dataSource.gmfLayer.metadata.directedFilterAttributes &&\n            dataSource.gmfLayer.metadata.directedFilterAttributes.length\n        ) {\n          const directedAttributes =\n              dataSource.gmfLayer.metadata.directedFilterAttributes;\n          const attributes = googAsserts.assert(dataSource.attributes);\n          for (const attribute of attributes) {\n            if (olArray.includes(directedAttributes, attribute.name)) {\n              item.directedRules.push(\n                this.ngeoRuleHelper_.createRuleFromAttribute(attribute)\n              );\n            }\n          }\n        }\n      }\n\n      this.customRules = item.customRules;\n      this.directedRules = item.directedRules;\n      this.readyDataSource = dataSource;\n      this.gmfSavedFilters.currentDataSourceId = dataSource.id;\n\n    });\n  }\n\n  /**\n   * @param {ngeo.datasource.DataSource} dataSource Data source.\n   * @return {?gmf.filters.filterselectorComponent.Controller_.RuleCacheItem} Rule cache item.\n   * @private\n   */\n  getRuleCacheItem_(dataSource) {\n    return this.ruleCache_[dataSource.id] || null;\n  }\n\n  /**\n   * @param {ngeo.datasource.DataSource} dataSource Data source.\n   * @param {gmf.filters.filterselectorComponent.Controller_.RuleCacheItem} item Rule cache item.\n   * @private\n   */\n  setRuleCacheItem_(dataSource, item) {\n    this.ruleCache_[dataSource.id] = item;\n  }\n\n  /**\n   * @export\n   */\n  saveFilterShowModal() {\n    this.saveFilterSaveModalShown = true;\n  }\n\n  /**\n   * @export\n   */\n  saveFilterSave() {\n\n    const name = this.saveFilterName;\n    const dataSource = googAsserts.assert(this.readyDataSource);\n    const dataSourceId = dataSource.id;\n    const alreadyExist = (this.gmfSavedFilters.indexOfItem(\n      name, dataSourceId) !== -1);\n    const condition = dataSource.filterCondition;\n\n    const msg = this.gettextCatalog_.getString(\n      `A filter with the same name already exists.\n      Do you want to overwrite it?`\n    );\n    if (!alreadyExist || confirm(msg)) {\n      // (1) Serialize the existing custom and directed rules\n      const customRules = this.customRules ?\n        this.ngeoRuleHelper_.serializeRules(this.customRules) : [];\n      const directedRules = this.directedRules ?\n        this.ngeoRuleHelper_.serializeRules(this.directedRules) : [];\n\n      // (2) Ask the service to save it\n      const item = /** @type {!gmf.filters.SavedFilters.Item} */ ({\n        condition,\n        customRules,\n        dataSourceId,\n        directedRules,\n        name\n      });\n      this.gmfSavedFilters.save(item);\n\n      // (3) Close popup, which resets the name\n      this.saveFilterSaveModalShown = false;\n    }\n  }\n\n  /**\n   * Load a saved filter item, replacing the current rules.\n   * @param {!gmf.filters.SavedFilters.Item} filterItem Filter item.\n   * @export\n   */\n  saveFilterLoadItem(filterItem) {\n\n    const dataSource = googAsserts.assert(this.readyDataSource);\n\n    // (1) Reset current rules\n    this.customRules = null;\n    this.directedRules = null;\n\n    const customRules = this.ngeoRuleHelper_.createRules(\n      filterItem.customRules);\n    const directedRules = this.ngeoRuleHelper_.createRules(\n      filterItem.directedRules);\n\n    // Timeout, which ensures the destruction of the previous filter component\n    // and the creation of a new one\n    this.timeout_(() => {\n      // (2) Set rules\n      this.customRules = customRules;\n      this.directedRules = directedRules;\n\n      // (3) Set condition\n      dataSource.filterCondition = filterItem.condition;\n\n      // (4) Update cache item\n      const cacheItem = googAsserts.assert(this.getRuleCacheItem_(dataSource));\n      cacheItem.customRules = customRules;\n      cacheItem.directedRules = directedRules;\n    });\n  }\n\n  /**\n   * @export\n   */\n  saveFilterManage() {\n    this.saveFilterManageModalShown = true;\n  }\n\n  /**\n   * Remove a saved filter item.\n   * @param {!gmf.filters.SavedFilters.Item} item Filter item.\n   * @export\n   */\n  saveFilterRemoveItem(item) {\n    this.gmfSavedFilters.remove(item);\n  }\n\n};\n\n\n/**\n * @typedef {Object.<number, !gmf.filters.filterselectorComponent.Controller_.RuleCacheItem>}\n */\nexports.Controller_.RuleCache;\n\n\n/**\n * @typedef {{\n *     customRules: (Array.<ngeo.rule.Rule>),\n *     directedRules: (Array.<ngeo.rule.Rule>)\n * }}\n */\nexports.Controller_.RuleCacheItem;\n\n\nexports.component('gmfFilterselector', {\n  bindings: {\n    active: '=',\n    map: '<',\n    toolGroup: '<'\n  },\n  controller: exports.Controller_,\n  templateUrl: () => `${gmfBase.baseModuleTemplateUrl}/filters/filterselectorcomponent.html`\n});\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/filters/filterselectorComponent.js","/**\n * @module gmf.datasource.Helper\n */\nimport gmfBase from 'gmf/index.js';\nimport gmfEditingEnumerateAttribute from 'gmf/editing/EnumerateAttribute.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoDatasourceHelper from 'ngeo/datasource/Helper.js';\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport * as olArray from 'ol/array.js';\n\nconst exports = class {\n\n  /**\n   * A service that provides utility methods to manipulate or get GMF data\n   * sources.\n   *\n   * @struct\n   * @param {angular.$q} $q The Angular $q service.\n   * @param {gmf.editing.EnumerateAttribute} gmfEnumerateAttribute The Gmf enumerate\n   *     attribute service.\n   * @param {ngeo.datasource.Helper} ngeoDataSourcesHelper Ngeo data\n   *     source helper service.\n   * @ngdoc service\n   * @ngname gmfDataSourcesHelper\n   * @ngInject\n   */\n  constructor($q, gmfEnumerateAttribute, ngeoDataSourcesHelper) {\n\n    // === Injected properties ===\n\n    /**\n     * @type {angular.$q}\n     * @private\n     */\n    this.q_ = $q;\n\n    /**\n     * @type {gmf.editing.EnumerateAttribute}\n     * @private\n     */\n    this.gmfEnumerateAttribute_ = gmfEnumerateAttribute;\n\n    /**\n     * @type {ngeo.datasource.Helper}\n     * @private\n     */\n    this.ngeoDataSourcesHelper_ = ngeoDataSourcesHelper;\n\n\n    // === Other properties ===\n\n    /**\n     * @type {gmfx.datasource.DataSources}\n     * @protected\n     */\n    this.collection_;\n\n    /**\n     * @type {Object.<number, gmf.datasource.OGC>}\n     * @protected\n     */\n    this.cache_;\n  }\n\n  /**\n   * @return {gmfx.datasource.DataSources} Data sources collection.\n   * @export\n   */\n  get collection() {\n    return /** @type {gmfx.datasource.DataSources} */ (\n      this.ngeoDataSourcesHelper_.collection\n    );\n  }\n\n  /**\n   * Return a data source using its id.\n   * @param {number} id Data source id.\n   * @return {?gmf.datasource.OGC} Data source.\n   * @export\n   */\n  getDataSource(id) {\n    return /** @type {?gmf.datasource.OGC} */ (\n      this.ngeoDataSourcesHelper_.getDataSource(id)\n    );\n  }\n\n  /**\n   * @param {gmf.datasource.OGC} dataSource Filtrable data source.\n   * @return {angular.$q.Promise} Promise.\n   * @export\n   */\n  prepareFiltrableDataSource(dataSource) {\n\n    const prepareFiltrableDataSourceDefer = this.q_.defer();\n\n    // (1) Get the attributes. The first time, they will be asynchronously\n    //     obtained using a WFS DescribeFeatureType request.\n    this.ngeoDataSourcesHelper_.getDataSourceAttributes(\n      dataSource\n    ).then((attributes) => {\n      // (2) The attribute names that are in the `enumeratedAttributes`\n      //     metadata are the ones that need to have their values fetched.\n      //     Do that once then set the type to SELECT and the choices.\n      const meta = dataSource.gmfLayer.metadata || {};\n      const enumAttributes = meta.enumeratedAttributes;\n      if (enumAttributes && enumAttributes.length) {\n        const promises = [];\n        for (const attribute of attributes) {\n          if (olArray.includes(enumAttributes, attribute.name) &&\n             attribute.type !== ngeoFormatAttributeType.SELECT &&\n             (!attribute.choices || !attribute.choices.length)) {\n            promises.push(\n              this.gmfEnumerateAttribute_.getAttributeValues(\n                dataSource, attribute.name\n              ).then((values) => {\n                const choices = values.map(choice => choice.value);\n                attribute.type = ngeoFormatAttributeType.SELECT;\n                attribute.choices = choices;\n              })\n            );\n          }\n        }\n        return this.q_.all(promises).then(\n          prepareFiltrableDataSourceDefer.resolve(dataSource)\n        );\n      } else {\n        prepareFiltrableDataSourceDefer.resolve(dataSource);\n      }\n    });\n\n    return prepareFiltrableDataSourceDefer.promise;\n  }\n\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfDataSourcesHelper', [\n  gmfEditingEnumerateAttribute.module.name,\n]);\nexports.module.service('gmfDataSourcesHelper', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/datasource/Helper.js","/**\n * @module gmf.editing.EnumerateAttribute\n */\nimport gmfBase from 'gmf/index.js';\n\nconst exports = class {\n\n  /**\n   * The EnumerateAttribute is responsible of fetching all possible of a given\n   * attribute of a given data source (gmf layer).\n   *\n   * @struct\n   * @param {angular.$http} $http Angular $http service.\n   * @param {string} gmfLayersUrl Url to the GeoMapFish layers service.\n   * @ngInject\n   * @ngdoc service\n   * @ngname gmfEnumerateAttribute\n   */\n  constructor($http, gmfLayersUrl) {\n\n    // === Injected services ===\n\n    /**\n     * @type {angular.$http}\n     * @private\n     */\n    this.http_ = $http;\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.baseUrl_ = gmfLayersUrl;\n\n    /**\n     * @type {Object.<string, !angular.$q.Promise>}\n     * @private\n     */\n    this.promises_ = {};\n  }\n\n  /**\n   * @param {gmf.datasource.OGC} dataSource Data source.\n   * @param {string} attribute Attribute name.\n   * @return {angular.$q.Promise} Promise.\n   */\n  getAttributeValues(dataSource, attribute) {\n    const promiseId = `${dataSource.id}_${attribute}`;\n    const name = dataSource.name;\n    if (!this.promises_[promiseId]) {\n      const url = `${this.baseUrl_}/${name}/values/${attribute}`;\n      this.promises_[promiseId] = this.http_.get(url).then(\n        this.handleGetAttributeValues_.bind(this));\n    }\n    return this.promises_[promiseId];\n  }\n\n  /**\n   * @param {angular.$http.Response} resp Ajax response.\n   * @return {Array.<gmfThemes.GmfLayerAttributeValue>} List of the attribute\n   *     values.\n   * @export\n   */\n  handleGetAttributeValues_(resp) {\n    const data = /** @type {gmfThemes.GmfLayerAttributeValuesResponse} */ (\n      resp.data);\n    return data.items;\n  }\n\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('gmfEnumerateAttribute', []);\nexports.module.service('gmfEnumerateAttribute', exports);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/src/editing/EnumerateAttribute.js","/**\n * @module ngeo.filter.component\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoQueryMapQuerent from 'ngeo/query/MapQuerent.js';\nimport ngeoFilterCondition from 'ngeo/filter/Condition.js';\n\n/** @suppress {extraRequire} */\nimport ngeoFilterRuleComponent from 'ngeo/filter/ruleComponent.js';\n\n/** @suppress {extraRequire} */\nimport ngeoFilterRuleHelper from 'ngeo/filter/RuleHelper.js';\n\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoRuleGeometry from 'ngeo/rule/Geometry.js';\nimport ngeoMapFeatureOverlay from 'ngeo/map/FeatureOverlay.js';\nimport * as olBase from 'ol/index.js';\nimport * as olArray from 'ol/array.js';\n\n// In futur module declaration, don't forget to require:\n// - ngeo.map.FeatureOverlay.module.name\n\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoFilter', [\n  ngeoFilterRuleHelper.module.name,\n  ngeoFilterRuleComponent.name,\n]);\n\nexports.component('ngeoFilter', {\n  bindings: {\n    'aRuleIsActive': '=',\n    'customRules': '<',\n    // It's 'datasource' instead of 'dataSource', because that would require\n    // the attribute to be 'data-source', and Angular strips the 'data-'.\n    'datasource': '<',\n    'directedRules': '<',\n    'featureOverlay': '<',\n    'map': '<',\n    'toolGroup': '<'\n  },\n  controller: 'ngeoFilterController',\n  templateUrl: () => `${ngeoBase.baseModuleTemplateUrl}/filter/component.html`\n});\n\n/**\n * @private\n */\nexports.FilterController_ = class {\n\n  /**\n   * @param {!angularGettext.Catalog} gettextCatalog Gettext service.\n   * @param {!angular.Scope} $scope Angular scope.\n   * @param {!angular.$timeout} $timeout Angular timeout service.\n   * @param {!ngeo.query.MapQuerent} ngeoMapQuerent The ngeo map querent service.\n   * @param {!ngeo.filter.RuleHelper} ngeoRuleHelper Ngeo rule helper service.\n   * @private\n   * @struct\n   * @ngInject\n   * @ngdoc controller\n   * @ngname NgeoFilterController\n   */\n  constructor(gettextCatalog, $scope, $timeout, ngeoMapQuerent,\n    ngeoRuleHelper) {\n\n    // === Binding properties ===\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.aRuleIsActive;\n\n    /**\n     * @type {Array.<!ngeo.rule.Rule>}\n     * @export\n     */\n    this.customRules;\n\n    /**\n     * @type {!ngeo.datasource.OGC}\n     * @export\n     */\n    this.datasource;\n\n    /**\n     * @type {Array.<!ngeo.rule.Rule>}\n     * @export\n     */\n    this.directedRules;\n\n    /**\n     * @type {!ngeo.map.FeatureOverlay}\n     * @export\n     */\n    this.featureOverlay;\n\n    /**\n     * @type {!ol.Map}\n     * @export\n     */\n    this.map;\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.toolGroup;\n\n\n    // === Injected properties ===\n\n    /**\n     * @type {!angularGettext.Catalog}\n     * @private\n     */\n    this.gettextCatalog_ = gettextCatalog;\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.scope_ = $scope;\n\n    /**\n     * @type {!angular.$timeout}\n     * @private\n     */\n    this.timeout_ = $timeout;\n\n    /**\n     * @type {!ngeo.query.MapQuerent}\n     * @private\n     */\n    this.ngeoMapQuerent_ = ngeoMapQuerent;\n\n    /**\n     * @type {!ngeo.filter.RuleHelper}\n     * @private\n     */\n    this.ngeoRuleHelper_ = ngeoRuleHelper;\n\n\n    // === Inner properties ===\n\n    /**\n     * @type {Array.<!ngeox.FilterCondition>}\n     * @export\n     */\n    this.conditions = [\n      {\n        text: gettextCatalog.getString('All'),\n        value: ngeoFilterCondition.AND\n      },\n      {\n        text: gettextCatalog.getString('At least one'),\n        value: ngeoFilterCondition.OR\n      },\n      {\n        text: gettextCatalog.getString('None'),\n        value: ngeoFilterCondition.NOT\n      }\n    ];\n\n    /**\n     * List of geometry attributes.\n     * @type {Array.<!ngeox.Attribute>}\n     * @export\n     */\n    this.geometryAttributes = [];\n\n    /**\n     * List of other attribute names.\n     * @type {Array.<!ngeox.Attribute>}\n     * @export\n     */\n    this.otherAttributes = [];\n\n    /**\n     * @type {!Object.<number, Function>}\n     * @private\n     */\n    this.ruleUnlisteners_ = {};\n  }\n\n\n  /**\n   * Called on initialization of the controller.\n   *\n   * Loop through the attributes of the data source and separated them in 2\n   * lists: geometry and the others. Then, apply the filters to the data source.\n   */\n  $onInit() {\n\n    this.scope_.$watch(\n      () => this.aRuleIsActive,\n      this.handleARuleIsActiveChange_.bind(this)\n    );\n\n    // (1) Separate the attributes in 2: geometry and the others.\n    const attributes = googAsserts.assert(this.datasource.attributes);\n    for (const attribute of attributes) {\n      if (attribute.type === ngeoFormatAttributeType.GEOMETRY) {\n        this.geometryAttributes.push(attribute);\n      } else {\n        this.otherAttributes.push(attribute);\n      }\n    }\n\n    // (2) All rules that have geometry are added in the featureOverlay\n    const rules = [].concat(this.customRules, this.directedRules);\n    for (const rule of rules) {\n      this.registerRule_(rule);\n    }\n\n    // (3) Apply the filters\n    this.apply();\n  }\n\n\n  /**\n   * Called on destruction of the controller.\n   *\n   * Reset the `filterRules` of the data source back to `null`.\n   * Clear the feature overlay.\n   */\n  $onDestroy() {\n    if (this.datasource.filterRules !== null) {\n      this.datasource.filterRules = null;\n    }\n    this.featureOverlay.clear();\n  }\n\n\n  /**\n   * Loop in all directed and custom rules. Apply the rules that have a proper\n   * value inside the data source, in the `filterRules` property.\n   * @export\n   */\n  apply() {\n    // (1) Reset\n    this.datasource.filterRules = null;\n\n    // (2) Then set if there are filter rules with value.\n    this.timeout_(() => {\n      const filterRules = this.getRulesWithValue_();\n      if (filterRules.length) {\n        this.datasource.filterRules = filterRules;\n        // The current query results are cleared when we apply a filter.\n        this.ngeoMapQuerent_.clear();\n      }\n    });\n  }\n\n\n  /**\n   * Loop in all directed and custom rules. Issue a request to obtain the data\n   * and show the result.\n   * @export\n   */\n  getData() {\n    const filterRules = this.getRulesWithValue_();\n\n    // No need to do anything if there's no rules.\n    if (!filterRules.length) {\n      return;\n    }\n\n    const dataSource = this.datasource;\n    const limit = 1000;\n    const map = this.map;\n    const projCode = map.getView().getProjection().getCode();\n    const filter = this.ngeoRuleHelper_.createFilter({\n      dataSource: dataSource,\n      filterRules: filterRules,\n      srsName: projCode\n    });\n    googAsserts.assert(filter);\n\n    this.ngeoMapQuerent_.issue({\n      dataSources: [dataSource],\n      filter: filter,\n      limit: limit,\n      map: map\n    });\n  }\n\n\n  /**\n   * Loop in all directed and custom rules and collect those with a value.\n   * @return {Array.<!ngeo.rule.Rule>} Rules with value.\n   * @private\n   */\n  getRulesWithValue_() {\n    const filterRules = [];\n    const rules = [].concat(this.customRules, this.directedRules);\n    for (const rule of rules) {\n      if (rule.value) {\n        filterRules.push(rule);\n      }\n    }\n    return filterRules;\n  }\n\n\n  /**\n   * Create and add a new custom rule using an attribute. The rule is activated\n   * after being created.\n   * @param {!ngeox.Attribute} attribute Attribute to use to create the custom\n   * rule.\n   * @export\n   */\n  createAndAddCustomRule(attribute) {\n    const rule = this.ngeoRuleHelper_.createRuleFromAttribute(attribute, true);\n    this.registerRule_(rule);\n    this.customRules.push(rule);\n\n    // Activate asynchronously allows the toolActivate manager to do its magic,\n    this.timeout_(() => {\n      rule.active = true;\n    }, 1);\n  }\n\n\n  /**\n   * @param {!ngeox.FilterCondition} condition Condition to set.\n   * @export\n   */\n  setCondition(condition) {\n    if (this.datasource.filterCondition !== condition.value) {\n      this.datasource.filterCondition = condition.value;\n    }\n  }\n\n  /**\n   * Remove a custom rule. Deactivate it first, then give time to the\n   * `ngeo-rule` directive to manage the deactivation of the rule.\n   * @param {!ngeo.rule.Rule} rule Custom rule to remove.\n   * @export\n   */\n  removeCustomRule(rule) {\n    rule.active = false;\n    this.timeout_(() => {\n      olArray.remove(this.customRules, rule);\n      this.unregisterRule_(rule);\n      rule.destroy();\n    });\n  }\n\n  /**\n   * @param {!ngeo.rule.Rule} rule Rule.\n   * @export\n   */\n  registerRule_(rule) {\n    const uid = olBase.getUid(rule);\n    this.ruleUnlisteners_[uid] = this.scope_.$watch(\n      () => rule.active,\n      this.handleRuleActiveChange_.bind(this)\n    );\n\n    if (rule instanceof ngeoRuleGeometry) {\n      this.featureOverlay.addFeature(rule.feature);\n    }\n  }\n\n  /**\n   * @param {!ngeo.rule.Rule} rule Rule.\n   * @export\n   */\n  unregisterRule_(rule) {\n    const uid = olBase.getUid(rule);\n    const unlistener = this.ruleUnlisteners_[uid];\n    googAsserts.assert(unlistener);\n    unlistener();\n    delete this.ruleUnlisteners_[uid];\n\n    if (rule instanceof ngeoRuleGeometry) {\n      this.featureOverlay.removeFeature(rule.feature);\n    }\n  }\n\n  /**\n   * Called when the active property of a rule changes. Set the `aRuleIsActive`\n   * property accordingly.\n   * @private\n   */\n  handleRuleActiveChange_() {\n    let aRuleIsActive = false;\n    const rules = [].concat(this.customRules, this.directedRules);\n    for (const rule of rules) {\n      if (rule.active) {\n        aRuleIsActive = true;\n        break;\n      }\n    }\n    this.aRuleIsActive = aRuleIsActive;\n  }\n\n  /**\n   * Called when the `aRuleIsActive` property changes. Make sure that\n   * no rule is still active if the property is `false`.\n   * @private\n   */\n  handleARuleIsActiveChange_() {\n    if (this.aRuleIsActive) {\n      return;\n    }\n    const rules = [].concat(this.customRules, this.directedRules);\n    for (const rule of rules) {\n      if (rule.active) {\n        rule.active = false;\n        break;\n      }\n    }\n  }\n\n};\n\nexports.controller('ngeoFilterController', exports.FilterController_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/filter/component.js","/**\n * @module ngeo.filter.ruleComponent\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMenu from 'ngeo/Menu.js';\nimport ngeoDrawComponent from 'ngeo/draw/component.js';\n\n/** @suppress {extraRequire} */\nimport ngeoFilterRuleHelper from 'ngeo/filter/RuleHelper.js';\n\nimport ngeoFormatAttributeType from 'ngeo/format/AttributeType.js';\nimport ngeoGeometryType from 'ngeo/GeometryType.js';\nimport ngeoInteractionModify from 'ngeo/interaction/Modify.js';\nimport ngeoInteractionRotate from 'ngeo/interaction/Rotate.js';\nimport ngeoInteractionTranslate from 'ngeo/interaction/Translate.js';\nimport ngeoMapFeatureOverlay from 'ngeo/map/FeatureOverlay.js';\n\n/** @suppress {extraRequire} */\nimport ngeoMiscDatepickerComponent from 'ngeo/misc/datepickerComponent.js';\n\nimport ngeoMiscDecorate from 'ngeo/misc/decorate.js';\nimport ngeoMiscFeatureHelper from 'ngeo/misc/FeatureHelper.js';\nimport ngeoMiscToolActivate from 'ngeo/misc/ToolActivate.js';\nimport ngeoMiscToolActivateMgr from 'ngeo/misc/ToolActivateMgr.js';\nimport ngeoRuleRule from 'ngeo/rule/Rule.js';\nimport ngeoRuleGeometry from 'ngeo/rule/Geometry.js';\nimport ngeoRuleSelect from 'ngeo/rule/Select.js';\nimport * as olBase from 'ol/index.js';\nimport olObservable from 'ol/Observable.js';\nimport olFeature from 'ol/Feature.js';\nimport olCollection from 'ol/Collection.js';\nimport olEvents from 'ol/events.js';\nimport * as olArray from 'ol/array.js';\nimport olStyleStyle from 'ol/style/Style.js';\nimport olStyleText from 'ol/style/Text.js';\nimport olStyleFill from 'ol/style/Fill.js';\nimport olGeomGeometry from 'ol/geom/Geometry.js';\n\n/**\n * @type {angular.Module}\n */\nconst exports = angular.module('ngeoRule', [\n  ngeoDrawComponent.name,\n  ngeoFilterRuleHelper.module.name,\n  ngeoMapFeatureOverlay.module.name,\n  ngeoMiscDatepickerComponent.name,\n  ngeoMiscFeatureHelper.module.name,\n]);\n\n\n/**\n * @private\n */\nexports.RuleController_ = class {\n\n  /**\n   * @param {!angularGettext.Catalog} gettextCatalog Gettext service.\n   * @param {!angular.Scope} $scope Angular scope.\n   * @param {!angular.$timeout} $timeout Angular timeout service.\n   * @param {!ngeo.misc.FeatureHelper} ngeoFeatureHelper Ngeo feature helper service.\n   * @param {!ngeo.filter.RuleHelper} ngeoRuleHelper Ngeo rule helper service.\n   * @param {!ngeo.misc.ToolActivateMgr} ngeoToolActivateMgr Ngeo ToolActivate\n   *     manager service.\n   * @private\n   * @struct\n   * @ngInject\n   * @ngdoc controller\n   * @ngname NgeoRuleController\n   */\n  constructor(gettextCatalog, $scope, $timeout, ngeoFeatureHelper,\n    ngeoRuleHelper, ngeoToolActivateMgr) {\n\n    // Binding properties\n\n    /**\n     * @type {!ngeo.map.FeatureOverlay}\n     * @export\n     */\n    this.featureOverlay;\n\n    /**\n     * @type {!ol.Map}\n     * @export\n     */\n    this.map;\n\n    /**\n     * The original rule.\n     * @type {!ngeo.rule.Rule}\n     * @export\n     */\n    this.rule;\n\n    /**\n     * @type {string}\n     * @export\n     */\n    this.toolGroup;\n\n\n    // Injected properties\n\n    /**\n     * @type {angularGettext.Catalog}\n     * @private\n     */\n    this.gettextCatalog_ = gettextCatalog;\n\n    /**\n     * @type {!angular.Scope}\n     * @private\n     */\n    this.scope_ = $scope;\n\n    /**\n     * @type {!angular.$timeout}\n     * @private\n     */\n    this.timeout_ = $timeout;\n\n    /**\n     * @type {!ngeo.misc.FeatureHelper}\n     * @private\n     */\n    this.ngeoFeatureHelper_ = ngeoFeatureHelper;\n\n    /**\n     * @type {!ngeo.filter.RuleHelper}\n     * @private\n     */\n    this.ngeoRuleHelper_ = ngeoRuleHelper;\n\n    /**\n     * @type {!ngeo.misc.ToolActivateMgr}\n     * @private\n     */\n    this.ngeoToolActivateMgr_ = ngeoToolActivateMgr;\n\n\n    // Inner properties\n\n    /**\n     * The cloned rule. Changes in the UI are applied to the clone 'on-the-fly'.\n     * Changes in the clone are applied back in the original rule when the\n     * apply button is clicked.\n     * @type {!ngeo.rule.Rule}\n     * @export\n     */\n    this.clone;\n\n    const ot = ngeoRuleRule.OperatorType;\n    const sot = ngeoRuleRule.SpatialOperatorType;\n    const tot = ngeoRuleRule.TemporalOperatorType;\n\n    /**\n     * @type {Object.<string, string>}\n     * @export\n     */\n    this.operators = {\n      [ot.EQUAL_TO]: gettextCatalog.getString('Is equal to'),\n      [ot.GREATER_THAN]: gettextCatalog.getString('Is greater than'),\n      [ot.GREATER_THAN_OR_EQUAL_TO]: gettextCatalog.getString(\n        'Is greater than or equal to'),\n      [ot.LESSER_THAN]: gettextCatalog.getString('Is lesser than'),\n      [ot.LESSER_THAN_OR_EQUAL_TO]: gettextCatalog.getString(\n        'Is lesser than or equal to'),\n      [ot.NOT_EQUAL_TO]: gettextCatalog.getString('Is not equal to'),\n      [ot.LIKE]: gettextCatalog.getString('Contains'),\n      [sot.CONTAINS]: gettextCatalog.getString('Contains'),\n      [sot.INTERSECTS]: gettextCatalog.getString('Intersects'),\n      [sot.WITHIN]: gettextCatalog.getString('Is inside of'),\n      [tot.BEGINS]: gettextCatalog.getString('Begins at'),\n      [tot.DURING]: gettextCatalog.getString('During'),\n      [tot.ENDS]: gettextCatalog.getString('Ends at'),\n      [tot.EQUALS]: gettextCatalog.getString('Is equal to')\n    };\n\n    /**\n     * Time property used when the rule is of type 'date|datetime' and uses\n     * a range of date.\n     * @type {!ngeox.TimeProperty}\n     * @export\n     */\n    this.timeRangeMode = {\n      widget: /** @type {ngeox.TimePropertyWidgetEnum} */ ('datepicker'),\n      maxValue: this.createDate_(),\n      minValue: this.createWeekAgoDate_(),\n      maxDefValue: null,\n      minDefValue: null,\n      mode: /** @type {ngeox.TimePropertyModeEnum} */ ('range'),\n      interval: [0, 1, 0, 0]\n    };\n\n    /**\n     * Time property used when the rule is of type 'date|datetime' and uses\n     * a single date.\n     * @type {!ngeox.TimeProperty}\n     * @export\n     */\n    this.timeValueMode = {\n      widget: /** @type {ngeox.TimePropertyWidgetEnum} */ ('datepicker'),\n      maxValue: this.createDate_(),\n      minValue: this.createDate_(),\n      maxDefValue: null,\n      minDefValue: null,\n      mode: /** @type {ngeox.TimePropertyModeEnum} */ ('value'),\n      interval: [0, 1, 0, 0]\n    };\n\n    /**\n     * @type {!ngeo.misc.ToolActivate}\n     * @private\n     */\n    this.toolActivate_;// = new ngeo.misc.ToolActivate(this.rule, 'active');\n\n    /**\n     * @type {!Array.<Function>}\n     * @private\n     */\n    this.unlisteners_ = [];\n\n\n    // Inner properties when dealing with a `ngeo.rule.Geometry`\n\n    /**\n     * @type {boolean}\n     * @export\n     */\n    this.drawActive = false;\n\n    /**\n     * @type {!ngeo.misc.ToolActivate}\n     * @export\n     */\n    this.drawToolActivate = new ngeoMiscToolActivate(this, 'drawActive');\n\n    /**\n     * @type {!ol.Collection.<!ol.Feature>}\n     * @export\n     */\n    this.drawnFeatures = new olCollection();\n\n    /**\n     * @type {?ngeo.Menu}\n     * @private\n     */\n    this.menu_ = null;\n\n    /**\n     * @type {!ol.Collection.<!ol.Feature>}\n     * @export\n     */\n    this.selectedFeatures = new olCollection();\n\n    /**\n     * @type {!ol.Collection.<!ol.interaction.Interaction>}\n     * @private\n     */\n    this.interactions_ = new olCollection();\n\n    /**\n     * @type {!ngeo.interaction.Modify}\n     * @private\n     */\n    this.modify_ = new ngeoInteractionModify({\n      features: this.selectedFeatures,\n      style: ngeoFeatureHelper.getVertexStyle(false)\n    });\n    this.interactions_.push(this.modify_);\n\n    /**\n     * @type {ngeo.interaction.Rotate}\n     * @private\n     */\n    this.rotate_ = new ngeoInteractionRotate({\n      features: this.selectedFeatures,\n      style: new olStyleStyle({\n        text: new olStyleText({\n          text: '\\uf01e',\n          font: 'normal 18px FontAwesome',\n          fill: new olStyleFill({\n            color: '#7a7a7a'\n          })\n        })\n      })\n    });\n    this.interactions_.push(this.rotate_);\n\n    /**\n     * @type {ngeo.interaction.Translate}\n     * @private\n     */\n    this.translate_ = new ngeoInteractionTranslate({\n      features: this.selectedFeatures,\n      style: new olStyleStyle({\n        text: new olStyleText({\n          text: '\\uf047',\n          font: 'normal 18px FontAwesome',\n          fill: new olStyleFill({\n            color: '#7a7a7a'\n          })\n        })\n      })\n    });\n    this.interactions_.push(this.translate_);\n\n    /**\n     * @type {!Array.<!ol.EventsKey>}\n     * @private\n     */\n    this.listenerKeys_ = [];\n\n    this.initializeInteractions_();\n\n    /**\n     * @type {!ngeo.misc.ToolActivate}\n     * @export\n     */\n    this.modifyToolActivate = new ngeoMiscToolActivate(\n      this.modify_,\n      'active'\n    );\n\n    /**\n     * @type {ngeo.misc.ToolActivate}\n     * @export\n     */\n    this.rotateToolActivate = new ngeoMiscToolActivate(\n      this.rotate_,\n      'active'\n    );\n\n    /**\n     * @type {ngeo.misc.ToolActivate}\n     * @export\n     */\n    this.translateToolActivate = new ngeoMiscToolActivate(\n      this.translate_,\n      'active'\n    );\n\n    /**\n     * The geometry type used by the clone feature.\n     * @type {?string}\n     * @export\n     */\n    this.geomType = null;\n  }\n\n  /**\n   * Called on initialization of the controller.\n   *\n   * Clone the rule to be able to work with the clone directly.\n   */\n  $onInit() {\n    this.clone = this.ngeoRuleHelper_.cloneRule(this.rule);\n\n    this.toolActivate_ = new ngeoMiscToolActivate(this.rule, 'active');\n\n    this.ngeoToolActivateMgr_.registerTool(\n      this.toolGroup, this.toolActivate_);\n\n    this.scope_.$watch(\n      () => this.rule.active,\n      this.handleActiveChange_.bind(this)\n    );\n\n    // If the rule is a DATE or DATETIME, then a datepicker directive is used.\n    // It is not possible to set the current values to the datepicker, but you\n    // can set the initial values. This is why it is created when the rule\n    // becomes active (see the partials/rule.html).\n    //\n    // This chunk of code ensures that the rule properties are synchronized\n    // with the TimeProperty objects required to build the datepickers.\n    if (this.clone.type === ngeoFormatAttributeType.DATE ||\n        this.clone.type === ngeoFormatAttributeType.DATETIME\n    ) {\n      // Watch 'expression'\n      this.unlisteners_.push(this.scope_.$watch(\n        () => this.clone.getExpression(),\n        (newVal) => {\n          const value = newVal === null ? this.createDate_() : newVal;\n          this.timeValueMode.minValue = value;\n        }\n      ));\n      // Watch 'lowerBoundary'\n      this.unlisteners_.push(this.scope_.$watch(\n        () => this.clone.lowerBoundary,\n        (newVal) => {\n          const value = newVal === null ? this.createWeekAgoDate_() : newVal;\n          this.timeRangeMode.minValue = value;\n        }\n      ));\n      // Watch 'upperBoundary'\n      this.unlisteners_.push(this.scope_.$watch(\n        () => this.clone.upperBoundary,\n        (newVal) => {\n          const value = newVal === null ? this.createDate_() : newVal;\n          this.timeRangeMode.maxValue = value;\n        }\n      ));\n    } else if (this.clone.type === ngeoFormatAttributeType.GEOMETRY) {\n\n      // Watch 'operator' of clone. Make sure any existing geometry is\n      // supported by the newly selected operator. If it doesn't, reset\n      // the expression, i.e. geometry.\n      this.unlisteners_.push(this.scope_.$watch(\n        () => this.clone.operator,\n        (newVal) => {\n          if (newVal &&\n              newVal === ngeoRuleRule.SpatialOperatorType.CONTAINS\n          ) {\n            const clone = googAsserts.assertInstanceof(\n              this.clone, ngeoRuleGeometry);\n            const geometry = clone.feature.getGeometry();\n            if (geometry) {\n              const geomType = this.ngeoFeatureHelper_.getType(clone.feature);\n              const supportedTypes = [\n                ngeoGeometryType.CIRCLE,\n                ngeoGeometryType.POLYGON,\n                ngeoGeometryType.RECTANGLE\n              ];\n              if (!olArray.includes(supportedTypes, geomType)) {\n                this.clone.setExpression(null);\n              }\n            }\n          }\n        }\n      ));\n\n      // Watch 'expression' of clone. Set 'geomType' property accordingly.\n      this.unlisteners_.push(this.scope_.$watch(\n        () => this.clone.expression,\n        (newVal) => {\n          if (newVal) {\n            const clone = googAsserts.assertInstanceof(\n              this.clone, ngeoRuleGeometry);\n            this.geomType = this.ngeoFeatureHelper_.getType(clone.feature);\n          } else {\n            this.geomType = null;\n          }\n        }\n      ));\n\n      // Watch both 'expression', 'active' and the modify control to be all\n      // thruthy. When that's the case, the clone feature is added to the\n      // selection collection.\n      this.unlisteners_.push(this.scope_.$watch(\n        () => {\n          const hasExpression = this.clone.getExpression() !== null;\n          const isActive = this.rule.active === true;\n          const editToolIsActive = this.modify_.getActive() ||\n                this.rotate_.getActive() ||\n                this.translate_.getActive();\n          return hasExpression && isActive && editToolIsActive;\n        },\n        (newVal) => {\n          if (newVal) {\n            const clone = googAsserts.assertInstanceof(\n              this.clone, ngeoRuleGeometry);\n            this.selectedFeatures.push(clone.feature);\n          } else {\n            this.selectedFeatures.clear();\n          }\n        }\n      ));\n    }\n  }\n\n  /**\n   * Called on destruction of the controller.\n   */\n  $onDestroy() {\n    if (this.rule.active) {\n      this.rule.active = false;\n      // in $onDestroy, setting active to false will not call the handler. Call\n      // it manually to let it do its magic\n      this.handleActiveChange_(false, true);\n    }\n    this.ngeoToolActivateMgr_.unregisterTool(\n      this.toolGroup, this.toolActivate_);\n    for (let i = 0, ii = this.unlisteners_.length; i < ii; i++) {\n      this.unlisteners_[i]();\n    }\n    this.unlisteners_.length = 0;\n    this.clone.destroy();\n  }\n\n  /**\n   * @export\n   */\n  toggle() {\n    if (this.rule.active) {\n      this.cancel();\n    } else {\n      this.rule.active = true;\n    }\n  }\n\n  /**\n   * Apply the changes that were made in the original rule.\n   * @export\n   */\n  apply() {\n    this.ngeoRuleHelper_.extendRule(this.clone, this.rule);\n    this.rule.active = false;\n  }\n\n  /**\n   * Revert the changes that were made in the clone rule.\n   * @export\n   */\n  cancel() {\n    this.ngeoRuleHelper_.extendRule(this.rule, this.clone);\n    this.rule.active = false;\n  }\n\n  /**\n   * Reset both original and clone rules.\n   * @export\n   */\n  reset() {\n    this.clone.reset();\n    this.rule.reset();\n  }\n\n  /**\n   * Called when a choice is clicked, when using a `ngeo.rule.Select` rule type.\n   * Add/remove the choice to/from the `expression` of the rule.\n   * @param {string|number} choice Choice that has been clicked.\n   * @export\n   */\n  toggleChoiceSelection(choice) {\n    const rule = googAsserts.assertInstanceof(this.clone, ngeoRuleSelect);\n    const choices = rule.getExpression() ? rule.getExpression().split(',') : [];\n    const idx = choices.indexOf(choice);\n    if (idx > -1) {\n      choices.splice(idx, 1);\n    } else {\n      choices.push(choice);\n    }\n    rule.setExpression(choices.length ? choices.join(',') : null);\n  }\n\n\n  /**\n   * @param {Object} date Date\n   * @export\n   */\n  onDateSelected(date) {\n    this.clone.setExpression(date['start']);\n  }\n\n  /**\n   * @param {Object} date Date\n   * @export\n   */\n  onDateRangeSelected(date) {\n    this.clone.lowerBoundary = date['start'];\n    this.clone.upperBoundary = date['end'];\n  }\n\n  /**\n   * @param {number=} opt_timeDelta Time delta to go back in the past.\n   * @return {string} ISO string of the date\n   * @private\n   */\n  createDate_(opt_timeDelta) {\n\n    const date = new Date();\n\n    if (opt_timeDelta !== undefined) {\n      const time = date.getTime() - opt_timeDelta;\n      date.setTime(time);\n    }\n\n    return date.toISOString();\n  }\n\n  /**\n   * @return {string} ISO string of the date\n   * @private\n   */\n  createWeekAgoDate_() {\n    return this.createDate_(1000 * 60 * 60 * 24 * 7); // A week ago date\n  }\n\n  /**\n   * @param {number} time Time.\n   * @return {string} Date\n   * @export\n   */\n  timeToDate(time) {\n    const date = new Date(time);\n    return date.toLocaleDateString();\n  }\n\n\n  // === Methods used when bound to a `ngeo.rule.Geometry`\n\n\n  /**\n   * Called when the active property of a rule changes. Only used when this\n   * component is bound to a geometry rule.\n   *\n   * Manage the activation/deactivation of the interactions.\n   *\n   * @param {boolean} active Whether the rule is active or not.\n   * @param {boolean} oldActive Whether the rule was active or not.\n   * @private\n   */\n  handleActiveChange_(active, oldActive) {\n\n    if (!(this.rule instanceof ngeoRuleGeometry) ||\n        !(this.clone instanceof ngeoRuleGeometry) ||\n        active === oldActive\n    ) {\n      return;\n    }\n\n    const keys = this.listenerKeys_;\n    const uid = ['ngeo-rule-', olBase.getUid(this)].join('-');\n    const toolMgr = this.ngeoToolActivateMgr_;\n\n    const ruleFeature = this.rule.feature;\n    const cloneFeature = this.clone.feature;\n\n    const mapDiv = this.map.getViewport();\n    googAsserts.assertElement(mapDiv);\n\n    if (active) {\n      keys.push(\n        olEvents.listen(\n          this.drawnFeatures,\n          'add',\n          this.handleFeaturesAdd_,\n          this\n        )\n      );\n\n      keys.push(\n        olEvents.listen(\n          mapDiv,\n          'contextmenu',\n          this.handleMapContextMenu_,\n          this\n        )\n      );\n\n      keys.push(\n        olEvents.listen(\n          this.translate_,\n          'translateend',\n          this.handleTranslateEnd_,\n          this\n        )\n      );\n\n      keys.push(\n        olEvents.listen(\n          this.rotate_,\n          'rotateend',\n          this.handleRotateEnd_,\n          this\n        )\n      );\n\n      this.featureOverlay.removeFeature(ruleFeature);\n      this.featureOverlay.addFeature(cloneFeature);\n\n      this.registerInteractions_();\n\n      toolMgr.registerTool(uid, this.drawToolActivate, false);\n      toolMgr.registerTool(uid, this.modifyToolActivate, true);\n      toolMgr.registerTool(uid, this.rotateToolActivate, false);\n      toolMgr.registerTool(uid, this.translateToolActivate, false);\n\n      this.modify_.setActive(true);\n\n      if (cloneFeature.getGeometry()) {\n        this.ngeoFeatureHelper_.setStyle(cloneFeature, true);\n      }\n\n    } else {\n      cloneFeature.setStyle(null);\n\n      olObservable.unByKey(keys);\n\n      this.drawActive = false;\n\n      toolMgr.unregisterTool(uid, this.drawToolActivate);\n      toolMgr.unregisterTool(uid, this.modifyToolActivate);\n      toolMgr.unregisterTool(uid, this.rotateToolActivate);\n      toolMgr.unregisterTool(uid, this.translateToolActivate);\n\n      this.modify_.setActive(false);\n\n      this.unregisterInteractions_();\n\n      if (this.selectedFeatures.getLength()) {\n        this.featureOverlay.removeFeature(cloneFeature);\n      }\n      this.featureOverlay.addFeature(ruleFeature);\n\n      this.selectedFeatures.clear();\n    }\n  }\n\n  /**\n   * Initialize interactions by setting them inactive and decorating them\n   * @private\n   */\n  initializeInteractions_() {\n    this.interactions_.forEach((interaction) => {\n      interaction.setActive(false);\n      ngeoMiscDecorate.interaction(interaction);\n    });\n  }\n\n  /**\n   * Register interactions by adding them to the map\n   * @private\n   */\n  registerInteractions_() {\n    this.interactions_.forEach((interaction) => {\n      this.map.addInteraction(interaction);\n    });\n  }\n\n  /**\n   * Register interactions by removing them to the map\n   * @private\n   */\n  unregisterInteractions_() {\n    this.interactions_.forEach((interaction) => {\n      this.map.removeInteraction(interaction);\n    });\n  }\n\n  /**\n   * @param {ol.Collection.Event} evt Event.\n   * @private\n   */\n  handleFeaturesAdd_(evt) {\n    // timeout to prevent double-click to zoom the map\n    this.timeout_(() => {\n\n      const clone = googAsserts.assertInstanceof(\n        this.clone, ngeoRuleGeometry);\n      const feature = clone.feature;\n\n      // (1) Apply geometry\n      const drawnFeature = googAsserts.assertInstanceof(\n        evt.element,\n        olFeature\n      );\n      const geometry = googAsserts.assertInstanceof(\n        drawnFeature.getGeometry(),\n        olGeomGeometry\n      );\n      clone.geometry = geometry;\n\n      // (2) Deactivate draw tools\n      this.drawActive = false;\n\n      // (3) Set properties, then style\n      const properties = this.ngeoFeatureHelper_.getNonSpatialProperties(\n        drawnFeature);\n      this.ngeoFeatureHelper_.clearNonSpatialProperties(feature);\n      feature.setProperties(properties);\n      this.ngeoFeatureHelper_.setStyle(feature, true);\n\n      this.scope_.$apply();\n    });\n  }\n\n  /**\n   * Return the type of geometry used by the rule feature. Used in the template.\n   * @return {string} Geometry type.\n   * @export\n   */\n  getRuleGeometryType() {\n    const rule = googAsserts.assertInstanceof(this.rule, ngeoRuleGeometry);\n    return this.ngeoFeatureHelper_.getType(rule.feature);\n  }\n\n  /**\n   * @param {Event} evt Event.\n   * @private\n   */\n  handleMapContextMenu_(evt) {\n\n    // (1) Remove previous menu, if any\n    this.removeMenu_();\n\n    // (2) Get feature at pixel\n    const pixel = this.map.getEventPixel(evt);\n    const coordinate = this.map.getCoordinateFromPixel(pixel);\n\n    let feature = this.map.forEachFeatureAtPixel(\n      pixel,\n      (feature) => {\n        let ret = false;\n        if (olArray.includes(this.selectedFeatures.getArray(), feature)) {\n          ret = feature;\n        }\n        return ret;\n      }\n    );\n\n    feature = feature ? feature : null;\n\n    // (3) If the clicked feature is the selected one, plus if it has a certain\n    //     type of geometry, then show the menu\n    const actions = [];\n    if (feature) {\n\n      const type = this.ngeoFeatureHelper_.getType(feature);\n      const  gettextCatalog = this.gettextCatalog_;\n\n      if (type == ngeoGeometryType.CIRCLE ||\n          type == ngeoGeometryType.LINE_STRING ||\n          type == ngeoGeometryType.POLYGON ||\n          type == ngeoGeometryType.RECTANGLE) {\n        actions.push({\n          cls: 'fa fa-arrows',\n          label: gettextCatalog.getString('Move'),\n          name: 'move'\n        });\n      }\n      if (type == ngeoGeometryType.LINE_STRING ||\n          type == ngeoGeometryType.POLYGON ||\n          type == ngeoGeometryType.RECTANGLE) {\n        actions.push({\n          cls: 'fa fa-rotate-right',\n          label: gettextCatalog.getString('Rotate'),\n          name: 'rotate'\n        });\n      }\n    }\n\n    if (actions.length) {\n      // (4) Create and show menu\n      this.menu_ = new ngeoMenu({\n        actions\n      });\n\n      olEvents.listen(\n        this.menu_,\n        'actionclick',\n        this.handleMenuActionClick_,\n        this\n      );\n      this.map.addOverlay(this.menu_);\n\n      this.menu_.open(coordinate);\n\n      evt.preventDefault();\n      evt.stopPropagation();\n\n      this.scope_.$apply();\n    }\n  }\n\n  /**\n   * Remove contextual menu, if any.\n   * @private\n   */\n  removeMenu_() {\n    if (this.menu_) {\n      olEvents.unlisten(\n        this.menu_,\n        'actionclick',\n        this.handleMenuActionClick_,\n        this\n      );\n      this.map.removeOverlay(this.menu_);\n      this.menu_ = null;\n    }\n  }\n\n  /**\n   * @param {ngeox.MenuEvent} evt Event.\n   * @private\n   */\n  handleMenuActionClick_(evt) {\n    const action = evt.detail.action;\n\n    switch (action) {\n      case 'move':\n        this.translate_.setActive(true);\n        this.scope_.$apply();\n        break;\n      case 'rotate':\n        this.rotate_.setActive(true);\n        this.scope_.$apply();\n        break;\n      default:\n        console.log(`FIXME - support: ${action}`);\n        break;\n    }\n  }\n\n  /**\n   * @param {ngeox.RotateEvent} evt Event.\n   * @private\n   */\n  handleRotateEnd_(evt) {\n    this.rotate_.setActive(false);\n    this.scope_.$apply();\n  }\n\n  /**\n   * @param {ol.interaction.Translate.Event} evt Event.\n   * @private\n   */\n  handleTranslateEnd_(evt) {\n    this.translate_.setActive(false);\n    this.scope_.$apply();\n  }\n\n};\n\n\n/**\n * The rule component is bound to a `ngeo.rule.Rule` object and shows UI\n * components to be able to edit its properties, such as: operator, expression,\n * etc. The actual properties depend on the type of rule.\n *\n * Also, changes are not made on-the-fly. A button must be clicked for the\n * changes to be applied to the rule.\n */\nexports.component('ngeoRule', {\n  bindings: {\n    'featureOverlay': '<',\n    'map': '<',\n    'rule': '<',\n    'toolGroup': '<'\n  },\n  controller: exports.RuleController_,\n  templateUrl: () => `${ngeoBase.baseModuleTemplateUrl}/filter/rulecomponent.html`\n});\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/filter/ruleComponent.js"],"sourceRoot":""}