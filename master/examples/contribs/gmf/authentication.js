(function(){'use strict';var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={ta:!0},fa={};try{fa.__proto__=ea;da=fa.ta;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ha=ca,ia="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ja="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ka(a,b){if(b){var c=ja;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ia(c,a,{configurable:!0,writable:!0,value:b})}}
ka("Math.cosh",function(a){if(a)return a;var b=Math.exp;return function(a){a=Number(a);return(b(a)+b(-a))/2}});ka("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});var la=this;function n(a,b){a=a.split(".");var c=la;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function p(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ma(){}var pa=0;function qa(a){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"}p(qa,Error);function ra(a){for(var b in a)delete a[b]};function sa(a){function b(b){var c=a.listener,f=a.bindTo||a.target;if(a.ia&&a&&a.target){a.target.removeEventListener(a.type,a.ha);var e=ta(a.target,a.type);if(e){var g="deleteIndex"in a?a.deleteIndex:e.indexOf(a);-1!==g&&e.splice(g,1);if(0===e.length){e=a.target;g=a.type;var l=ta(e,g);if(l){for(var q=0,w=l.length;q<w;++q)e.removeEventListener(g,l[q].ha),ra(l[q]);l.length=0;if(l=e.J)delete l[g],0===Object.keys(l).length&&delete e.J}}}ra(a)}return c.call(f,b)}return a.ha=b}
function ta(a,b){return(a=a.J)?a[b]:void 0}function t(a,b,c,d,f){var e=a.J;e||(e=a.J={});var g=e;(e=g[b])||(e=g[b]=[]);a:{g=e;for(var l,q=0,w=g.length;q<w;++q)if(l=g[q],l.listener===c&&l.bindTo===d){g=l;break a}g=void 0}g?f||(g.ia=!1):(g={bindTo:d,ia:!!f,listener:c,target:a,type:b},a.addEventListener(b,sa(g)),e.push(g));return g};function ua(){};function u(a){this.type=a;this.target=null}u.prototype.preventDefault=u.prototype.stopPropagation=function(){this.ya=!0};function v(){this.B={};this.f={};this.A={}}p(v,ua);v.prototype.addEventListener=function(a,b){var c=this.A[a];c||(c=this.A[a]=[]);-1===c.indexOf(b)&&c.push(b)};function x(a,b){var c="string"===typeof b?new u(b):b;b=c.type;c.target=a;var d=a.A[b];if(d){b in a.f||(a.f[b]=0,a.B[b]=0);++a.f[b];for(var f=0,e=d.length;f<e&&!1!==d[f].call(a,c)&&!c.ya;++f);--a.f[b];if(0===a.f[b]){c=a.B[b];for(delete a.B[b];c--;)a.removeEventListener(b,ma);delete a.f[b]}}}
v.prototype.removeEventListener=function(a,b){var c=this.A[a];c&&(b=c.indexOf(b),a in this.B?(c[b]=ma,++this.B[a]):(c.splice(b,1),0===c.length&&delete this.A[a]))};function va(){v.call(this)}p(va,v);va.prototype.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,f=Array(d),e=0;e<d;++e)f[e]=t(this,a[e],b,c,!0);return f}return t(this,a,b,c,!0)};var wa=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function y(a){a=this.a=a.code;var b=window.proj4;"function"==typeof b&&b.defs(a)};function z(a){y.call(this,{code:a,units:"m",extent:xa,global:!0,Ba:ya,La:function(a,c){return a/wa(c[1]/6378137)}})}p(z,y);var A=6378137*Math.PI,xa=[-A,-A,A,A],ya=[-180,-85,180,85],za=[new z("EPSG:3857"),new z("EPSG:102100"),new z("EPSG:102113"),new z("EPSG:900913"),new z("urn:ogc:def:crs:EPSG:6.18:3:3857"),new z("urn:ogc:def:crs:EPSG::3857"),new z("http://www.opengis.net/gml/srs/epsg.xml#3857")];
function Aa(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var f=0;f<d;f+=c){b[f]=A*a[f]/180;var e=6378137*Math.log(Math.tan(Math.PI*(a[f+1]+90)/360));e>A?e=A:e<-A&&(e=-A);b[f+1]=e}return b}function Ba(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var f=0;f<d;f+=c)b[f]=180*a[f]/A,b[f+1]=360*Math.atan(Math.exp(a[f+1]/6378137))/Math.PI-90;return b};function B(a,b){y.call(this,{code:a,units:"degrees",extent:Ca,Ka:b,global:!0,Na:Da,Ba:Ca})}p(B,y);var Ca=[-180,-90,180,90],Da=6378137*Math.PI/180,Ea=[new B("CRS:84"),new B("EPSG:4326","neu"),new B("urn:ogc:def:crs:EPSG::4326","neu"),new B("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new B("urn:ogc:def:crs:OGC:1.3:CRS84"),new B("urn:ogc:def:crs:OGC:2:84"),new B("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new B("urn:x-ogc:def:crs:EPSG:4326","neu")];var Fa={};function C(a,b,c){a=a.a;b=b.a;a in Fa||(Fa[a]={});Fa[a][b]=c};function Ga(a){a.forEach(Ha);a.forEach(function(b){a.forEach(function(a){b!==a&&C(b,a,Ia)})})}function Ha(a){C(a,a,Ia)}function Ia(a,b){if(void 0!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a}Ga(za);Ga(Ea);Ea.forEach(function(a){za.forEach(function(b){C(a,b,Aa);C(b,a,Ba)})});function Ja(){return document.createElement("CANVAS").getContext("2d")};var D="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"";D.indexOf("firefox");-1!==D.indexOf("safari")&&D.indexOf("chrom");-1!==D.indexOf("webkit")&&D.indexOf("edge");D.indexOf("macintosh");(function(){if(!("HTMLCanvasElement"in window))return!1;try{return document.createElement("CANVAS").getContext("2d")?!0:!1}catch(a){return!1}})();function E(a){v.call(this);this.highWaterMark=void 0!==a?a:2048;this.c={};this.a=this.b=null}p(E,v);E.prototype.clear=function(){this.c={};this.a=this.b=null;x(this,"clear")};E.prototype.forEach=function(a,b){for(var c=this.b;c;)a.call(b,c.P,c.ka,this),c=c.u};E.prototype.get=function(a){a=this.c[a];if(void 0===a)throw new qa(15);if(a===this.a)return a.P;a===this.b?(this.b=this.b.u,this.b.D=null):(a.u.D=a.D,a.D.u=a.u);a.u=null;a.D=this.a;this.a=this.a.u=a;return a.P};
E.prototype.pop=function(){var a=this.b;delete this.c[a.ka];a.u&&(a.u.D=null);this.b=a.u;this.b||(this.a=null);return a.P};E.prototype.set=function(a,b){if(a in this.c)throw new qa(16);b={ka:a,u:null,D:this.a,P:b};this.a?this.a.u=b:this.b=b;this.a=b;this.c[a]=b};var Ma=new E;var F={W:{}};F.W.Y=function(){};
(function(a){function b(a,b,c){if(g)return new ImageData(a,b,c);b=l.createImageData(b,c);b.data.set(a);return b}function c(a){var b=!0;try{new ImageData(10,10)}catch(na){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,q=c.height,g=d.length,w=d[0].byteLength;if(c.imageOps){w=Array(g);for(c=0;c<g;++c){var h=c;var k=new Uint8ClampedArray(d[c]);var r=f,m=q;k=b?new ImageData(k,r,m):{data:k,width:r,height:m};w[h]=k}f=a(w,e).data}else{f=new Uint8ClampedArray(w);q=Array(g);h=Array(g);for(c=0;c<
g;++c)q[c]=new Uint8ClampedArray(d[c]),h[c]=[0,0,0,0];for(d=0;d<w;d+=4){for(c=0;c<g;++c)k=q[c],h[c][0]=k[d],h[c][1]=k[d+1],h[c][2]=k[d+2],h[c][3]=k[d+3];c=a(h,e);f[d]=c[0];f[d+1]=c[1];f[d+2]=c[2];f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.va||{}).map(function(b){return"var "+b+" = "+a.va[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.xa.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);",
"});"]);d=URL.createObjectURL(new Blob(d,{type:"text/javascript"}));d=new Worker(d);d.addEventListener("message",b);return d}function f(a,b){var d=c(a.xa);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function e(a){this.R=!!a.Ma;var b;0===a.za?b=0:this.R?b=1:b=a.za||1;var c=[];if(b)for(var e=0;e<b;++e)c[e]=d(a,this.ea.bind(this,e));else c[0]=f(a,this.ea.bind(this,0));this.H=c;this.fa=[];this.G=0;this.C={};this.S=null}var g=!0;try{new ImageData(10,10)}catch(q){g=
!1}var l=document.createElement("canvas").getContext("2d");e.prototype.pa=function(){if(0===this.G&&0<this.fa.length){var a=this.S=this.fa.shift(),b=a.inputs[0].width,c=a.inputs[0].height,d=a.inputs.map(function(a){return a.data.buffer}),e=this.H.length;this.G=e;if(1===e)this.H[0].postMessage({buffers:d,meta:a.wa,imageOps:this.R,width:b,height:c},d);else for(var f=4*Math.ceil(a.inputs[0].data.length/4/e),g=0;g<e;++g){for(var l=g*f,M=[],h=0,k=d.length;h<k;++h)M.push(d[g].slice(l,l+f));this.H[g].postMessage({buffers:M,
meta:a.wa,imageOps:this.R,width:b,height:c},M)}}};e.prototype.ea=function(a,b){this.Ja||(this.C[a]=b.data,--this.G,0===this.G&&this.ra())};e.prototype.ra=function(){var a=this.S,c=this.H.length;if(1===c){var d=new Uint8ClampedArray(this.C[0].buffer);var e=this.C[0].meta}else{var f=a.inputs[0].data.length;d=new Uint8ClampedArray(f);e=Array(f);f=4*Math.ceil(f/4/c);for(var g=0;g<c;++g){var l=g*f;d.set(new Uint8ClampedArray(this.C[g].buffer),l);e[g]=this.C[g].meta}}this.S=null;this.C={};a.callback(null,
b(d,a.inputs[0].width,a.inputs[0].height),e);this.pa()};a["default"]={Y:e};a.Y=e})(F.W=F.W||{});var Na=[],Oa=[];function Pa(a,b){switch(a){case "MAP_RENDERER":a=Na;a.push(b);break;case "LAYER_RENDERER":a=Oa;a.push(b);break;default:throw Error("Unsupported plugin type: "+a);}};function G(a){v.call(this);this.a=a}p(G,va);G.prototype.b=function(a){2===a.target.getState()&&(a=this.a,a.a()&&"ready"==a.N()&&x(this,"change"))};G.prototype.loadImage=function(a){var b=a.getState();2!=b&&3!=b&&t(a,"change",this.b,this);0==b&&(a.load(),b=a.getState());return 2==b};function Qa(a){G.call(this,a)}p(Qa,G);function Ra(a){G.call(this,a)}p(Ra,Qa);function I(a){G.call(this,a)}p(I,Ra);I.handles=function(a,b){return"canvas"===a&&("IMAGE"===b.getType()||"VECTOR"===b.getType()&&"image"===b.c())};I.create=function(a,b){var c=new I(b);if("VECTOR"===b.getType())for(var d=0,f=Oa.length;d<f;++d){var e=Oa[d];e!==I&&e.handles("canvas",b)&&e.create(a,b)}return c};function J(a){G.call(this,a);this.context=null===this.context?null:Ja()}p(J,Ra);J.handles=function(a,b){return"canvas"===a&&"TILE"===b.getType()};J.create=function(a,b){return new J(b)};try{new MouseEvent("click",{buttons:1})}catch(a){};function Sa(){}p(Sa,ua);function K(a){this.b=Ja();this.a=this.b.canvas;this.a.style.width="100%";this.a.style.height="100%";this.a.style.display="block";this.a.className="ol-unselectable";a.insertBefore(this.a,a.childNodes[0]||null)}p(K,Sa);K.handles=function(a){return"canvas"===a};K.create=function(a,b){return new K(a,b)};K.prototype.getType=function(){return"canvas"};F.F=function(){};
(function(a){function b(a,b,d,e,H){c(a,b,d||0,e||a.length-1,H||f)}function c(a,b,e,f,H){for(;f>e;){if(600<f-e){var h=f-e+1,k=b-e+1,r=Math.log(h),m=.5*Math.exp(2*r/3);r=.5*Math.sqrt(r*m*(h-m)/h)*(0>k-h/2?-1:1);c(a,b,Math.max(e,Math.floor(b-k*m/h+r)),Math.min(f,Math.floor(b+(h-k)*m/h+r)),H)}h=a[b];k=e;m=f;d(a,e,b);for(0<H(a[f],h)&&d(a,e,f);k<m;){d(a,k,m);k++;for(m--;0>H(a[k],h);)k++;for(;0<H(a[m],h);)m--}0===H(a[e],h)?d(a,e,m):(m++,d(a,m,f));m<=b&&(e=m+1);b<=m&&(f=m-1)}}function d(a,b,c){var h=a[b];
a[b]=a[c];a[c]=h}function f(a,b){return a<b?-1:a>b?1:0}function e(a,b){if(!(this instanceof e))return new e(a,b);this.T=Math.max(4,a||9);this.da=Math.max(2,Math.ceil(.4*this.T));b&&this.qa(b);this.clear()}function g(a,b){l(a,0,a.children.length,b,a)}function l(a,b,c,d,e){e||(e=L(null));e.g=Infinity;e.i=Infinity;e.j=-Infinity;e.l=-Infinity;for(var h;b<c;b++)h=a.children[b],q(e,a.o?d(h):h);return e}function q(a,b){a.g=Math.min(a.g,b.g);a.i=Math.min(a.i,b.i);a.j=Math.max(a.j,b.j);a.l=Math.max(a.l,b.l);
return a}function w(a,b){return a.g-b.g}function na(a,b){return a.i-b.i}function oa(a){return(a.j-a.g)*(a.l-a.i)}function aa(a){return a.j-a.g+(a.l-a.i)}function Ka(a,b){return b.g<=a.j&&b.i<=a.l&&b.j>=a.g&&b.l>=a.i}function L(a){return{children:a,height:1,o:!0,g:Infinity,i:Infinity,j:-Infinity,l:-Infinity}}function La(a,b,c,d,e){for(var h=[b,c],k;h.length;)c=h.pop(),b=h.pop(),c-b<=d||(k=b+Math.ceil((c-b)/d/2)*d,M(a,k,b,c,e),h.push(b,k,k,c))}var M=b;M.default=b;e.prototype={all:function(){return this.Z(this.data,
[])},search:function(a){var b=this.data,c=[],d=this.v;if(!Ka(a,b))return c;for(var h=[],e,f,g,P;b;){e=0;for(f=b.children.length;e<f;e++)g=b.children[e],P=b.o?d(g):g,Ka(a,P)&&(b.o?c.push(g):a.g<=P.g&&a.i<=P.i&&P.j<=a.j&&P.l<=a.l?this.Z(g,c):h.push(g));b=h.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.da){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}a=this.ba(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.ga(this.data,
a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.ca(a,this.data.height-a.height-1,!0)):this.data=a;return this},insert:function(a){a&&this.ca(a,this.data.height-1);return this},clear:function(){this.data=L([]);return this},v:function(a){return a},U:w,V:na,toJSON:function(){return this.data},Z:function(a,b){for(var c=[];a;)a.o?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},ba:function(a,b,c,d){var e=c-b+1,f=this.T;if(e<=f){var h=L(a.slice(b,c+1));g(h,this.v);
return h}d||(d=Math.ceil(Math.log(e)/Math.log(f)),f=Math.ceil(e/Math.pow(f,d-1)));h=L([]);h.o=!1;h.height=d;e=Math.ceil(e/f);f=e*Math.ceil(Math.sqrt(f));var k;for(La(a,b,c,f,this.U);b<=c;b+=f){var m=Math.min(b+f-1,c);La(a,b,m,e,this.V);for(k=b;k<=m;k+=e){var r=Math.min(k+e-1,m);h.children.push(this.ba(a,k,r,d-1))}}g(h,this.v);return h},oa:function(a,b,c,d){for(var e,f,h,k,m,g,r,l;;){d.push(b);if(b.o||d.length-1===c)break;r=l=Infinity;e=0;for(f=b.children.length;e<f;e++)h=b.children[e],m=oa(h),g=(Math.max(h.j,
a.j)-Math.min(h.g,a.g))*(Math.max(h.l,a.l)-Math.min(h.i,a.i))-m,g<l?(l=g,r=m<r?m:r,k=h):g===l&&m<r&&(r=m,k=h);b=k||b.children[0]}return b},ca:function(a,b,c){var d=this.v;c=c?a:d(a);d=[];var e=this.oa(c,this.data,b,d);e.children.push(a);for(q(e,c);0<=b;)if(d[b].children.length>this.T)this.sa(d,b),b--;else break;this.la(c,d,b)},sa:function(a,b){var c=a[b],d=c.children.length,e=this.da;this.ma(c,e,d);d=this.na(c,e,d);d=L(c.children.splice(d,c.children.length-d));d.height=c.height;d.o=c.o;g(c,this.v);
g(d,this.v);b?a[b-1].children.push(d):this.ga(c,d)},ga:function(a,b){this.data=L([a,b]);this.data.height=a.height+1;this.data.o=!1;g(this.data,this.v)},na:function(a,b,c){var d,e;var f=e=Infinity;for(d=b;d<=c-b;d++){var h=l(a,0,d,this.v);var g=l(a,d,c,this.v);var k=Math.max(0,Math.min(h.j,g.j)-Math.max(h.g,g.g))*Math.max(0,Math.min(h.l,g.l)-Math.max(h.i,g.i));h=oa(h)+oa(g);if(k<f){f=k;var r=d;e=h<e?h:e}else k===f&&h<e&&(e=h,r=d)}return r},ma:function(a,b,c){var d=a.o?this.U:w,e=a.o?this.V:na,f=this.aa(a,
b,c,d);b=this.aa(a,b,c,e);f<b&&a.children.sort(d)},aa:function(a,b,c,d){a.children.sort(d);d=this.v;var e=l(a,0,b,d),f=l(a,c-b,c,d),h=aa(e)+aa(f),g;for(g=b;g<c-b;g++){var k=a.children[g];q(e,a.o?d(k):k);h+=aa(e)}for(g=c-b-1;g>=b;g--)k=a.children[g],q(f,a.o?d(k):k),h+=aa(f);return h},la:function(a,b,c){for(;0<=c;c--)q(b[c],a)},qa:function(a){var b=["return a"," - b",";"];this.U=new Function("a","b",b.join(a[0]));this.V=new Function("a","b",b.join(a[1]));this.v=new Function("a","return {minX: a"+a[0]+
", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};a["default"]=e})(F.F=F.F||{});F.F=F.F.default;function N(a){G.call(this,a);a.b()&&F.F(9);this.context=Ja();t(Ma,"clear",this.c,this)}p(N,Qa);N.handles=function(a,b){return"canvas"===a&&"VECTOR"===b.getType()};N.create=function(a,b){return new N(b)};N.prototype.c=function(){this.a.a()};function O(a){this.context=null;J.call(this,a);a.b()&&F.F(9);a.c();t(Ma,"clear",this.c,this)}p(O,J);O.handles=function(a,b){return"canvas"===a&&"VECTOR_TILE"===b.getType()};O.create=function(a,b){return new O(b)};O.prototype.c=function(){var a=this.a;a.a()&&void 0!==this.N&&x(a,"change")};Pa("MAP_RENDERER",K);for(var Ta=[I,J,N,O],Ua=0,Va=Ta.length;Ua<Va;++Ua)Pa("LAYER_RENDERER",Ta[Ua]);var Wa=angular.module("ngeo",["gettext","ui.date","floatThead"]);n("ngeo.AttributeType",{Ca:"boolean",Da:"date",Ea:"datetime",Ia:"time",Fa:"geometry",Ga:"number",Ha:"select",TEXT:"text"});n("ngeo.FeatureProperties",{ANGLE:"a",COLOR:"c",IS_CIRCLE:"l",IS_RECTANGLE:"r",IS_TEXT:"t",NAME:"n",SHOW_LABEL:"b",OPACITY:"o",AZIMUT:"z",SHOW_MEASURE:"m",SIZE:"s",STROKE:"k"});n("ngeo.FilterCondition",{AND:"&&",NOT:"!",OR:"||"});
n("ngeo.GeometryType",{CIRCLE:"Circle",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",MULTI_POINT:"MultiPoint",MULTI_POLYGON:"MultiPolygon",POINT:"Point",POLYGON:"Polygon",RECTANGLE:"Rectangle",TEXT:"Text"});n("ngeo.NumberType",{FLOAT:"float",INTEGER:"integer"});var Q=angular.module("gmf",[Wa.name,"gettext","ngAnimate","ngTouch","ngSanitize","tmh.dynamicLocale","ui.date","ui.slider"]);Q.config(["tmhDynamicLocaleProvider","angularLocaleScript",function(a,b){a.localeLocationPattern(b)}]);Q.config(["$animateProvider",function(a){a.classNameFilter(/gmf-animatable/)}]);n("gmf.DATALAYERGROUP_NAME","data");n("gmf.EXTERNALLAYERGROUP_NAME","external");n("gmf.COORDINATES_LAYER_NAME","gmfCoordinatesLayerName");(function(){function a(a){a.put("gmfmodule/layertree/timesliderComponent.html",'<div class="gmf-time-slider"><div ui-slider="sliderCtrl.sliderOptions" ng-model="sliderCtrl.dates"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" data-toggle="tooltip" title></span></div><div class="gmf-time-slider-displayed-dates"><div class="gmf-time-slider-start-date" ng-if="::sliderCtrl.time.mode === \'range\'"><span>{{sliderCtrl.getLocalizedDate(sliderCtrl.dates[0])}}</span></div><div class="gmf-time-slider-start-date" ng-if="::sliderCtrl.time.mode === \'value\'"><span>{{sliderCtrl.getLocalizedDate(sliderCtrl.dates)}}</span></div><div class="gmf-time-slider-end-date" ng-if="::sliderCtrl.time.mode === \'range\'"><span>{{sliderCtrl.getLocalizedDate(sliderCtrl.dates[1])}}</span></div></div></div>');
a.put("gmfmodule/permalink/shareComponent.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" translate>Share this map</h4></div><div class="modal-body"><form role="form" name="gmfShareForm" novalidate><div class="form-group"><label for="gmfShareInputShortLink" translate>Permalink</label><input type="text" class="form-control" id="gmfShareInputShortLink" onclick="this.select()" ng-model="$ctrl.shortLink" readonly="True"><p class="help-block" translate>Copy this link to share it.</p><p class="text-danger" ng-if="$ctrl.showLengthWarning"><span class="fa fa-exclamation-triangle"></span> {{\'You have a lot of drawn elements in this map. The above link may not be correctly supported by some browsers.\' | translate}} </p><p class="text-danger" ng-if="::$ctrl.errorOnGetShortUrl"><span class="fa fa-exclamation"></span> {{\'Error, cannot get the shortened URL.\' | translate}} </p></div><hr><div class="gmf-share-email" ng-if="::$ctrl.enableEmail"><div class="form-group"><label for="gmfShareInputEmail" translate>Send this link to</label><input type="email" class="form-control" name="inputEmail" id="gmfShareInputEmail" placeholder="E-mail" ng-model="$ctrl.email" required><span ng-show="gmfShareForm.$submitted || gmfShareForm.inputEmail.$touched"><span class="text-danger" ng-show="gmfShareForm.inputEmail.$error.email || gmfShareForm.inputEmail.$error.required"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{\'Invalid email.\' | translate}}</span></span></div><div class="form-group"><textarea class="form-control" ng-attr-placeholder="{{\'Message (optional)\' |\u00a0translate }}" ng-model="$ctrl.message"></textarea></div><span class="text-success" ng-if="$ctrl.successfullySent"><i class="fa fa-check" aria-hidden="true"></i> {{ \'Link successfully sent.\' | translate }} </span><span class="text-danger" ng-if="$ctrl.errorOnsend"><i class="fa fa-exclamation" aria-hidden="true"></i> {{ \'Error, the link has not been sent.\' | translate }} </span></div><div class="text-right"><button type="button" class="btn btn-default" data-dismiss="modal" translate>Close</button><button ng-if="::$ctrl.enableEmail" type="submit" class="btn btn-default btn-primary" ng-click="$ctrl.sendShortUrl()" ng-disabled="!gmfShareForm.$valid" translate>Send </button></div></form></div>');
a.put("gmfmodule/editing/editFeatureSelectorComponent.html",'<div ng-switch="efsCtrl.selectedEditableTreeCtrl"><div ng-switch-when="null"><select class="form-control" ng-model="efsCtrl.selectedEditableTreeCtrl" ng-show="efsCtrl.editableTreeCtrls.length > 0" ng-options="treeCtrl.node.name | translate for treeCtrl in efsCtrl.editableTreeCtrls"><option value translate>-- Choose a layer --</option></select><span ng-show="efsCtrl.editableTreeCtrls.length == 0" translate>No editable layer available!</span></div><div ng-switch-default><div class="row"><div class="col-sm-12"><span translate>Currently editing: </span><b>{{ efsCtrl.selectedEditableTreeCtrl.node.name | translate }}</b><span class="fa fa-pencil"></span><br><button ng-click="efsCtrl.stopEditing()" class="btn btn-link btn-xs pull-right"><span class="fa fa-times"></span> {{\'Stop editing\' | translate}} </button></div></div><gmf-editfeature gmf-editfeature-dirty="efsCtrl.dirty" gmf-editfeature-editabletreectrl="::efsCtrl.selectedEditableTreeCtrl" gmf-editfeature-map="::efsCtrl.map" gmf-editfeature-state="efsCtrl.state" gmf-editfeature-tolerance="::efsCtrl.tolerance" gmf-editfeature-vector="::efsCtrl.vectorLayer"></gmf-editfeature></div></div>');
a.put("gmfmodule/objectediting/toolsComponent.html",'<div class="btn-group" role="group" aria-label><a href ngeo-btn ngeo-createfeature ngeo-createfeature-active="oetCtrl.drawActive" ngeo-createfeature-features="::oetCtrl.sketchFeatures" ngeo-createfeature-geom-type="::oetCtrl.geomType" ngeo-createfeature-map="::oetCtrl.map" class="btn btn-sm btn-default" ng-class="{active: oetCtrl.drawActive}" ng-if="::(oetCtrl.geomType === \'MultiPoint\')" ng-model="oetCtrl.drawActive" title="{{\'Add a point to the geometry\' | translate}}"><span class="fa fa-plus-square-o gmf-icon-oe-draw"></span></a><a href ngeo-btn ngeo-createfeature ngeo-createfeature-active="oetCtrl.drawActive" ngeo-createfeature-features="::oetCtrl.sketchFeatures" ngeo-createfeature-geom-type="::oetCtrl.geomType" ngeo-createfeature-map="::oetCtrl.map" class="btn btn-sm btn-default" ng-class="{active: oetCtrl.drawActive}" ng-if="::(oetCtrl.geomType === \'MultiLineString\')" ng-model="oetCtrl.drawActive" title="{{\'Add a linestring to the geometry\' | translate}}"><span class="fa fa-plus-square-o gmf-icon-oe-draw"></span></a><a href ngeo-btn ngeo-createfeature ngeo-createfeature-active="oetCtrl.drawActive" ngeo-createfeature-features="::oetCtrl.sketchFeatures" ngeo-createfeature-geom-type="::oetCtrl.geomType" ngeo-createfeature-map="::oetCtrl.map" class="btn btn-sm btn-default" ng-class="{active: oetCtrl.drawActive}" ng-if="::(oetCtrl.geomType === \'MultiPolygon\')" ng-model="oetCtrl.drawActive" title="{{\'Add a polygon to the geometry\' | translate}}"><span class="fa fa-plus-square-o gmf-icon-oe-draw"></span></a><a href ngeo-btn ngeo-createfeature ngeo-createfeature-active="oetCtrl.eraseActive" ngeo-createfeature-features="::oetCtrl.sketchFeatures" ngeo-createfeature-geom-type="::oetCtrl.geomTypePolygon" ngeo-createfeature-map="::oetCtrl.map" class="btn btn-sm btn-default" ng-class="{active: oetCtrl.eraseActive}" ng-model="oetCtrl.eraseActive" title="{{\'Erase geometry\' | translate}}"><span class="fa fa-minus-square-o gmf-icon-oe-erase"></span></a><a href ng-if="::oetCtrl.geomType === \'MultiPolygon\'" ngeo-btn ngeo-createregularpolygonfromclick ngeo-createregularpolygonfromclick-active="oetCtrl.drawTriangleActive" ngeo-createregularpolygonfromclick-angle="oetCtrl.triangleAngle" ngeo-createregularpolygonfromclick-features="::oetCtrl.sketchFeatures" ngeo-createregularpolygonfromclick-map="::oetCtrl.map" ngeo-createregularpolygonfromclick-radius="::oetCtrl.triangleRadius" class="btn btn-sm btn-default ngeo-createregularpolygonfromclick" ng-class="{active: oetCtrl.drawTriangleActive}" ng-model="oetCtrl.drawTriangleActive" title="{{\'Draw a triangle\' | translate}}"><span class="fa fa-play fa-rotate-270 gmf-icon-oe-triangle"></span></a><a href ngeo-btn gmf-objecteditinggetwmsfeature gmf-objecteditinggetwmsfeature-active="oetCtrl.copyFromActive" gmf-objecteditinggetwmsfeature-features="::oetCtrl.sketchFeatures" gmf-objecteditinggetwmsfeature-layerinfo="oetCtrl.queryableLayerInfo" gmf-objecteditinggetwmsfeature-map="::oetCtrl.map" class="btn btn-sm btn-default gmf-objecteditinggetwmsfeature-add" ng-class="{active: oetCtrl.copyFromActive}" ng-model="oetCtrl.copyFromActive" title="{{\'Copy from external WMS feature\' | translate}}"><span class="fa fa-clone gmf-icon-oe-copyfrom"></span></a><a href ngeo-btn gmf-objecteditinggetwmsfeature gmf-objecteditinggetwmsfeature-active="oetCtrl.deleteFromActive" gmf-objecteditinggetwmsfeature-features="::oetCtrl.sketchFeatures" gmf-objecteditinggetwmsfeature-layerinfo="oetCtrl.queryableLayerInfo" gmf-objecteditinggetwmsfeature-map="::oetCtrl.map" class="btn btn-sm btn-default gmf-objecteditinggetwmsfeature-delete" ng-class="{active: oetCtrl.deleteFromActive}" ng-model="oetCtrl.deleteFromActive" title="{{\'Cut from external WMS feature\' | translate}}"><span class="fa fa-scissors gmf-icon-oe-deletefrom"></span></a></div>');
a.put("ngeo/misc/datepickerComponent.html",'<div class="ngeo-datepicker"><form name="dateForm" class="ngeo-datepicker-form" novalidate><div ng-if="::datepickerCtrl.time.widget === \'datepicker\'"><div class="ngeo-datepicker-start-date"><span ng-if="::datepickerCtrl.time.mode === \'range\'" translate>From:</span><span ng-if="::datepickerCtrl.time.mode !== \'range\'" translate>Date:</span><input name="sdate" ui-date="datepickerCtrl.sdateOptions" ng-model="datepickerCtrl.sdate" required></div><div class="ngeo-datepicker-end-date" ng-if="::datepickerCtrl.time.mode === \'range\'"><span translate>To:</span><input name="edate" ui-date="datepickerCtrl.edateOptions" ng-model="datepickerCtrl.edate" required></div></div></form></div>');
a.put("ngeo/message/popupcomponent.html",'<h4 class="popover-title ngeo-popup-title"><span ng-bind-html="title"></span><button type="button" class="close" ng-click="open = false"> &times;</button></h4><div class="popover-content" ng-bind-html="content"></div>');a.put("ngeo/misc/colorpickerComponent.html",'<table class="ngeo-colorpicker-palette"><tr ng-repeat="colors in ::ctrl.colors"><td ng-repeat="color in ::colors" ng-click="ctrl.setColor(color)" ng-class="{\'ngeo-colorpicker-selected\': color == ctrl.color}"><div ng-style="::{\'background-color\': color}"></div></td></tr></table>');
a.put("gmfmodule/theme/selectorComponent.html",'<ul class="gmf-theme-selector"><li ng-repeat="theme in $ctrl.themes" ng-click="$ctrl.setTheme(theme)" ng-class="{\'gmf-theme-selector-active\': $ctrl.gmfThemeManager.getThemeName() == theme.name}"><img class="gmf-thumb" ng-src="{{::theme.icon}}"><span class="gmf-text">{{theme.name | translate}}</span></li></ul>');a.put("gmfmodule/print/component.html",'<div class="gmf-print"><div ng-show="$ctrl.isState(\'CAPABILITIES_NOT_LOADED\') !== true && $ctrl.isState(\'ERROR_ON_GETCAPABILITIES\') !== true"><div class="gmf-print-layout-selector form-horizontal"><ng-transclude/></div><div ng-repeat="attribute in $ctrl.layoutInfo.simpleAttributes" class="gmf-print-layoutinfo form-group"><div ng-if="$ctrl.hiddenAttributeNames === undefined || $ctrl.hiddenAttributeNames.indexOf(attribute.name) < 0"><input ng-if="attribute.type === \'number\'" ng-model="attribute.value" class="form-control" type="number" ng-attr-placeholder="{{attribute.name | translate}}"><input ng-if="attribute.type === \'text\'" ng-model="attribute.value" class="form-control" type="text" ng-attr-placeholder="{{attribute.name | translate}}"><textarea ng-if="attribute.type === \'textarea\'" ng-model="attribute.value" class="form-control" row="3" ng-attr-placeholder="{{attribute.name | translate}}"></textarea><div ng-if="attribute.type === \'checkbox\'" class="checkbox"><label><input ng-model="attribute.value" type="checkbox"><span>{{attribute.name | translate}}</span></label></div></div></div><div ng-show="$ctrl.layoutInfo.legend !== undefined" class="gmf-print-legend checkbox"><label><input ng-model="$ctrl.layoutInfo.legend" type="checkbox"><span translate>Legend</span></label></div><div class="gmf-print-layout-selector form-horizontal"><div ng-show="$ctrl.layoutInfo.layouts.length !== 1" class="form-group"><label class="control-label col-md-5" translate>Layout</label><div class="col-md-7"><div class="btn-group btn-block"><button type="button" class="btn btn-default form-control" data-toggle="dropdown"><span>{{$ctrl.layoutInfo.layout | translate}}&nbsp;</span><i class="fa fa-caret-down"></i></button><ul class="dropdown-menu dropdown-menu-right btn-block" role="menu"><li ng-repeat="layout in $ctrl.layoutInfo.layouts"><a ng-click="$ctrl.setLayout(layout)" href>{{layout | translate}}</a></li></ul></div></div></div><div ng-show="$ctrl.layoutInfo.scales.length !== 1" class="gmf-print-scale-selector form-group"><label class="control-label col-md-5" translate>Scale</label><div class="col-md-7"><div class="btn-group btn-block"><button type="button" class="btn btn-default form-control" data-toggle="dropdown" aria-expanded="false"><span>{{$ctrl.layoutInfo.scale | ngeoScalify}}&nbsp;</span><i class="fa fa-caret-down"></i></button><ul class="dropdown-menu dropdown-menu-right btn-block" role="menu"><li ng-repeat="scale in $ctrl.layoutInfo.scales"><a ng-click="$ctrl.getSetScale(scale)" href>{{scale | ngeoScalify}}</a></li><span ng-if="$ctrl.scaleInput"><li class="dropdown-header" translate>Manual entry</li><li><div class="gmf-print-custom-scale"> 1 : <input class="gmf-print-custom-scale-input" type="number" min="1" ng-model="$ctrl.getSetScale" ng-model-options="{getterSetter: true}"></div></li></span></ul></div></div></div><div ng-show="$ctrl.layoutInfo.dpis.length !== 1" class="gmf-print-dpi-selector form-group"><label class="control-label col-md-3" translate>DPI</label><div class="col-md-5"><div class="btn-group btn-block"><button type="button" class="btn btn-default form-control" data-toggle="dropdown" aria-expanded="false"><span>{{$ctrl.layoutInfo.dpi}}&nbsp;</span><i class="fa fa-caret-down"></i></button><ul class="dropdown-menu dropdown-menu-right btn-block" role="menu"><li ng-repeat="dpi in $ctrl.layoutInfo.dpis"><a href ng-click="$ctrl.setDpi(dpi)">{{dpi}}</a></li></ul></div></div></div><div class="gmf-print-rotation-selector form-group"><label class="control-label col-md-3" translate>Rotation</label><div class="col-md-5"><input class="form-control" type="range" ng-model="$ctrl.getSetRotation" ng-model-options="{getterSetter: true}" min="-180" max="180" data-toggle="tooltip" title="{{\'You can also use Alt+Shift on the map\' | translate}}"></div><div class="col-md-4"><input class="form-control" type="number" ng-model="$ctrl.getSetRotation" ng-model-options="{getterSetter: true}"></div></div></div><div class="gmf-print-actions form-group pull-right"><span ng-show="$ctrl.isState(\'PRINTING\')"><i class="fa fa-refresh fa-spin"></i></span><a ng-show="$ctrl.isState(\'PRINTING\')" class="gmf-print-cancel btn btn-link" href ng-click="$ctrl.cancel()" translate>Abort</a><button ng-show="$ctrl.layoutInfo.formats.png" class="gmf-print-image btn btn-primary" ng-disabled="$ctrl.isState(\'PRINTING\')" ng-click="$ctrl.print(\'png\')" translate>Image</button><button ng-show="$ctrl.layoutInfo.formats.pdf" class="gmf-print-pdf btn btn-primary" ng-disabled="$ctrl.isState(\'PRINTING\')" ng-click="$ctrl.print(\'pdf\')" translate>PDF</button></div><div ng-show="$ctrl.isState(\'ERROR_ON_REPORT\')" class="gmf-print-error-report form-group pull-left text-danger"><p>{{\'Error during the print, please try again.\' | translate}}</p></div></div><div ng-show="$ctrl.isState(\'CAPABILITIES_NOT_LOADED\')" class="gmf-print-wait form-group pull-left"><p>{{\'Connecting to the print server, please wait.\' | translate}}</p></div><div ng-show="$ctrl.isState(\'ERROR_ON_GETCAPABILITIES\')" class="gmf-print-error-capabilities form-group pull-left text-danger"><p>{{\'The print server is unavailable. Please, try later.\' | translate}}</p></div></div>');
a.put("ngeo/filter/rulecomponent.html",'<div class="dropdown" ng-class="{open: $ctrl.rule.active}"><a class="btn btn-default btn-sm dropdown-toggle" type="button" ng-click="$ctrl.toggle()"><span>{{ ::$ctrl.clone.name | translate }}</span><span class="caret"></span></a><div class="dropdown-menu form-group"><select class="form-control input-sm ngeo-rule-operators-list" ng-disabled="$ctrl.drawActive" ng-if="::$ctrl.clone.operators" ng-model="$ctrl.clone.operator" ng-options="$ctrl.operators[operator] | translate for operator in ::$ctrl.clone.operators track by operator"></select><div ng-switch="::$ctrl.clone.type"><div class="ngeo-rule-type-date form-group" ng-if="$ctrl.rule.active" ng-switch-when="date|datetime" ng-switch-when-separator="|"><div ng-switch="$ctrl.clone.operator"><div ng-switch-when=".."><ngeo-date-picker time="$ctrl.timeRangeMode" on-date-selected="$ctrl.onDateRangeSelected(time)"></ngeo-date-picker></div><div ng-switch-default><ngeo-date-picker time="$ctrl.timeValueMode" on-date-selected="$ctrl.onDateSelected(time)"></ngeo-date-picker></div></div></div><div class="ngeo-rule-type-geometry form-group" ng-switch-when="geometry"><div ng-switch="$ctrl.geomType"><span class="gmf-icon gmf-icon-point" ng-switch-when="Point"></span><span class="gmf-icon gmf-icon-line" ng-switch-when="LineString"></span><span class="gmf-icon gmf-icon-polygon" ng-switch-when="Polygon"></span><span class="gmf-icon gmf-icon-circle" ng-switch-when="Circle"></span><span class="gmf-icon gmf-icon-rectangle" ng-switch-when="Rectangle"></span></div><ngeo-drawfeature ngeo-drawfeature-active="$ctrl.drawActive" ngeo-drawfeature-features="$ctrl.drawnFeatures" ngeo-drawfeature-map="$ctrl.map"><div ngeo-btn-group class="btn-group"><a data-toggle="tooltip" title="{{\'Draw a point on the map\' | translate}}" href ngeo-btn ngeo-drawpoint class="btn btn-sm btn-default ngeo-drawfeature-point" ng-show="[\'intersects\', \'within\'].indexOf($ctrl.clone.operator) !== -1" ng-class="{active: dfCtrl.drawPoint.active}" ng-model="dfCtrl.drawPoint.active"><span class="gmf-icon gmf-icon-point"></span></a><a data-toggle="tooltip" title="{{\'Draw a line on the map\' | translate}}" href ngeo-btn ngeo-measurelength class="btn btn-sm btn-default ngeo-drawfeature-linestring" ng-show="[\'intersects\', \'within\'].indexOf($ctrl.clone.operator) !== -1" ng-class="{active: dfCtrl.measureLength.active}" ng-model="dfCtrl.measureLength.active"><span class="gmf-icon gmf-icon-line"></span></a><a data-toggle="tooltip" title="{{\'Draw a polygon on the map\' | translate}}" href ngeo-btn ngeo-measurearea class="btn btn-sm btn-default ngeo-drawfeature-polygon" ng-class="{active: dfCtrl.measureArea.active}" ng-model="dfCtrl.measureArea.active"><span class="gmf-icon gmf-icon-polygon"></span></a><a data-toggle="tooltip" title="{{\'Draw a circle on the map\' | translate}}" href ngeo-btn ngeo-measureazimut class="btn btn-sm btn-default ngeo-drawfeature-circle" ng-class="{active: dfCtrl.measureAzimut.active}" ng-model="dfCtrl.measureAzimut.active"><span class="gmf-icon gmf-icon-circle"></span></a><a data-toggle="tooltip" title="{{\'Draw a rectangle on the map\' | translate}}" href ngeo-btn ngeo-drawrectangle class="btn btn-sm btn-default ngeo-drawfeature-rectangle" ng-class="{active: dfCtrl.drawRectangle.active}" ng-model="dfCtrl.drawRectangle.active"><span class="gmf-icon gmf-icon-rectangle"></span></a></div><div class="ngeo-rule-type-geometry-instructions" ng-if="$ctrl.drawActive"><span ng-if="dfCtrl.drawPoint.active"> {{ \'Draw a point on the map.\' | translate }} </span><span ng-if="dfCtrl.measureLength.active"> {{ \'Draw a line string on the map.\' | translate }} </span><span ng-if="dfCtrl.measureArea.active"> {{ \'Draw a polygon on the map.\' | translate }} </span><span ng-if="dfCtrl.measureAzimut.active"> {{ \'Draw a circle on the map.\' | translate }} </span><span ng-if="dfCtrl.drawRectangle.active"> {{ \'Draw a rectangle on the map.\' | translate }} </span></div></ngeo-drawfeature></div><div class="checkbox ngeo-rule-type-select" ng-switch-when="select"><a ng-click="$ctrl.selectAllChoices()" href>{{ All | translate}} </a><label class="form-group ol-unselectable" ng-repeat="choice in ::$ctrl.clone.choices"><input ng-checked="$ctrl.clone.getExpression() && $ctrl.clone.getExpression().split(\',\').indexOf(choice) > -1" ng-click="$ctrl.toggleChoiceSelection(choice)" type="checkbox" value="choice"><span>{{ choice | translate }}</span></label></div><div class="form-group ngeo-rule-type-text" ng-switch-default><div ng-switch="$ctrl.clone.operator"><div ng-switch-when=".."><input type="number" class="form-control input-sm" ng-model="$ctrl.clone.lowerBoundary"><input type="number" class="form-control input-sm" ng-model="$ctrl.clone.upperBoundary"></div><div ng-switch-default><input type="number" class="form-control input-sm" ng-if="$ctrl.clone.type === \'number\'" ng-model="$ctrl.clone.expression"><input type="text" class="form-control input-sm" ng-if="$ctrl.clone.type !== \'number\'" ng-model="$ctrl.clone.expression"></div></div></div><div class="ngeo-rule-btns"><button class="btn btn-xs btn-default" ng-click="$ctrl.apply()" type="button">{{\'Apply\' | translate}}</button><button class="btn btn-xs btn-default" ng-click="$ctrl.cancel()" type="button">{{\'Cancel\' | translate}}</button></div></div></div></div><div class="ngeo-rule-value" ng-if="$ctrl.rule.value !== null"><a class="btn btn-xs btn-link" ng-click="!$ctrl.rule.active && $ctrl.reset()" ng-disabled="$ctrl.rule.active" href><span class="fa fa-remove"></span></a><div ng-switch="::$ctrl.rule.type"><div ng-switch-when="date|datetime" ng-switch-when-separator="|"><div ng-switch="$ctrl.rule.operator"><div ng-switch-when=".."><span translate>From </span><span>{{ $ctrl.timeToDate($ctrl.rule.lowerBoundary) }}</span><span translate> to </span><span>{{ $ctrl.timeToDate($ctrl.rule.upperBoundary) }}</span></div><div ng-switch-default><span>{{ $ctrl.rule.operator }}</span><span>{{ $ctrl.timeToDate($ctrl.rule.getExpression()) }}</span></div></div></div><div ng-switch-when="geometry"><span>{{ $ctrl.operators[$ctrl.rule.operator] }}</span><span ng-switch="$ctrl.getRuleGeometryType()"><span class="gmf-icon gmf-icon-point" ng-switch-when="Point"></span><span class="gmf-icon gmf-icon-line" ng-switch-when="LineString"></span><span class="gmf-icon gmf-icon-polygon" ng-switch-when="Polygon"></span><span class="gmf-icon gmf-icon-circle" ng-switch-when="Circle"></span><span class="gmf-icon gmf-icon-rectangle" ng-switch-when="Rectangle"></span></span></div><div ng-switch-when="select"><span ng-repeat="choice in $ctrl.rule.getExpression().split(\',\')"> {{ choice | translate }}{{ $last ? \'\' : \', \' }} </span></div><div ng-switch-default><div ng-switch="$ctrl.rule.operator"><div ng-switch-when=".."><span translate>Between </span><span>{{ $ctrl.rule.lowerBoundary }}</span><span translate> and </span><span>{{ $ctrl.rule.upperBoundary }}</span></div><div ng-switch-default><span>{{ $ctrl.rule.operator }}</span><span>{{ $ctrl.rule.getExpression() }}</span></div></div></div></div></div>');
a.put("gmfmodule/drawing/featureStyleComponent.html",'<div ng-if="fsCtrl.feature && fsCtrl.type"><div class="form-group"><input ng-model="fsCtrl.getSetName" ng-model-options="{getterSetter: true}" ng-attr-placeholder="{{\'Name\' | translate}}" class="form-control"></div><div ng-if="fsCtrl.type !== \'Text\'" class="form-group"><input id="gmf-featurestyle-showlabel" type="checkbox" ng-model="fsCtrl.getSetShowLabel" ng-model-options="{getterSetter: true}"><label ng-switch="fsCtrl.type" for="gmf-featurestyle-showlabel" class="control-label"> {{\'Display label\' | translate}} </label></div><div ng-if="fsCtrl.type !== \'Text\'" class="form-group"><input id="gmf-featurestyle-showmeasure" type="checkbox" ng-model="fsCtrl.getSetShowMeasure" ng-model-options="{getterSetter: true}"><label ng-switch="fsCtrl.type" for="gmf-featurestyle-showmeasure" class="control-label"><span ng-switch-when="Circle"> {{\'Display azimuth and radius\' | translate}} </span><span ng-switch-when="Polygon"> {{\'Display surface\' | translate}} </span><span ng-switch-when="Rectangle"> {{\'Display surface\' | translate}} </span><span ng-switch-when="LineString"> {{\'Display length\' | translate}} </span><span ng-switch-when="Point"> {{\'Display coordinates\' | translate}} </span></label><em class="text-muted"> ({{ fsCtrl.measure }}) </em></div></div><div ng-if="fsCtrl.feature && fsCtrl.type" class="form-horizontal"><div class="form-group"><div ngeo-colorpicker ngeo-colorpicker-color="fsCtrl.color" class="col-md-12"></div></div><div ng-if="fsCtrl.type === \'Point\'" class="form-group form-group-nomargin"><label class="control-label col-md-4">{{\'Size\' | translate}}</label><div class="col-md-8"><input type="range" class="form-control" min="3" max="20" step="1" ng-model="fsCtrl.getSetSize" ng-model-options="{getterSetter: true}"></div></div><div ng-if="fsCtrl.type === \'Text\'" class="form-group form-group-nomargin"><label class="control-label col-md-4">{{\'Size\' | translate}}</label><div class="col-md-8"><input type="range" class="form-control" min="8" max="30" step="1" ng-model="fsCtrl.getSetSize" ng-model-options="{getterSetter: true}"></div></div><div ng-if="fsCtrl.type === \'Circle\' || fsCtrl.type === \'LineString\' || fsCtrl.type === \'Polygon\' || fsCtrl.type === \'Rectangle\'" class="form-group form-group-nomargin"><label class="control-label col-md-4">{{\'Stroke\' | translate}}</label><div class="col-md-8"><input type="range" class="form-control" min="0.5" max="5" step="0.5" ng-model="fsCtrl.getSetStroke" ng-model-options="{getterSetter: true}"></div></div><div ng-if="fsCtrl.type === \'Circle\' || fsCtrl.type === \'Polygon\' || fsCtrl.type === \'Rectangle\'" class="form-group form-group-nomargin"><label class="control-label col-md-4">{{\'Opacity\' | translate}}</label><div class="col-md-8"><input type="range" class="form-control" min="0" max="1" step="0.05" ng-model="fsCtrl.getSetOpacity" ng-model-options="{getterSetter: true}"></div></div><div ng-if="fsCtrl.type === \'Text\'" class="form-group form-group-nomargin"><label class="control-label col-md-4">{{\'Angle\' | translate}}</label><div class="col-md-8"><input type="range" class="form-control" min="-180" max="180" step="22.5" ng-model="fsCtrl.getSetAngle" ng-model-options="{getterSetter: true}"></div></div></div>');
a.put("ngeo/message/displaywindowComponent.html",'<div class="ngeo-displaywindow" ng-show="$ctrl.open" ng-style="$ctrl.style"><div class="container"><button type="button" class="btn fa-close close" ng-click="$ctrl.close()"></button><div class="animation-container"><div class="slide-animation "><div class="header" ng-if="$ctrl.title !== null"><p class="title">{{ $ctrl.title }}</p></div><div class="details" ng-if="$ctrl.content !== null" ng-bind-html="$ctrl.content"></div><div class="details" ng-if="$ctrl.url !== null"><iframe frameborder="0" type="text/html" ng-src="{{ $ctrl.urlTrusted }}"></iframe></div></div></div></div></div>');
a.put("gmfmodule/authentication/component.html",'<div ng-if="$ctrl.gmfUser.username"><div class="form-group"><span>{{\'Logged in as\' | translate}}</span><strong>{{ ::$ctrl.gmfUser.username }}</strong>. </div><form name="logoutForm" role="form" ng-submit="$ctrl.logout()" ng-controller="GmfAuthenticationController" ng-class="{\'has-error\': $ctrl.error}" ng-if="!$ctrl.changingPassword"><div class="form-group"><input type="submit" class="form-control btn btn-primary" value="{{\'Logout\' | translate}}"></div><span ng-show="$ctrl.error" class="gmf-authentication-error help-block"></span><div class="form-group"><input ng-show="$ctrl.allowPasswordChange" type="button" class="form-control btn btn-default" value="{{\'Change password\' | translate}}" ng-click="$ctrl.changingPassword = true"></div></form><form name="changePasswordForm" role="form" ng-submit="$ctrl.changePassword()" ng-controller="GmfAuthenticationController" ng-class="{\'has-error\': $ctrl.error}" ng-if="$ctrl.changingPassword"><div class="form-group"><input type="password" class="form-control" name="oldpassword" ng-model="$ctrl.oldPwdVal" ng-attr-placeholder="{{\'Old password\' | translate}}"></div><div class="form-group"><input type="password" class="form-control" name="newpassword" ng-model="$ctrl.newPwdVal" ng-attr-placeholder="{{\'New password\' | translate}}"></div><div class="form-group"><input type="password" class="form-control" name="newpasswordconfirm" ng-model="$ctrl.newPwdConfVal" ng-attr-placeholder="{{\'Confirm new password\' | translate}}"></div><div class="form-group"><input type="submit" class="form-control btn btn-primary" value="{{\'Change password\' | translate}}"></div><div class="form-group"><span ng-show="$ctrl.error" class="gmf-authentication-error help-block"></span><input type="button" class="form-control btn btn-default" value="{{\'Cancel\' | translate}}" ng-click="$ctrl.changePasswordReset()"></div></form></div><ngeo-modal ng-model="$ctrl.changePasswordModalShown"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="{{\'Close\' | translate}}"><span aria-hidden="true">&times;</span></button><h4 class="modal-title"> {{\'Password Changed\' | translate}} </h4></div><div class="modal-body"> {{\'Your password has succesfully been changed.\' | translate}} </div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">{{\'OK\' | translate}}</button></div></ngeo-modal><div ng-if="!$ctrl.gmfUser.username"><form name="loginForm" role="form" ng-submit="$ctrl.login()" ng-controller="GmfAuthenticationController" ng-class="{\'has-error\': $ctrl.error}"><div class="form-group"><input type="text" class="form-control" name="login" ng-model="$ctrl.loginVal" ng-attr-placeholder="{{\'Username\' | translate}}"></div><div class="form-group"><input type="password" class="form-control" name="password" ng-model="$ctrl.pwdVal" ng-attr-placeholder="{{\'Password\' | translate}}"></div><div class="form-group"><input type="submit" class="form-control btn btn-primary" value="{{\'Connect\' | translate}}"></div><span ng-show="$ctrl.error" class="gmf-authentication-error help-block"></span><div ng-show="authCtrl.allowPasswordReset" class="form-group"><a ng-click="$ctrl.resetPassword()" href>{{\'Password forgotten?\' | translate}}</a></div></form></div><ngeo-modal ng-model="$ctrl.resetPasswordModalShown"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="{{\'Close\' | translate}}"><span aria-hidden="true">&times;</span></button><h4 class="modal-title"> {{\'Password forgotten?\' | translate}} </h4></div><div class="modal-body" translate> A new password has just been sent to you by e-mail. </div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">{{\'OK\' | translate}}</button></div></ngeo-modal>');
a.put("ngeo/grid/component.html",'<div class="ngeo-grid-table-container"><table float-thead="ctrl.floatTheadConfig" ng-model="ctrl.configuration.data" class="table table-bordered table-striped table-hover"><thead class="table-header"><tr><th ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-click="ctrl.sort(columnDefs.name)" ng-bind-html="columnDefs.name | ngeoTrustHtml | translate"><i ng-show="ctrl.sortedBy !== columnDefs.name" class="fa fa-fw"></i><i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === true" class="fa fa-caret-up"></i><i ng-show="ctrl.sortedBy === columnDefs.name && ctrl.sortAscending === false" class="fa fa-caret-down"></i></th></tr></thead><tbody><tr ng-repeat="attributes in ctrl.configuration.data" ng-class="[\'row-\' + ctrl.configuration.getRowUid(attributes), ctrl.configuration.isRowSelected(attributes) ? \'ngeo-grid-active\': \'\']" ng-click="ctrl.clickRow(attributes, $event)" ng-mousedown="ctrl.preventTextSelection($event)"><td ng-repeat="columnDefs in ctrl.configuration.columnDefs" ng-bind-html="attributes[columnDefs.name] | ngeoTrustHtml"></td></tr></tbody></table></div>');
a.put("ngeo/filter/component.html",'<div class="dropdown"><a class="btn btn-link dropdown-toggle ngeo-filter-condition-button" ng-class="{disabled: $ctrl.aRuleIsActive}" type="button" data-toggle="dropdown" ng-disabled="$ctrl.aRuleIsActive"><span class="fa fa-cog"></span><span class="caret"></span></a><ul class="dropdown-menu"><li class="ngeo-filter-condition-criteria-header" translate>Criteria taken into account</li><li ng-repeat="condition in ::$ctrl.conditions"><a href ng-click="$ctrl.setCondition(condition)"><span ng-class="{\'ngeo-filter-condition-criteria-active\': condition.value == $ctrl.datasource.filterCondition}" class="fa fa-check ngeo-filter-condition-criteria"></span><span>{{::condition.text | translate}}</span></a></li></ul></div><ngeo-rule ng-repeat="rule in $ctrl.directedRules" feature-overlay="::$ctrl.featureOverlay" class="ngeo-filter-rule-directed" map="$ctrl.map" rule="rule" tool-group="$ctrl.toolGroup"></ngeo-rule><hr class="ngeo-filter-separator-rules"><div ng-repeat="rule in $ctrl.customRules"><a class="btn btn-xs btn-link ngeo-filter-rule-custom-rm-btn" ng-click="!$ctrl.aRuleIsActive && $ctrl.removeCustomRule(rule)" ng-disabled="$ctrl.aRuleIsActive" href><span class="fa fa-remove"></span></a><ngeo-rule feature-overlay="::$ctrl.featureOverlay" class="ngeo-filter-rule-custom" map="$ctrl.map" rule="rule" tool-group="$ctrl.toolGroup"></ngeo-rule></div><div class="dropdown"><a class="btn btn-link dropdown-toggle" ng-class="{disabled: $ctrl.aRuleIsActive}" type="button" data-toggle="dropdown" ng-disabled="$ctrl.aRuleIsActive"><span translate>+ Add a new criteria</span><span class="caret"></span></a><ul class="dropdown-menu"><li ng-repeat="attribute in ::$ctrl.geometryAttributes"><a href ng-click="$ctrl.createAndAddCustomRule(attribute)"><span translate>Spatial filter</span></a></li><li role="presentation" class="divider"></li><li ng-repeat="attribute in ::$ctrl.otherAttributes"><a href ng-click="$ctrl.createAndAddCustomRule(attribute)"><span>{{::attribute.name | translate}}</span></a></li></ul></div><hr class="ngeo-filter-separator-criteria"><a class="btn btn-link" type="button" ng-click="!$ctrl.aRuleIsActive && $ctrl.apply()" ng-disabled="$ctrl.aRuleIsActive"><span class="fa fa-check"></span><span translate>Apply filter</span></a><a class="btn btn-link" type="button" ng-click="!$ctrl.aRuleIsActive && $ctrl.getData()" ng-disabled="$ctrl.aRuleIsActive"><span class="fa fa-chevron-right"></span><span translate>Get data</span></a>');
a.put("gmfmodule/import/wmsCapabilityLayertreeComponent.html",'<ul><li ng-repeat="layer in ::$ctrl.layer.Layer"><div class="gmf-wmscapabilitylayertreenode-header"><span class="gmf-wmscapabilitylayertreenode-popover-container" ng-if="::(layer.Name !== undefined || layer.Abstract !== undefined)" ngeo-popover ngeo-popover-dismiss=".content" ngeo-popover-placement="left"><span ngeo-popover-anchor class="fa fa-cog gmf-wmscapabilitylayertreenode-actions"></span><div class="gmf-wmscapabilitylayertreenode-popover-content" ngeo-popover-content><ul><li ng-if="::(layer.Name !== undefined)"><i class="fa fa-plus fa-fw"></i><a href ng-click="$ctrl.createAndAddDataSource(layer); popoverCtrl.dismissPopover()"><span translate>Add layer</span></a></li><li ng-if="::(layer.Abstract !== undefined)"><i class="fa fa-th-list fa-fw"></i><a aria-expanded="false" data-toggle="collapse" href="#gmf-wmscapabilitylayertreenode-description-{{::$ctrl.getUid(layer)}}" ng-click="popoverCtrl.dismissPopover()"><span translate>Open/Close description</span></a></li></ul></div></span><a aria-expanded="false" class="fa gmf-wmscapabilitylayertreenode-expand-node fa-fw" data-toggle="collapse" href="#gmf-wmscapabilitylayertreenode-children-{{::$ctrl.getUid(layer)}}" ng-if="::(layer.Layer !== undefined && layer.Layer.length)"></a><span ng-if="::(layer.Layer !== undefined && layer.Layer.length)" class="fa fa-fw gmf-wmscapabilitylayertreenode-group"></span><a class="fa fa-circle-thin gmf-wmscapabilitylayertreenode-no-icon fa-fw " ng-if="::(layer.Layer === undefined || layer.Layer.length === 0)"></a><span class="gmf-wmscapabilitylayertreenode-title">{{ ::layer.Title }}</span><div class="collapse gmf-wmscapabilitylayertreenode-description" id="gmf-wmscapabilitylayertreenode-description-{{::$ctrl.getUid(layer)}}" ng-if="::(layer.Abstract !== undefined)"><a aria-expanded="false" class="gmf-wmscapabilitylayertreenode-description-toggle" data-toggle="collapse" href="#gmf-wmscapabilitylayertreenode-description-{{::$ctrl.getUid(layer)}}"><span translate>Hide description</span></a><span class="gmf-wmscapabilitylayertreenode-description-content">{{ ::layer.Abstract }}</span></div></div><gmf-wmscapabilitylayertreenode class="collapse" id="gmf-wmscapabilitylayertreenode-children-{{::$ctrl.getUid(layer)}}" capabilities="::$ctrl.capabilities" layer="::layer" ng-if="::(layer.Layer !== undefined)"></gmf-wmscapabilitylayertreenode></li></ul>');
a.put("ngeo/olcs/controls3d.html",'<div class="ngeo-tools"><div class="ngeo-angle"><div class="ngeo-angle3d"></div></div><button class="ngeo-left ngeo-tilt-left" ng-click="$ctrl.tilt(5)"></button><button class="ngeo-right ngeo-tilt-right" ng-click="$ctrl.tilt(-5)"></button></div><div class="ngeo-zoom"><button class="ol-zoom-in" ng-click="$ctrl.zoom(1)"></button><button class="ol-zoom-out" ng-click="$ctrl.zoom(-1)"></button></div><div class="ngeo-tools"><div class="ngeo-rotation"><div class="ngeo-rotation3d"></div></div><button class="ngeo-left" ng-click="$ctrl.rotate(-15)"></button><button class="ngeo-right" ng-click="$ctrl.rotate(15)"></button></div>');
a.put("gmfmodule/query/windowComponent.html",'<div class="gmf-displayquerywindow" ng-class="{\'desktop\': ctrl.desktop, \'mobile\': !ctrl.desktop}" ng-show="ctrl.open" ngeo-swipe-up="ctrl.collapsed = false" ngeo-swipe-down="ctrl.collapsed = true" ngeo-swipe-disable-mouse ng-swipe-disable-mouse ng-swipe-left="ctrl.next()" ng-swipe-right="ctrl.previous()"><button class="collapse-button" type="button" ng-show="::!ctrl.desktop" ng-click="ctrl.collapsed = !ctrl.collapsed" ng-class="[ctrl.collapsed ? \'collapse-button-up\' : \'collapse-button-down\']"></button><div class="container"><button type="button" class="btn fa-close close" ng-click="ctrl.close()"></button><div class="animation-container" ng-class="[ctrl.collapsed ? \'\' : \'animation-container-detailed\', ctrl.isNext ? \'next\' : \'previous\']"><div ng-animate-swap="ctrl.animate" class="slide-animation gmf-animatable"><div class="header"><p class="title">{{ctrl.source.label | translate}}</p><p class="subtitle">{{ctrl.getFeatureValues()[ctrl.source.identifierAttributeField]}}</p></div><div class="details"><table><tr ng-repeat="(key, value) in ctrl.getFeatureValues()" ng-if="value !== undefined"><td class="details-key" ng-bind-html="key | translate | ngeoTrustHtml"></td><td class="details-value" ng-bind-html="value | ngeoTrustHtml"></td></tr></table></div></div></div><div class="navigate"><div class="placeholder"><button type="button" class="previous btn" ng-disabled="ctrl.isFirst()" ng-show="ctrl.getResultLength() > 1" ng-click="ctrl.previous()"><span ng-show="::ctrl.desktop">{{\'Prev.\' | translate}}</span></button></div><div class="results"><span ng-show="::!ctrl.desktop">{{\'Result\' | translate}}</span><span>{{ctrl.currentResult + 1}}</span><span>/</span><span>{{ctrl.getResultLength()}}</span><div ng-show="::ctrl.desktop" class="dropup"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="fa fa-filter"></span><span class="fa fa-caret-up"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu"><li><a href="#" ng-click="ctrl.setSelectedSource(null)"><i class="fa fa-fw" ng-class="{\'fa-check\': ctrl.selectedSource === null}"></i><span>{{\'All layers\' | translate}} ({{ctrl.ngeoQueryResult.total}})</span></a></li><li role="separator" class="divider"></li><li ng-repeat-start="source in ctrl.ngeoQueryResult.sources | filter: ctrl.sourcesFilter" ng-repeat-end ng-class="{\'disabled\': source.features.length <= 0}"><a href="#" ng-click="ctrl.setSelectedSource(source)"><i class="fa fa-fw" ng-class="{\'fa-check\': ctrl.selectedSource === source}"></i><span>{{source.label | translate}} ({{source.features.length}})</span></a></li></ul></div></div><div class="placeholder"><button type="button" class="next btn" ng-disabled="ctrl.isLast()" ng-show="ctrl.getResultLength() > 1" ng-click="ctrl.next()"><span ng-show="::ctrl.desktop">{{\'Next\' | translate}}</span></button></div></div></div></div>');
a.put("gmfmodule/backgroundlayerselector/component.html",'<ul class="gmf-backgroundlayerselector"><li ng-repeat="layer in ctrl.bgLayers" ng-click="ctrl.setLayer(layer)" ng-class="{\'gmf-backgroundlayerselector-active\': ctrl.bgLayer == layer}"><img class="gmf-thumb" ng-src="{{::layer.get(\'metadata\')[\'thumbnail\']}}"><span class="gmf-text">{{layer.get("label") | translate}}</span></li></ul>');a.put("gmfmodule/layertree/datasourceGroupTreeComponent.html",'<div class="gmf-layertree-group gmf-layertree-depth-1 {{$ctrl.group.visibilityState}}"><a data-toggle="collapse" href="#gmf-layertree-layer-group-{{::$ctrl.getGroupUid()}}" aria-expanded="true" class="fa gmf-layertree-expand-node fa-fw"></a><a class="fa fa-fw gmf-layertree-state" href ng-click="$ctrl.toggle()"></a><a class="gmf-layertree-name" href ng-click="$ctrl.toggle()"><span>{{$ctrl.group.title | translate}}</span></a><span class="gmf-layertree-right-buttons"><a href ng-click="$ctrl.remove()"><span class="fa fa-trash"></span></a></span></div><ul id="gmf-layertree-layer-group-{{::$ctrl.getGroupUid()}}" class="collapse in"><li class="gmf-layertree-node gmf-layertree-depth-2" ng-class="[dataSource.visible ? \'on\' : \'off\']" ng-repeat="dataSource in $ctrl.group.dataSources"><div class="gmf-layertree-leaf"><a href ng-click="$ctrl.toggleDataSource(dataSource)" class="gmf-layertree-layer-icon gmf-layertree-no-layer-icon"></a><a class="gmf-layertree-name" href ng-click="$ctrl.toggleDataSource(dataSource)"><span>{{dataSource.name | translate}}</span></a><span class="gmf-layertree-right-buttons"><a href ng-click="$ctrl.removeDataSource(dataSource)"><span class="fa fa-trash"></span></a></span></div></li></ul>');
a.put("gmfmodule/raster/widgetComponent.html",'<div class="text-center btn-group dropup" gmf-elevation gmf-elevation-active="ctrl.active" gmf-elevation-elevation="ctrl.elevationValue" gmf-elevation-loading="ctrl.elevationLoading" gmf-elevation-layer="ctrl.selectedElevationLayer" gmf-elevation-map="::ctrl.map"><a type="button" class="btn btn-default" aria-expanded="false" ng-class="::{\'dropdown-toggle\': ctrl.layers.length > 1}" ng-attr-data-toggle="{{::(ctrl.layers.length > 1) ? \'dropdown\' : \'\'}}"><span class="gmf-elevationwidget-value"> {{ctrl.elevationValue | number}}<span ng-show="ctrl.elevationValue"> m</span><span ng-show="ctrl.elevationLoading" class="fa fa-spinner"></span><span ng-show="!ctrl.elevationValue && !ctrl.elevationLoading" translate>Elevation\u2026</span></span><span class="caret" ng-if="::ctrl.layers.length > 1"></span></a><ul class="dropdown-menu dropdown-menu-right" role="menu" ng-if="::ctrl.layers.length > 1"><li class="dropdown-header" translate>Elevation data sources</li><li ng-repeat="elevationItem in ::ctrl.layers"><a href ng-click="ctrl.selectedElevationLayer = elevationItem"><span class="fa fa-fw" ng-class="{\'fa-check\': ctrl.selectedElevationLayer === elevationItem}"></span> {{::elevationItem | translate}} </a></li></ul></div>');
a.put("gmfmodule/editing/editFeatureComponent.html",'<div><div ng-switch="efCtrl.feature"><a ng-switch-when="null" ng-if="efCtrl.geomType" href ngeo-btn ngeo-createfeature ngeo-createfeature-active="efCtrl.createActive" ngeo-createfeature-features="::efCtrl.features" ngeo-createfeature-geom-type="::efCtrl.geomType" ngeo-createfeature-map="::efCtrl.map" class="btn btn-default" ng-class="{active: efCtrl.createActive}" ng-model="efCtrl.createActive"><span ng-switch="::efCtrl.geomType"><span ng-switch-when="Point"><span class="gmf-icon gmf-icon-point"></span> {{\'Draw new point\' | translate}} </span><span ng-switch-when="MultiPoint"><span class="gmf-icon gmf-icon-point"></span> {{\'Draw new point\' | translate}} </span><span ng-switch-when="LineString"><span class="gmf-icon gmf-icon-line"></span> {{\'Draw new linestring\' | translate}} </span><span ng-switch-when="MultiLineString"><span class="gmf-icon gmf-icon-line"></span> {{\'Draw new linestring\' | translate}} </span><span ng-switch-when="Polygon"><span class="gmf-icon gmf-icon-polygon"></span> {{\'Draw new polygon\' | translate}} </span><span ng-switch-when="MultiPolygon"><span class="gmf-icon gmf-icon-polygon"></span> {{\'Draw new polygon\' | translate}} </span></span></a><div ng-switch-default><ngeo-modal ng-model="efCtrl.unsavedModificationsModalShown"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="{{\'Close\' | translate}}"><span aria-hidden="true">&times;</span></button><h4 class="modal-title"> {{\'Unsaved modifications!\' | translate}} </h4></div><div class="modal-body"> {{\'There are unsaved changes.\' | translate}} </div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal" ng-click="efCtrl.continueWithoutSaving()"> {{\'Continue without saving\' | translate}} </button><button type="button" class="btn btn-primary" data-dismiss="modal"> {{\'Cancel\' | translate}} </button><button type="button" class="btn btn-default" data-dismiss="modal" ng-click="efCtrl.submit()"> {{\'Save\' | translate}} </button></div></ngeo-modal><form novalidate name="form" class="form gmf-editfeature-attributes-container" ng-if="efCtrl.attributes"><div class="row"><div class="col-sm-12"><a class="close" ng-click="efCtrl.cancel()" ng-disabled="efCtrl.pending" title="{{\'Cancel modifications\' | translate}}" href>&times;</a></div></div><ngeo-attributes ngeo-attributes-attributes="::efCtrl.attributes" ngeo-attributes-disabled="efCtrl.pending" ngeo-attributes-feature="::efCtrl.feature"></ngeo-attributes><input type="submit" value="{{\'Save\' | translate}}" class="btn btn-sm btn-default gmf-editfeature-btn-save" ng-click="form.$valid && efCtrl.save()" ng-disabled="!efCtrl.dirty || efCtrl.pending" title="{{\'Save modifications\' | translate}}"><a class="btn btn-sm btn-default gmf-editfeature-btn-cancel" ng-click="efCtrl.confirmCancel()" ng-disabled="efCtrl.pending" title="{{\'Cancel modifications\' | translate}}" href>{{\'Cancel\' | translate}}</a><button class="btn btn-sm btn-link gmf-editfeature-btn-delete" ng-click="efCtrl.delete()" ng-disabled="efCtrl.pending" ng-show="efCtrl.featureId" title="{{\'Delete this feature\' | translate}}"><span class="fa fa-trash"></span> {{\'Delete\' | translate}} </button></form></div></div><ngeo-modal ng-model="efCtrl.showServerError"><div class="modal-header">{{\'Server error.\' | translate}}</div><div class="modal-body">{{$parent.efCtrl.serverErrorType}}<br> {{$parent.efCtrl.serverErrorMessage || (\'Unexpected server error.\' | translate)}}</div></ngeo-modal></div>');
a.put("ngeo/editing/attributescomponent.html",'<fieldset ng-disabled="attrCtrl.disabled"><div class="form-group" ng-repeat="attribute in ::attrCtrl.attributes"><div ng-if="attribute.type !== \'geometry\'"><label ng-if="::attribute.type !== \'boolean\'" class="control-label">{{ ::attribute.name | translate }} <span class="text-muted">{{::attribute.required ? "*" : ""}}</span></label><div ng-switch="::attribute.type"><div ng-switch-when="boolean" class="checkbox"><label><input name="{{::attribute.name}}" ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" type="checkbox"><span> {{ ::attribute.name | translate }} <span class="text-muted">{{::attribute.required ? "*" : ""}}</span></span></label></div><select name="{{::attribute.name}}" ng-required="attribute.required" ng-switch-when="select" ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" class="form-control" type="text"><option ng-repeat="attribute in ::attribute.choices" value="{{ ::attribute }}"> {{ ::attribute }} </option></select><input name="{{::attribute.name}}" ng-required="attribute.required" ng-switch-when="date" ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" ngeo-datetimepicker ngeo-datetimepicker-options="\'{&#34;timepicker&#34;: false, &#34;format&#34;: &#34;\' + attribute.format + \'&#34;, &#34;allowBlank&#34;: true, &#34;todayButton&#34;: false, &#34;mask&#34;: &#34;\' + attribute.mask + \'&#34;}\'" class="form-control" type="text"><input name="{{::attribute.name}}" id="time" ng-required="attribute.required" ng-switch-when="time" ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" ngeo-datetimepicker ngeo-datetimepicker-options="\'{&#34;datepicker&#34;: false, &#34;format&#34;: &#34;\' + attribute.format + \'&#34;, &#34;todayButton&#34;: false, &#34;mask&#34;: &#34;\' + attribute.mask + \'&#34;, &#34;defaultTime&#34;: &#34;00:00&#34;}\'" class="form-control" type="text"><input name="{{::attribute.name}}" ng-required="attribute.required" ng-switch-when="datetime" ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" ngeo-datetimepicker ngeo-datetimepicker-options="\'{&#34;scrollTime&#34;: false, &#34;format&#34;: &#34;\' + attribute.format + \'&#34;, &#34;allowBlank&#34;: true, &#34;todayButton&#34;: false, &#34;mask&#34;: &#34;\' + attribute.mask + \'&#34;, &#34;defaultTime&#34;: &#34;00:00&#34;}\'" class="form-control" type="text"><div ng-switch-when="number" ng-switch="::attribute.numType"><input name="{{::attribute.name}}" ng-required="attribute.required" ng-switch-when="integer" ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" class="form-control" step="1" type="number"><input name="{{::attribute.name}}" ng-required="attribute.required" ng-switch-default ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" class="form-control" type="number"></div><input name="{{::attribute.name}}" ng-required="attribute.required" ng-switch-default ng-model="attrCtrl.properties[attribute.name]" ng-change="attrCtrl.handleInputChange(attribute.name);" ng-maxlength="attribute.maxLength" class="form-control" type="text"><div ng-show="attrCtrl.form.$submitted || attrCtrl.form[attribute.name].$touched"><p class="text-danger" ng-show="attrCtrl.form[attribute.name].$error.required"> {{\'This field is required\' | translate}} </p></div></div></div></div></fieldset>');
a.put("gmfmodule/filters/filterselectorcomponent.html",'<div class="form-group" ng-switch="$ctrl.filtrableDataSources.length"><span ng-switch-when="0" translate>No filtrable layer available!</span><select class="form-control" ng-disabled="$ctrl.aRuleIsActive" ng-switch-default ng-model="$ctrl.gmfDataSourceBeingFiltered.dataSource" ng-options="dataSource.name | translate for dataSource in $ctrl.filtrableDataSources"><option value translate>-- Layer to filter --</option></select><div ng-if="$ctrl.customRules && $ctrl.directedRules && $ctrl.readyDataSource"><hr class="gmf-filterselector-separator"><div class="dropdown gmf-filterselector-savedfilters"><a class="btn btn-link dropdown-toggle ngeo-filter-condition-button" ng-class="{disabled: $ctrl.aRuleIsActive || $ctrl.gmfSavedFilters.currentDataSourceItems.length === 0}" type="button" data-toggle="dropdown" ng-disabled="$ctrl.aRuleIsActive || $ctrl.gmfSavedFilters.currentDataSourceItems.length === 0"><span translate>Saved</span><span class="caret"></span></a><ul class="dropdown-menu"><li ng-repeat="item in $ctrl.gmfSavedFilters.currentDataSourceItems"><a href ng-click="$ctrl.saveFilterLoadItem(item)"><span>{{::item.name}}</span></a></li><li role="separator" class="divider"></li><li><a href ng-click="$ctrl.saveFilterManage()"><span translate>Manage saved filters</span></a></li></ul></div><ngeo-filter a-rule-is-active="$ctrl.aRuleIsActive" custom-rules="$ctrl.customRules" datasource="$ctrl.readyDataSource" directed-rules="$ctrl.directedRules" feature-overlay="$ctrl.featureOverlay" map="$ctrl.map" tool-group="$ctrl.toolGroup"></ngeo-filter><div><a class="btn btn-link gmf-filterselector-savebtn" type="button" data-toggle="dropdown" ng-click="!$ctrl.aRuleIsActive && $ctrl.saveFilterShowModal()" ng-disabled="$ctrl.aRuleIsActive"><span class="fa fa-save"></span><span translate>Save</span></a></div></div><ngeo-modal ng-model="$ctrl.saveFilterSaveModalShown"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="{{\'Close\' | translate}}"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">{{\'Save filter\' | translate}}</h4></div><div class="modal-body"><p class="gmf-filterselector-savefilter-desc" translate> You can save the filter that you created to re-load it later. </p><input type="text" class="form-control" name="name" ng-model="$ctrl.saveFilterName" placeholder="{{\'Filter name\' | translate}}"></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">{{\'Cancel\' | translate}}</button><button type="button" ng-click="$ctrl.saveFilterSave()" ng-disabled="$ctrl.saveFilterName === \'\'" class="btn btn-primary">{{\'Save\' | translate}}</button></div></ngeo-modal><ngeo-modal ng-model="$ctrl.saveFilterManageModalShown"><div class="gmf-filterselector-managefilter-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="{{\'Close\' | translate}}"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">{{\'Manage filters\' | translate}}</h4></div><div class="modal-body"><ul><li ng-repeat="item in $ctrl.gmfSavedFilters.currentDataSourceItems"><span>{{::item.name}}</span><a href ng-click="$ctrl.saveFilterRemoveItem(item)"> {{ \'Delete\' | translate }} </a><div class="gmf-eol"></div></li></ul></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">{{\'Close\' | translate}}</button></div></div></ngeo-modal></div>');
a.put("gmfmodule/layertree/component.html",'<div class="gmf-layertree-root-tools" ng-if="layertreeCtrl.isRoot"><a href ng-if="gmfLayertreeCtrl.nodesCount() > 0" ng-click="gmfLayertreeCtrl.removeAllNodes()"><span class="fa fa-trash"></span> {{\'Clear all\' | translate}} </a></div><div ng-if="::!layertreeCtrl.isRoot" id="gmf-layertree-node-{{::layertreeCtrl.uid}}" ng-class="[layertreeCtrl.node.children ? \'gmf-layertree-group\' : \'gmf-layertree-leaf\', \'gmf-layertree-depth-\' + layertreeCtrl.depth, gmfLayertreeCtrl.getResolutionStyle(layertreeCtrl.node), gmfLayertreeCtrl.getNodeState(layertreeCtrl)]"><div class="ngeo-sortable-handle" ng-show="layertreeCtrl.depth === 1 && layertreeCtrl.parent.children.length > 1"><i class="gmf-layertree-sortable-handle-icon fa fa-ellipsis-v"></i></div><a ng-if="::layertreeCtrl.node.children" data-toggle="collapse" href="#gmf-layertree-layer-group-{{::layertreeCtrl.uid}}" aria-expanded="{{::layertreeCtrl.node.metadata.isExpanded}}" class="fa gmf-layertree-expand-node fa-fw"></a><a href ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)" ng-if="::!layertreeCtrl.node.children" ng-class="::{\'gmf-layertree-no-layer-icon\' : !gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl)}" class="gmf-layertree-layer-icon"><img ng-if="::(legendIconUrl=gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl))" ng-src="{{::legendIconUrl}}"></a><a href ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)" ng-if="::layertreeCtrl.node.children" ng-class="[\'fa fa-fw\', layertreeCtrl.node.children && !layertreeCtrl.layer.loading ? \'gmf-layertree-state\' : \'fa-refresh fa-spin\']"></a><a href ng-click="::gmfLayertreeCtrl.toggleActive(layertreeCtrl)" class="gmf-layertree-name" title="{{layertreeCtrl.node.name | translate}}"> {{layertreeCtrl.node.name | translate}} <i class="gmf-icon gmf-icon-search-go gmf-layertree-zoom" data-toggle="tooltip" data-title="{{\'Not visible at current scale. Click to zoom.\'|translate}}" ng-click="::gmfLayertreeCtrl.zoomToResolution(layertreeCtrl); $event.preventDefault(); $event.stopPropagation();" ng-if="gmfLayertreeCtrl.getNodeState(layertreeCtrl) == \'on\'"></i><span ngeo-popover ngeo-popover-dismiss=".content" ng-if="gmfLayertreeCtrl.getNodeState(layertreeCtrl) !== \'off\' && layertreeCtrl.node.time && layertreeCtrl.node.time.mode !== \'disabled\'"><span ngeo-popover-anchor class="fa fa-clock-o" ng-click="$event.preventDefault(); $event.stopPropagation()"></span><div ngeo-popover-content><ngeo-date-picker ng-if="::layertreeCtrl.node.time.widget === \'datepicker\'" time="layertreeCtrl.node.time" on-date-selected="gmfLayertreeCtrl.updateWMSTimeLayerState(layertreeCtrl, time)"></ngeo-date-picker><gmf-time-slider ng-if="::layertreeCtrl.node.time.widget === \'slider\'" gmf-time-slider-time="layertreeCtrl.node.time" gmf-time-slider-on-date-selected="gmfLayertreeCtrl.updateWMSTimeLayerState(layertreeCtrl, time)"></gmf-time-slider></div></span><span class="fa fa-pencil" title="{{\'Currently editing this layer\'|translate}}" ng-if="layertreeCtrl.properties.editing"></span></a><span class="gmf-layertree-right-buttons"><a href ng-if="::layertreeCtrl.depth == 1" ng-click="gmfLayertreeCtrl.removeNode(layertreeCtrl.node)"><span class="fa fa-trash"></span></a><a class="gmf-layertree-node-menu-btn" href ng-if="::gmfLayertreeCtrl.supportsCustomization(layertreeCtrl)" ng-click="::gmfLayertreeCtrl.toggleNodeLegend(\'#gmf-layertree-node-menu-\' + layertreeCtrl.uid)"><span class="fa fa-cog"></span></a><span ngeo-popover ng-if="::(layertreeCtrl.depth === 1 && !layertreeCtrl.node.mixed) || (layertreeCtrl.depth > 1 && layertreeCtrl.parent.node.mixed && !layertreeCtrl.node.children) || (gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend) || layertreeCtrl.getDataSource().filtrable" ngeo-popover-dismiss=".content"><span ngeo-popover-anchor class="extra-actions fa fa-cog"></span><div ngeo-popover-content><ul><li ng-if="::(layertreeCtrl.depth === 1 && !layertreeCtrl.node.mixed) || (layertreeCtrl.depth > 1 && layertreeCtrl.parent.node.mixed)"><i class="fa fa-tint fa-fw"></i><span for="layer-opactity">{{\'Opacity\'|translate}}</span><input class="input-action" name="layer-opactity" type="range" min="0" max="1" step="0.01" ng-model="layertreeCtrl.layer.opacity"></li><li ng-if="::gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend"><i class="fa fa-th-list fa-fw"></i><a title="{{\'Show/hide legend\'|translate}}" ng-click="::gmfLayertreeCtrl.toggleNodeLegend(\'#gmf-layertree-node-\' + layertreeCtrl.uid + \'-legend\'); popoverCtrl.dismissPopover()" data-toggle="collapse" href> {{\'Show/hide legend\'|translate}} </a></li><li ng-if="layertreeCtrl.getDataSource() && layertreeCtrl.getDataSource().filtrable"><i class="fa fa-filter fa-fw"></i><a title="{{\'Filter\'|translate}}" ng-click="gmfLayertreeCtrl.toggleFiltrableDataSource(layertreeCtrl.getDataSource())" href> {{\'Filter\'|translate}} </a></li></ul></div></span><span class="gmf-layertree-metadata" ng-if="::layertreeCtrl.node.metadata.metadataUrl"><span ng-if="::gmfLayertreeCtrl.openLinksInNewWindow === true"><a title="{{\'More informations\'|translate}}" href="{{::layertreeCtrl.node.metadata.metadataUrl}}" target="blank_"></a></span><span ng-if="::gmfLayertreeCtrl.openLinksInNewWindow !== true"><a title="{{\'More informations\'|translate}}" href ng-click="gmfLayertreeCtrl.displayMetadata(layertreeCtrl)"></a></span></span><a class="fa fa-align-left gmf-layertree-legend-button" ng-if="::gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend" title="{{\'Show/hide legend\'|translate}}" data-toggle="collapse" ng-click="::gmfLayertreeCtrl.toggleNodeLegend(\'#gmf-layertree-node-\' + layertreeCtrl.uid + \'-legend\')" href></a></span></div><div class="gmf-layertree-node-menu" id="gmf-layertree-node-menu-{{::layertreeCtrl.uid}}" style="display:none;" ng-if="::gmfLayertreeCtrl.supportsCustomization(layertreeCtrl)"><div ng-if="::gmfLayertreeCtrl.supportsOpacityChange(layertreeCtrl)"><i class="fa fa-tint fa-fw"></i><span for="layer-opactity">{{\'Opacity\'|translate}}</span><input class="input-action" name="layer-opactity" type="range" min="0" max="1" step="0.01" ng-model="layertreeCtrl.layer.opacity"></div><a class="gmf-layertree-node-menu-togglelegend" ng-if="::gmfLayertreeCtrl.supportsLegend(layertreeCtrl)" title="{{\'Hide legend\'|translate}}" data-toggle="collapse" ng-click="::gmfLayertreeCtrl.toggleNodeLegend(\'#gmf-layertree-node-\' + layertreeCtrl.uid + \'-legend\')" href><span class="fa fa-th-list"></span> {{\'Show/hide legend\'|translate}} </a></div><div ng-if="::!layertreeCtrl.isRoot && gmfLayertreeCtrl.getLegendsObject(layertreeCtrl) && layertreeCtrl.node.metadata.legend" id="gmf-layertree-node-{{::layertreeCtrl.uid}}-legend" class="collapse gmf-layertree-legend" ng-class="::[layertreeCtrl.node.metadata.isLegendExpanded ? \'in\' : \'\']"><a title="{{\'Hide legend\'|translate}}" data-toggle="collapse" ng-click="::gmfLayertreeCtrl.toggleNodeLegend(\'#gmf-layertree-node-\' + layertreeCtrl.uid + \'-legend\')" href> {{\'Hide legend\'|translate}} </a><div ng-if="gmfLayertreeCtrl.isNodeLegendVisible(\'#gmf-layertree-node-\' + layertreeCtrl.uid + \'-legend\')"><div ng-repeat="(title, url) in ::gmfLayertreeCtrl.getLegendsObject(layertreeCtrl)"><p ng-if="::gmfLayertreeCtrl.getNumberOfLegendsObject(layertreeCtrl) > 1">{{title|translate}}</p><img ng-src="{{url}}"></div></div></div><ul class="gmf-layertree-root-external-datasources" ng-if="layertreeCtrl.isRoot && (gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmsGroups.length || gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmtsGroups.length || gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup.dataSources.length)"><gmf-datasourcegrouptree class="gmf-layertree-node gmf-layertree-depth-1" ng-repeat="wmtsGroup in gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmtsGroups" group="wmtsGroup"></gmf-datasourcegrouptree><gmf-datasourcegrouptree class="gmf-layertree-node gmf-layertree-depth-1" ng-repeat="wmsGroup in gmfLayertreeCtrl.gmfExternalDataSourcesManager.wmsGroups" group="wmsGroup"></gmf-datasourcegrouptree><gmf-datasourcegrouptree class="gmf-layertree-node gmf-layertree-depth-1" ng-if="gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup.dataSources.length" group="gmfLayertreeCtrl.gmfExternalDataSourcesManager.fileGroup"></gmf-datasourcegrouptree></ul><ul id="gmf-layertree-layer-group-{{::layertreeCtrl.uid}}" ng-if="::layertreeCtrl.node.children" ng-class="{collapse: !layertreeCtrl.isRoot, in : layertreeCtrl.node.metadata.isExpanded}" ngeo-sortable="::layertreeCtrl.isRoot && layertreeCtrl.node.children" ngeo-sortable-options="{handleClassName: \'ngeo-sortable-handle\', draggerClassName: \'gmf-layertree-dragger\', placeholderClassName : \'gmf-layertree-curr-drag-item\'}" ngeo-sortable-callback="::gmfLayertreeCtrl.afterReorder" ngeo-sortable-callback-ctx="::gmfLayertreeCtrl"><li class="gmf-layertree-node" ng-repeat="node in layertreeCtrl.node.children" ng-class="\'gmf-layertree-depth-\' + layertreeCtrl.depth" ngeo-layertree="node" ngeo-layertree-notroot ngeo-layertree-map="layertreeCtrl.map" ngeo-layertree-nodelayerexpr="layertreeCtrl.nodelayerExpr" ngeo-layertree-listenersexpr="layertreeCtrl.listenersExpr"></li></ul>');
a.put("ngeo/layertree/component.html",'<span ng-if="::!layertreeCtrl.isRoot">{{::layertreeCtrl.node.name}}</span><input type="checkbox" ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-model="layertreeCtrl.getSetActive" ng-model-options="{getterSetter: true}"><ul ng-if="::layertreeCtrl.node.children"><li ng-repeat="node in ::layertreeCtrl.node.children" ngeo-layertree="::node" ngeo-layertree-notroot ngeo-layertree-map="layertreeCtrl.map" ngeo-layertree-nodelayerexpr="layertreeCtrl.nodelayerExpr" ngeo-layertree-listenersexpr="layertreeCtrl.listenersExpr"></li></ul>');
a.put("gmfmodule/mobile/measure/lengthComponent.html",'<a class="btn btn-default" ng-if="ctrl.drawing && (!ctrl.valid)" ng-click="ctrl.addPoint()"><span class="fa fa-check"></span> {{\'Set as starting point\' | translate}} </a><a class="btn btn-default" ng-if="ctrl.dirty" ng-click="ctrl.addPoint()"><span class="fa fa-plus"></span> {{\'Add new point\' | translate}} </a><a class="btn btn-default" ng-if="ctrl.drawing && ctrl.valid && !ctrl.dirty" ng-click="ctrl.finish()"><span class="fa fa-check"></span> {{\'Terminate\' | translate}} </a><a class="btn btn-default" ng-if="ctrl.valid" ng-click="ctrl.clear()"><span class="fa fa-repeat"></span> {{\'Clear\' | translate}} </a><a class="btn btn-default" ng-if="ctrl.active" ng-click="ctrl.deactivate()"><span class="fa fa-times"></span> {{\'Close\' | translate}} </a>');
a.put("gmfmodule/import/importdatasourceComponent.html",'<div class="form-group"><select class="form-control" ng-model="$ctrl.mode" ng-options="mode | translate for mode in $ctrl.modes"></select></div><div><form name="idsl_form" novalidate ng-show="$ctrl.mode === \'Local\'"><div class="form-group"><div class="input-group input-group-sm"><input name="file" type="file" required><input class="form-control" placeholder="{{\'No file\' | translate}}" readonly type="text" value="{{$ctrl.fileNameAndSize}}" ng-click="$ctrl.browse()"><span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="$ctrl.browse()" translate>Browse</button></span></div></div><div class="form-group"><button class="btn btn-sm btn-default form-control" title="{{\'Load a file from local\' | translate}}" type="submit" ng-click="idsl_form.$valid && $ctrl.load()" ng-disabled="$ctrl.file === undefined"><span>{{\'Load local file\' | translate}}</span></button></div></form><form name="idsc_form" novalidate ng-show="$ctrl.mode === \'Online\'"><div class="form-group gmf-importdatasource-url-form-group"><input autocomplete="off" class="form-control" name="url" placeholder="{{\'Choose or enter online resource URL\' | translate}}" required type="url" ng-disabled="$ctrl.pending" ng-model="$ctrl.url"></div><div class="form-group"><button class="btn btn-sm btn-default form-control gmf-importdatasource-connect-btn" title="{{\'Connect to online resource\' | translate}}" type="submit" ng-click="idsc_form.$valid && $ctrl.connect()" ng-disabled="idsc_form.$invalid || $ctrl.pending"><span ng-if="$ctrl.pending">{{\'Connecting, please wait...\' | translate}}</span><span ng-if="!$ctrl.pending && $ctrl.hasError">{{\'Failed to connect\' | translate}}</span><span ng-if="!$ctrl.pending && !$ctrl.hasError">{{\'Connect\' | translate}}</span></button></div></form></div><div class="gmf-importdatasource-layers" ng-if="$ctrl.wmsCapabilities !== null || $ctrl.wmtsCapabilities !== null"><hr><gmf-wmscapabilitylayertreenode capabilities="::$ctrl.wmsCapabilities" layer="::$ctrl.wmsCapabilities.Capability.Layer" url="::$ctrl.url" ng-if="$ctrl.wmsCapabilities !== null"></gmf-wmscapabilitylayertreenode><gmf-wmtscapabilitylayertree capabilities="::$ctrl.wmtsCapabilities" layers="::$ctrl.wmtsCapabilities.Contents.Layer" url="::$ctrl.url" ng-if="$ctrl.wmtsCapabilities !== null"></gmf-wmtscapabilitylayertree></div>');
a.put("ngeo/googlestreetview/component.html",'<div class="ngeo-googlestreetview-instructions" ng-if="$ctrl.location === null" translate> Click on a road on the map to start StreetView. </div><div class="ngeo-googlestreetview-nodata" ng-if="$ctrl.noDataAtLocation" translate> Street View data not found for this location. </div>');a.put("gmfmodule/drawing/drawFeatureComponent.html",'<ngeo-drawfeature ngeo-btn-group class="btn-group" ngeo-drawfeature-active="efCtrl.drawActive" ngeo-drawfeature-map="efCtrl.map" ngeo-drawfeature-showmeasure="efCtrl.showMeasure"><a data-toggle="tooltip" title="{{\'Draw a point on the map\' | translate}}" href ngeo-btn ngeo-drawpoint class="btn btn-default ngeo-drawfeature-point" ng-class="{active: dfCtrl.drawPoint.active}" ng-model="dfCtrl.drawPoint.active"><span class="gmf-icon gmf-icon-point"></span></a><a data-toggle="tooltip" title="{{\'Draw a line on the map\' | translate}}" href ngeo-btn ngeo-measurelength class="btn btn-default ngeo-drawfeature-linestring" ng-class="{active: dfCtrl.measureLength.active}" ng-model="dfCtrl.measureLength.active"><span class="gmf-icon gmf-icon-line"></span></a><a data-toggle="tooltip" title="{{\'Draw a polygon on the map\' | translate}}" href ngeo-btn ngeo-measurearea class="btn btn-default ngeo-drawfeature-polygon" ng-class="{active: dfCtrl.measureArea.active}" ng-model="dfCtrl.measureArea.active"><span class="gmf-icon gmf-icon-polygon"></span></a><a data-toggle="tooltip" title="{{\'Draw a circle on the map\' | translate}}" href ngeo-btn ngeo-measureazimut class="btn btn-default ngeo-drawfeature-circle" ng-class="{active: dfCtrl.measureAzimut.active}" ng-model="dfCtrl.measureAzimut.active"><span class="gmf-icon gmf-icon-circle"></span></a><a data-toggle="tooltip" title="{{\'Draw a rectangle on the map\' | translate}}" href ngeo-btn ngeo-drawrectangle class="btn btn-default ngeo-drawfeature-rectangle" ng-class="{active: dfCtrl.drawRectangle.active}" ng-model="dfCtrl.drawRectangle.active"><span class="gmf-icon gmf-icon-rectangle"></span></a><a data-toggle="tooltip" title="{{\'Draw a text label on the map\' | translate}}" href ngeo-btn ngeo-drawtext class="btn btn-default ngeo-drawfeature-text" ng-class="{active: dfCtrl.drawText.active}" ng-model="dfCtrl.drawText.active"><span class="gmf-icon gmf-icon-text"></span></a></ngeo-drawfeature><div ng-switch="efCtrl.selectedFeature"><hr class="gmf-drawfeature-separator" ng-show="efCtrl.getFeaturesArray().length > 0"><div ng-switch-when="null"><div ng-show="efCtrl.getFeaturesArray().length > 0"><div class="ngeo-drawfeature-actionbuttons"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngeo-exportfeatures ngeo-exportfeatures-features="efCtrl.features" class="btn btn-link btn-sm"><span class="fa fa-mail-forward"></span> {{\'Export\' | translate}} <span class="caret"></span></button><button ng-click="efCtrl.clearFeatures()" class="btn btn-link btn-xs"><span class="fa fa-trash"></span> {{\'Delete All\' | translate}} </button></div><div class="gmf-eol"></div><div class="gmf-drawfeature-featurelist list-group list-group-sm"><button role="button" class="list-group-item" ng-repeat="feature in efCtrl.getFeaturesArray()" ng-click="efCtrl.selectFeatureFromList(feature);"> {{ feature.get(efCtrl.nameProperty) }} </button></div></div></div><div ng-switch-default><button ng-click="efCtrl.selectedFeature = null;" class="btn btn-link btn-xs"><span class="fa fa-arrow-left"></span> {{\'List\' | translate}} </button><div class="ngeo-drawfeature-actionbuttons"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngeo-exportfeatures ngeo-exportfeatures-features="efCtrl.selectedFeatures" class="btn btn-link btn-xs"><span class="fa fa-mail-forward"></span> {{\'Export\' | translate}} <span class="caret"></span></button><button ng-click="efCtrl.removeFeature(efCtrl.selectedFeature);" class="btn btn-link btn-xs"><span class="fa fa-trash"></span> {{\'Delete\' | translate}} </button></div><div class="gmf-eol"></div><gmf-featurestyle gmf-featurestyle-feature="efCtrl.selectedFeature"></gmf-featurestyle></div></div>');
a.put("gmfmodule/objectediting/component.html",'<gmf-objecteditingtools gmf-objecteditingtools-active="oeCtrl.toolsActive" gmf-objecteditingtools-copyfromactive="oeCtrl.copyFromActive" gmf-objecteditingtools-deletefromactive="oeCtrl.deleteFromActive" gmf-objecteditingtools-feature="oeCtrl.feature" gmf-objecteditingtools-geomtype="::oeCtrl.geomType" gmf-objecteditingtools-map="::oeCtrl.map" gmf-objecteditingtools-process="oeCtrl.process" gmf-objecteditingtools-queryablelayerinfo="oeCtrl.selectedQueryableLayerInfo" gmf-objecteditingtools-requireslayer="oeCtrl.queryableLayerListShown" gmf-objecteditingtools-sketchfeatures="::oeCtrl.sketchFeatures"></gmf-objecteditingtools><div class="form-group" ng-show="oeCtrl.queryableLayerListShown"><label ng-show="oeCtrl.copyFromActive === true" class="control-label">{{\'Copy from:\' | translate}}</label><label ng-show="oeCtrl.deleteFromActive === true" class="control-label">{{\'Cut from:\' | translate}}</label><select class="form-control" ng-model="oeCtrl.selectedQueryableLayerInfo" ng-options="layerInfo.layerNode.name | translate for layerInfo in oeCtrl.queryableLayersInfo"></select></div><form novalidate name="form" class="form gmf-objectediting-form"><input type="submit" value="{{\'Save\' | translate}}" class="btn btn-sm btn-default gmf-objectediting-btn-save" ng-click="form.$valid && oeCtrl.save()" ng-disabled="!oeCtrl.dirty || oeCtrl.pending || !oeCtrl.featureHasGeom" title="{{\'Save modifications\' | translate}}"><a class="btn btn-sm btn-link gmf-objectediting-btn-undo" ng-click="oeCtrl.undo()" ng-disabled="!oeCtrl.dirty || oeCtrl.pending" title="{{\'Undo latest modifications\' | translate}}" href>{{\'Undo\' | translate}}</a><a class="btn btn-sm btn-link gmf-objectediting-btn-delete" ng-click="oeCtrl.delete()" ng-disabled="oeCtrl.isStateInsert() || oeCtrl.pending" title="{{\'Delete the feature\' | translate}}" href>{{\'Delete\' | translate}}</a></form>');
a.put("ngeo/map/scaleselector.html",'<div class="btn-group btn-block" ng-class="::{\'dropup\': scaleselectorCtrl.options.dropup}"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span ng-bind-html="scaleselectorCtrl.currentScale | ngeoScalify | ngeoTrustHtml"></span>&nbsp;<i class="caret"></i></button><ul class="dropdown-menu btn-block" role="menu"><li ng-repeat="zoomLevel in ::scaleselectorCtrl.zoomLevels"><a href ng-click="scaleselectorCtrl.changeZoom(zoomLevel)" ng-bind-html="scaleselectorCtrl.getScale(zoomLevel) | ngeoScalify | ngeoTrustHtml"></a></li></ul></div>');
a.put("gmfmodule/import/wmtsCapabilityLayertreeComponent.html",'<ul><li ng-repeat="layer in ::$ctrl.layers"><div class="gmf-wmscapabilitylayertreenode-header"><span class="gmf-wmscapabilitylayertreenode-popover-container" ngeo-popover ngeo-popover-dismiss=".content" ngeo-popover-placement="left"><span ngeo-popover-anchor class="fa fa-cog gmf-wmscapabilitylayertreenode-actions"></span><div class="gmf-wmscapabilitylayertreenode-popover-content" ngeo-popover-content><ul><li><i class="fa fa-plus fa-fw"></i><a href ng-click="$ctrl.createAndAddDataSource(layer); popoverCtrl.dismissPopover()"><span translate>Add layer</span></a></li><li ng-if="::(layer.Abstract !== undefined)"><i class="fa fa-th-list fa-fw"></i><a aria-expanded="false" data-toggle="collapse" href="#gmf-wmscapabilitylayertreenode-description-{{::$ctrl.getUid(layer)}}" ng-click="popoverCtrl.dismissPopover()"><span translate>Open/Close description</span></a></li></ul></div></span><a class="fa fa-circle-thin gmf-wmscapabilitylayertreenode-no-icon fa-fw"></a><span class="gmf-wmscapabilitylayertreenode-title">{{ ::layer.Title }}</span><div class="collapse gmf-wmscapabilitylayertreenode-description" id="gmf-wmscapabilitylayertreenode-description-{{::$ctrl.getUid(layer)}}" ng-if="::(layer.Abstract !== undefined)"><a aria-expanded="false" class="gmf-wmscapabilitylayertreenode-description-toggle" data-toggle="collapse" href="#gmf-wmscapabilitylayertreenode-description-{{::$ctrl.getUid(layer)}}"><span translate>Hide description</span></a><span class="gmf-wmscapabilitylayertreenode-description-content">{{ ::layer.Abstract }}</span></div></div></li></ul>');
a.put("gmfmodule/map/mousepositionComponent.html",'<div class="btn-group dropup"><a type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="gmf-mouseposition-control-target"></span><span class="caret"></span></a><ul class="dropdown-menu dropdown-menu-right" role="menu"><li class="dropdown-header" translate>Coordinate systems</li><li ng-repeat="projitem in ::ctrl.projections"><a href ng-click="ctrl.setProjection(projitem)"><span class="fa fa-fw" ng-class="{\'fa-check\': ctrl.projection == projitem}"></span> {{::projitem.label}} </a></li></ul></div>');
a.put("gmfmodule/search/component.html",'<div class="gmf-search"><input type="text" ng-attr-placeholder="{{$ctrl.placeholder}}" class="form-control" ng-model="$ctrl.inputValue" ngeo-search="$ctrl.options" ngeo-search-datasets="$ctrl.datasets" ngeo-search-listeners="$ctrl.listeners"><span class="gmf-clear-button ng-hide" ng-hide="!$ctrl.clearButton || $ctrl.inputValue == \'\'" ng-click="$ctrl.onClearButton()"></span></div><span ng-if="$ctrl.colorChooser"><span ng-show="$ctrl.displayColorPicker" ngeo-popover ngeo-popover-placement="bottom"><button class="gmf-color-button fa fa-tint" ngeo-popover-anchor data-original-title="{{\'Change the color of the search result\'|translate}}"></button><div ngeo-popover-content><div ngeo-colorpicker ngeo-colorpicker-color="$ctrl.color"></div></div></span></span>');
a.put("gmfmodule/mobile/measure/pointComponent.html",'<a class="btn btn-default" ng-if="ctrl.active" ng-click="ctrl.deactivate()"><span class="fa fa-times"></span> {{\'Close\' | translate}} </a>');a.put("gmfmodule/profile/component.html",'<div class="gmf-profile-container panel" ng-show="ctrl.active"><div class="ngeo-profile" ng-show="!ctrl.isErrored" ngeo-profile="ctrl.profileData" ngeo-profile-highlight="ctrl.profileHighlight" ngeo-profile-options="::ctrl.profileOptions"></div><ul class="gmf-profile-legend" ng-show="!ctrl.isErrored"><li ng-repeat="name in ::ctrl.getLayersNames()"><i class="fa fa-minus" style="color:{{::ctrl.getColor(name)}};"></i> &nbsp;{{name | translate}}&nbsp;{{ctrl.currentPoint.elevations[name]}}&nbsp;{{ctrl.currentPoint.yUnits}} </li></ul><div class="gmf-profile-export btn-group dropup" ng-show="!ctrl.isErrored"><a class="dropdown-toggle" href ng-show="ctrl.profileData.length !== 0" data-toggle="dropdown" aria-expanded="false"> {{\'Export\' | translate}}&nbsp;<i class="fa fa-caret-up"></i></a><ul class="dropdown-menu dropdown-menu-right" role="menu"><li><a href ng-click="::ctrl.downloadCsv()"><i class="fa fa-table"></i>&nbsp;{{\'Download CSV\' | translate}}</a></li></ul></div><div class="gmf-profile-error" ng-show="ctrl.isErrored"><p>{{\'The profile service does not respond, please try later.\' | translate}}</p></div><div class="close" ng-click="ctrl.line = null">&times;</div></div>');
a.put("gmfmodule/query/gridComponent.html",'<div class="gmf-displayquerygrid panel" ng-show="ctrl.active"><div class="close" ng-click="ctrl.clear()"> &times; </div><ul class="nav nav-pills small" role="tablist"><li ng-repeat="gridSource in ctrl.getGridSources() track by gridSource.source.id" role="presentation" ng-class="{\'active\' : ctrl.isSelected(gridSource)}" ng-click="ctrl.selectTab(gridSource)"><a href="#{{gridSource.source.id}}" data-target="#{{gridSource.source.id}}" aria-controls="{{gridSource.source.id}}" role="tab" data-toggle="tab"><span ng-if="gridSource.source.tooManyResults !== true"> {{gridSource.source.label | translate}} ({{gridSource.source.features.length}}) </span><span ng-if="gridSource.source.tooManyResults === true"> {{gridSource.source.label | translate}} ({{gridSource.source.totalFeatureCount}}*) </span></a></li></ul><div class="tab-content"><div ng-repeat="gridSource in ctrl.getGridSources() track by gridSource.source.id" role="tabpanel" class="tab-pane" ng-class="{\'active\' : ctrl.isSelected(gridSource)}" id="{{gridSource.source.id}}"><ngeo-grid ngeo-grid-configuration="gridSource.configuration" ng-if="gridSource.source.tooManyResults !== true"></ngeo-grid><div ng-if="gridSource.source.tooManyResults === true"><div class="gmf-displayquerygrid-message alert alert-warning"><p><span translate>The results can not be displayed because the maximum number has been reached</span> ({{gridSource.source.limit}}).</p><p translate>Please refine your query.</p></div></div></div></div><div class="navbar" ng-show="!ctrl.pending && ctrl.getActiveGridSource() && ctrl.getActiveGridSource().configuration !== null"><ul class="nav navbar-nav navbar-right"><li class="small ng-hide" ng-show="ctrl.isOneSelected()"><p class="navbar-text ng-binding"> {{ctrl.getSelectedRowCount()}} <span translate>selected element(s)</span></p></li><li ng-show="ctrl.isOneSelected()" class="ng-hide"><button class="btn btn-link btn-xs" title="{{\'Zoom to selection\' | translate}}" ng-click="ctrl.zoomToSelection()"><i class="fa fa-search-plus"></i><span translate>Zoom to</span></button></li><li ng-show="ctrl.isOneSelected()" class="ng-hide"><button class="btn btn-link btn-xs" title="{{\'Export selection as CSV\' | translate}}" ng-click="ctrl.downloadCsv()"><i class="fa fa-download"></i><span translate>Export as CSV</span></button></li><li class="dropdown navbar-link dropup"><button type="button" class="dropup btn btn-default btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span translate>Select</span><span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="dLabel"><li><a href ng-click="ctrl.selectAll()" translate>All</a></li><li><a href ng-click="ctrl.unselectAll()" translate>None</a></li><li><a href ng-click="ctrl.invertSelection()" translate>Reverse selection</a></li></ul></li></ul></div><div ng-show="ctrl.pending" class="gmf-displayquerygrid-pending"><span class="fa fa-spinner fa-spin"></span></div></div>');
a.put("gmfmodule/map/component.html",'<div ngeo-map="ctrl.map" ngeo-map-manage-resize="ctrl.manageResize" ngeo-map-resize-transition="ctrl.resizeTransition"></div>')}a.$inject=["$templateCache"];Q.run(a)})();function Xa(a,b){b=void 0===b?{}:b;u.call(this,a);this.detail=b}p(Xa,u);function R(a,b,c){v.call(this);this.b=a;this.c=b.replace(/\/$/,"");this.a=c;Ya(this)}R.prototype=ba(v.prototype);R.prototype.constructor=R;if(ha)ha(R,v);else for(var S in v)if("prototype"!=S)if(Object.defineProperties){var Za=Object.getOwnPropertyDescriptor(v,S);Za&&Object.defineProperty(R,S,Za)}else R[S]=v[S];R.a=v.prototype;function Ya(a){a.b.get(a.c+"/"+$a,{withCredentials:!0}).then(a.N.bind(a,!0))}
R.prototype.I=function(a,b,c){return this.b.post(this.c+"/"+ab,$.param({oldPassword:a,newPassword:b,confirmNewPassword:c}),{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0})};R.prototype.changePassword=R.prototype.I;R.prototype.K=function(a,b){return this.b.post(this.c+"/"+bb,$.param({login:a,password:b}),{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0}).then(this.N.bind(this,!1))};R.prototype.login=R.prototype.K;
R.prototype.L=function(){return this.b.get(this.c+"/"+cb,{withCredentials:!0}).then(this.Aa.bind(this))};R.prototype.logout=R.prototype.L;R.prototype.O=function(a){var b=this.c+"/"+db,c=function(a){return a.data}.bind(this);return this.b.post(b,$.param({login:a}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(c)};R.prototype.resetPassword=R.prototype.O;
R.prototype.N=function(a,b){var c=b.data,d;for(d in c)this.a[d]=c[d];!a&&void 0!==c.username&&x(this,new Xa("login",{X:this.a}));a&&x(this,new Xa("ready",{X:this.a}));return b};R.prototype.Aa=function(){for(var a in this.a)this.a[a]=null;x(this,new Xa("logout",{X:this.a}));Ya(this)};R.$inject=["$http","authenticationBaseUrl","gmfUser"];var ab="loginchange",$a="loginuser",bb="login",cb="logout",db="loginresetpassword",T=angular.module("gmfAuthenticationService",[]);
T.service("gmfAuthenticationService",R);Q.requires.push(T.name);T.value("gmfUser",{functionalities:null,is_password_changed:null,role_id:null,role_name:null,username:null});function U(){}U.prototype.show=function(a){V(this,a).forEach(this.c,this)};U.prototype.show=U.prototype.show;U.prototype.error=function(a){this.show(V(this,a,eb))};U.prototype.error=U.prototype.error;U.prototype.info=function(a){this.show(V(this,a,fb))};U.prototype.info=U.prototype.info;U.prototype.success=function(a){this.show(V(this,a,gb))};U.prototype.success=U.prototype.success;U.prototype.warn=function(a){this.show(V(this,a,hb))};U.prototype.warn=U.prototype.warn;
function V(a,b,c){var d=[],f=null,e=fb;"string"===typeof b?d.push({msg:b,type:void 0!==c?c:e}):Array.isArray(b)?b.forEach(function(a){"string"===typeof b?f={msg:a,type:void 0!==c?c:e}:(f=a,void 0!==c&&(f.type=c));d.push(f)},a):(f=b,void 0!==c&&(f.type=c),void 0===f.type&&(f.type=e),d.push(f));return d}var eb="error",fb="information",gb="success",hb="warning";n("ngeo.message.Message.Type",{ERROR:eb,INFORMATION:fb,SUCCESS:gb,WARNING:hb});function W(a){this.b=a;a=angular.element('<div class="ngeo-notification"></div>');angular.element(document.body).append(a);this.f=a;this.a={}}p(W,U);W.$inject=["$timeout"];W.prototype.notify=function(a){this.show(a)};W.prototype.notify=W.prototype.notify;W.prototype.clear=function(){for(var a in this.a){var b=this.a[parseInt(a,10)],c=b.ua;b=b.promise;var d=c.a||(c.a=++pa);c.alert("close");this.b.cancel(b);delete this.a[d]}};W.prototype.clear=W.prototype.clear;
W.prototype.c=function(a){var b=this,c=["alert","fade"];switch(a.type){case eb:c.push("alert-danger");break;case fb:c.push("alert-info");break;case gb:c.push("alert-success");break;case hb:c.push("alert-warning")}var d=angular.element('<div class="'+c.join(" ")+'"></div>'),f;a.target?f=angular.element(a.target):f=this.f;f.append(d);d.html(a.msg).addClass("in");a=void 0!==a.delay?a.delay:7E3;c={ua:d};var e=d.a||(d.a=++pa);c.promise=this.b(function(){d.alert("close");delete b.a[e]},a);this.a[e]=c};
var ib=angular.module("ngeoNotification",[]);ib.service("ngeoNotification",W);Wa.requires.push(ib.name);var X=angular.module("ngeoModal",[]);Wa.requires.push(X.name);X.a={template:'<div class="modal fade" tabindex="-1" role="dialog">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <ng-transclude></ng-transclude>\n      </div>\n    </div>\n  </div>',require:{ngModel:"ngModel"},transclude:!0,controller:"ngeoModalController",bindings:{resizable:"<ngeoModalResizable"}};X.component("ngeoModal",X.a);function jb(a,b){this.b=b;this.f=a}
jb.prototype.$onInit=function(){var a=this;this.a=this.b.children();this.resizable=!!this.resizable;var b=this.a.find(".modal-dialog");b.draggable();this.resizable&&b.resizable();this.ngModel.$render=function(){a.a.modal(a.ngModel.$viewValue?"show":"hide")};this.a.on("shown.bs.modal hidden.bs.modal",function(b){var c=b.type;a.f.$apply(function(){a.ngModel.$setViewValue("shown"==c)})})};jb.prototype.$onDestroy=function(){var a=this.a.find(".modal-dialog");a.draggable("destroy");this.resizable&&a.resizable("destroy")};
jb.$inject=["$scope","$element"];X.controller("ngeoModalController",jb);var Y=angular.module("gmfAuthentication",[T.name,ib.name,X.name]);Q.requires.push(Y.name);Y.b=function(a,b){a=b.gmfAuthenticationTemplateurl;return void 0!==a?a:"gmfmodule/authentication/component.html"};function kb(a,b,c){return c(a,b)}kb.$inject=["$element","$attrs","gmfAuthenticationTemplateUrl"];Y.a={bindings:{allowPasswordChange:"<?gmfAuthenticationAllowPasswordChange",forcePasswordChange:"<?gmfAuthenticationForcePasswordChange"},controller:"GmfAuthenticationController",templateUrl:kb};
Y.value("gmfAuthenticationTemplateUrl",Y.b);Y.component("gmfAuthentication",Y.a);function Z(a,b,c,d,f){this.gmfUser=d;this.b=a;this.c=c;this.A=f;this.error=this.resetPasswordModalShown=this.changePasswordModalShown=this.changingPassword=!1;this.newPwdConfVal=this.newPwdVal=this.oldPwdVal=this.pwdVal=this.loginVal="";t(c,"ready",this.B.bind(this))}
Z.prototype.$onInit=function(){this.allowPasswordReset=!1!==this.allowPasswordReset;this.allowPasswordChange=!1!==this.allowPasswordChange;this.forcePasswordChange=!0===this.forcePasswordChange};
Z.prototype.I=function(){var a=this,b=this.b,c=this.oldPwdVal,d=this.newPwdVal,f=this.newPwdConfVal,e=[];""===c&&e.push(b.getString("The old password is required."));""===d&&e.push(b.getString("The new password is required."));""===f&&e.push(b.getString("The password confirmation is required."));e.length?this.a(e):(c===d&&e.push(b.getString("The old and new passwords are the same.")),d!==f&&e.push(b.getString("The passwords don't match.")),e.length?this.a(e):(b=b.getString("Incorrect old password."),
this.c.I(c,d,f).then(function(){a.changePasswordModalShown=!0;a.ja()},this.a.bind(this,b))))};Z.prototype.changePassword=Z.prototype.I;Z.prototype.K=function(){var a=this.b,b=[];""===this.loginVal&&b.push(a.getString("The username is required."));""===this.pwdVal&&b.push(a.getString("The password is required."));b.length?this.a(b):(a=a.getString("Incorrect username or password."),this.c.K(this.loginVal,this.pwdVal).then(this.f.bind(this),this.a.bind(this,a)))};Z.prototype.login=Z.prototype.K;
Z.prototype.L=function(){var a=this.b.getString("Could not log out.");this.c.L().then(this.f.bind(this),this.a.bind(this,a))};Z.prototype.logout=Z.prototype.L;Z.prototype.O=function(){var a=this.b;if(this.loginVal){a=a.getString("An error occured while reseting the password.");var b=function(){this.resetPasswordModalShown=!0;this.f()}.bind(this);this.c.O(this.loginVal).then(b,this.a.bind(this,a))}else this.a(a.getString("Please, input a login..."))};Z.prototype.resetPassword=Z.prototype.O;
Z.prototype.ja=function(){this.f();this.changingPassword=!1;this.newPwdConfVal=this.newPwdVal=this.oldPwdVal=""};Z.prototype.changePasswordReset=Z.prototype.ja;Z.prototype.B=function(a){!1===a.detail.X.is_password_changed&&this.forcePasswordChange&&(a=this.b.getString("You must change your password."),this.A.notify({msg:a,type:hb}))};
Z.prototype.a=function(a){this.error&&this.f();this.error=!0;var b=angular.element(".gmf-authentication-error");Array.isArray(a)||(a=[a]);a.forEach(function(a){this.A.notify({msg:a,target:b,type:eb})},this)};Z.prototype.f=function(){this.A.clear();this.error=!1};Z.$inject=["gettextCatalog","$scope","gmfAuthenticationService","gmfUser","ngeoNotification"];Y.controller("GmfAuthenticationController",Z);var lb=angular.module("gmfAuthenticationModule",[Y.name,T.name]);var mb=angular.module("gmfapp",[Q.name,lb.name]);mb.value("authenticationBaseUrl","https://geomapfish-demo.camptocamp.net/2.2/wsgi");mb.controller("MainController",function(){});}).call(window);
//# sourceMappingURL=authentication.js.map
