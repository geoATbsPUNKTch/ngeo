webpackJsonp([10],{11:function(e,t,n){"use strict";t.a="1.3.0"},12:function(e,t,n){"use strict";t.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(40),i=n(8),a=n(10),s=n(92),l=n(69),u=n(98),d=n(80),c=n(72),_=n(25),f=n(13),h=n(30),p=n(51),S=n(45),m=n(53),g=n(27),E=n(41),A=n(14),y=n(6),R=n(65),T=n(147),O=n(163),N=n(164),P=n(79),C=n(17),I=n(99),L=n(55);const F=function(e){const t=e||{};u.a.call(this),F.DEFAULT_STYLE_ARRAY_||F.createStyleDefaults_(),this.defaultDataProjection=Object(y.get)("EPSG:4326"),this.defaultStyle_=t.defaultStyle?t.defaultStyle:F.DEFAULT_STYLE_ARRAY_,this.extractStyles_=void 0===t.extractStyles||t.extractStyles,this.writeStyles_=void 0===t.writeStyles||t.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===t.showPointNames||t.showPointNames};Object(r.inherits)(F,u.a),F.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"],F.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],F.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",F.createStyleDefaults_=function(){return F.DEFAULT_COLOR_=[255,255,255,1],F.DEFAULT_FILL_STYLE_=new R.default({color:F.DEFAULT_COLOR_}),F.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2],F.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=O.a.PIXELS,F.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=O.a.PIXELS,F.DEFAULT_IMAGE_STYLE_SIZE_=[64,64],F.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",F.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5,F.DEFAULT_IMAGE_STYLE_=new T.default({anchor:F.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:N.a.BOTTOM_LEFT,anchorXUnits:F.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:F.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:F.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:F.DEFAULT_IMAGE_STYLE_SIZE_,src:F.DEFAULT_IMAGE_STYLE_SRC_}),F.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE",F.DEFAULT_STROKE_STYLE_=new P.default({color:F.DEFAULT_COLOR_,width:1}),F.DEFAULT_TEXT_STROKE_STYLE_=new P.default({color:[51,51,51,1],width:2}),F.DEFAULT_TEXT_STYLE_=new I.default({font:"bold 16px Helvetica",fill:F.DEFAULT_FILL_STYLE_,stroke:F.DEFAULT_TEXT_STROKE_STYLE_,scale:.8}),F.DEFAULT_STYLE_=new C.default({fill:F.DEFAULT_FILL_STYLE_,image:F.DEFAULT_IMAGE_STYLE_,text:F.DEFAULT_TEXT_STYLE_,stroke:F.DEFAULT_STROKE_STYLE_,zIndex:0}),F.DEFAULT_STYLE_ARRAY_=[F.DEFAULT_STYLE_],F.DEFAULT_STYLE_ARRAY_},F.ICON_ANCHOR_UNITS_MAP_={fraction:O.a.FRACTION,pixels:O.a.PIXELS,insetPixels:O.a.PIXELS},F.createNameStyleFunction_=function(e,t){let n=null;const r=[0,0];let o="start";if(e.getImage()){let t=e.getImage().getImageSize();if(null===t&&(t=F.DEFAULT_IMAGE_STYLE_SIZE_),2==t.length){const n=e.getImage().getScale();r[0]=n*t[0]/2,r[1]=-n*t[1]/2,o="left"}}if(null!==e.getText()){const t=e.getText();(n=t.clone()).setFont(t.getFont()||F.DEFAULT_TEXT_STYLE_.getFont()),n.setScale(t.getScale()||F.DEFAULT_TEXT_STYLE_.getScale()),n.setFill(t.getFill()||F.DEFAULT_TEXT_STYLE_.getFill()),n.setStroke(t.getStroke()||F.DEFAULT_TEXT_STROKE_STYLE_)}else n=F.DEFAULT_TEXT_STYLE_.clone();return n.setText(t),n.setOffsetX(r[0]),n.setOffsetY(r[1]),n.setTextAlign(o),new C.default({text:n})},F.createFeatureStyleFunction_=function(e,t,n,r,o){return function(i){let a,s=o,l="";if(s&&this.getGeometry()&&(s=this.getGeometry().getType()===f.default.POINT),s&&(l=this.get("name"),s=s&&l),e)return s?(a=F.createNameStyleFunction_(e[0],l),e.concat(a)):e;if(t){const e=F.findStyle_(t,n,r);return s?(a=F.createNameStyleFunction_(e[0],l),e.concat(a)):e}return s?(a=F.createNameStyleFunction_(n[0],l),n.concat(a)):n}},F.findStyle_=function(e,t,n){return Array.isArray(e)?e:"string"==typeof e?(!(e in n)&&"#"+e in n&&(e="#"+e),F.findStyle_(n[e],t,n)):t},F.readColor_=function(e){const t=L.default.getAllTextContent(e,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(n){const e=n[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}},F.readFlatCoordinates_=function(e){let t=L.default.getAllTextContent(e,!1);const n=[],r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;let o;for(;o=r.exec(t);){const e=parseFloat(o[1]),r=parseFloat(o[2]),i=o[3]?parseFloat(o[3]):0;n.push(e,r,i),t=t.substr(o[0].length)}if(""===t)return n},F.readURI_=function(e){const t=L.default.getAllTextContent(e,!1).trim();let n=e.baseURI;n&&"about:blank"!=n||(n=window.location.href);return n?new URL(t,n).href:t},F.readVec2_=function(e){const t=e.getAttribute("xunits"),n=e.getAttribute("yunits");let r;return r="insetPixels"!==t?"insetPixels"!==n?N.a.BOTTOM_LEFT:N.a.TOP_LEFT:"insetPixels"!==n?N.a.BOTTOM_RIGHT:N.a.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:F.ICON_ANCHOR_UNITS_MAP_[t],y:parseFloat(e.getAttribute("y")),yunits:F.ICON_ANCHOR_UNITS_MAP_[n],origin:r}},F.readScale_=function(e){return d.a.readDecimal(e)},F.readStyleMapValue_=function(e,t){return L.default.pushParseAndPop(void 0,F.STYLE_MAP_PARSERS_,e,t)},F.IconStyleParser_=function(e,t){const n=L.default.pushParseAndPop({},F.ICON_STYLE_PARSERS_,e,t);if(!n)return;const r=t[t.length-1],o="Icon"in n?n.Icon:{},i=!("Icon"in n)||Object.keys(o).length>0;let a;const s=o.href;let l,u,d;s?a=s:i&&(a=F.DEFAULT_IMAGE_STYLE_SRC_);let c=N.a.BOTTOM_LEFT;const _=n.hotSpot;let f;_?(l=[_.x,_.y],u=_.xunits,d=_.yunits,c=_.origin):a===F.DEFAULT_IMAGE_STYLE_SRC_?(l=F.DEFAULT_IMAGE_STYLE_ANCHOR_,u=F.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,d=F.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(l=[.5,0],u=O.a.FRACTION,d=O.a.FRACTION);const h=o.x,p=o.y;let S;void 0!==h&&void 0!==p&&(f=[h,p]);const m=o.w,g=o.h;let E;void 0!==m&&void 0!==g&&(S=[m,g]);const y=n.heading;void 0!==y&&(E=Object(A.toRadians)(y));let R=n.scale;if(i){a==F.DEFAULT_IMAGE_STYLE_SRC_&&(S=F.DEFAULT_IMAGE_STYLE_SIZE_,void 0===R&&(R=F.DEFAULT_IMAGE_SCALE_MULTIPLIER_));const e=new T.default({anchor:l,anchorOrigin:c,anchorXUnits:u,anchorYUnits:d,crossOrigin:"anonymous",offset:f,offsetOrigin:N.a.BOTTOM_LEFT,rotation:E,scale:R,size:S,src:a});r.imageStyle=e}else r.imageStyle=F.DEFAULT_NO_IMAGE_STYLE_},F.LabelStyleParser_=function(e,t){const n=L.default.pushParseAndPop({},F.LABEL_STYLE_PARSERS_,e,t);if(!n)return;const r=t[t.length-1],o=new I.default({fill:new R.default({color:"color"in n?n.color:F.DEFAULT_COLOR_}),scale:n.scale});r.textStyle=o},F.LineStyleParser_=function(e,t){const n=L.default.pushParseAndPop({},F.LINE_STYLE_PARSERS_,e,t);if(!n)return;const r=t[t.length-1],o=new P.default({color:"color"in n?n.color:F.DEFAULT_COLOR_,width:"width"in n?n.width:1});r.strokeStyle=o},F.PolyStyleParser_=function(e,t){const n=L.default.pushParseAndPop({},F.POLY_STYLE_PARSERS_,e,t);if(!n)return;const r=t[t.length-1],o=new R.default({color:"color"in n?n.color:F.DEFAULT_COLOR_});r.fillStyle=o;const i=n.fill;void 0!==i&&(r.fill=i);const a=n.outline;void 0!==a&&(r.outline=a)},F.readFlatLinearRing_=function(e,t){return L.default.pushParseAndPop(null,F.FLAT_LINEAR_RING_PARSERS_,e,t)},F.gxCoordParser_=function(e,t){const n=t[t.length-1].flatCoordinates,r=L.default.getAllTextContent(e,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(o){const e=parseFloat(o[1]),t=parseFloat(o[2]),r=parseFloat(o[3]);n.push(e,t,r,0)}else n.push(0,0,0,0)},F.readGxMultiTrack_=function(e,t){const n=L.default.pushParseAndPop([],F.GX_MULTITRACK_GEOMETRY_PARSERS_,e,t);if(!n)return;const r=new p.default(null);return r.setLineStrings(n),r},F.readGxTrack_=function(e,t){const n=L.default.pushParseAndPop({flatCoordinates:[],whens:[]},F.GX_TRACK_PARSERS_,e,t);if(!n)return;const r=n.flatCoordinates,o=n.whens;let i,a;for(i=0,a=Math.min(r.length,o.length);i<a;++i)r[4*i+3]=o[i];const s=new h.default(null);return s.setFlatCoordinates(_.default.XYZM,r),s},F.readIcon_=function(e,t){const n=L.default.pushParseAndPop({},F.ICON_PARSERS_,e,t);return n||null},F.readFlatCoordinatesFromNode_=function(e,t){return L.default.pushParseAndPop(null,F.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t)},F.readLineString_=function(e,t){const n=L.default.pushParseAndPop({},F.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=F.readFlatCoordinatesFromNode_(e,t);if(r){const e=new h.default(null);return e.setFlatCoordinates(_.default.XYZ,r),e.setProperties(n),e}},F.readLinearRing_=function(e,t){const n=L.default.pushParseAndPop({},F.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=F.readFlatCoordinatesFromNode_(e,t);if(r){const e=new E.default(null);return e.setFlatCoordinates(_.default.XYZ,r,[r.length]),e.setProperties(n),e}},F.readMultiGeometry_=function(e,t){const n=L.default.pushParseAndPop([],F.MULTI_GEOMETRY_PARSERS_,e,t);if(!n)return null;if(0===n.length)return new c.default(n);let r,o=!0;const s=n[0].getType();let l,u,d,_,h;for(u=1,d=n.length;u<d;++u)if((l=n[u]).getType()!=s){o=!1;break}if(o)if(s==f.default.POINT){const e=n[0];for(_=e.getLayout(),h=e.getFlatCoordinates(),u=1,d=n.length;u<d;++u)l=n[u],Object(i.extend)(h,l.getFlatCoordinates());(r=new S.default(null)).setFlatCoordinates(_,h),F.setCommonGeometryProperties_(r,n)}else s==f.default.LINE_STRING?((r=new p.default(null)).setLineStrings(n),F.setCommonGeometryProperties_(r,n)):s==f.default.POLYGON?((r=new m.default(null)).setPolygons(n),F.setCommonGeometryProperties_(r,n)):s==f.default.GEOMETRY_COLLECTION?r=new c.default(n):Object(a.a)(!1,37);else r=new c.default(n);return r},F.readPoint_=function(e,t){const n=L.default.pushParseAndPop({},F.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=F.readFlatCoordinatesFromNode_(e,t);if(r){const e=new g.default(null);return e.setFlatCoordinates(_.default.XYZ,r),e.setProperties(n),e}},F.readPolygon_=function(e,t){const n=L.default.pushParseAndPop({},F.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),r=L.default.pushParseAndPop([null],F.FLAT_LINEAR_RINGS_PARSERS_,e,t);if(r&&r[0]){const e=new E.default(null),t=r[0],o=[t.length];let a,s;for(a=1,s=r.length;a<s;++a)Object(i.extend)(t,r[a]),o.push(t.length);return e.setFlatCoordinates(_.default.XYZ,t,o),e.setProperties(n),e}},F.readStyle_=function(e,t){const n=L.default.pushParseAndPop({},F.STYLE_PARSERS_,e,t);if(!n)return null;let r="fillStyle"in n?n.fillStyle:F.DEFAULT_FILL_STYLE_;const o=n.fill;void 0===o||o||(r=null);let i="imageStyle"in n?n.imageStyle:F.DEFAULT_IMAGE_STYLE_;i==F.DEFAULT_NO_IMAGE_STYLE_&&(i=void 0);const a="textStyle"in n?n.textStyle:F.DEFAULT_TEXT_STYLE_;let s="strokeStyle"in n?n.strokeStyle:F.DEFAULT_STROKE_STYLE_;const l=n.outline;return void 0===l||l||(s=null),[new C.default({fill:r,image:i,stroke:s,text:a,zIndex:void 0})]},F.setCommonGeometryProperties_=function(e,t){const n=t.length,r=new Array(t.length),o=new Array(t.length),i=new Array(t.length);let a,s,l,u,d;for(l=u=d=!1,s=0;s<n;++s)a=t[s],r[s]=a.get("extrude"),o[s]=a.get("tessellate"),i[s]=a.get("altitudeMode"),l=l||void 0!==r[s],u=u||void 0!==o[s],d=d||i[s];l&&e.set("extrude",r),u&&e.set("tessellate",o),d&&e.set("altitudeMode",i)},F.DataParser_=function(e,t){const n=e.getAttribute("name");L.default.parseNode(F.DATA_PARSERS_,e,t);const r=t[t.length-1];null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},F.ExtendedDataParser_=function(e,t){L.default.parseNode(F.EXTENDED_DATA_PARSERS_,e,t)},F.RegionParser_=function(e,t){L.default.parseNode(F.REGION_PARSERS_,e,t)},F.PairDataParser_=function(e,t){const n=L.default.pushParseAndPop({},F.PAIR_PARSERS_,e,t);if(!n)return;const r=n.key;if(r&&"normal"==r){const e=n.styleUrl;e&&(t[t.length-1]=e);const r=n.Style;r&&(t[t.length-1]=r)}},F.PlacemarkStyleMapParser_=function(e,t){const n=F.readStyleMapValue_(e,t);if(!n)return;const r=t[t.length-1];Array.isArray(n)?r.Style=n:"string"==typeof n?r.styleUrl=n:Object(a.a)(!1,38)},F.SchemaDataParser_=function(e,t){L.default.parseNode(F.SCHEMA_DATA_PARSERS_,e,t)},F.SimpleDataParser_=function(e,t){const n=e.getAttribute("name");if(null!==n){const r=d.a.readString(e);t[t.length-1][n]=r}},F.LatLonAltBoxParser_=function(e,t){const n=L.default.pushParseAndPop({},F.LAT_LON_ALT_BOX_PARSERS_,e,t);if(!n)return;const r=t[t.length-1],o=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=o,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)},F.LodParser_=function(e,t){const n=L.default.pushParseAndPop({},F.LOD_PARSERS_,e,t);if(!n)return;const r=t[t.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)},F.innerBoundaryIsParser_=function(e,t){const n=L.default.pushParseAndPop(void 0,F.INNER_BOUNDARY_IS_PARSERS_,e,t);n&&t[t.length-1].push(n)},F.outerBoundaryIsParser_=function(e,t){const n=L.default.pushParseAndPop(void 0,F.OUTER_BOUNDARY_IS_PARSERS_,e,t);n&&(t[t.length-1][0]=n)},F.LinkParser_=function(e,t){L.default.parseNode(F.LINK_PARSERS_,e,t)},F.whenParser_=function(e,t){const n=t[t.length-1].whens,r=L.default.getAllTextContent(e,!1),o=Date.parse(r);n.push(isNaN(o)?0:o)},F.DATA_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{displayName:L.default.makeObjectPropertySetter(d.a.readString),value:L.default.makeObjectPropertySetter(d.a.readString)}),F.EXTENDED_DATA_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Data:F.DataParser_,SchemaData:F.SchemaDataParser_}),F.REGION_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{LatLonAltBox:F.LatLonAltBoxParser_,Lod:F.LodParser_}),F.LAT_LON_ALT_BOX_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{altitudeMode:L.default.makeObjectPropertySetter(d.a.readString),minAltitude:L.default.makeObjectPropertySetter(d.a.readDecimal),maxAltitude:L.default.makeObjectPropertySetter(d.a.readDecimal),north:L.default.makeObjectPropertySetter(d.a.readDecimal),south:L.default.makeObjectPropertySetter(d.a.readDecimal),east:L.default.makeObjectPropertySetter(d.a.readDecimal),west:L.default.makeObjectPropertySetter(d.a.readDecimal)}),F.LOD_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{minLodPixels:L.default.makeObjectPropertySetter(d.a.readDecimal),maxLodPixels:L.default.makeObjectPropertySetter(d.a.readDecimal),minFadeExtent:L.default.makeObjectPropertySetter(d.a.readDecimal),maxFadeExtent:L.default.makeObjectPropertySetter(d.a.readDecimal)}),F.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{extrude:L.default.makeObjectPropertySetter(d.a.readBoolean),tessellate:L.default.makeObjectPropertySetter(d.a.readBoolean),altitudeMode:L.default.makeObjectPropertySetter(d.a.readString)}),F.FLAT_LINEAR_RING_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{coordinates:L.default.makeReplacer(F.readFlatCoordinates_)}),F.FLAT_LINEAR_RINGS_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{innerBoundaryIs:F.innerBoundaryIsParser_,outerBoundaryIs:F.outerBoundaryIsParser_}),F.GX_TRACK_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{when:F.whenParser_},L.default.makeStructureNS(F.GX_NAMESPACE_URIS_,{coord:F.gxCoordParser_})),F.GEOMETRY_FLAT_COORDINATES_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{coordinates:L.default.makeReplacer(F.readFlatCoordinates_)}),F.ICON_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{href:L.default.makeObjectPropertySetter(F.readURI_)},L.default.makeStructureNS(F.GX_NAMESPACE_URIS_,{x:L.default.makeObjectPropertySetter(d.a.readDecimal),y:L.default.makeObjectPropertySetter(d.a.readDecimal),w:L.default.makeObjectPropertySetter(d.a.readDecimal),h:L.default.makeObjectPropertySetter(d.a.readDecimal)})),F.ICON_STYLE_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Icon:L.default.makeObjectPropertySetter(F.readIcon_),heading:L.default.makeObjectPropertySetter(d.a.readDecimal),hotSpot:L.default.makeObjectPropertySetter(F.readVec2_),scale:L.default.makeObjectPropertySetter(F.readScale_)}),F.INNER_BOUNDARY_IS_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{LinearRing:L.default.makeReplacer(F.readFlatLinearRing_)}),F.LABEL_STYLE_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{color:L.default.makeObjectPropertySetter(F.readColor_),scale:L.default.makeObjectPropertySetter(F.readScale_)}),F.LINE_STYLE_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{color:L.default.makeObjectPropertySetter(F.readColor_),width:L.default.makeObjectPropertySetter(d.a.readDecimal)}),F.MULTI_GEOMETRY_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{LineString:L.default.makeArrayPusher(F.readLineString_),LinearRing:L.default.makeArrayPusher(F.readLinearRing_),MultiGeometry:L.default.makeArrayPusher(F.readMultiGeometry_),Point:L.default.makeArrayPusher(F.readPoint_),Polygon:L.default.makeArrayPusher(F.readPolygon_)}),F.GX_MULTITRACK_GEOMETRY_PARSERS_=L.default.makeStructureNS(F.GX_NAMESPACE_URIS_,{Track:L.default.makeArrayPusher(F.readGxTrack_)}),F.NETWORK_LINK_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{ExtendedData:F.ExtendedDataParser_,Region:F.RegionParser_,Link:F.LinkParser_,address:L.default.makeObjectPropertySetter(d.a.readString),description:L.default.makeObjectPropertySetter(d.a.readString),name:L.default.makeObjectPropertySetter(d.a.readString),open:L.default.makeObjectPropertySetter(d.a.readBoolean),phoneNumber:L.default.makeObjectPropertySetter(d.a.readString),visibility:L.default.makeObjectPropertySetter(d.a.readBoolean)}),F.LINK_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{href:L.default.makeObjectPropertySetter(F.readURI_)}),F.OUTER_BOUNDARY_IS_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{LinearRing:L.default.makeReplacer(F.readFlatLinearRing_)}),F.PAIR_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Style:L.default.makeObjectPropertySetter(F.readStyle_),key:L.default.makeObjectPropertySetter(d.a.readString),styleUrl:L.default.makeObjectPropertySetter(F.readURI_)}),F.PLACEMARK_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{ExtendedData:F.ExtendedDataParser_,Region:F.RegionParser_,MultiGeometry:L.default.makeObjectPropertySetter(F.readMultiGeometry_,"geometry"),LineString:L.default.makeObjectPropertySetter(F.readLineString_,"geometry"),LinearRing:L.default.makeObjectPropertySetter(F.readLinearRing_,"geometry"),Point:L.default.makeObjectPropertySetter(F.readPoint_,"geometry"),Polygon:L.default.makeObjectPropertySetter(F.readPolygon_,"geometry"),Style:L.default.makeObjectPropertySetter(F.readStyle_),StyleMap:F.PlacemarkStyleMapParser_,address:L.default.makeObjectPropertySetter(d.a.readString),description:L.default.makeObjectPropertySetter(d.a.readString),name:L.default.makeObjectPropertySetter(d.a.readString),open:L.default.makeObjectPropertySetter(d.a.readBoolean),phoneNumber:L.default.makeObjectPropertySetter(d.a.readString),styleUrl:L.default.makeObjectPropertySetter(F.readURI_),visibility:L.default.makeObjectPropertySetter(d.a.readBoolean)},L.default.makeStructureNS(F.GX_NAMESPACE_URIS_,{MultiTrack:L.default.makeObjectPropertySetter(F.readGxMultiTrack_,"geometry"),Track:L.default.makeObjectPropertySetter(F.readGxTrack_,"geometry")})),F.POLY_STYLE_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{color:L.default.makeObjectPropertySetter(F.readColor_),fill:L.default.makeObjectPropertySetter(d.a.readBoolean),outline:L.default.makeObjectPropertySetter(d.a.readBoolean)}),F.SCHEMA_DATA_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{SimpleData:F.SimpleDataParser_}),F.STYLE_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{IconStyle:F.IconStyleParser_,LabelStyle:F.LabelStyleParser_,LineStyle:F.LineStyleParser_,PolyStyle:F.PolyStyleParser_}),F.STYLE_MAP_PARSERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Pair:F.PairDataParser_}),F.prototype.readDocumentOrFolder_=function(e,t){const n=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Document:L.default.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:L.default.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:L.default.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=L.default.pushParseAndPop([],n,e,t,this);return r||void 0},F.prototype.readPlacemark_=function(e,t){const n=L.default.pushParseAndPop({geometry:null},F.PLACEMARK_PARSERS_,e,t);if(!n)return;const r=new o.default,i=e.getAttribute("id");null!==i&&r.setId(i);const a=t[0],s=n.geometry;if(s&&Object(l.b)(s,!1,a),r.setGeometry(s),delete n.geometry,this.extractStyles_){const e=n.Style,t=n.styleUrl,o=F.createFeatureStyleFunction_(e,t,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(o)}return delete n.Style,r.setProperties(n),r},F.prototype.readSharedStyle_=function(e,t){const n=e.getAttribute("id");if(null!==n){const r=F.readStyle_(e,t);if(r){let t,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)t=new URL("#"+n,o).href;else t="#"+n;this.sharedStyles_[t]=r}}},F.prototype.readSharedStyleMap_=function(e,t){const n=e.getAttribute("id");if(null===n)return;const r=F.readStyleMapValue_(e,t);if(!r)return;let o,i=e.baseURI;(i&&"about:blank"!=i||(i=window.location.href),i)?o=new URL("#"+n,i).href:o="#"+n;this.sharedStyles_[o]=r},F.prototype.readFeature,F.prototype.readFeatureFromNode=function(e,t){if(!Object(i.includes)(F.NAMESPACE_URIS_,e.namespaceURI))return null;const n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n||null},F.prototype.readFeatures,F.prototype.readFeaturesFromNode=function(e,t){if(!Object(i.includes)(F.NAMESPACE_URIS_,e.namespaceURI))return[];let n;const r=e.localName;if("Document"==r||"Folder"==r)return(n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==r){const n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n?[n]:[]}if("kml"==r){let r;for(n=[],r=e.firstElementChild;r;r=r.nextElementSibling){const e=this.readFeaturesFromNode(r,t);e&&Object(i.extend)(n,e)}return n}return[]},F.prototype.readName=function(e){if(L.default.isDocument(e))return this.readNameFromDocument(e);if(L.default.isNode(e))return this.readNameFromNode(e);if("string"==typeof e){const t=L.default.parse(e);return this.readNameFromDocument(t)}},F.prototype.readNameFromDocument=function(e){let t;for(t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const e=this.readNameFromNode(t);if(e)return e}},F.prototype.readNameFromNode=function(e){let t;for(t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(i.includes)(F.NAMESPACE_URIS_,t.namespaceURI)&&"name"==t.localName)return d.a.readString(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){const e=t.localName;if(Object(i.includes)(F.NAMESPACE_URIS_,t.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)){const e=this.readNameFromNode(t);if(e)return e}}},F.prototype.readNetworkLinks=function(e){const t=[];if(L.default.isDocument(e))Object(i.extend)(t,this.readNetworkLinksFromDocument(e));else if(L.default.isNode(e))Object(i.extend)(t,this.readNetworkLinksFromNode(e));else if("string"==typeof e){const n=L.default.parse(e);Object(i.extend)(t,this.readNetworkLinksFromDocument(n))}return t},F.prototype.readNetworkLinksFromDocument=function(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(i.extend)(t,this.readNetworkLinksFromNode(n));return t},F.prototype.readNetworkLinksFromNode=function(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(Object(i.includes)(F.NAMESPACE_URIS_,n.namespaceURI)&&"NetworkLink"==n.localName){const e=L.default.pushParseAndPop({},F.NETWORK_LINK_PARSERS_,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!Object(i.includes)(F.NAMESPACE_URIS_,n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Object(i.extend)(t,this.readNetworkLinksFromNode(n))}return t},F.prototype.readRegion=function(e){const t=[];if(L.default.isDocument(e))Object(i.extend)(t,this.readRegionFromDocument(e));else if(L.default.isNode(e))Object(i.extend)(t,this.readRegionFromNode(e));else if("string"==typeof e){const n=L.default.parse(e);Object(i.extend)(t,this.readRegionFromDocument(n))}return t},F.prototype.readRegionFromDocument=function(e){const t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(i.extend)(t,this.readRegionFromNode(n));return t},F.prototype.readRegionFromNode=function(e){const t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(Object(i.includes)(F.NAMESPACE_URIS_,n.namespaceURI)&&"Region"==n.localName){const e=L.default.pushParseAndPop({},F.REGION_PARSERS_,n,[]);t.push(e)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){const e=n.localName;!Object(i.includes)(F.NAMESPACE_URIS_,n.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Object(i.extend)(t,this.readRegionFromNode(n))}return t},F.prototype.readProjection,F.writeColorTextNode_=function(e,t){const n=Object(s.asArray)(t),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];let o;for(o=0;o<4;++o){const e=parseInt(r[o],10).toString(16);r[o]=1==e.length?"0"+e:e}d.a.writeStringTextNode(e,r.join(""))},F.writeCoordinatesTextNode_=function(e,t,n){const r=n[n.length-1],o=r.layout,i=r.stride;let s,l,u;o==_.default.XY||o==_.default.XYM?s=2:o==_.default.XYZ||o==_.default.XYZM?s=3:Object(a.a)(!1,34);const c=t.length;let f="";if(c>0){for(f+=t[0],l=1;l<s;++l)f+=","+t[l];for(u=i;u<c;u+=i)for(f+=" "+t[u],l=1;l<s;++l)f+=","+t[u+l]}d.a.writeStringTextNode(e,f)},F.writeDataNode_=function(e,t,n){e.setAttribute("name",t.name);const r={node:e},o=t.value;"object"==typeof o?(null!==o&&o.displayName&&L.default.pushSerializeAndPop(r,F.EXTENDEDDATA_NODE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,[o.displayName],n,["displayName"]),null!==o&&o.value&&L.default.pushSerializeAndPop(r,F.EXTENDEDDATA_NODE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,[o.value],n,["value"])):L.default.pushSerializeAndPop(r,F.EXTENDEDDATA_NODE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,[o],n,["value"])},F.writeDataNodeName_=function(e,t){d.a.writeCDATASection(e,t)},F.writeDataNodeValue_=function(e,t){d.a.writeStringTextNode(e,t)},F.writeDocument_=function(e,t,n){const r={node:e};L.default.pushSerializeAndPop(r,F.DOCUMENT_SERIALIZERS_,F.DOCUMENT_NODE_FACTORY_,t,n,void 0,this)},F.writeExtendedData_=function(e,t,n){const r={node:e},o=t.names,i=t.values,a=o.length;for(let e=0;e<a;e++)L.default.pushSerializeAndPop(r,F.EXTENDEDDATA_NODE_SERIALIZERS_,F.DATA_NODE_FACTORY_,[{name:o[e],value:i[e]}],n)},F.writeIcon_=function(e,t,n){const r={node:e},o=n[n.length-1].node;let i=F.ICON_SEQUENCE_[o.namespaceURI],a=L.default.makeSequence(t,i);L.default.pushSerializeAndPop(r,F.ICON_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,a,n,i),i=F.ICON_SEQUENCE_[F.GX_NAMESPACE_URIS_[0]],a=L.default.makeSequence(t,i),L.default.pushSerializeAndPop(r,F.ICON_SERIALIZERS_,F.GX_NODE_FACTORY_,a,n,i)},F.writeIconStyle_=function(e,t,n){const r={node:e},o={},i=t.getSrc(),a=t.getSize(),s=t.getImageSize(),l={href:i};if(a){l.w=a[0],l.h=a[1];const e=t.getAnchor(),n=t.getOrigin();if(n&&s&&0!==n[0]&&n[1]!==a[1]&&(l.x=n[0],l.y=s[1]-(n[1]+a[1])),e&&(e[0]!==a[0]/2||e[1]!==a[1]/2)){const t={x:e[0],xunits:O.a.PIXELS,y:a[1]-e[1],yunits:O.a.PIXELS};o.hotSpot=t}}o.Icon=l;const u=t.getScale();1!==u&&(o.scale=u);const d=t.getRotation();0!==d&&(o.heading=d);const c=n[n.length-1].node,_=F.ICON_STYLE_SEQUENCE_[c.namespaceURI],f=L.default.makeSequence(o,_);L.default.pushSerializeAndPop(r,F.ICON_STYLE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,f,n,_)},F.writeLabelStyle_=function(e,t,n){const r={node:e},o={},i=t.getFill();i&&(o.color=i.getColor());const a=t.getScale();a&&1!==a&&(o.scale=a);const s=n[n.length-1].node,l=F.LABEL_STYLE_SEQUENCE_[s.namespaceURI],u=L.default.makeSequence(o,l);L.default.pushSerializeAndPop(r,F.LABEL_STYLE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,u,n,l)},F.writeLineStyle_=function(e,t,n){const r={node:e},o={color:t.getColor(),width:t.getWidth()},i=n[n.length-1].node,a=F.LINE_STYLE_SEQUENCE_[i.namespaceURI],s=L.default.makeSequence(o,a);L.default.pushSerializeAndPop(r,F.LINE_STYLE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,s,n,a)},F.writeMultiGeometry_=function(e,t,n){const r={node:e},o=t.getType();let i,s;o==f.default.GEOMETRY_COLLECTION?(i=t.getGeometries(),s=F.GEOMETRY_NODE_FACTORY_):o==f.default.MULTI_POINT?(i=t.getPoints(),s=F.POINT_NODE_FACTORY_):o==f.default.MULTI_LINE_STRING?(i=t.getLineStrings(),s=F.LINE_STRING_NODE_FACTORY_):o==f.default.MULTI_POLYGON?(i=t.getPolygons(),s=F.POLYGON_NODE_FACTORY_):Object(a.a)(!1,39),L.default.pushSerializeAndPop(r,F.MULTI_GEOMETRY_SERIALIZERS_,s,i,n)},F.writeBoundaryIs_=function(e,t,n){const r={node:e};L.default.pushSerializeAndPop(r,F.BOUNDARY_IS_SERIALIZERS_,F.LINEAR_RING_NODE_FACTORY_,[t],n)},F.writePlacemark_=function(e,t,n){const r={node:e};t.getId()&&e.setAttribute("id",t.getId());const o=t.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[t.getGeometryName()]=1;const a=Object.keys(o||{}).sort().filter(function(e){return!i[e]});if(a.length>0){const e={names:a,values:L.default.makeSequence(o,a)};L.default.pushSerializeAndPop(r,F.PLACEMARK_SERIALIZERS_,F.EXTENDEDDATA_NODE_FACTORY_,[e],n)}const s=t.getStyleFunction();if(s){const e=s.call(t,0);if(e){const t=Array.isArray(e)?e[0]:e;this.writeStyles_&&(o.Style=t);const n=t.getText();n&&(o.name=n.getText())}}const u=n[n.length-1].node,d=F.PLACEMARK_SEQUENCE_[u.namespaceURI],c=L.default.makeSequence(o,d);L.default.pushSerializeAndPop(r,F.PLACEMARK_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,c,n,d);const _=n[0];let f=t.getGeometry();f&&(f=Object(l.b)(f,!0,_)),L.default.pushSerializeAndPop(r,F.PLACEMARK_SERIALIZERS_,F.GEOMETRY_NODE_FACTORY_,[f],n)},F.writePrimitiveGeometry_=function(e,t,n){const r=t.getFlatCoordinates(),o={node:e};o.layout=t.getLayout(),o.stride=t.getStride();const i=t.getProperties();i.coordinates=r;const a=n[n.length-1].node,s=F.PRIMITIVE_GEOMETRY_SEQUENCE_[a.namespaceURI],l=L.default.makeSequence(i,s);L.default.pushSerializeAndPop(o,F.PRIMITIVE_GEOMETRY_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,l,n,s)},F.writePolygon_=function(e,t,n){const r=t.getLinearRings(),o=r.shift(),i={node:e};L.default.pushSerializeAndPop(i,F.POLYGON_SERIALIZERS_,F.INNER_BOUNDARY_NODE_FACTORY_,r,n),L.default.pushSerializeAndPop(i,F.POLYGON_SERIALIZERS_,F.OUTER_BOUNDARY_NODE_FACTORY_,[o],n)},F.writePolyStyle_=function(e,t,n){const r={node:e};L.default.pushSerializeAndPop(r,F.POLY_STYLE_SERIALIZERS_,F.COLOR_NODE_FACTORY_,[t.getColor()],n)},F.writeScaleTextNode_=function(e,t){d.a.writeDecimalTextNode(e,Math.round(1e6*t)/1e6)},F.writeStyle_=function(e,t,n){const r={node:e},o={},i=t.getFill(),a=t.getStroke(),s=t.getImage(),l=t.getText();s instanceof T.default&&(o.IconStyle=s),l&&(o.LabelStyle=l),a&&(o.LineStyle=a),i&&(o.PolyStyle=i);const u=n[n.length-1].node,d=F.STYLE_SEQUENCE_[u.namespaceURI],c=L.default.makeSequence(o,d);L.default.pushSerializeAndPop(r,F.STYLE_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,c,n,d)},F.writeVec2_=function(e,t){e.setAttribute("x",t.x),e.setAttribute("y",t.y),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)},F.KML_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["Document","Placemark"]),F.KML_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Document:L.default.makeChildAppender(F.writeDocument_),Placemark:L.default.makeChildAppender(F.writePlacemark_)}),F.DOCUMENT_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Placemark:L.default.makeChildAppender(F.writePlacemark_)}),F.EXTENDEDDATA_NODE_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Data:L.default.makeChildAppender(F.writeDataNode_),value:L.default.makeChildAppender(F.writeDataNodeValue_),displayName:L.default.makeChildAppender(F.writeDataNodeName_)}),F.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},F.ICON_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["href"],L.default.makeStructureNS(F.GX_NAMESPACE_URIS_,["x","y","w","h"])),F.ICON_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{href:L.default.makeChildAppender(d.a.writeStringTextNode)},L.default.makeStructureNS(F.GX_NAMESPACE_URIS_,{x:L.default.makeChildAppender(d.a.writeDecimalTextNode),y:L.default.makeChildAppender(d.a.writeDecimalTextNode),w:L.default.makeChildAppender(d.a.writeDecimalTextNode),h:L.default.makeChildAppender(d.a.writeDecimalTextNode)})),F.ICON_STYLE_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]),F.ICON_STYLE_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{Icon:L.default.makeChildAppender(F.writeIcon_),heading:L.default.makeChildAppender(d.a.writeDecimalTextNode),hotSpot:L.default.makeChildAppender(F.writeVec2_),scale:L.default.makeChildAppender(F.writeScaleTextNode_)}),F.LABEL_STYLE_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["color","scale"]),F.LABEL_STYLE_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{color:L.default.makeChildAppender(F.writeColorTextNode_),scale:L.default.makeChildAppender(F.writeScaleTextNode_)}),F.LINE_STYLE_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["color","width"]),F.LINE_STYLE_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{color:L.default.makeChildAppender(F.writeColorTextNode_),width:L.default.makeChildAppender(d.a.writeDecimalTextNode)}),F.BOUNDARY_IS_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{LinearRing:L.default.makeChildAppender(F.writePrimitiveGeometry_)}),F.MULTI_GEOMETRY_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{LineString:L.default.makeChildAppender(F.writePrimitiveGeometry_),Point:L.default.makeChildAppender(F.writePrimitiveGeometry_),Polygon:L.default.makeChildAppender(F.writePolygon_),GeometryCollection:L.default.makeChildAppender(F.writeMultiGeometry_)}),F.PLACEMARK_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),F.PLACEMARK_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{ExtendedData:L.default.makeChildAppender(F.writeExtendedData_),MultiGeometry:L.default.makeChildAppender(F.writeMultiGeometry_),LineString:L.default.makeChildAppender(F.writePrimitiveGeometry_),LinearRing:L.default.makeChildAppender(F.writePrimitiveGeometry_),Point:L.default.makeChildAppender(F.writePrimitiveGeometry_),Polygon:L.default.makeChildAppender(F.writePolygon_),Style:L.default.makeChildAppender(F.writeStyle_),address:L.default.makeChildAppender(d.a.writeStringTextNode),description:L.default.makeChildAppender(d.a.writeStringTextNode),name:L.default.makeChildAppender(d.a.writeStringTextNode),open:L.default.makeChildAppender(d.a.writeBooleanTextNode),phoneNumber:L.default.makeChildAppender(d.a.writeStringTextNode),styleUrl:L.default.makeChildAppender(d.a.writeStringTextNode),visibility:L.default.makeChildAppender(d.a.writeBooleanTextNode)}),F.PRIMITIVE_GEOMETRY_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["extrude","tessellate","altitudeMode","coordinates"]),F.PRIMITIVE_GEOMETRY_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{extrude:L.default.makeChildAppender(d.a.writeBooleanTextNode),tessellate:L.default.makeChildAppender(d.a.writeBooleanTextNode),altitudeMode:L.default.makeChildAppender(d.a.writeStringTextNode),coordinates:L.default.makeChildAppender(F.writeCoordinatesTextNode_)}),F.POLYGON_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{outerBoundaryIs:L.default.makeChildAppender(F.writeBoundaryIs_),innerBoundaryIs:L.default.makeChildAppender(F.writeBoundaryIs_)}),F.POLY_STYLE_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{color:L.default.makeChildAppender(F.writeColorTextNode_)}),F.STYLE_SEQUENCE_=L.default.makeStructureNS(F.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),F.STYLE_SERIALIZERS_=L.default.makeStructureNS(F.NAMESPACE_URIS_,{IconStyle:L.default.makeChildAppender(F.writeIconStyle_),LabelStyle:L.default.makeChildAppender(F.writeLabelStyle_),LineStyle:L.default.makeChildAppender(F.writeLineStyle_),PolyStyle:L.default.makeChildAppender(F.writePolyStyle_)}),F.GX_NODE_FACTORY_=function(e,t,n){return L.default.createElementNS(F.GX_NAMESPACE_URIS_[0],"gx:"+n)},F.DOCUMENT_NODE_FACTORY_=function(e,t,n){const r=t[t.length-1].node;return L.default.createElementNS(r.namespaceURI,"Placemark")},F.GEOMETRY_NODE_FACTORY_=function(e,t,n){if(e){const n=t[t.length-1].node;return L.default.createElementNS(n.namespaceURI,F.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}},F.COLOR_NODE_FACTORY_=L.default.makeSimpleNodeFactory("color"),F.DATA_NODE_FACTORY_=L.default.makeSimpleNodeFactory("Data"),F.EXTENDEDDATA_NODE_FACTORY_=L.default.makeSimpleNodeFactory("ExtendedData"),F.INNER_BOUNDARY_NODE_FACTORY_=L.default.makeSimpleNodeFactory("innerBoundaryIs"),F.POINT_NODE_FACTORY_=L.default.makeSimpleNodeFactory("Point"),F.LINE_STRING_NODE_FACTORY_=L.default.makeSimpleNodeFactory("LineString"),F.LINEAR_RING_NODE_FACTORY_=L.default.makeSimpleNodeFactory("LinearRing"),F.POLYGON_NODE_FACTORY_=L.default.makeSimpleNodeFactory("Polygon"),F.OUTER_BOUNDARY_NODE_FACTORY_=L.default.makeSimpleNodeFactory("outerBoundaryIs"),F.prototype.writeFeatures,F.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);const n=L.default.createElementNS(F.NAMESPACE_URIS_[4],"kml"),r="http://www.w3.org/2000/xmlns/",o="http://www.w3.org/2001/XMLSchema-instance";L.default.setAttributeNS(n,r,"xmlns:gx",F.GX_NAMESPACE_URIS_[0]),L.default.setAttributeNS(n,r,"xmlns:xsi",o),L.default.setAttributeNS(n,o,"xsi:schemaLocation",F.SCHEMA_LOCATION_);const i={node:n},a={};e.length>1?a.Document=e:1==e.length&&(a.Placemark=e[0]);const s=F.KML_SEQUENCE_[n.namespaceURI],l=L.default.makeSequence(a,s);return L.default.pushSerializeAndPop(i,F.KML_SERIALIZERS_,L.default.OBJECT_PROPERTY_NODE_FACTORY,l,[t],s,this),n},t.default=F},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(0),i=n(63),a=n(56),s=n(2),l=n(9),u=n(4);const d=function(e,t,n,r,o,s){i.a.call(this,e,t,n,a.a.IDLE),this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=a.a.IDLE,this.imageLoadFunction_=s};Object(o.inherits)(d,i.a),d.prototype.getImage=function(){return this.image_},d.prototype.handleImageError_=function(){this.state=a.a.ERROR,this.unlistenImage_(),this.changed()},d.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(u.getHeight)(this.extent)/this.image_.height),this.state=a.a.LOADED,this.unlistenImage_(),this.changed()},d.prototype.load=function(){this.state!=a.a.IDLE&&this.state!=a.a.ERROR||(this.state=a.a.LOADING,this.changed(),this.imageListenerKeys_=[s.default.listenOnce(this.image_,l.a.ERROR,this.handleImageError_,this),s.default.listenOnce(this.image_,l.a.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},d.prototype.setImage=function(e){this.image_=e},d.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.default.unlistenByKey),this.imageListenerKeys_=null};var c=d,_=n(10),f=n(5),h=n(6),p=n(28),S=n(57),m=n(12),g=n(15),E=n(22);const A=function(e){const t=e||{};S.default.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:S.default.defaultImageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5};Object(o.inherits)(A,S.default),A.GETFEATUREINFO_IMAGE_SIZE_=[101,101],A.prototype.getGetFeatureInfoUrl=function(e,t,n,o){if(void 0===this.url_)return;const i=Object(h.get)(n),a=this.getProjection();a&&a!==i&&(t=p.a.calculateSourceResolution(a,i,e,t),e=Object(h.transform)(e,i,a));const s=Object(u.getForViewAndSize)(e,t,0,A.GETFEATUREINFO_IMAGE_SIZE_),l={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(f.assign)(l,this.params_,o);const d=Math.floor((e[0]-s[0])/t),c=Math.floor((s[3]-e[1])/t);return l[this.v13_?"I":"X"]=d,l[this.v13_?"J":"Y"]=c,this.getRequestUrl_(s,A.GETFEATUREINFO_IMAGE_SIZE_,1,a||i,l)},A.prototype.getParams=function(){return this.params_},A.prototype.getImageInternal=function(e,t,n,o){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);const i=t/n,a=Object(u.getCenter)(e),d=Math.ceil(Object(u.getWidth)(e)/i),_=Math.ceil(Object(u.getHeight)(e)/i),h=Object(u.getForViewAndSize)(a,i,0,[d,_]),p=Math.ceil(this.ratio_*Object(u.getWidth)(e)/i),S=Math.ceil(this.ratio_*Object(u.getHeight)(e)/i),m=Object(u.getForViewAndSize)(a,i,0,[p,S]),g=this.image_;if(g&&this.renderedRevision_==this.getRevision()&&g.getResolution()==t&&g.getPixelRatio()==n&&Object(u.containsExtent)(g.getExtent(),h))return g;const E={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(f.assign)(E,this.params_),this.imageSize_[0]=Math.round(Object(u.getWidth)(m)/i),this.imageSize_[1]=Math.round(Object(u.getHeight)(m)/i);const A=this.getRequestUrl_(m,this.imageSize_,n,o,E);return this.image_=new c(m,t,n,A,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),s.default.listen(this.image_,l.a.CHANGE,this.handleImageChange,this),this.image_},A.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},A.prototype.getRequestUrl_=function(e,t,n,r,o){if(Object(_.a)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=n)switch(this.serverType_){case m.a.GEOSERVER:const e=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+e:o.FORMAT_OPTIONS="dpi:"+e;break;case m.a.MAPSERVER:o.MAP_RESOLUTION=90*n;break;case m.a.CARMENTA_SERVER:case m.a.QGIS:o.DPI=90*n;break;default:Object(_.a)(!1,8)}o.WIDTH=t[0],o.HEIGHT=t[1];const i=r.getAxisOrientation();let a;return a=this.v13_&&"ne"==i.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=a.join(","),Object(E.appendParams)(this.url_,o)},A.prototype.getUrl=function(){return this.url_},A.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},A.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},A.prototype.updateParams=function(e){Object(f.assign)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},A.prototype.updateV13_=function(){const e=this.params_.VERSION||r.a;this.v13_=g.default.compareVersions(e,"1.3")>=0};t.default=A},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(43),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.default.call(this,e),this.detail=t};o.inherits(s,a.default),t.default=s},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(0),i=n(10),a=n(4),s=n(5),l=n(14),u=n(6),d=n(28),c=n(60),_=n(42),f=n(12),h=n(61),p=n(15),S=n(22);const m=function(e){const t=e||{},n=t.params||{},r=!("TRANSPARENT"in n)||n.TRANSPARENT;_.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:!r,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=Object(a.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())};Object(o.inherits)(m,_.a),m.prototype.getGetFeatureInfoUrl=function(e,t,n,o){const i=Object(u.get)(n),l=this.getProjection();let _=this.getTileGrid();_||(_=this.getTileGridForProjection(i));const f=_.getTileCoordForCoordAndResolution(e,t);if(_.getResolutions().length<=f[0])return;let h=_.getResolution(f[0]),p=_.getTileCoordExtent(f,this.tmpExtent_),S=c.default.toSize(_.getTileSize(f[0]),this.tmpSize);const m=this.gutter_;0!==m&&(S=c.default.buffer(S,m,this.tmpSize),p=Object(a.buffer)(p,h*m,p)),l&&l!==i&&(h=d.a.calculateSourceResolution(l,i,e,h),p=Object(u.transformExtent)(p,i,l),e=Object(u.transform)(e,i,l));const g={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(s.assign)(g,this.params_,o);const E=Math.floor((e[0]-p[0])/h),A=Math.floor((p[3]-e[1])/h);return g[this.v13_?"I":"X"]=E,g[this.v13_?"J":"Y"]=A,this.getRequestUrl_(f,S,p,1,l||i,g)},m.prototype.getGutterInternal=function(){return this.gutter_},m.prototype.getParams=function(){return this.params_},m.prototype.getRequestUrl_=function(e,t,n,r,o,a){const s=this.urls;if(!s)return;if(a.WIDTH=t[0],a.HEIGHT=t[1],a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=r)switch(this.serverType_){case f.a.GEOSERVER:const e=90*r+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+e:a.FORMAT_OPTIONS="dpi:"+e;break;case f.a.MAPSERVER:a.MAP_RESOLUTION=90*r;break;case f.a.CARMENTA_SERVER:case f.a.QGIS:a.DPI=90*r;break;default:Object(i.a)(!1,52)}const u=o.getAxisOrientation(),d=n;let c,_;this.v13_&&"ne"==u.substr(0,2)&&(c=n[0],d[0]=n[1],d[1]=c,c=n[2],d[2]=n[3],d[3]=c);(a.BBOX=d.join(","),1==s.length)?_=s[0]:_=s[Object(l.modulo)(h.a.hash(e),s.length)];return Object(S.appendParams)(_,a)},m.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},m.prototype.getKeyForParams_=function(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")},m.prototype.fixedTileUrlFunction=function(e,t,n){let o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(n)),o.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);const i=o.getResolution(e[0]);let l=o.getTileCoordExtent(e,this.tmpExtent_),u=c.default.toSize(o.getTileSize(e[0]),this.tmpSize);const d=this.gutter_;0!==d&&(u=c.default.buffer(u,d,this.tmpSize),l=Object(a.buffer)(l,i*d,l)),1!=t&&(u=c.default.scale(u,t,this.tmpSize));const _={SERVICE:"WMS",VERSION:r.a,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(s.assign)(_,this.params_),this.getRequestUrl_(e,u,l,t,n,_)},m.prototype.updateParams=function(e){Object(s.assign)(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},m.prototype.updateV13_=function(){const e=this.params_.VERSION||r.a;this.v13_=p.default.compareVersions(e,"1.3")>=0},t.default=m},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=i(n(47));function i(e){return e&&e.__esModule?e:{default:e}}var a={};a.module=angular.module("ngeoDataSources",[]),a.module.value("ngeoDataSources",new o.default),r.default.module.requires.push(a.module.name),t.default=a},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1);(r=i)&&r.__esModule;var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inRange_=!1!==t.inRange,this.visible_=!0===t.visible,this.attributes=t.attributes||null,this.id_=t.id,this.identifierAttribute_=t.identifierAttribute,this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.name_=t.name}return o(e,[{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){this.attributes=e}},{key:"inRange",get:function(){return this.inRange_},set:function(e){this.inRange_=e}},{key:"visible",get:function(){return this.visible_},set:function(e){this.visible_=e}},{key:"id",get:function(){return this.id_}},{key:"identifierAttribute",get:function(){return this.identifierAttribute_}},{key:"maxResolution",get:function(){return this.maxResolution_}},{key:"minResolution",get:function(){return this.minResolution_}},{key:"name",get:function(){return this.name_}},{key:"queryable",get:function(){return!1}},{key:"supportsDynamicInRange",get:function(){return null!==this.maxResolution||null!==this.minResolution}}]),e}();t.default=a},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(n(1)),o=c(n(0)),i=_(n(20)),a=c(n(5)),s=_(n(18)),l=_(n(17)),u=_(n(3)),d=_(n(36));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var f=function(){this.featureUidToGroupIndex_={},this.groups_=[],this.source_=new s.default({useSpatialIndex:!1}),this.layer_=new i.default({source:this.source_,style:this.styleFunction_.bind(this),updateWhileAnimating:!0,updateWhileInteracting:!0})};f.prototype.addFeature=function(e,t){u.default.assert(t>=0),u.default.assert(t<this.groups_.length);var n=o.getUid(e).toString();this.featureUidToGroupIndex_[n]=t,this.groups_[t].features[n]=e,this.source_.addFeature(e)},f.prototype.removeFeature=function(e,t){u.default.assert(t>=0),u.default.assert(t<this.groups_.length);var n=o.getUid(e).toString();delete this.featureUidToGroupIndex_[n],delete this.groups_[t].features[n],this.source_.removeFeature(e)},f.prototype.clear=function(e){u.default.assert(e>=0),u.default.assert(e<this.groups_.length);var t=this.groups_[e];for(var n in t.features)this.removeFeature(t.features[n],e);u.default.assert(a.isEmpty(t.features))},f.prototype.getLayer=function(){return this.layer_},f.prototype.getFeatureOverlay=function(){var e=this.groups_.length;return this.groups_.push({styleFunction:l.default.defaultFunction,features:{}}),new d.default(this,e)},f.prototype.init=function(e){this.layer_.setMap(e)},f.prototype.setStyle=function(e,t){u.default.assert(t>=0),u.default.assert(t<this.groups_.length),this.groups_[t].styleFunction=null===e?l.default.defaultFunction:l.default.createFunction(e)},f.prototype.styleFunction_=function(e,t){var n=o.getUid(e).toString();u.default.assert(n in this.featureUidToGroupIndex_);var r=this.featureUidToGroupIndex_[n];return this.groups_[r].styleFunction(e,t)},(f.module=angular.module("ngeoFeatureOverlayMgr",[d.default.module.name])).service("ngeoFeatureOverlayMgr",f),r.default.module.requires.push(f.module.name),t.default=f},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={doAssertFailure_:function(e,t,n,r){var i="Assertion failed",a=void 0;n?(i+=": "+n,a=r):e&&(i+=": "+e,a=t);var s=new o.AssertionError(""+i,a||[]);o.errorHandler_(s)},setErrorHandler:function(e){o.ENABLE_ASSERTS&&(o.errorHandler_=e)},assert:function(e,t,n){return o.ENABLE_ASSERTS&&!e&&o.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},fail:function(e,t){o.ENABLE_ASSERTS&&o.errorHandler_(new o.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},assertNumber:function(e,t,n){return o.ENABLE_ASSERTS&&!goog.isNumber(e)&&o.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertString:function(e,t,n){return o.ENABLE_ASSERTS&&!goog.isString(e)&&o.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertFunction:function(e,t,n){return o.ENABLE_ASSERTS&&!goog.isFunction(e)&&o.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertObject:function(e,t,n){return o.ENABLE_ASSERTS&&!goog.isObject(e)&&o.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertArray:function(e,t,n){return o.ENABLE_ASSERTS&&!goog.isArray(e)&&o.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertBoolean:function(e,t,n){return o.ENABLE_ASSERTS&&!goog.isBoolean(e)&&o.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertElement:function(e,t,n){return!o.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||o.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},assertInstanceof:function(e,t,n,r){return!o.ENABLE_ASSERTS||e instanceof t||o.doAssertFailure_("Expected instanceof %s but got %s.",[o.getType_(t),o.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},assertObjectPrototypeIsIntact:function(){for(var e in Object.prototype)o.fail(e+" should not be enumerable in Object.prototype.")},getType_:function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":void 0===e?"undefined":r(e)}};t.default=o},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),o=d(n(33)),i=d(n(34)),a=d(n(29)),s=d(n(37)),l=d(n(38)),u=d(n(39));function d(e){return e&&e.__esModule?e:{default:e}}var c=angular.module("ngeoMapModule",[r.default.module.name,o.default.module.name,i.default.name,a.default.module.name,s.default.name,l.default.name,u.default.name]);t.default=c},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),o=f(n(1)),i=f(n(21)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),s=f(n(19)),l=f(n(52)),u=f(n(50)),d=f(n(16)),c=f(n(23)),_=f(n(58));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){s.default.call(this),this.mapUids_={}};a.inherits(h,s.default),h.prototype.get=function(e){return a.getUid(e).toString()in this.mapUids_?e.getLayers().item(0):null},h.prototype.set=function(e,t){var n=a.getUid(e).toString(),o=this.get(e);null!==o?(r.default.assert(n in this.mapUids_),null!==t?e.getLayers().setAt(0,t):(e.getLayers().removeAt(0),delete this.mapUids_[n])):null!==t&&(e.getLayers().insertAt(0,t),this.mapUids_[n]=!0);var s=new i.default("change",{current:t,previous:o});return this.dispatchEvent(s),o},h.prototype.updateDimensions=function(e,t){var n=this.get(e);if(n){var o=[n];n instanceof l.default&&(o=n.getLayers().getArray()),o.forEach(function(e){if(r.default.assertInstanceof(e,u.default),e){var n=!1,o={};for(var i in e.get("dimensions")){var a=t[i];void 0!==a&&(o[i]=a,n=!0)}if(n){var s=e.getSource();s instanceof _.default?(s.updateDimensions(o),s.refresh()):(s instanceof c.default||s instanceof d.default)&&(s.updateParams(o),s.refresh())}}})}},(h.module=angular.module("ngeoBackgroundLayerMgr",[])).service("ngeoBackgroundLayerMgr",h),o.default.module.requires.push(h.module.name),t.default=h},337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(338),n(59);var r=f(n(32)),o=f(n(339)),i=f(n(7)),a=f(n(31)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),l=f(n(151)),u=f(n(62)),d=f(n(20)),c=f(n(48)),_=f(n(18));function f(e){return e&&e.__esModule?e:{default:e}}app.module=angular.module("app",[ngeo.module.name,r.default.name,o.default.name]),app.MainController=function(e){var t=this;this.kmlFormat_=new l.default,this.vectorSource_=new _.default,this.map=new i.default({layers:[new u.default({source:new c.default}),new d.default({source:this.vectorSource_})],view:new a.default({center:[0,0],zoom:2})}),this.fileReaderSupported=void 0,this.fileContent="",e.$watch(function(){return t.fileContent},this.importKml_.bind(this))},app.MainController.$inject=["$scope"],app.MainController.prototype.importKml_=function(e){var t=this.map,n=this.vectorSource_,r=this.kmlFormat_.readFeatures(e,{featureProjection:"EPSG:3857"});n.clear(!0),n.addFeatures(r);var o=n.getExtent(),i=t.getSize();i&&!s.isEmpty(o)&&t.getView().fit(o,i)},app.module.controller("MainController",app.MainController),t.default={}},338:function(e,t){},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=angular.module("ngeoFilereader",[]);i.default.module.requires.push(a.name),a.component_=function(e){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:function(t,n,r){var o="FileReader"in e;t.supported=o,o&&n.on("change",function(n){var r=new e.FileReader;r.onload=function(e){t.$apply(function(){t.fileContent=e.target.result})},r.readAsText(n.target.files[0])})}}},a.directive("ngeoFilereader",a.component_),t.default=a},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),o=l(n(1)),i=l(n(35)),a=l(n(2)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=angular.module("ngeoMap",[i.default.module.name]);o.default.module.requires.push(u.name),u.directive_=function(e,t){return{restrict:"A",link:function(n,o,i){var l=i.ngeoMap,u=n.$eval(l);r.default.assertInstanceof(u,s.default),u.setTarget(o[0]),t.map=u;var d=i.ngeoMapManageResize;if(n.$eval(d)){var c=i.ngeoMapResizeTransition,_=n.$eval(c);a.default.listen(e,"resize",function(){if(_){var t=Date.now(),n=!0;!function r(){u.updateSize(),u.renderSync(),n&&e.requestAnimationFrame(r),Date.now()-t>_&&(n=!1)}()}else u.updateSize()})}}}},u.directive_.$inject=["$window","ngeoSyncDataSourcesMap"],u.directive("ngeoMap",u.directive_),t.default=u},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),i=c(n(26)),a=c(n(24)),s=c(n(2)),l=c(n(19)),u=c(n(31)),d=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ngeoDataSources_=t,this.map_=null,this.listenerKeys_=[],s.default.listen(this.ngeoDataSources_,"add",this.handleDataSourcesAdd_,this)}return e.$inject=["ngeoDataSources"],r(e,[{key:"bindMap_",value:function(e){var t=e.getView();this.listenerKeys_.push(s.default.listen(t,"change:resolution",this.handleViewResolutionChange_,this));var n=t.getResolution();d.default.assertNumber(n),this.syncDataSourcesToResolution_(n)}},{key:"unbindMap_",value:function(e){l.default.unByKey(this.listenerKeys_),this.listenerKeys_=[]}},{key:"handleViewResolutionChange_",value:function(e){var t=e.target;d.default.assertInstanceof(t,u.default);var n=t.getResolution();d.default.assertNumber(n),this.syncDataSourcesToResolution_(n)}},{key:"syncDataSourcesToResolution_",value:function(e){var t=this;this.ngeoDataSources_.forEach(function(n){t.syncDataSourceToResolution_(n,e)})}},{key:"syncDataSourceToResolution_",value:function(e,t){if(e.supportsDynamicInRange){var n=e.maxResolution,r=e.minResolution,o=(null===r||void 0===r||t>=r)&&(null===n||void 0===n||t<=n);e.inRange=o}}},{key:"handleDataSourcesAdd_",value:function(e){var t=d.default.assertInstanceof(e.element,i.default);if(this.map_){var n=this.map_.getView().getResolution();d.default.assertNumber(n),this.syncDataSourceToResolution_(t,n)}}},{key:"map",set:function(e){this.map_&&this.unbindMap_(this.map_),this.map_=e,e&&this.bindMap_(e)}}]),e}();_.module=angular.module("ngeoSyncDataSourcesMap",[a.default.module.name]),_.module.service("ngeoSyncDataSourcesMap",_),o.default.module.requires.push(_.module.name),t.default=_},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0)),i(n(2)));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){this.manager_=e,this.features_=null,this.index_=t};a.prototype.addFeature=function(e){this.manager_.addFeature(e,this.index_)},a.prototype.removeFeature=function(e){this.manager_.removeFeature(e,this.index_)},a.prototype.clear=function(){this.manager_.clear(this.index_)},a.prototype.setFeatures=function(e){null!==this.features_&&(this.features_.clear(),o.default.unlisten(this.features_,"add",this.handleFeatureAdd_,this),o.default.unlisten(this.features_,"remove",this.handleFeatureRemove_,this)),null!==e&&(e.forEach(function(e){this.addFeature(e)},this),o.default.listen(e,"add",this.handleFeatureAdd_,this),o.default.listen(e,"remove",this.handleFeatureRemove_,this)),this.features_=e},a.prototype.setStyle=function(e){this.manager_.setStyle(e,this.index_)},a.prototype.handleFeatureAdd_=function(e){var t=e.element;this.addFeature(t)},a.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature(t)},a.module=angular.module("ngeoFeatureOverlay",[]),r.default.module.requires.push(a.module.name),t.default=a},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=angular.module("ngeoRecenter",[]);i.default.module.requires.push(a.name),a.directive_=function(){return{restrict:"A",link:function(e,t,n){var r=n.ngeoRecenterMap,o=e.$eval(r);function i(t){var n=t.attr("ngeo-extent");if(void 0!==n){var r=o.getSize();o.getView().fit(e.$eval(n),{size:r})}var i=t.attr("ngeo-zoom");void 0!==i&&o.getView().setZoom(e.$eval(i))}t.on("click","*",function(e){i(angular.element($(this)))}),t.on("change",function(e){var t=e.target.options[e.target.selectedIndex];i(angular.element(t))})}}},a.directive("ngeoRecenter",a.directive_),t.default=a},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),o=a(n(1)),i=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var s=angular.module("ngeoResizemap",[]);o.default.module.requires.push(s.name),s.directive_=function(e){return{restrict:"A",link:function(t,n,o){var a=o.ngeoResizemap,s=t.$eval(a);r.default.assertInstanceof(s,i.default);var l=o.ngeoResizemapState;r.default.assert(void 0!==l);var u=void 0,d=void 0,c=function t(){s.updateSize(),s.renderSync(),Date.now()-u<1e3&&(d=e.requestAnimationFrame(t))};n.on("transitionend",function(){s.updateSize(),s.renderSync()}),t.$watch(l,function(t,n){t!=n&&(u=Date.now(),e.cancelAnimationFrame(d),d=e.requestAnimationFrame(c))})}}},s.directive("ngeoResizemap",s.directive_),t.default=s},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8)),i=s(n(7)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var l=angular.module("ngeoScaleselector",[]);r.default.module.requires.push(l.name),l.value("ngeoScaleselectorTemplateUrl",function(e,t){var n=t.ngeoScaleselectorTemplateurl;return void 0!==n?n:r.default.baseModuleTemplateUrl+"/map/scaleselector.html"}),l.directive_=function(e){return{restrict:"A",scope:!0,controller:"NgeoScaleselectorController",templateUrl:e}},l.directive("ngeoScaleselector",l.directive_),l.ScaleselectorController_=function(e,t,n){var r=this,s=n.ngeoScaleselector;this.scales=e.$eval(s),goog.asserts.assert(void 0!==this.scales),this.zoomLevels,e.$watch(function(){return Object.keys(r.scales).length},function(e){r.zoomLevels=Object.keys(r.scales).map(Number),r.zoomLevels.sort(o.numberSafeCompareFunction)});var u=n.ngeoScaleselectorMap;this.map_=e.$eval(u),goog.asserts.assertInstanceof(this.map_,i.default);var d=n.ngeoScaleselectorOptions,c=e.$eval(d);if(this.options=l.ScaleselectorController_.getOptions_(c),this.$scope_=e,this.resolutionChangeKey_=null,this.currentScale=void 0,null!==this.map_.getView()){var _=this.map_.getView().getZoom();void 0!==_&&(this.currentScale=this.getScale(_))}a.default.listen(this.map_,"change:view",this.handleViewChange_,this),this.registerResolutionChangeListener_(),e.scaleselectorCtrl=this},l.ScaleselectorController_.getOptions_=function(e){var t=!1;return void 0!==e&&(t=1==e.dropup),{dropup:t}},l.ScaleselectorController_.prototype.getScale=function(e){return this.scales[e]},l.ScaleselectorController_.prototype.changeZoom=function(e){this.map_.getView().setZoom(e)},l.ScaleselectorController_.prototype.handleResolutionChange_=function(e){var t=this,n=this.map_.getView(),r=this.scales[n.getZoom()];void 0!==r&&this.$scope_.$applyAsync(function(){t.currentScale=r})},l.ScaleselectorController_.prototype.handleViewChange_=function(e){this.registerResolutionChangeListener_(),this.handleResolutionChange_(null)},l.ScaleselectorController_.prototype.registerResolutionChangeListener_=function(){null!==this.resolutionChangeKey_&&a.default.unlistenByKey(this.resolutionChangeKey_);var e=this.map_.getView();this.resolutionChangeKey_=a.default.listen(e,"change:resolution",this.handleResolutionChange_,this)},l.controller("NgeoScaleselectorController",l.ScaleselectorController_),t.default=l},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(8),i=n(4),a=n(25),s=n(13),l=n(27),u=n(44),d=n(46),c=n(54),_=n(14);const f=function(e,t){u.a.call(this),this.setCoordinates(e,t)};Object(r.inherits)(f,u.a),f.prototype.appendPoint=function(e){this.flatCoordinates?Object(o.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},f.prototype.clone=function(){const e=new f(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),e},f.prototype.closestPointXY=function(e,t,n,r){if(r<Object(i.closestSquaredDistanceXY)(this.getExtent(),e,t))return r;const o=this.flatCoordinates,a=this.stride;let s,l,u;for(s=0,l=o.length;s<l;s+=a){const i=Object(_.squaredDistance)(e,t,o[s],o[s+1]);if(i<r){for(r=i,u=0;u<a;++u)n[u]=o[s+u];n.length=a}}return r},f.prototype.getCoordinates=function(){return c.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},f.prototype.getPoint=function(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(e<0||t<=e)return null;const n=new l.default(null);return n.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride)),n},f.prototype.getPoints=function(){const e=this.flatCoordinates,t=this.layout,n=this.stride,r=[];let o,i;for(o=0,i=e.length;o<i;o+=n){const i=new l.default(null);i.setFlatCoordinates(t,e.slice(o,o+n)),r.push(i)}return r},f.prototype.getType=function(){return s.default.MULTI_POINT},f.prototype.intersectsExtent=function(e){const t=this.flatCoordinates,n=this.stride;let r,o,a,s;for(r=0,o=t.length;r<o;r+=n)if(a=t[r],s=t[r+1],Object(i.containsXY)(e,a,s))return!0;return!1},f.prototype.setCoordinates=function(e,t){e?(this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=d.a.coordinates(this.flatCoordinates,0,e,this.stride),this.changed()):this.setFlatCoordinates(a.default.XY,null)},f.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t),this.changed()},t.default=f},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(49);const i=function(e){const t=e||{};let n;n=void 0!==t.attributions?t.attributions:[i.ATTRIBUTION];const r=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",a=void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";o.a.call(this,{attributions:n,cacheSize:t.cacheSize,crossOrigin:r,opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:a,wrapX:t.wrapX})};Object(r.inherits)(i,o.a),i.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',t.default=i},49:function(e,t,n){"use strict";var r=n(0),o=n(42),i=n(71);const a=function(e){const t=e||{},n=void 0!==t.projection?t.projection:"EPSG:3857",r=void 0!==t.tileGrid?t.tileGrid:i.a.createXYZ({extent:i.a.extentFromProjection(n),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});o.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})};Object(r.inherits)(a,o.a),t.a=a},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(8),i=n(4),a=n(25),s=n(13),l=n(30),u=n(44),d=n(67),c=n(46),_=n(54),f=n(101),h=n(70),p=n(64);const S=function(e,t){u.a.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(e,t)};Object(r.inherits)(S,u.a),S.prototype.appendLineString=function(e){this.flatCoordinates?Object(o.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},S.prototype.clone=function(){const e=new S(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),e},S.prototype.closestPointXY=function(e,t,n,r){return r<Object(i.closestSquaredDistanceXY)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(d.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))},S.prototype.getCoordinateAtM=function(e,t,n){if(this.layout!=a.default.XYM&&this.layout!=a.default.XYZM||0===this.flatCoordinates.length)return null;const r=void 0!==t&&t,o=void 0!==n&&n;return f.a.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,r,o)},S.prototype.getCoordinates=function(){return _.a.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},S.prototype.getEnds=function(){return this.ends_},S.prototype.getLineString=function(e){if(e<0||this.ends_.length<=e)return null;const t=new l.default(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e])),t},S.prototype.getLineStrings=function(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[];let o,i,a=0;for(o=0,i=t.length;o<i;++o){const i=t[o],s=new l.default(null);s.setFlatCoordinates(n,e.slice(a,i)),r.push(s),a=i}return r},S.prototype.getFlatMidpoints=function(){const e=[],t=this.flatCoordinates;let n=0;const r=this.ends_,i=this.stride;let a,s;for(a=0,s=r.length;a<s;++a){const s=r[a],l=f.a.lineString(t,n,s,i,.5);Object(o.extend)(e,l),n=s}return e},S.prototype.getSimplifiedGeometryInternal=function(e){const t=[],n=[];t.length=p.a.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n);const r=new S(null);return r.setFlatCoordinates(a.default.XY,t,n),r},S.prototype.getType=function(){return s.default.MULTI_LINE_STRING},S.prototype.intersectsExtent=function(e){return h.a.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)},S.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=c.a.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(a.default.XY,null,this.ends_)},S.prototype.setFlatCoordinates=function(e,t,n){this.setFlatCoordinatesInternal(e,t),this.ends_=n,this.changed()},S.prototype.setLineStrings=function(e){let t=this.getLayout();const n=[],r=[];let i,a;for(i=0,a=e.length;i<a;++i){const a=e[i];0===i&&(t=a.getLayout()),Object(o.extend)(n,a.getFlatCoordinates()),r.push(n.length)}this.setFlatCoordinates(t,n,r)},t.default=S},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(8),i=n(4),a=n(25),s=n(13),l=n(45),u=n(41),d=n(44),c=n(96),_=n(105),f=n(67),h=n(91),p=n(46),S=n(54),m=n(100),g=n(70),E=n(97),A=n(64);const y=function(e,t){d.a.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(e,t)};Object(r.inherits)(y,d.a),y.prototype.appendPolygon=function(e){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;let r,i;for(Object(o.extend)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice(),r=0,i=t.length;r<i;++r)t[r]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},y.prototype.clone=function(){const e=new y(null),t=this.endss_.length,n=new Array(t);for(let e=0;e<t;++e)n[e]=this.endss_[e].slice();return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),n),e},y.prototype.closestPointXY=function(e,t,n,r){return r<Object(i.closestSquaredDistanceXY)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f.a.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f.a.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,r))},y.prototype.containsXY=function(e,t){return h.a.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},y.prototype.getArea=function(){return c.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),E.a.orientLinearRingss(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,S.a.coordinatesss(t,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=_.a.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=m.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){const e=new l.default(null);return e.setFlatCoordinates(a.default.XYM,this.getFlatInteriorPoints().slice()),e},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;E.a.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=E.a.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(e){const t=[],n=[];t.length=A.a.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n);const r=new y(null);return r.setFlatCoordinates(a.default.XY,t,n),r},y.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const n=this.endss_[e-1];t=n[n.length-1]}const n=this.endss_[e].slice(),r=n[n.length-1];let o,i;if(0!==t)for(o=0,i=n.length;o<i;++o)n[o]-=t;const a=new u.default(null);return a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,r),n),a},y.prototype.getPolygons=function(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[];let o,i,a,s,l=0;for(o=0,i=n.length;o<i;++o){const i=n[o].slice(),d=i[i.length-1];if(0!==l)for(a=0,s=i.length;a<s;++a)i[a]-=l;const c=new u.default(null);c.setFlatCoordinates(e,t.slice(l,d),i),r.push(c),l=d}return r},y.prototype.getType=function(){return s.default.MULTI_POLYGON},y.prototype.intersectsExtent=function(e){return g.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},y.prototype.setCoordinates=function(e,t){if(e){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=p.a.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const e=n[n.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}else this.setFlatCoordinates(a.default.XY,null,this.endss_)},y.prototype.setFlatCoordinates=function(e,t,n){this.setFlatCoordinatesInternal(e,t),this.endss_=n,this.changed()},y.prototype.setPolygons=function(e){let t=this.getLayout();const n=[],r=[];for(let i=0,a=e.length;i<a;++i){const a=e[i];0===i&&(t=a.getLayout());const s=n.length,l=a.getEnds();for(let e=0,t=l.length;e<t;++e)l[e]+=s;Object(o.extend)(n,a.getFlatCoordinates()),r.push(l)}this.setFlatCoordinates(t,n,r)},t.default=y},72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),i=n(9),a=n(4),s=n(82),l=n(13),u=n(5);const d=function(e){s.default.call(this),this.geometries_=e||null,this.listenGeometriesChange_()};Object(r.inherits)(d,s.default),d.cloneGeometries_=function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t},d.prototype.unlistenGeometriesChange_=function(){let e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)o.default.unlisten(this.geometries_[e],i.a.CHANGE,this.changed,this)},d.prototype.listenGeometriesChange_=function(){let e,t;if(this.geometries_)for(e=0,t=this.geometries_.length;e<t;++e)o.default.listen(this.geometries_[e],i.a.CHANGE,this.changed,this)},d.prototype.clone=function(){const e=new d(null);return e.setGeometries(this.geometries_),e},d.prototype.closestPointXY=function(e,t,n,r){if(r<Object(a.closestSquaredDistanceXY)(this.getExtent(),e,t))return r;const o=this.geometries_;let i,s;for(i=0,s=o.length;i<s;++i)r=o[i].closestPointXY(e,t,n,r);return r},d.prototype.containsXY=function(e,t){const n=this.geometries_;let r,o;for(r=0,o=n.length;r<o;++r)if(n[r].containsXY(e,t))return!0;return!1},d.prototype.computeExtent=function(e){Object(a.createOrUpdateEmpty)(e);const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)Object(a.extend)(e,t[n].getExtent());return e},d.prototype.getGeometries=function(){return d.cloneGeometries_(this.geometries_)},d.prototype.getGeometriesArray=function(){return this.geometries_},d.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(u.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];{const n=[],r=this.geometries_;let o,i,a=!1;for(o=0,i=r.length;o<i;++o){const t=r[o],i=t.getSimplifiedGeometry(e);n.push(i),i!==t&&(a=!0)}if(a){const e=new d(null);return e.setGeometriesArray(n),this.simplifiedGeometryCache[t]=e,e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}},d.prototype.getType=function(){return l.default.GEOMETRY_COLLECTION},d.prototype.intersectsExtent=function(e){const t=this.geometries_;let n,r;for(n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1},d.prototype.isEmpty=function(){return 0===this.geometries_.length},d.prototype.rotate=function(e,t){const n=this.geometries_;for(let r=0,o=n.length;r<o;++r)n[r].rotate(e,t);this.changed()},d.prototype.scale=function(e,t,n){let r=n;r||(r=Object(a.getCenter)(this.getExtent()));const o=this.geometries_;for(let n=0,i=o.length;n<i;++n)o[n].scale(e,t,r);this.changed()},d.prototype.setGeometries=function(e){this.setGeometriesArray(d.cloneGeometries_(e))},d.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},d.prototype.applyTransform=function(e){const t=this.geometries_;let n,r;for(n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()},d.prototype.translate=function(e,t){const n=this.geometries_;let r,o;for(r=0,o=n.length;r<o;++r)n[r].translate(e,t);this.changed()},d.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),s.default.prototype.disposeInternal.call(this)},t.default=d},80:function(e,t,n){"use strict";var r=n(55),o=n(15);const i={readBoolean:function(e){const t=r.default.getAllTextContent(e,!1);return i.readBooleanString(t)},readBooleanString:function(e){const t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0},readDateTime:function(e){const t=r.default.getAllTextContent(e,!1),n=Date.parse(t);return isNaN(n)?void 0:n/1e3},readDecimal:function(e){const t=r.default.getAllTextContent(e,!1);return i.readDecimalString(t)},readDecimalString:function(e){const t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0},readNonNegativeInteger:function(e){const t=r.default.getAllTextContent(e,!1);return i.readNonNegativeIntegerString(t)},readNonNegativeIntegerString:function(e){const t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0},readString:function(e){return r.default.getAllTextContent(e,!1).trim()},writeBooleanTextNode:function(e,t){i.writeStringTextNode(e,t?"1":"0")},writeCDATASection:function(e,t){e.appendChild(r.default.DOCUMENT.createCDATASection(t))},writeDateTimeTextNode:function(e,t){const n=new Date(1e3*t),i=n.getUTCFullYear()+"-"+o.default.padNumber(n.getUTCMonth()+1,2)+"-"+o.default.padNumber(n.getUTCDate(),2)+"T"+o.default.padNumber(n.getUTCHours(),2)+":"+o.default.padNumber(n.getUTCMinutes(),2)+":"+o.default.padNumber(n.getUTCSeconds(),2)+"Z";e.appendChild(r.default.DOCUMENT.createTextNode(i))},writeDecimalTextNode:function(e,t){const n=t.toPrecision();e.appendChild(r.default.DOCUMENT.createTextNode(n))},writeNonNegativeIntegerTextNode:function(e,t){const n=t.toString();e.appendChild(r.default.DOCUMENT.createTextNode(n))},writeStringTextNode:function(e,t){e.appendChild(r.default.DOCUMENT.createTextNode(t))}};t.a=i},98:function(e,t,n){"use strict";var r=n(0),o=n(8),i=n(69),a=n(119),s=n(55);const l=function(){this.xmlSerializer_=new XMLSerializer,i.a.call(this)};Object(r.inherits)(l,i.a),l.prototype.getType=function(){return a.a.XML},l.prototype.readFeature=function(e,t){if(s.default.isDocument(e))return this.readFeatureFromDocument(e,t);if(s.default.isNode(e))return this.readFeatureFromNode(e,t);if("string"==typeof e){const n=s.default.parse(e);return this.readFeatureFromDocument(n,t)}return null},l.prototype.readFeatureFromDocument=function(e,t){const n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null},l.prototype.readFeatureFromNode=function(e,t){return null},l.prototype.readFeatures=function(e,t){if(s.default.isDocument(e))return this.readFeaturesFromDocument(e,t);if(s.default.isNode(e))return this.readFeaturesFromNode(e,t);if("string"==typeof e){const n=s.default.parse(e);return this.readFeaturesFromDocument(n,t)}return[]},l.prototype.readFeaturesFromDocument=function(e,t){const n=[];let r;for(r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(o.extend)(n,this.readFeaturesFromNode(r,t));return n},l.prototype.readFeaturesFromNode=function(e,t){},l.prototype.readGeometry=function(e,t){if(s.default.isDocument(e))return this.readGeometryFromDocument(e,t);if(s.default.isNode(e))return this.readGeometryFromNode(e,t);if("string"==typeof e){const n=s.default.parse(e);return this.readGeometryFromDocument(n,t)}return null},l.prototype.readGeometryFromDocument=function(e,t){return null},l.prototype.readGeometryFromNode=function(e,t){return null},l.prototype.readProjection=function(e){if(s.default.isDocument(e))return this.readProjectionFromDocument(e);if(s.default.isNode(e))return this.readProjectionFromNode(e);if("string"==typeof e){const t=s.default.parse(e);return this.readProjectionFromDocument(t)}return null},l.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection},l.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection},l.prototype.writeFeature=function(e,t){const n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)},l.prototype.writeFeatureNode=function(e,t){return null},l.prototype.writeFeatures=function(e,t){const n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)},l.prototype.writeFeaturesNode=function(e,t){return null},l.prototype.writeGeometry=function(e,t){const n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)},l.prototype.writeGeometryNode=function(e,t){return null},t.a=l},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),o=n(138);const i=function(e){const t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new r.default({color:i.DEFAULT_FILL_COLOR_}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:o.a.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding};i.DEFAULT_FILL_COLOR_="#333",i.prototype.clone=function(){return new i({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},i.prototype.getOverflow=function(){return this.overflow_},i.prototype.getFont=function(){return this.font_},i.prototype.getMaxAngle=function(){return this.maxAngle_},i.prototype.getPlacement=function(){return this.placement_},i.prototype.getOffsetX=function(){return this.offsetX_},i.prototype.getOffsetY=function(){return this.offsetY_},i.prototype.getFill=function(){return this.fill_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getStroke=function(){return this.stroke_},i.prototype.getText=function(){return this.text_},i.prototype.getTextAlign=function(){return this.textAlign_},i.prototype.getTextBaseline=function(){return this.textBaseline_},i.prototype.getBackgroundFill=function(){return this.backgroundFill_},i.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},i.prototype.getPadding=function(){return this.padding_},i.prototype.setOverflow=function(e){this.overflow_=e},i.prototype.setFont=function(e){this.font_=e},i.prototype.setMaxAngle=function(e){this.maxAngle_=e},i.prototype.setOffsetX=function(e){this.offsetX_=e},i.prototype.setOffsetY=function(e){this.offsetY_=e},i.prototype.setPlacement=function(e){this.placement_=e},i.prototype.setFill=function(e){this.fill_=e},i.prototype.setRotation=function(e){this.rotation_=e},i.prototype.setScale=function(e){this.scale_=e},i.prototype.setStroke=function(e){this.stroke_=e},i.prototype.setText=function(e){this.text_=e},i.prototype.setTextAlign=function(e){this.textAlign_=e},i.prototype.setTextBaseline=function(e){this.textBaseline_=e},i.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},i.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},i.prototype.setPadding=function(e){this.padding_=e},t.default=i}},[337]);
//# sourceMappingURL=importfeatures.min.js.map